import{E as c,K as T,r as v,a as r,H as L,I as A,f as u,o as p,l as g,d as e,w as o,e as y,J as E,F as w,C as S,c as N,j as x,n as G}from"./index.2b31a27b.js";var n="/api/infra/smart/brain/promptPosts/",i={datatables:n+"datatables",createUrl:n+"add",saveUrl:n+"save",updateUrl:n+"modify",statusUrl:n+"changeStatus",cleanUrl:n+"clean",detailUrl:n+"detail",removeUrl:n+"delete",exportUrl:n+"exportExcel",changeField:n+"changeField",downloadFile:n+"downloadFile",updatePromptContent:n+"updatePromptContent",catalogTreeSelect:n+"catalogTreeSelect",getPromptContent:n+"getPromptContent"};function oe(){return c({url:i.catalogTreeSelect,method:"get"})}function Q(l,_){return c({url:i.updatePromptContent+"?postId="+_,method:"post",data:l})}function ne(l){return c({url:i.datatables,method:"post",params:l})}function W(l){return c({url:i.getPromptContent+"?postId="+T(l),method:"get"})}function se(l){return c({url:i.detailUrl+"/"+T(l),method:"get"})}function re(l){return c({url:i.saveUrl,method:"post",data:l})}function ue(l){return c({url:i.updateUrl,method:"put",data:l})}function de(l){return c({url:i.removeUrl+"/"+T(l),method:"delete"})}const X={class:"chat-container"},Y={class:"main-content"},Z={class:"sidebar"},ee={class:"message-content"},te={class:"dialog-footer"},le={__name:"editor",props:{currentPostId:{type:String,require:!0}},setup(l){const _=l,U=v({name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""}),{proxy:J}=G(),I=v(!0),b=v(""),f=v(""),F=v([{value:"system",label:"\u7CFB\u7EDF(system)"},{value:"user",label:"\u7528\u6237(user)"},{value:"assistants",label:"\u52A9\u624B(assistants)"}]),m=v([]);function M(){}function O(){console.log("current post id = "+_.currentPostId),m.value.push({role:b.value,content:f.value}),f.value=""}function R(a){m.value.splice(a,1)}function D(){const a=JSON.stringify(m.value);console.log(a),Q(a,_.currentPostId).then(s=>{J.$modal.msgSuccess("\u4FEE\u6539\u6210\u529F")})}function $(){W(_.currentPostId).then(a=>{a.data&&(m.value=a.data),I.value=!1})}return $(),console.log("message.value = "+m.value),(a,s)=>{const V=r("el-option"),P=r("el-select"),h=r("el-form-item"),C=r("el-slider"),q=r("el-form"),j=r("el-col"),z=r("el-input"),k=r("el-button"),H=r("el-row"),K=L("loading");return A((p(),g("div",X,[e(H,null,{default:o(()=>[e(j,{span:7},{default:o(()=>[e(q,{model:u(U),"label-position":"top",style:{"padding-right":"20px"},"label-width":"120px"},{default:o(()=>[e(h,{label:"\u6A21\u578B"},{default:o(()=>[e(P,{modelValue:u(U).region,"onUpdate:modelValue":s[0]||(s[0]=t=>u(U).region=t),style:{width:"100%"},placeholder:"\u8BF7\u9009\u62E9\u6A21\u578B"},{default:o(()=>[e(V,{label:"gpt-3.5-turbo",value:"shanghai"}),e(V,{label:"gpt-4",value:"beijing"})]),_:1},8,["modelValue"])]),_:1}),e(h,{label:"\u6700\u5927Token"},{default:o(()=>[e(C,{modelValue:a.value,"onUpdate:modelValue":s[1]||(s[1]=t=>a.value=t),size:"small"},null,8,["modelValue"])]),_:1}),e(h,{label:"Temperature"},{default:o(()=>[e(C,{modelValue:a.value,"onUpdate:modelValue":s[2]||(s[2]=t=>a.value=t),size:"small"},null,8,["modelValue"])]),_:1}),e(h,{label:"Top P"},{default:o(()=>[e(C,{modelValue:a.value,"onUpdate:modelValue":s[3]||(s[3]=t=>a.value=t),size:"small"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1}),e(j,{span:17},{default:o(()=>[y("div",Y,[y("div",Z,[e(P,{modelValue:u(b),"onUpdate:modelValue":s[4]||(s[4]=t=>E(b)?b.value=t:null),placeholder:"\u9009\u62E9\u89D2\u8272",class:"role-select",onChange:M},{default:o(()=>[(p(!0),g(w,null,S(u(F),t=>(p(),N(V,{key:t.value,label:t.label,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),e(z,{type:"textarea",rows:10,modelValue:u(f),"onUpdate:modelValue":s[5]||(s[5]=t=>E(f)?f.value=t:null),placeholder:"\u8F93\u5165\u5BF9\u8BDD\u4FE1\u606F",class:"input-text",resize:"none"},null,8,["modelValue"]),e(k,{onClick:O,class:"add-button"},{default:o(()=>[x("\u6DFB\u52A0\u5BF9\u8BDD")]),_:1}),(p(!0),g(w,null,S(u(m),(t,B)=>(p(),g("div",{key:B,class:"message"},[y("div",ee,[e(P,{modelValue:t.role,"onUpdate:modelValue":d=>t.role=d,placeholder:"\u9009\u62E9\u89D2\u8272",class:"message-role-select"},{default:o(()=>[(p(!0),g(w,null,S(u(F),d=>(p(),N(V,{key:d.value,label:d.label,value:d.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]),e(z,{type:"textarea",rows:1,modelValue:t.content,"onUpdate:modelValue":d=>t.content=d,placeholder:"\u8F93\u5165\u5BF9\u8BDD\u4FE1\u606F",class:"message-input-text"},null,8,["modelValue","onUpdate:modelValue"])]),e(k,{onClick:d=>R(B),type:"danger",class:"delete-button"},{default:o(()=>[x("\u5220\u9664")]),_:2},1032,["onClick"])]))),128)),y("div",te,[e(k,{type:"primary",onClick:D,class:"save-button"},{default:o(()=>[x("\u4FDD\u5B58")]),_:1})])])]),_:1})]),_:1})])),[[K,u(I)]])}}},ce=Object.freeze(Object.defineProperty({__proto__:null,default:le},Symbol.toStringTag,{value:"Module"}));export{le as _,re as a,oe as c,de as d,ce as e,se as g,ne as l,ue as u};
