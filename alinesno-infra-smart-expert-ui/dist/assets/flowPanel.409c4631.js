var FM=Object.defineProperty;var BM=(e,t,r)=>t in e?FM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ow=(e,t,r)=>(BM(e,typeof t!="symbol"?t+"":t,r),r);import GM from"./index.985f8f8d.js";import{V as jf,W as Ss,X as vn,Y as iw,Z as Qu,$ as gv,a0 as Yu,a1 as Gd,a2 as zS,a3 as vu,a4 as Rs,a5 as to,a6 as UM,a7 as js,a8 as $S,a9 as zM,aa as ph,ab as Ku,ac as Ud,ad as Ll,ae as An,af as $M,ag as mv,ah as yu,ai as HS,aj as Ns,ak as XS,al as zd,am as $d,an as sg,ao as cg,ap as Hd,aq as As,ar as ro,as as Rf,at as hh,au as bv,av as es,aw as bi,ax as yn,ay as m_,az as HM,aA as b_,aB as __,aC as _i,aD as XM,aE as WM,aF as Fb,aG as Xd,aH as VM,aI as WS,aJ as YM,aK as Nf,aL as KM,aM as qM,aN as ZM,aO as qu,aP as vh,aQ as JM,aR as QM,aS as fg,aT as VS,aU as Wd,aV as Cf,aW as YS,aX as eC,aY as E_,aZ as tC,a_ as Il,a$ as _v,b0 as KS,b1 as qS,b2 as ZS,b3 as JS,b4 as rC,b5 as sh,b6 as nC,b7 as QS,b8 as eA,b9 as tA,ba as oC,bb as rA,bc as iC,bd as aC,be as uC,bf as sC,bg as By,bh as cC,bi as fC,bj as lC,bk as O_,bl as dC,bm as nA,bn as oA,bo as iA,bp as w_,bq as pC,br as aA,bs as hC,bt as vC,bu as yC,bv as gC,bw as ch,bx as mC,by as bC,bz as _C,bA as EC,bB as OC,bC as wC,bD as xC,bE as SC,bF as AC,bG as TC,bH as PC,bI as RC,bJ as jC,bK as NC,bL as MC,bM as CC,bN as IC,bO as DC,bP as kC,bQ as LC,bR as FC,bS as BC,bT as GC,bU as UC,bV as zC,bW as $C,bX as HC,bY as XC,bZ as WC,b_ as VC,Q as YC,P as uA,b$ as sA,c0 as KC,c1 as qC,c2 as rv,S as cA,c3 as ZC,r as aw,s as JC,G as QC,o as uw,l as eI,c as tI,i as rI,F as nI,e as oI}from"./index.2b31a27b.js";import iI from"./index.ae3a9b47.js";import aI from"./index.d20c38fb.js";import uI from"./index.2f80182c.js";import sI from"./index.08b87c80.js";import cI from"./index.55ff8752.js";import fI from"./index.b3ab3c2f.js";import lI from"./index.152577c0.js";import dI from"./index.1ee123fb.js";import pI from"./index.a22ff91e.js";import hI from"./index.47ceb181.js";import vI from"./index.e2de254f.js";import yI from"./index.6a5dadc2.js";import gI from"./CustomLine.5666d60b.js";import mI from"./FlowControl.3127e5f2.js";import"./lodash.d9cddd10.js";import"./ScriptEditor.393d1aff.js";import"./index.aea152d8.js";var bI=0/0;function sw(e){return typeof e=="number"?e:jf(e)?bI:+e}function lg(e,t){return function(r,a){var n;if(r===void 0&&a===void 0)return t;if(r!==void 0&&(n=r),a!==void 0){if(n===void 0)return a;typeof r=="string"||typeof a=="string"?(r=Ss(r),a=Ss(a)):(r=sw(r),a=sw(a)),n=e(r,a)}return n}}var _I=lg(function(e,t){return e+t},0);const EI=_I;var OI="Expected a function";function wI(e,t){if(typeof t!="function")throw new TypeError(OI);return e=vn(e),function(){if(--e<1)return t.apply(this,arguments)}}var xI=iw&&new iw;const Gy=xI;var SI=Gy?function(e,t){return Gy.set(e,t),e}:Qu;const fA=SI;function cv(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=gv(e.prototype),a=e.apply(r,t);return Yu(a)?a:r}}var AI=1;function TI(e,t,r){var a=t&AI,n=cv(e);function c(){var f=this&&this!==Gd&&this instanceof c?n:e;return f.apply(a?r:this,arguments)}return c}var PI=Math.max;function lA(e,t,r,a){for(var n=-1,c=e.length,f=r.length,y=-1,v=t.length,b=PI(c-f,0),O=Array(v+b),S=!a;++y<v;)O[y]=t[y];for(;++n<f;)(S||n<c)&&(O[r[n]]=e[n]);for(;b--;)O[y++]=e[n++];return O}var RI=Math.max;function dA(e,t,r,a){for(var n=-1,c=e.length,f=-1,y=r.length,v=-1,b=t.length,O=RI(c-y,0),S=Array(O+b),P=!a;++n<O;)S[n]=e[n];for(var j=n;++v<b;)S[j+v]=t[v];for(;++f<y;)(P||n<c)&&(S[j+r[f]]=e[n++]);return S}function jI(e,t){for(var r=e.length,a=0;r--;)e[r]===t&&++a;return a}function dg(){}var NI=4294967295;function jn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=NI,this.__views__=[]}jn.prototype=gv(dg.prototype);jn.prototype.constructor=jn;var MI=Gy?function(e){return Gy.get(e)}:zS;const x_=MI;var CI={};const th=CI;var II=Object.prototype,DI=II.hasOwnProperty;function My(e){for(var t=e.name+"",r=th[t],a=DI.call(th,t)?r.length:0;a--;){var n=r[a],c=n.func;if(c==null||c==e)return n.name}return t}function Zu(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}Zu.prototype=gv(dg.prototype);Zu.prototype.constructor=Zu;function pA(e){if(e instanceof jn)return e.clone();var t=new Zu(e.__wrapped__,e.__chain__);return t.__actions__=vu(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var kI=Object.prototype,LI=kI.hasOwnProperty;function K(e){if(Rs(e)&&!to(e)&&!(e instanceof jn)){if(e instanceof Zu)return e;if(LI.call(e,"__wrapped__"))return pA(e)}return new Zu(e)}K.prototype=dg.prototype;K.prototype.constructor=K;function Bb(e){var t=My(e),r=K[t];if(typeof r!="function"||!(t in jn.prototype))return!1;if(e===r)return!0;var a=x_(r);return!!a&&e===a[0]}var FI=UM(fA);const hA=FI;var BI=/\{\n\/\* \[wrapped with (.+)\] \*/,GI=/,? & /;function UI(e){var t=e.match(BI);return t?t[1].split(GI):[]}var zI=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function $I(e,t){var r=t.length;if(!r)return e;var a=r-1;return t[a]=(r>1?"& ":"")+t[a],t=t.join(r>2?", ":" "),e.replace(zI,`{
/* [wrapped with `+t+`] */
`)}var HI=1,XI=2,WI=8,VI=16,YI=32,KI=64,qI=128,ZI=256,JI=512,QI=[["ary",qI],["bind",HI],["bindKey",XI],["curry",WI],["curryRight",VI],["flip",JI],["partial",YI],["partialRight",KI],["rearg",ZI]];function eD(e,t){return js(QI,function(r){var a="_."+r[0];t&r[1]&&!$S(e,a)&&e.push(a)}),e.sort()}function vA(e,t,r){var a=t+"";return zM(e,$I(a,eD(UI(a),r)))}var tD=1,rD=2,nD=4,oD=8,cw=32,fw=64;function yA(e,t,r,a,n,c,f,y,v,b){var O=t&oD,S=O?f:void 0,P=O?void 0:f,j=O?c:void 0,I=O?void 0:c;t|=O?cw:fw,t&=~(O?fw:cw),t&nD||(t&=~(tD|rD));var C=[e,t,n,j,S,I,P,y,v,b],k=r.apply(void 0,C);return Bb(e)&&hA(k,C),k.placeholder=a,vA(k,e,t)}function yh(e){var t=e;return t.placeholder}var iD=Math.min;function aD(e,t){for(var r=e.length,a=iD(t.length,r),n=vu(e);a--;){var c=t[a];e[a]=ph(c,r)?n[c]:void 0}return e}var lw="__lodash_placeholder__";function Dl(e,t){for(var r=-1,a=e.length,n=0,c=[];++r<a;){var f=e[r];(f===t||f===lw)&&(e[r]=lw,c[n++]=r)}return c}var uD=1,sD=2,cD=8,fD=16,lD=128,dD=512;function pg(e,t,r,a,n,c,f,y,v,b){var O=t&lD,S=t&uD,P=t&sD,j=t&(cD|fD),I=t&dD,C=P?void 0:cv(e);function k(){for(var G=arguments.length,H=Array(G),ue=G;ue--;)H[ue]=arguments[ue];if(j)var _e=yh(k),be=jI(H,_e);if(a&&(H=lA(H,a,n,j)),c&&(H=dA(H,c,f,j)),G-=be,j&&G<b){var ce=Dl(H,_e);return yA(e,t,pg,k.placeholder,r,H,ce,y,v,b-G)}var fe=S?r:this,ee=P?fe[e]:e;return G=H.length,y?H=aD(H,y):I&&G>1&&H.reverse(),O&&v<G&&(H.length=v),this&&this!==Gd&&this instanceof k&&(ee=C||cv(ee)),ee.apply(fe,H)}return k}function pD(e,t,r){var a=cv(e);function n(){for(var c=arguments.length,f=Array(c),y=c,v=yh(n);y--;)f[y]=arguments[y];var b=c<3&&f[0]!==v&&f[c-1]!==v?[]:Dl(f,v);if(c-=b.length,c<r)return yA(e,t,pg,n.placeholder,void 0,f,b,void 0,void 0,r-c);var O=this&&this!==Gd&&this instanceof n?a:e;return Ku(O,this,f)}return n}var hD=1;function vD(e,t,r,a){var n=t&hD,c=cv(e);function f(){for(var y=-1,v=arguments.length,b=-1,O=a.length,S=Array(O+v),P=this&&this!==Gd&&this instanceof f?c:e;++b<O;)S[b]=a[b];for(;v--;)S[b++]=arguments[++y];return Ku(P,n?r:this,S)}return f}var dw="__lodash_placeholder__",yb=1,yD=2,gD=4,pw=8,Zh=128,hw=256,mD=Math.min;function bD(e,t){var r=e[1],a=t[1],n=r|a,c=n<(yb|yD|Zh),f=a==Zh&&r==pw||a==Zh&&r==hw&&e[7].length<=t[8]||a==(Zh|hw)&&t[7].length<=t[8]&&r==pw;if(!(c||f))return e;a&yb&&(e[2]=t[2],n|=r&yb?0:gD);var y=t[3];if(y){var v=e[3];e[3]=v?lA(v,y,t[4]):y,e[4]=v?Dl(e[3],dw):t[4]}return y=t[5],y&&(v=e[5],e[5]=v?dA(v,y,t[6]):y,e[6]=v?Dl(e[5],dw):t[6]),y=t[7],y&&(e[7]=y),a&Zh&&(e[8]=e[8]==null?t[8]:mD(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=n,e}var _D="Expected a function",vw=1,ED=2,gb=8,mb=16,bb=32,yw=64,gw=Math.max;function If(e,t,r,a,n,c,f,y){var v=t&ED;if(!v&&typeof e!="function")throw new TypeError(_D);var b=a?a.length:0;if(b||(t&=~(bb|yw),a=n=void 0),f=f===void 0?f:gw(vn(f),0),y=y===void 0?y:vn(y),b-=n?n.length:0,t&yw){var O=a,S=n;a=n=void 0}var P=v?void 0:x_(e),j=[e,t,r,a,n,O,S,c,f,y];if(P&&bD(j,P),e=j[0],t=j[1],r=j[2],a=j[3],n=j[4],y=j[9]=j[9]===void 0?v?0:e.length:gw(j[9]-b,0),!y&&t&(gb|mb)&&(t&=~(gb|mb)),!t||t==vw)var I=TI(e,t,r);else t==gb||t==mb?I=pD(e,t,y):(t==bb||t==(vw|bb))&&!n.length?I=vD(e,t,r,a):I=pg.apply(void 0,j);var C=P?fA:hA;return vA(C(I,j),e,t)}var OD=128;function gA(e,t,r){return t=r?void 0:t,t=e&&t==null?e.length:t,If(e,OD,void 0,void 0,void 0,void 0,t)}function ba(e,t,r){if(!Yu(r))return!1;var a=typeof t;return(a=="number"?Ud(r)&&ph(t,r.length):a=="string"&&t in r)?Ll(r[t],e):!1}function gh(e){return An(function(t,r){var a=-1,n=r.length,c=n>1?r[n-1]:void 0,f=n>2?r[2]:void 0;for(c=e.length>3&&typeof c=="function"?(n--,c):void 0,f&&ba(r[0],r[1],f)&&(c=n<3?void 0:c,n=1),t=Object(t);++a<n;){var y=r[a];y&&e(t,y,a,c)}return t})}var wD=Object.prototype,xD=wD.hasOwnProperty,SD=gh(function(e,t){if($M(t)||Ud(t)){mv(t,yu(t),e);return}for(var r in t)xD.call(t,r)&&HS(e,r,t[r])});const AD=SD;var TD=gh(function(e,t){mv(t,Ns(t),e)});const mw=TD;var PD=gh(function(e,t,r,a){mv(t,Ns(t),e,a)});const Uy=PD;var RD=gh(function(e,t,r,a){mv(t,yu(t),e,a)});const jD=RD;function S_(e,t){for(var r=-1,a=t.length,n=Array(a),c=e==null;++r<a;)n[r]=c?void 0:XS(e,t[r]);return n}var ND=zd(S_);const MD=ND;var CD="[object DOMException]",ID="[object Error]";function A_(e){if(!Rs(e))return!1;var t=$d(e);return t==ID||t==CD||typeof e.message=="string"&&typeof e.name=="string"&&!sg(e)}var DD=An(function(e,t){try{return Ku(e,void 0,t)}catch(r){return A_(r)?r:new Error(r)}});const mA=DD;var kD="Expected a function";function bA(e,t){var r;if(typeof t!="function")throw new TypeError(kD);return e=vn(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=void 0),r}}var LD=1,FD=32,T_=An(function(e,t,r){var a=LD;if(r.length){var n=Dl(r,yh(T_));a|=FD}return If(e,a,t,r,n)});T_.placeholder={};const _A=T_;var BD=zd(function(e,t){return js(t,function(r){r=cg(r),Hd(e,r,_A(e[r],e))}),e});const GD=BD;var UD=1,zD=2,$D=32,P_=An(function(e,t,r){var a=UD|zD;if(r.length){var n=Dl(r,yh(P_));a|=$D}return If(t,a,e,r,n)});P_.placeholder={};const HD=P_;function Fl(e,t,r){var a=e.length;return r=r===void 0?a:r,!t&&r>=a?e:As(e,t,r)}var XD="\\ud800-\\udfff",WD="\\u0300-\\u036f",VD="\\ufe20-\\ufe2f",YD="\\u20d0-\\u20ff",KD=WD+VD+YD,qD="\\ufe0e\\ufe0f",ZD="\\u200d",JD=RegExp("["+ZD+XD+KD+qD+"]");function mh(e){return JD.test(e)}function QD(e){return e.split("")}var EA="\\ud800-\\udfff",ek="\\u0300-\\u036f",tk="\\ufe20-\\ufe2f",rk="\\u20d0-\\u20ff",nk=ek+tk+rk,ok="\\ufe0e\\ufe0f",ik="["+EA+"]",Gb="["+nk+"]",Ub="\\ud83c[\\udffb-\\udfff]",ak="(?:"+Gb+"|"+Ub+")",OA="[^"+EA+"]",wA="(?:\\ud83c[\\udde6-\\uddff]){2}",xA="[\\ud800-\\udbff][\\udc00-\\udfff]",uk="\\u200d",SA=ak+"?",AA="["+ok+"]?",sk="(?:"+uk+"(?:"+[OA,wA,xA].join("|")+")"+AA+SA+")*",ck=AA+SA+sk,fk="(?:"+[OA+Gb+"?",Gb,wA,xA,ik].join("|")+")",lk=RegExp(Ub+"(?="+Ub+")|"+fk+ck,"g");function dk(e){return e.match(lk)||[]}function Ts(e){return mh(e)?dk(e):QD(e)}function TA(e){return function(t){t=ro(t);var r=mh(t)?Ts(t):void 0,a=r?r[0]:t.charAt(0),n=r?Fl(r,1).join(""):t.slice(1);return a[e]()+n}}var pk=TA("toUpperCase");const R_=pk;function PA(e){return R_(ro(e).toLowerCase())}function j_(e,t,r,a){var n=-1,c=e==null?0:e.length;for(a&&c&&(r=e[++n]);++n<c;)r=t(r,e[n],n,e);return r}function N_(e){return function(t){return e==null?void 0:e[t]}}var hk={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},vk=N_(hk);const yk=vk;var gk=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,mk="\\u0300-\\u036f",bk="\\ufe20-\\ufe2f",_k="\\u20d0-\\u20ff",Ek=mk+bk+_k,Ok="["+Ek+"]",wk=RegExp(Ok,"g");function RA(e){return e=ro(e),e&&e.replace(gk,yk).replace(wk,"")}var xk=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function Sk(e){return e.match(xk)||[]}var Ak=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function Tk(e){return Ak.test(e)}var jA="\\ud800-\\udfff",Pk="\\u0300-\\u036f",Rk="\\ufe20-\\ufe2f",jk="\\u20d0-\\u20ff",Nk=Pk+Rk+jk,NA="\\u2700-\\u27bf",MA="a-z\\xdf-\\xf6\\xf8-\\xff",Mk="\\xac\\xb1\\xd7\\xf7",Ck="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ik="\\u2000-\\u206f",Dk=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",CA="A-Z\\xc0-\\xd6\\xd8-\\xde",kk="\\ufe0e\\ufe0f",IA=Mk+Ck+Ik+Dk,DA="['\u2019]",bw="["+IA+"]",Lk="["+Nk+"]",kA="\\d+",Fk="["+NA+"]",LA="["+MA+"]",FA="[^"+jA+IA+kA+NA+MA+CA+"]",Bk="\\ud83c[\\udffb-\\udfff]",Gk="(?:"+Lk+"|"+Bk+")",Uk="[^"+jA+"]",BA="(?:\\ud83c[\\udde6-\\uddff]){2}",GA="[\\ud800-\\udbff][\\udc00-\\udfff]",Vp="["+CA+"]",zk="\\u200d",_w="(?:"+LA+"|"+FA+")",$k="(?:"+Vp+"|"+FA+")",Ew="(?:"+DA+"(?:d|ll|m|re|s|t|ve))?",Ow="(?:"+DA+"(?:D|LL|M|RE|S|T|VE))?",UA=Gk+"?",zA="["+kk+"]?",Hk="(?:"+zk+"(?:"+[Uk,BA,GA].join("|")+")"+zA+UA+")*",Xk="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Wk="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Vk=zA+UA+Hk,Yk="(?:"+[Fk,BA,GA].join("|")+")"+Vk,Kk=RegExp([Vp+"?"+LA+"+"+Ew+"(?="+[bw,Vp,"$"].join("|")+")",$k+"+"+Ow+"(?="+[bw,Vp+_w,"$"].join("|")+")",Vp+"?"+_w+"+"+Ew,Vp+"+"+Ow,Wk,Xk,kA,Yk].join("|"),"g");function qk(e){return e.match(Kk)||[]}function $A(e,t,r){return e=ro(e),t=r?void 0:t,t===void 0?Tk(e)?qk(e):Sk(e):e.match(t)||[]}var Zk="['\u2019]",Jk=RegExp(Zk,"g");function bh(e){return function(t){return j_($A(RA(t).replace(Jk,"")),e,"")}}var Qk=bh(function(e,t,r){return t=t.toLowerCase(),e+(r?PA(t):t)});const eL=Qk;var tL=Gd.isFinite,rL=Math.min;function M_(e){var t=Math[e];return function(r,a){if(r=Rf(r),a=a==null?0:rL(vn(a),292),a&&tL(r)){var n=(ro(r)+"e").split("e"),c=t(n[0]+"e"+(+n[1]+a));return n=(ro(c)+"e").split("e"),+(n[0]+"e"+(+n[1]-a))}return t(r)}}var nL=M_("ceil");const oL=nL;function HA(e){var t=K(e);return t.__chain__=!0,t}var iL=Math.ceil,aL=Math.max;function uL(e,t,r){(r?ba(e,t,r):t===void 0)?t=1:t=aL(vn(t),0);var a=e==null?0:e.length;if(!a||t<1)return[];for(var n=0,c=0,f=Array(iL(a/t));n<a;)f[c++]=As(e,n,n+=t);return f}function Vd(e,t,r){return e===e&&(r!==void 0&&(e=e<=r?e:r),t!==void 0&&(e=e>=t?e:t)),e}function sL(e,t,r){return r===void 0&&(r=t,t=void 0),r!==void 0&&(r=Rf(r),r=r===r?r:0),t!==void 0&&(t=Rf(t),t=t===t?t:0),Vd(Rf(e),t,r)}var cL=1,fL=4;function lL(e,t){return t=typeof t=="function"?t:void 0,hh(e,cL|fL,t)}var dL=4;function pL(e,t){return t=typeof t=="function"?t:void 0,hh(e,dL,t)}function hL(){return new Zu(this.value(),this.__chain__)}function vL(e){for(var t=-1,r=e==null?0:e.length,a=0,n=[];++t<r;){var c=e[t];c&&(n[a++]=c)}return n}function yL(){var e=arguments.length;if(!e)return[];for(var t=Array(e-1),r=arguments[0],a=e;a--;)t[a-1]=arguments[a];return bv(to(r)?vu(r):[r],es(t,1))}var gL="Expected a function";function mL(e){var t=e==null?0:e.length,r=yn;return e=t?bi(e,function(a){if(typeof a[1]!="function")throw new TypeError(gL);return[r(a[0]),a[1]]}):[],An(function(a){for(var n=-1;++n<t;){var c=e[n];if(Ku(c[0],this,a))return Ku(c[1],this,a)}})}function XA(e,t,r){var a=r.length;if(e==null)return!a;for(e=Object(e);a--;){var n=r[a],c=t[n],f=e[n];if(f===void 0&&!(n in e)||!c(f))return!1}return!0}function bL(e){var t=yu(e);return function(r){return XA(r,e,t)}}var _L=1;function EL(e){return bL(hh(e,_L))}function OL(e,t){return t==null||XA(e,t,yu(t))}var wL=Object.prototype,xL=wL.hasOwnProperty,SL=m_(function(e,t,r){xL.call(e,r)?++e[r]:Hd(e,r,1)});const AL=SL;function TL(e,t){var r=gv(e);return t==null?r:HM(r,t)}var PL=8;function C_(e,t,r){t=r?void 0:t;var a=If(e,PL,void 0,void 0,void 0,void 0,void 0,t);return a.placeholder=C_.placeholder,a}C_.placeholder={};var RL=16;function I_(e,t,r){t=r?void 0:t;var a=If(e,RL,void 0,void 0,void 0,void 0,void 0,t);return a.placeholder=I_.placeholder,a}I_.placeholder={};function jL(e,t){return e==null||e!==e?t:e}var WA=Object.prototype,NL=WA.hasOwnProperty,ML=An(function(e,t){e=Object(e);var r=-1,a=t.length,n=a>2?t[2]:void 0;for(n&&ba(t[0],t[1],n)&&(a=1);++r<a;)for(var c=t[r],f=Ns(c),y=-1,v=f.length;++y<v;){var b=f[y],O=e[b];(O===void 0||Ll(O,WA[b])&&!NL.call(e,b))&&(e[b]=c[b])}return e});const CL=ML;function zb(e,t,r){(r!==void 0&&!Ll(e[t],r)||r===void 0&&!(t in e))&&Hd(e,t,r)}function $b(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function VA(e){return mv(e,Ns(e))}function IL(e,t,r,a,n,c,f){var y=$b(e,r),v=$b(t,r),b=f.get(v);if(b){zb(e,r,b);return}var O=c?c(y,v,r+"",e,t,f):void 0,S=O===void 0;if(S){var P=to(v),j=!P&&b_(v),I=!P&&!j&&__(v);O=v,P||j||I?to(y)?O=y:_i(y)?O=vu(y):j?(S=!1,O=XM(v,!0)):I?(S=!1,O=WM(v,!0)):O=[]:sg(v)||Fb(v)?(O=y,Fb(y)?O=VA(y):(!Yu(y)||Xd(y))&&(O=VM(v))):S=!1}S&&(f.set(v,O),n(O,v,a,c,f),f.delete(v)),zb(e,r,O)}function hg(e,t,r,a,n){e!==t&&WS(t,function(c,f){if(n||(n=new YM),Yu(c))IL(e,t,f,r,hg,a,n);else{var y=a?a($b(e,f),c,f+"",e,t,n):void 0;y===void 0&&(y=c),zb(e,f,y)}},Ns)}function YA(e,t,r,a,n,c){return Yu(e)&&Yu(t)&&(c.set(t,e),hg(e,t,void 0,YA,c),c.delete(t)),e}var DL=gh(function(e,t,r,a){hg(e,t,r,a)});const KA=DL;var kL=An(function(e){return e.push(void 0,YA),Ku(KA,void 0,e)});const LL=kL;var FL="Expected a function";function qA(e,t,r){if(typeof e!="function")throw new TypeError(FL);return setTimeout(function(){e.apply(void 0,r)},t)}var BL=An(function(e,t){return qA(e,1,t)});const GL=BL;var UL=An(function(e,t,r){return qA(e,Rf(t)||0,r)});const zL=UL;var $L=200;function Ev(e,t,r,a){var n=-1,c=$S,f=!0,y=e.length,v=[],b=t.length;if(!y)return v;r&&(t=bi(t,Nf(r))),a?(c=qM,f=!1):t.length>=$L&&(c=ZM,f=!1,t=new KM(t));e:for(;++n<y;){var O=e[n],S=r==null?O:r(O);if(O=a||O!==0?O:0,f&&S===S){for(var P=b;P--;)if(t[P]===S)continue e;v.push(O)}else c(t,S,a)||v.push(O)}return v}var HL=An(function(e,t){return _i(e)?Ev(e,es(t,1,_i,!0)):[]});const XL=HL;var WL=An(function(e,t){var r=qu(t);return _i(r)&&(r=void 0),_i(e)?Ev(e,es(t,1,_i,!0),yn(r)):[]});const VL=WL;var YL=An(function(e,t){var r=qu(t);return _i(r)&&(r=void 0),_i(e)?Ev(e,es(t,1,_i,!0),void 0,r):[]});const KL=YL;var qL=lg(function(e,t){return e/t},1);const ZL=qL;function JL(e,t,r){var a=e==null?0:e.length;return a?(t=r||t===void 0?1:vn(t),As(e,t<0?0:t,a)):[]}function QL(e,t,r){var a=e==null?0:e.length;return a?(t=r||t===void 0?1:vn(t),t=a-t,As(e,0,t<0?0:t)):[]}function vg(e,t,r,a){for(var n=e.length,c=a?n:-1;(a?c--:++c<n)&&t(e[c],c,e););return r?As(e,a?0:c,a?c+1:n):As(e,a?c+1:0,a?n:c)}function e3(e,t){return e&&e.length?vg(e,yn(t),!0,!0):[]}function t3(e,t){return e&&e.length?vg(e,yn(t),!0):[]}function Ec(e){return typeof e=="function"?e:Qu}function ww(e,t){var r=to(e)?js:vh;return r(e,Ec(t))}function r3(e,t){for(var r=e==null?0:e.length;r--&&t(e[r],r,e)!==!1;);return e}var n3=JM(!0);const ZA=n3;function D_(e,t){return e&&ZA(e,t,yu)}var o3=QM(D_,!0);const JA=o3;function xw(e,t){var r=to(e)?r3:JA;return r(e,Ec(t))}function i3(e,t,r){e=ro(e),t=Ss(t);var a=e.length;r=r===void 0?a:Vd(vn(r),0,a);var n=r;return r-=t.length,r>=0&&e.slice(r,n)==t}function a3(e,t){return bi(t,function(r){return[r,e[r]]})}function u3(e){var t=-1,r=Array(e.size);return e.forEach(function(a){r[++t]=[a,a]}),r}var s3="[object Map]",c3="[object Set]";function QA(e){return function(t){var r=fg(t);return r==s3?VS(t):r==c3?u3(t):a3(t,e(t))}}var f3=QA(yu);const Sw=f3;var l3=QA(Ns);const Aw=l3;var d3={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},p3=N_(d3);const h3=p3;var eT=/[&<>"']/g,v3=RegExp(eT.source);function tT(e){return e=ro(e),e&&v3.test(e)?e.replace(eT,h3):e}var rT=/[\\^$.*+?()[\]{}|]/g,y3=RegExp(rT.source);function g3(e){return e=ro(e),e&&y3.test(e)?e.replace(rT,"\\$&"):e}function nT(e,t){for(var r=-1,a=e==null?0:e.length;++r<a;)if(!t(e[r],r,e))return!1;return!0}function m3(e,t){var r=!0;return vh(e,function(a,n,c){return r=!!t(a,n,c),r}),r}function b3(e,t,r){var a=to(e)?nT:m3;return r&&ba(e,t,r)&&(t=void 0),a(e,yn(t))}var _3=4294967295;function oT(e){return e?Vd(vn(e),0,_3):0}function E3(e,t,r,a){var n=e.length;for(r=vn(r),r<0&&(r=-r>n?0:n+r),a=a===void 0||a>n?n:vn(a),a<0&&(a+=n),a=r>a?0:oT(a);r<a;)e[r++]=t;return e}function O3(e,t,r,a){var n=e==null?0:e.length;return n?(r&&typeof r!="number"&&ba(e,t,r)&&(r=0,a=n),E3(e,t,r,a)):[]}function iT(e,t){var r=[];return vh(e,function(a,n,c){t(a,n,c)&&r.push(a)}),r}function w3(e,t){var r=to(e)?Wd:iT;return r(e,yn(t))}function aT(e,t,r){var a;return r(e,function(n,c,f){if(t(n,c,f))return a=c,!1}),a}function x3(e,t){return aT(e,yn(t),Cf)}var S3=Math.max,A3=Math.min;function uT(e,t,r){var a=e==null?0:e.length;if(!a)return-1;var n=a-1;return r!==void 0&&(n=vn(r),n=r<0?S3(a+n,0):A3(n,a-1)),YS(e,yn(t),n,!0)}var T3=eC(uT);const P3=T3;function R3(e,t){return aT(e,yn(t),D_)}function Tw(e){return e&&e.length?e[0]:void 0}var j3=1/0;function N3(e,t){return es(E_(e,t),j3)}function M3(e,t,r){return r=r===void 0?1:vn(r),es(E_(e,t),r)}function C3(e,t){var r=e==null?0:e.length;return r?(t=t===void 0?1:vn(t),es(e,t)):[]}var I3=512;function D3(e){return If(e,I3)}var k3=M_("floor");const L3=k3;var F3="Expected a function",B3=8,G3=32,U3=128,z3=256;function sT(e){return zd(function(t){var r=t.length,a=r,n=Zu.prototype.thru;for(e&&t.reverse();a--;){var c=t[a];if(typeof c!="function")throw new TypeError(F3);if(n&&!f&&My(c)=="wrapper")var f=new Zu([],!0)}for(a=f?a:r;++a<r;){c=t[a];var y=My(c),v=y=="wrapper"?x_(c):void 0;v&&Bb(v[0])&&v[1]==(U3|B3|G3|z3)&&!v[4].length&&v[9]==1?f=f[My(v[0])].apply(f,v[3]):f=c.length==1&&Bb(c)?f[y]():f.thru(c)}return function(){var b=arguments,O=b[0];if(f&&b.length==1&&to(O))return f.plant(O).value();for(var S=0,P=r?t[S].apply(this,b):O;++S<r;)P=t[S].call(this,P);return P}})}var $3=sT();const H3=$3;var X3=sT(!0);const W3=X3;function V3(e,t){return e==null?e:WS(e,Ec(t),Ns)}function Y3(e,t){return e==null?e:ZA(e,Ec(t),Ns)}function K3(e,t){return e&&Cf(e,Ec(t))}function q3(e,t){return e&&D_(e,Ec(t))}function yg(e,t){return Wd(t,function(r){return Xd(e[r])})}function Z3(e){return e==null?[]:yg(e,yu(e))}function J3(e){return e==null?[]:yg(e,Ns(e))}var Q3=Object.prototype,e4=Q3.hasOwnProperty,t4=m_(function(e,t,r){e4.call(e,r)?e[r].push(t):Hd(e,r,[t])});const r4=t4;function k_(e,t){return e>t}function gg(e){return function(t,r){return typeof t=="string"&&typeof r=="string"||(t=Rf(t),r=Rf(r)),e(t,r)}}var n4=gg(k_);const o4=n4;var i4=gg(function(e,t){return e>=t});const a4=i4;var u4=Object.prototype,s4=u4.hasOwnProperty;function c4(e,t){return e!=null&&s4.call(e,t)}function f4(e,t){return e!=null&&tC(e,t,c4)}var l4=Math.max,d4=Math.min;function p4(e,t,r){return e>=d4(t,r)&&e<l4(t,r)}function h4(e,t,r){return t=Il(t),r===void 0?(r=t,t=0):r=Il(r),e=Rf(e),p4(e,t,r)}var v4="[object String]";function mg(e){return typeof e=="string"||!to(e)&&Rs(e)&&$d(e)==v4}function L_(e,t){return bi(t,function(r){return e[r]})}function _h(e){return e==null?[]:L_(e,yu(e))}var y4=Math.max;function g4(e,t,r,a){e=Ud(e)?e:_h(e),r=r&&!a?vn(r):0;var n=e.length;return r<0&&(r=y4(n+r,0)),mg(e)?r<=n&&e.indexOf(t,r)>-1:!!n&&_v(e,t,r)>-1}var m4=Math.max;function b4(e,t,r){var a=e==null?0:e.length;if(!a)return-1;var n=r==null?0:vn(r);return n<0&&(n=m4(a+n,0)),_v(e,t,n)}function _4(e){var t=e==null?0:e.length;return t?As(e,0,-1):[]}var E4=An(function(e){var t=qu(e),r=bi(e,KS);return t===qu(r)?t=void 0:r.pop(),r.length&&r[0]===e[0]?qS(r,yn(t)):[]});const O4=E4;var w4=An(function(e){var t=qu(e),r=bi(e,KS);return t=typeof t=="function"?t:void 0,t&&r.pop(),r.length&&r[0]===e[0]?qS(r,void 0,t):[]});const x4=w4;function S4(e,t,r,a){return Cf(e,function(n,c,f){t(a,r(n),c,f)}),a}function cT(e,t){return function(r,a){return S4(r,e,t(a),{})}}var A4=Object.prototype,T4=A4.toString,P4=cT(function(e,t,r){t!=null&&typeof t.toString!="function"&&(t=T4.call(t)),e[t]=r},ZS(Qu));const R4=P4;var fT=Object.prototype,j4=fT.hasOwnProperty,N4=fT.toString,M4=cT(function(e,t,r){t!=null&&typeof t.toString!="function"&&(t=N4.call(t)),j4.call(e,t)?e[t].push(r):e[t]=[r]},yn);const C4=M4;function Ov(e,t,r){t=JS(t,e),e=rC(e,t);var a=e==null?e:e[cg(qu(t))];return a==null?void 0:Ku(a,e,r)}var I4=An(Ov);const D4=I4;var k4=An(function(e,t,r){var a=-1,n=typeof t=="function",c=Ud(e)?Array(e.length):[];return vh(e,function(f){c[++a]=n?Ku(t,f,r):Ov(f,t,r)}),c});const L4=k4;var F4="[object ArrayBuffer]";function B4(e){return Rs(e)&&$d(e)==F4}var Pw=sh&&sh.isArrayBuffer,G4=Pw?Nf(Pw):B4;const U4=G4;var z4="[object Boolean]";function $4(e){return e===!0||e===!1||Rs(e)&&$d(e)==z4}var H4="[object Date]";function X4(e){return Rs(e)&&$d(e)==H4}var Rw=sh&&sh.isDate,W4=Rw?Nf(Rw):X4;const V4=W4;function Y4(e){return Rs(e)&&e.nodeType===1&&!sg(e)}function K4(e,t,r){r=typeof r=="function"?r:void 0;var a=r?r(e,t):void 0;return a===void 0?nC(e,t,void 0,r):!!a}var q4=Gd.isFinite;function Z4(e){return typeof e=="number"&&q4(e)}function lT(e){return typeof e=="number"&&e==vn(e)}function J4(e,t){return e===t||QS(e,t,eA(t))}function Q4(e,t,r){return r=typeof r=="function"?r:void 0,QS(e,t,eA(t),r)}function eF(e){return tA(e)&&e!=+e}var tF=oC?Xd:rA;const rF=tF;var nF="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.";function oF(e){if(rF(e))throw new Error(nF);return iC(e)}function iF(e){return e===null}var aF="[object RegExp]";function uF(e){return Rs(e)&&$d(e)==aF}var jw=sh&&sh.isRegExp,sF=jw?Nf(jw):uF;const F_=sF;var Nw=9007199254740991;function cF(e){return lT(e)&&e>=-Nw&&e<=Nw}function fF(e){return e===void 0}var lF="[object WeakMap]";function dF(e){return Rs(e)&&fg(e)==lF}var pF="[object WeakSet]";function hF(e){return Rs(e)&&$d(e)==pF}var vF=1;function yF(e){return yn(typeof e=="function"?e:hh(e,vF))}var gF=Array.prototype,mF=gF.join;function bF(e,t){return e==null?"":mF.call(e,t)}var _F=bh(function(e,t,r){return e+(r?"-":"")+t.toLowerCase()});const EF=_F;var OF=m_(function(e,t,r){Hd(e,r,t)});const wF=OF;function xF(e,t,r){for(var a=r+1;a--;)if(e[a]===t)return a;return a}var SF=Math.max,AF=Math.min;function TF(e,t,r){var a=e==null?0:e.length;if(!a)return-1;var n=a;return r!==void 0&&(n=vn(r),n=n<0?SF(a+n,0):AF(n,a-1)),t===t?xF(e,t,n):YS(e,aC,n,!0)}var PF=bh(function(e,t,r){return e+(r?" ":"")+t.toLowerCase()});const RF=PF;var jF=TA("toLowerCase");const NF=jF;function B_(e,t){return e<t}var MF=gg(B_);const CF=MF;var IF=gg(function(e,t){return e<=t});const DF=IF;function kF(e,t){var r={};return t=yn(t),Cf(e,function(a,n,c){Hd(r,t(a,n,c),a)}),r}function LF(e,t){var r={};return t=yn(t),Cf(e,function(a,n,c){Hd(r,n,t(a,n,c))}),r}var FF=1;function BF(e){return uC(hh(e,FF))}var GF=1;function UF(e,t){return sC(e,hh(t,GF))}function bg(e,t,r){for(var a=-1,n=e.length;++a<n;){var c=e[a],f=t(c);if(f!=null&&(y===void 0?f===f&&!jf(f):r(f,y)))var y=f,v=c}return v}function zF(e){return e&&e.length?bg(e,Qu,k_):void 0}function $F(e,t){return e&&e.length?bg(e,yn(t),k_):void 0}function G_(e,t){for(var r,a=-1,n=e.length;++a<n;){var c=t(e[a]);c!==void 0&&(r=r===void 0?c:r+c)}return r}var HF=0/0;function dT(e,t){var r=e==null?0:e.length;return r?G_(e,t)/r:HF}function XF(e){return dT(e,Qu)}function WF(e,t){return dT(e,yn(t))}var VF=gh(function(e,t,r){hg(e,t,r)});const YF=VF;var KF=An(function(e,t){return function(r){return Ov(r,e,t)}});const qF=KF;var ZF=An(function(e,t){return function(r){return Ov(e,r,t)}});const JF=ZF;function QF(e){return e&&e.length?bg(e,Qu,B_):void 0}function eB(e,t){return e&&e.length?bg(e,yn(t),B_):void 0}function pT(e,t,r){var a=yu(t),n=yg(t,a),c=!(Yu(r)&&"chain"in r)||!!r.chain,f=Xd(e);return js(n,function(y){var v=t[y];e[y]=v,f&&(e.prototype[y]=function(){var b=this.__chain__;if(c||b){var O=e(this.__wrapped__),S=O.__actions__=vu(this.__actions__);return S.push({func:v,args:arguments,thisArg:e}),O.__chain__=b,O}return v.apply(e,bv([this.value()],arguments))})}),e}var tB=lg(function(e,t){return e*t},1);const rB=tB;var nB="Expected a function";function wv(e){if(typeof e!="function")throw new TypeError(nB);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function oB(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}var iB="[object Map]",aB="[object Set]",_b=By?By.iterator:void 0;function hT(e){if(!e)return[];if(Ud(e))return mg(e)?Ts(e):vu(e);if(_b&&e[_b])return oB(e[_b]());var t=fg(e),r=t==iB?VS:t==aB?cC:_h;return r(e)}function uB(){this.__values__===void 0&&(this.__values__=hT(this.value()));var e=this.__index__>=this.__values__.length,t=e?void 0:this.__values__[this.__index__++];return{done:e,value:t}}function vT(e,t){var r=e.length;if(!!r)return t+=t<0?r:0,ph(t,r)?e[t]:void 0}function sB(e,t){return e&&e.length?vT(e,vn(t)):void 0}function cB(e){return e=vn(e),An(function(t){return vT(t,e)})}function yT(e,t){if(e==null)return{};var r=bi(fC(e),function(a){return[a]});return t=yn(t),lC(e,r,function(a,n){return t(a,n[0])})}function fB(e,t){return yT(e,wv(yn(t)))}function lB(e){return bA(2,e)}function dB(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}function gT(e,t){if(e!==t){var r=e!==void 0,a=e===null,n=e===e,c=jf(e),f=t!==void 0,y=t===null,v=t===t,b=jf(t);if(!y&&!b&&!c&&e>t||c&&f&&v&&!y&&!b||a&&f&&v||!r&&v||!n)return 1;if(!a&&!c&&!b&&e<t||b&&r&&n&&!a&&!c||y&&r&&n||!f&&n||!v)return-1}return 0}function pB(e,t,r){for(var a=-1,n=e.criteria,c=t.criteria,f=n.length,y=r.length;++a<f;){var v=gT(n[a],c[a]);if(v){if(a>=y)return v;var b=r[a];return v*(b=="desc"?-1:1)}}return e.index-t.index}function mT(e,t,r){t.length?t=bi(t,function(c){return to(c)?function(f){return O_(f,c.length===1?c[0]:c)}:c}):t=[Qu];var a=-1;t=bi(t,Nf(yn));var n=dC(e,function(c,f,y){var v=bi(t,function(b){return b(c)});return{criteria:v,index:++a,value:c}});return dB(n,function(c,f){return pB(c,f,r)})}function hB(e,t,r,a){return e==null?[]:(to(t)||(t=t==null?[]:[t]),r=a?void 0:r,to(r)||(r=r==null?[]:[r]),mT(e,t,r))}function U_(e){return zd(function(t){return t=bi(t,Nf(yn)),An(function(r){var a=this;return e(t,function(n){return Ku(n,a,r)})})})}var vB=U_(bi);const yB=vB;var gB=An;const mB=gB;var bB=Math.min,_B=mB(function(e,t){t=t.length==1&&to(t[0])?bi(t[0],Nf(yn)):bi(es(t,1),Nf(yn));var r=t.length;return An(function(a){for(var n=-1,c=bB(a.length,r);++n<c;)a[n]=t[n].call(this,a[n]);return Ku(e,this,a)})});const EB=_B;var OB=U_(nT);const wB=OB;var xB=U_(nA);const SB=xB;var AB=9007199254740991,TB=Math.floor;function Hb(e,t){var r="";if(!e||t<1||t>AB)return r;do t%2&&(r+=e),t=TB(t/2),t&&(e+=e);while(t);return r}var PB=oA("length");const RB=PB;var bT="\\ud800-\\udfff",jB="\\u0300-\\u036f",NB="\\ufe20-\\ufe2f",MB="\\u20d0-\\u20ff",CB=jB+NB+MB,IB="\\ufe0e\\ufe0f",DB="["+bT+"]",Xb="["+CB+"]",Wb="\\ud83c[\\udffb-\\udfff]",kB="(?:"+Xb+"|"+Wb+")",_T="[^"+bT+"]",ET="(?:\\ud83c[\\udde6-\\uddff]){2}",OT="[\\ud800-\\udbff][\\udc00-\\udfff]",LB="\\u200d",wT=kB+"?",xT="["+IB+"]?",FB="(?:"+LB+"(?:"+[_T,ET,OT].join("|")+")"+xT+wT+")*",BB=xT+wT+FB,GB="(?:"+[_T+Xb+"?",Xb,ET,OT,DB].join("|")+")",Mw=RegExp(Wb+"(?="+Wb+")|"+GB+BB,"g");function UB(e){for(var t=Mw.lastIndex=0;Mw.test(e);)++t;return t}function Eh(e){return mh(e)?UB(e):RB(e)}var zB=Math.ceil;function zy(e,t){t=t===void 0?" ":Ss(t);var r=t.length;if(r<2)return r?Hb(t,e):t;var a=Hb(t,zB(e/Eh(t)));return mh(t)?Fl(Ts(a),0,e).join(""):a.slice(0,e)}var $B=Math.ceil,HB=Math.floor;function XB(e,t,r){e=ro(e),t=vn(t);var a=t?Eh(e):0;if(!t||a>=t)return e;var n=(t-a)/2;return zy(HB(n),r)+e+zy($B(n),r)}function WB(e,t,r){e=ro(e),t=vn(t);var a=t?Eh(e):0;return t&&a<t?e+zy(t-a,r):e}function VB(e,t,r){e=ro(e),t=vn(t);var a=t?Eh(e):0;return t&&a<t?zy(t-a,r)+e:e}var YB=/^\s+/,KB=Gd.parseInt;function qB(e,t,r){return r||t==null?t=0:t&&(t=+t),KB(ro(e).replace(YB,""),t||0)}var ZB=32,z_=An(function(e,t){var r=Dl(t,yh(z_));return If(e,ZB,void 0,t,r)});z_.placeholder={};const ST=z_;var JB=64,$_=An(function(e,t){var r=Dl(t,yh($_));return If(e,JB,void 0,t,r)});$_.placeholder={};const QB=$_;function e8(e){for(var t,r=this;r instanceof dg;){var a=pA(r);a.__index__=0,a.__values__=void 0,t?n.__wrapped__=a:t=a;var n=a;r=r.__wrapped__}return n.__wrapped__=e,t}function t8(e){return function(t){return e==null?void 0:O_(e,t)}}function r8(e,t,r,a){for(var n=r-1,c=e.length;++n<c;)if(a(e[n],t))return n;return-1}var n8=Array.prototype,Cw=n8.splice;function H_(e,t,r,a){var n=a?r8:_v,c=-1,f=t.length,y=e;for(e===t&&(t=vu(t)),r&&(y=bi(e,Nf(r)));++c<f;)for(var v=0,b=t[c],O=r?r(b):b;(v=n(y,O,v,a))>-1;)y!==e&&Cw.call(y,v,1),Cw.call(e,v,1);return e}function AT(e,t){return e&&e.length&&t&&t.length?H_(e,t):e}var o8=An(AT);const i8=o8;function a8(e,t,r){return e&&e.length&&t&&t.length?H_(e,t,yn(r)):e}function u8(e,t,r){return e&&e.length&&t&&t.length?H_(e,t,void 0,r):e}var s8=Array.prototype,c8=s8.splice;function TT(e,t){for(var r=e?t.length:0,a=r-1;r--;){var n=t[r];if(r==a||n!==c){var c=n;ph(n)?c8.call(e,n,1):iA(e,n)}}return e}var f8=zd(function(e,t){var r=e==null?0:e.length,a=S_(e,t);return TT(e,bi(t,function(n){return ph(n,r)?+n:n}).sort(gT)),a});const l8=f8;var d8=Math.floor,p8=Math.random;function X_(e,t){return e+d8(p8()*(t-e+1))}var h8=parseFloat,v8=Math.min,y8=Math.random;function g8(e,t,r){if(r&&typeof r!="boolean"&&ba(e,t,r)&&(t=r=void 0),r===void 0&&(typeof t=="boolean"?(r=t,t=void 0):typeof e=="boolean"&&(r=e,e=void 0)),e===void 0&&t===void 0?(e=0,t=1):(e=Il(e),t===void 0?(t=e,e=0):t=Il(t)),e>t){var a=e;e=t,t=a}if(r||e%1||t%1){var n=y8();return v8(e+n*(t-e+h8("1e-"+((n+"").length-1))),t)}return X_(e,t)}var m8=Math.ceil,b8=Math.max;function _8(e,t,r,a){for(var n=-1,c=b8(m8((t-e)/(r||1)),0),f=Array(c);c--;)f[a?c:++n]=e,e+=r;return f}function PT(e){return function(t,r,a){return a&&typeof a!="number"&&ba(t,r,a)&&(r=a=void 0),t=Il(t),r===void 0?(r=t,t=0):r=Il(r),a=a===void 0?t<r?1:-1:Il(a),_8(t,r,a,e)}}var E8=PT();const O8=E8;var w8=PT(!0);const x8=w8;var S8=256,A8=zd(function(e,t){return If(e,S8,void 0,void 0,void 0,t)});const T8=A8;function RT(e,t,r,a,n){return n(e,function(c,f,y){r=a?(a=!1,c):t(r,c,f,y)}),r}function P8(e,t,r){var a=to(e)?j_:RT,n=arguments.length<3;return a(e,yn(t),r,n,vh)}function R8(e,t,r,a){var n=e==null?0:e.length;for(a&&n&&(r=e[--n]);n--;)r=t(r,e[n],n,e);return r}function j8(e,t,r){var a=to(e)?R8:RT,n=arguments.length<3;return a(e,yn(t),r,n,JA)}function N8(e,t){var r=to(e)?Wd:iT;return r(e,wv(yn(t)))}function M8(e,t){var r=[];if(!(e&&e.length))return r;var a=-1,n=[],c=e.length;for(t=yn(t);++a<c;){var f=e[a];t(f,a,e)&&(r.push(f),n.push(a))}return TT(e,n),r}function C8(e,t,r){return(r?ba(e,t,r):t===void 0)?t=1:t=vn(t),Hb(ro(e),t)}function I8(){var e=arguments,t=ro(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var D8="Expected a function";function k8(e,t){if(typeof e!="function")throw new TypeError(D8);return t=t===void 0?t:vn(t),An(e,t)}function L8(e,t,r){t=JS(t,e);var a=-1,n=t.length;for(n||(n=1,e=void 0);++a<n;){var c=e==null?void 0:e[cg(t[a])];c===void 0&&(a=n,c=r),e=Xd(c)?c.call(e):c}return e}var F8=Array.prototype,B8=F8.reverse;function Vb(e){return e==null?e:B8.call(e)}var G8=M_("round");const U8=G8;function jT(e){var t=e.length;return t?e[X_(0,t-1)]:void 0}function z8(e){return jT(_h(e))}function $8(e){var t=to(e)?jT:z8;return t(e)}function _g(e,t){var r=-1,a=e.length,n=a-1;for(t=t===void 0?a:t;++r<t;){var c=X_(r,n),f=e[c];e[c]=e[r],e[r]=f}return e.length=t,e}function H8(e,t){return _g(vu(e),Vd(t,0,e.length))}function X8(e,t){var r=_h(e);return _g(r,Vd(t,0,r.length))}function W8(e,t,r){(r?ba(e,t,r):t===void 0)?t=1:t=vn(t);var a=to(e)?H8:X8;return a(e,t)}function V8(e,t,r,a){return a=typeof a=="function"?a:void 0,e==null?e:w_(e,t,r,a)}function Y8(e){return _g(vu(e))}function K8(e){return _g(_h(e))}function q8(e){var t=to(e)?Y8:K8;return t(e)}var Z8="[object Map]",J8="[object Set]";function Q8(e){if(e==null)return 0;if(Ud(e))return mg(e)?Eh(e):e.length;var t=fg(e);return t==Z8||t==J8?e.size:pC(e).length}function e5(e,t,r){var a=e==null?0:e.length;return a?(r&&typeof r!="number"&&ba(e,t,r)?(t=0,r=a):(t=t==null?0:vn(t),r=r===void 0?a:vn(r)),As(e,t,r)):[]}var t5=bh(function(e,t,r){return e+(r?"_":"")+t.toLowerCase()});const r5=t5;function n5(e,t){var r;return vh(e,function(a,n,c){return r=t(a,n,c),!r}),!!r}function o5(e,t,r){var a=to(e)?nA:n5;return r&&ba(e,t,r)&&(t=void 0),a(e,yn(t))}var i5=An(function(e,t){if(e==null)return[];var r=t.length;return r>1&&ba(e,t[0],t[1])?t=[]:r>2&&ba(t[0],t[1],t[2])&&(t=[t[0]]),mT(e,es(t,1),[])});const a5=i5;var u5=4294967295,s5=u5-1,c5=Math.floor,f5=Math.min;function W_(e,t,r,a){var n=0,c=e==null?0:e.length;if(c===0)return 0;t=r(t);for(var f=t!==t,y=t===null,v=jf(t),b=t===void 0;n<c;){var O=c5((n+c)/2),S=r(e[O]),P=S!==void 0,j=S===null,I=S===S,C=jf(S);if(f)var k=a||I;else b?k=I&&(a||P):y?k=I&&P&&(a||!j):v?k=I&&P&&!j&&(a||!C):j||C?k=!1:k=a?S<=t:S<t;k?n=O+1:c=O}return f5(c,s5)}var l5=4294967295,d5=l5>>>1;function Eg(e,t,r){var a=0,n=e==null?a:e.length;if(typeof t=="number"&&t===t&&n<=d5){for(;a<n;){var c=a+n>>>1,f=e[c];f!==null&&!jf(f)&&(r?f<=t:f<t)?a=c+1:n=c}return n}return W_(e,t,Qu,r)}function p5(e,t){return Eg(e,t)}function h5(e,t,r){return W_(e,t,yn(r))}function v5(e,t){var r=e==null?0:e.length;if(r){var a=Eg(e,t);if(a<r&&Ll(e[a],t))return a}return-1}function y5(e,t){return Eg(e,t,!0)}function g5(e,t,r){return W_(e,t,yn(r),!0)}function m5(e,t){var r=e==null?0:e.length;if(r){var a=Eg(e,t,!0)-1;if(Ll(e[a],t))return a}return-1}function NT(e,t){for(var r=-1,a=e.length,n=0,c=[];++r<a;){var f=e[r],y=t?t(f):f;if(!r||!Ll(y,v)){var v=y;c[n++]=f===0?0:f}}return c}function b5(e){return e&&e.length?NT(e):[]}function _5(e,t){return e&&e.length?NT(e,yn(t)):[]}var E5=4294967295;function O5(e,t,r){return r&&typeof r!="number"&&ba(e,t,r)&&(t=r=void 0),r=r===void 0?E5:r>>>0,r?(e=ro(e),e&&(typeof t=="string"||t!=null&&!F_(t))&&(t=Ss(t),!t&&mh(e))?Fl(Ts(e),0,r):e.split(t,r)):[]}var w5="Expected a function",x5=Math.max;function S5(e,t){if(typeof e!="function")throw new TypeError(w5);return t=t==null?0:x5(vn(t),0),An(function(r){var a=r[t],n=Fl(r,0,t);return a&&bv(n,a),Ku(e,this,n)})}var A5=bh(function(e,t,r){return e+(r?" ":"")+R_(t)});const T5=A5;function P5(e,t,r){return e=ro(e),r=r==null?0:Vd(vn(r),0,e.length),t=Ss(t),e.slice(r,r+t.length)==t}function R5(){return{}}function j5(){return""}function N5(){return!0}var M5=lg(function(e,t){return e-t},0);const C5=M5;function I5(e){return e&&e.length?G_(e,Qu):0}function D5(e,t){return e&&e.length?G_(e,yn(t)):0}function k5(e){var t=e==null?0:e.length;return t?As(e,1,t):[]}function L5(e,t,r){return e&&e.length?(t=r||t===void 0?1:vn(t),As(e,0,t<0?0:t)):[]}function F5(e,t,r){var a=e==null?0:e.length;return a?(t=r||t===void 0?1:vn(t),t=a-t,As(e,t<0?0:t,a)):[]}function B5(e,t){return e&&e.length?vg(e,yn(t),!1,!0):[]}function G5(e,t){return e&&e.length?vg(e,yn(t)):[]}function U5(e,t){return t(e),e}var MT=Object.prototype,z5=MT.hasOwnProperty;function Iw(e,t,r,a){return e===void 0||Ll(e,MT[r])&&!z5.call(a,r)?t:e}var $5={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function H5(e){return"\\"+$5[e]}var X5=/<%=([\s\S]+?)%>/g;const CT=X5;var W5=/<%-([\s\S]+?)%>/g;const V5=W5;var Y5=/<%([\s\S]+?)%>/g;const K5=Y5;var q5={escape:V5,evaluate:K5,interpolate:CT,variable:"",imports:{_:{escape:tT}}};const Yb=q5;var Z5="Invalid `variable` option passed into `_.template`",J5=/\b__p \+= '';/g,Q5=/\b(__p \+=) '' \+/g,e6=/(__e\(.*?\)|\b__t\)) \+\n'';/g,t6=/[()=,{}\[\]\/\s]/,r6=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ay=/($^)/,n6=/['\n\r\u2028\u2029\\]/g,o6=Object.prototype,Dw=o6.hasOwnProperty;function i6(e,t,r){var a=Yb.imports._.templateSettings||Yb;r&&ba(e,t,r)&&(t=void 0),e=ro(e),t=Uy({},t,a,Iw);var n=Uy({},t.imports,a.imports,Iw),c=yu(n),f=L_(n,c),y,v,b=0,O=t.interpolate||Ay,S="__p += '",P=RegExp((t.escape||Ay).source+"|"+O.source+"|"+(O===CT?r6:Ay).source+"|"+(t.evaluate||Ay).source+"|$","g"),j=Dw.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/\s/g," ")+`
`:"";e.replace(P,function(k,G,H,ue,_e,be){return H||(H=ue),S+=e.slice(b,be).replace(n6,H5),G&&(y=!0,S+=`' +
__e(`+G+`) +
'`),_e&&(v=!0,S+=`';
`+_e+`;
__p += '`),H&&(S+=`' +
((__t = (`+H+`)) == null ? '' : __t) +
'`),b=be+k.length,k}),S+=`';
`;var I=Dw.call(t,"variable")&&t.variable;if(!I)S=`with (obj) {
`+S+`
}
`;else if(t6.test(I))throw new Error(Z5);S=(v?S.replace(J5,""):S).replace(Q5,"$1").replace(e6,"$1;"),S="function("+(I||"obj")+`) {
`+(I?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(y?", __e = _.escape":"")+(v?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+S+`return __p
}`;var C=mA(function(){return Function(c,j+"return "+S).apply(void 0,f)});if(C.source=S,A_(C))throw C;return C}function xv(e,t){return t(e)}var a6=9007199254740991,Eb=4294967295,u6=Math.min;function s6(e,t){if(e=vn(e),e<1||e>a6)return[];var r=Eb,a=u6(e,Eb);t=Ec(t),e-=Eb;for(var n=aA(a,t);++r<e;)t(r);return n}function c6(){return this}function IT(e,t){var r=e;return r instanceof jn&&(r=r.value()),j_(t,function(a,n){return n.func.apply(n.thisArg,bv([a],n.args))},r)}function Ob(){return IT(this.__wrapped__,this.__actions__)}function f6(e){return ro(e).toLowerCase()}function l6(e){return to(e)?bi(e,cg):jf(e)?[e]:vu(hC(ro(e)))}var kw=9007199254740991;function d6(e){return e?Vd(vn(e),-kw,kw):e===0?e:0}function p6(e){return ro(e).toUpperCase()}function h6(e,t,r){var a=to(e),n=a||b_(e)||__(e);if(t=yn(t),r==null){var c=e&&e.constructor;n?r=a?new c:[]:Yu(e)?r=Xd(c)?gv(vC(e)):{}:r={}}return(n?js:Cf)(e,function(f,y,v){return t(r,f,y,v)}),r}function DT(e,t){for(var r=e.length;r--&&_v(t,e[r],0)>-1;);return r}function kT(e,t){for(var r=-1,a=e.length;++r<a&&_v(t,e[r],0)>-1;);return r}function v6(e,t,r){if(e=ro(e),e&&(r||t===void 0))return yC(e);if(!e||!(t=Ss(t)))return e;var a=Ts(e),n=Ts(t),c=kT(a,n),f=DT(a,n)+1;return Fl(a,c,f).join("")}function y6(e,t,r){if(e=ro(e),e&&(r||t===void 0))return e.slice(0,gC(e)+1);if(!e||!(t=Ss(t)))return e;var a=Ts(e),n=DT(a,Ts(t))+1;return Fl(a,0,n).join("")}var g6=/^\s+/;function m6(e,t,r){if(e=ro(e),e&&(r||t===void 0))return e.replace(g6,"");if(!e||!(t=Ss(t)))return e;var a=Ts(e),n=kT(a,Ts(t));return Fl(a,n).join("")}var b6=30,_6="...",E6=/\w*$/;function O6(e,t){var r=b6,a=_6;if(Yu(t)){var n="separator"in t?t.separator:n;r="length"in t?vn(t.length):r,a="omission"in t?Ss(t.omission):a}e=ro(e);var c=e.length;if(mh(e)){var f=Ts(e);c=f.length}if(r>=c)return e;var y=r-Eh(a);if(y<1)return a;var v=f?Fl(f,0,y).join(""):e.slice(0,y);if(n===void 0)return v+a;if(f&&(y+=v.length-y),F_(n)){if(e.slice(y).search(n)){var b,O=v;for(n.global||(n=RegExp(n.source,ro(E6.exec(n))+"g")),n.lastIndex=0;b=n.exec(O);)var S=b.index;v=v.slice(0,S===void 0?y:S)}}else if(e.indexOf(Ss(n),y)!=y){var P=v.lastIndexOf(n);P>-1&&(v=v.slice(0,P))}return v+a}function w6(e){return gA(e,1)}var x6={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},S6=N_(x6);const A6=S6;var LT=/&(?:amp|lt|gt|quot|#39);/g,T6=RegExp(LT.source);function P6(e){return e=ro(e),e&&T6.test(e)?e.replace(LT,A6):e}var R6=An(function(e){var t=qu(e);return _i(t)&&(t=void 0),ch(es(e,1,_i,!0),yn(t))});const j6=R6;var N6=An(function(e){var t=qu(e);return t=typeof t=="function"?t:void 0,ch(es(e,1,_i,!0),void 0,t)});const M6=N6;function C6(e,t){return e&&e.length?ch(e,yn(t)):[]}function I6(e,t){return t=typeof t=="function"?t:void 0,e&&e.length?ch(e,void 0,t):[]}var D6=0;function k6(e){var t=++D6;return ro(e)+t}function L6(e,t){return e==null?!0:iA(e,t)}var F6=Math.max;function V_(e){if(!(e&&e.length))return[];var t=0;return e=Wd(e,function(r){if(_i(r))return t=F6(r.length,t),!0}),aA(t,function(r){return bi(e,oA(r))})}function FT(e,t){if(!(e&&e.length))return[];var r=V_(e);return t==null?r:bi(r,function(a){return Ku(t,void 0,a)})}function BT(e,t,r,a){return w_(e,t,r(O_(e,t)),a)}function B6(e,t,r){return e==null?e:BT(e,t,Ec(r))}function G6(e,t,r,a){return a=typeof a=="function"?a:void 0,e==null?e:BT(e,t,Ec(r),a)}var U6=bh(function(e,t,r){return e+(r?" ":"")+t.toUpperCase()});const z6=U6;function $6(e){return e==null?[]:L_(e,Ns(e))}var H6=An(function(e,t){return _i(e)?Ev(e,t):[]});const X6=H6;function W6(e,t){return ST(Ec(t),e)}var V6=zd(function(e){var t=e.length,r=t?e[0]:0,a=this.__wrapped__,n=function(c){return S_(c,e)};return t>1||this.__actions__.length||!(a instanceof jn)||!ph(r)?this.thru(n):(a=a.slice(r,+r+(t?1:0)),a.__actions__.push({func:xv,args:[n],thisArg:void 0}),new Zu(a,this.__chain__).thru(function(c){return t&&!c.length&&c.push(void 0),c}))});const Y6=V6;function K6(){return HA(this)}function q6(){var e=this.__wrapped__;if(e instanceof jn){var t=e;return this.__actions__.length&&(t=new jn(this)),t=t.reverse(),t.__actions__.push({func:xv,args:[Vb],thisArg:void 0}),new Zu(t,this.__chain__)}return this.thru(Vb)}function Y_(e,t,r){var a=e.length;if(a<2)return a?ch(e[0]):[];for(var n=-1,c=Array(a);++n<a;)for(var f=e[n],y=-1;++y<a;)y!=n&&(c[n]=Ev(c[n]||f,e[y],t,r));return ch(es(c,1),t,r)}var Z6=An(function(e){return Y_(Wd(e,_i))});const J6=Z6;var Q6=An(function(e){var t=qu(e);return _i(t)&&(t=void 0),Y_(Wd(e,_i),yn(t))});const eG=Q6;var tG=An(function(e){var t=qu(e);return t=typeof t=="function"?t:void 0,Y_(Wd(e,_i),void 0,t)});const rG=tG;var nG=An(V_);const oG=nG;function GT(e,t,r){for(var a=-1,n=e.length,c=t.length,f={};++a<n;){var y=a<c?t[a]:void 0;r(f,e[a],y)}return f}function iG(e,t){return GT(e||[],t||[],HS)}function aG(e,t){return GT(e||[],t||[],w_)}var uG=An(function(e){var t=e.length,r=t>1?e[t-1]:void 0;return r=typeof r=="function"?(e.pop(),r):void 0,FT(e,r)});const sG=uG,Er={chunk:uL,compact:vL,concat:yL,difference:XL,differenceBy:VL,differenceWith:KL,drop:JL,dropRight:QL,dropRightWhile:e3,dropWhile:t3,fill:O3,findIndex:mC,findLastIndex:uT,first:Tw,flatten:bC,flattenDeep:_C,flattenDepth:C3,fromPairs:EC,head:Tw,indexOf:b4,initial:_4,intersection:OC,intersectionBy:O4,intersectionWith:x4,join:bF,last:qu,lastIndexOf:TF,nth:sB,pull:i8,pullAll:AT,pullAllBy:a8,pullAllWith:u8,pullAt:l8,remove:M8,reverse:Vb,slice:e5,sortedIndex:p5,sortedIndexBy:h5,sortedIndexOf:v5,sortedLastIndex:y5,sortedLastIndexBy:g5,sortedLastIndexOf:m5,sortedUniq:b5,sortedUniqBy:_5,tail:k5,take:L5,takeRight:F5,takeRightWhile:B5,takeWhile:G5,union:wC,unionBy:j6,unionWith:M6,uniq:xC,uniqBy:C6,uniqWith:I6,unzip:V_,unzipWith:FT,without:X6,xor:J6,xorBy:eG,xorWith:rG,zip:oG,zipObject:iG,zipObjectDeep:aG,zipWith:sG},co={countBy:AL,each:ww,eachRight:xw,every:b3,filter:w3,find:SC,findLast:P3,flatMap:AC,flatMapDeep:N3,flatMapDepth:M3,forEach:ww,forEachRight:xw,groupBy:r4,includes:g4,invokeMap:L4,keyBy:wF,map:E_,orderBy:hB,partition:TC,reduce:P8,reduceRight:j8,reject:N8,sample:$8,sampleSize:W8,shuffle:q8,size:Q8,some:o5,sortBy:a5},cG={now:PC},Zo={after:wI,ary:gA,before:bA,bind:_A,bindKey:HD,curry:C_,curryRight:I_,debounce:RC,defer:GL,delay:zL,flip:D3,memoize:jC,negate:wv,once:lB,overArgs:EB,partial:ST,partialRight:QB,rearg:T8,rest:k8,spread:S5,throttle:NC,unary:w6,wrap:W6},Xr={castArray:MC,clone:CC,cloneDeep:IC,cloneDeepWith:lL,cloneWith:pL,conformsTo:OL,eq:Ll,gt:o4,gte:a4,isArguments:Fb,isArray:to,isArrayBuffer:U4,isArrayLike:Ud,isArrayLikeObject:_i,isBoolean:$4,isBuffer:b_,isDate:V4,isElement:Y4,isEmpty:DC,isEqual:kC,isEqualWith:K4,isError:A_,isFinite:Z4,isFunction:Xd,isInteger:lT,isLength:LC,isMap:FC,isMatch:J4,isMatchWith:Q4,isNaN:eF,isNative:oF,isNil:BC,isNull:iF,isNumber:tA,isObject:Yu,isObjectLike:Rs,isPlainObject:sg,isRegExp:F_,isSafeInteger:cF,isSet:GC,isString:mg,isSymbol:jf,isTypedArray:__,isUndefined:fF,isWeakMap:dF,isWeakSet:hF,lt:CF,lte:DF,toArray:hT,toFinite:Il,toInteger:vn,toLength:oT,toNumber:Rf,toPlainObject:VA,toSafeInteger:d6,toString:ro},Ea={add:EI,ceil:oL,divide:ZL,floor:L3,max:zF,maxBy:$F,mean:XF,meanBy:WF,min:QF,minBy:eB,multiply:rB,round:U8,subtract:C5,sum:I5,sumBy:D5},K_={clamp:sL,inRange:h4,random:g8},nn={assign:AD,assignIn:mw,assignInWith:Uy,assignWith:jD,at:MD,create:TL,defaults:CL,defaultsDeep:LL,entries:Sw,entriesIn:Aw,extend:mw,extendWith:Uy,findKey:x3,findLastKey:R3,forIn:V3,forInRight:Y3,forOwn:K3,forOwnRight:q3,functions:Z3,functionsIn:J3,get:XS,has:f4,hasIn:UC,invert:R4,invertBy:C4,invoke:D4,keys:yu,keysIn:Ns,mapKeys:kF,mapValues:LF,merge:YF,mergeWith:KA,omit:zC,omitBy:fB,pick:$C,pickBy:yT,result:L8,set:HC,setWith:V8,toPairs:Sw,toPairsIn:Aw,transform:h6,unset:L6,update:B6,updateWith:G6,values:_h,valuesIn:$6},Oc={at:Y6,chain:HA,commit:hL,lodash:K,next:uB,plant:e8,reverse:q6,tap:U5,thru:xv,toIterator:c6,toJSON:Ob,value:Ob,valueOf:Ob,wrapperChain:K6},Hn={camelCase:eL,capitalize:PA,deburr:RA,endsWith:i3,escape:tT,escapeRegExp:g3,kebabCase:EF,lowerCase:RF,lowerFirst:NF,pad:XB,padEnd:WB,padStart:VB,parseInt:qB,repeat:C8,replace:I8,snakeCase:r5,split:O5,startCase:T5,startsWith:P5,template:i6,templateSettings:Yb,toLower:f6,toUpper:p6,trim:v6,trimEnd:y6,trimStart:m6,truncate:O6,unescape:P6,upperCase:z6,upperFirst:R_,words:$A},Kn={attempt:mA,bindAll:GD,cond:mL,conforms:EL,constant:ZS,defaultTo:jL,flow:H3,flowRight:W3,identity:Qu,iteratee:yF,matches:BF,matchesProperty:UF,method:qF,methodOf:JF,mixin:pT,noop:zS,nthArg:cB,over:yB,overEvery:wB,overSome:SB,property:XC,propertyOf:t8,range:O8,rangeRight:x8,stubArray:WC,stubFalse:rA,stubObject:R5,stubString:j5,stubTrue:N5,times:s6,toPath:l6,uniqueId:k6};function fG(){var e=new jn(this.__wrapped__);return e.__actions__=vu(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=vu(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=vu(this.__views__),e}function lG(){if(this.__filtered__){var e=new jn(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}var dG=Math.max,pG=Math.min;function hG(e,t,r){for(var a=-1,n=r.length;++a<n;){var c=r[a],f=c.size;switch(c.type){case"drop":e+=f;break;case"dropRight":t-=f;break;case"take":t=pG(t,e+f);break;case"takeRight":e=dG(e,t-f);break}}return{start:e,end:t}}var vG=1,yG=2,gG=Math.min;function mG(){var e=this.__wrapped__.value(),t=this.__dir__,r=to(e),a=t<0,n=r?e.length:0,c=hG(0,n,this.__views__),f=c.start,y=c.end,v=y-f,b=a?y:f-1,O=this.__iteratees__,S=O.length,P=0,j=gG(v,this.__takeCount__);if(!r||!a&&n==v&&j==v)return IT(e,this.__actions__);var I=[];e:for(;v--&&P<j;){b+=t;for(var C=-1,k=e[b];++C<S;){var G=O[C],H=G.iteratee,ue=G.type,_e=H(k);if(ue==yG)k=_e;else if(!_e){if(ue==vG)continue e;break e}}I[P++]=k}return I}/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var bG="4.17.21",_G=2,EG=1,OG=3,UT=4294967295,wG=Array.prototype,xG=Object.prototype,zT=xG.hasOwnProperty,Lw=By?By.iterator:void 0,SG=Math.max,Fw=Math.min,q_=function(e){return function(t,r,a){if(a==null){var n=Yu(r),c=n&&yu(r),f=c&&c.length&&yg(r,c);(f?f.length:n)||(a=r,r=t,t=this)}return e(t,r,a)}}(pT);K.after=Zo.after;K.ary=Zo.ary;K.assign=nn.assign;K.assignIn=nn.assignIn;K.assignInWith=nn.assignInWith;K.assignWith=nn.assignWith;K.at=nn.at;K.before=Zo.before;K.bind=Zo.bind;K.bindAll=Kn.bindAll;K.bindKey=Zo.bindKey;K.castArray=Xr.castArray;K.chain=Oc.chain;K.chunk=Er.chunk;K.compact=Er.compact;K.concat=Er.concat;K.cond=Kn.cond;K.conforms=Kn.conforms;K.constant=Kn.constant;K.countBy=co.countBy;K.create=nn.create;K.curry=Zo.curry;K.curryRight=Zo.curryRight;K.debounce=Zo.debounce;K.defaults=nn.defaults;K.defaultsDeep=nn.defaultsDeep;K.defer=Zo.defer;K.delay=Zo.delay;K.difference=Er.difference;K.differenceBy=Er.differenceBy;K.differenceWith=Er.differenceWith;K.drop=Er.drop;K.dropRight=Er.dropRight;K.dropRightWhile=Er.dropRightWhile;K.dropWhile=Er.dropWhile;K.fill=Er.fill;K.filter=co.filter;K.flatMap=co.flatMap;K.flatMapDeep=co.flatMapDeep;K.flatMapDepth=co.flatMapDepth;K.flatten=Er.flatten;K.flattenDeep=Er.flattenDeep;K.flattenDepth=Er.flattenDepth;K.flip=Zo.flip;K.flow=Kn.flow;K.flowRight=Kn.flowRight;K.fromPairs=Er.fromPairs;K.functions=nn.functions;K.functionsIn=nn.functionsIn;K.groupBy=co.groupBy;K.initial=Er.initial;K.intersection=Er.intersection;K.intersectionBy=Er.intersectionBy;K.intersectionWith=Er.intersectionWith;K.invert=nn.invert;K.invertBy=nn.invertBy;K.invokeMap=co.invokeMap;K.iteratee=Kn.iteratee;K.keyBy=co.keyBy;K.keys=yu;K.keysIn=nn.keysIn;K.map=co.map;K.mapKeys=nn.mapKeys;K.mapValues=nn.mapValues;K.matches=Kn.matches;K.matchesProperty=Kn.matchesProperty;K.memoize=Zo.memoize;K.merge=nn.merge;K.mergeWith=nn.mergeWith;K.method=Kn.method;K.methodOf=Kn.methodOf;K.mixin=q_;K.negate=wv;K.nthArg=Kn.nthArg;K.omit=nn.omit;K.omitBy=nn.omitBy;K.once=Zo.once;K.orderBy=co.orderBy;K.over=Kn.over;K.overArgs=Zo.overArgs;K.overEvery=Kn.overEvery;K.overSome=Kn.overSome;K.partial=Zo.partial;K.partialRight=Zo.partialRight;K.partition=co.partition;K.pick=nn.pick;K.pickBy=nn.pickBy;K.property=Kn.property;K.propertyOf=Kn.propertyOf;K.pull=Er.pull;K.pullAll=Er.pullAll;K.pullAllBy=Er.pullAllBy;K.pullAllWith=Er.pullAllWith;K.pullAt=Er.pullAt;K.range=Kn.range;K.rangeRight=Kn.rangeRight;K.rearg=Zo.rearg;K.reject=co.reject;K.remove=Er.remove;K.rest=Zo.rest;K.reverse=Er.reverse;K.sampleSize=co.sampleSize;K.set=nn.set;K.setWith=nn.setWith;K.shuffle=co.shuffle;K.slice=Er.slice;K.sortBy=co.sortBy;K.sortedUniq=Er.sortedUniq;K.sortedUniqBy=Er.sortedUniqBy;K.split=Hn.split;K.spread=Zo.spread;K.tail=Er.tail;K.take=Er.take;K.takeRight=Er.takeRight;K.takeRightWhile=Er.takeRightWhile;K.takeWhile=Er.takeWhile;K.tap=Oc.tap;K.throttle=Zo.throttle;K.thru=xv;K.toArray=Xr.toArray;K.toPairs=nn.toPairs;K.toPairsIn=nn.toPairsIn;K.toPath=Kn.toPath;K.toPlainObject=Xr.toPlainObject;K.transform=nn.transform;K.unary=Zo.unary;K.union=Er.union;K.unionBy=Er.unionBy;K.unionWith=Er.unionWith;K.uniq=Er.uniq;K.uniqBy=Er.uniqBy;K.uniqWith=Er.uniqWith;K.unset=nn.unset;K.unzip=Er.unzip;K.unzipWith=Er.unzipWith;K.update=nn.update;K.updateWith=nn.updateWith;K.values=nn.values;K.valuesIn=nn.valuesIn;K.without=Er.without;K.words=Hn.words;K.wrap=Zo.wrap;K.xor=Er.xor;K.xorBy=Er.xorBy;K.xorWith=Er.xorWith;K.zip=Er.zip;K.zipObject=Er.zipObject;K.zipObjectDeep=Er.zipObjectDeep;K.zipWith=Er.zipWith;K.entries=nn.toPairs;K.entriesIn=nn.toPairsIn;K.extend=nn.assignIn;K.extendWith=nn.assignInWith;q_(K,K);K.add=Ea.add;K.attempt=Kn.attempt;K.camelCase=Hn.camelCase;K.capitalize=Hn.capitalize;K.ceil=Ea.ceil;K.clamp=K_.clamp;K.clone=Xr.clone;K.cloneDeep=Xr.cloneDeep;K.cloneDeepWith=Xr.cloneDeepWith;K.cloneWith=Xr.cloneWith;K.conformsTo=Xr.conformsTo;K.deburr=Hn.deburr;K.defaultTo=Kn.defaultTo;K.divide=Ea.divide;K.endsWith=Hn.endsWith;K.eq=Xr.eq;K.escape=Hn.escape;K.escapeRegExp=Hn.escapeRegExp;K.every=co.every;K.find=co.find;K.findIndex=Er.findIndex;K.findKey=nn.findKey;K.findLast=co.findLast;K.findLastIndex=Er.findLastIndex;K.findLastKey=nn.findLastKey;K.floor=Ea.floor;K.forEach=co.forEach;K.forEachRight=co.forEachRight;K.forIn=nn.forIn;K.forInRight=nn.forInRight;K.forOwn=nn.forOwn;K.forOwnRight=nn.forOwnRight;K.get=nn.get;K.gt=Xr.gt;K.gte=Xr.gte;K.has=nn.has;K.hasIn=nn.hasIn;K.head=Er.head;K.identity=Qu;K.includes=co.includes;K.indexOf=Er.indexOf;K.inRange=K_.inRange;K.invoke=nn.invoke;K.isArguments=Xr.isArguments;K.isArray=to;K.isArrayBuffer=Xr.isArrayBuffer;K.isArrayLike=Xr.isArrayLike;K.isArrayLikeObject=Xr.isArrayLikeObject;K.isBoolean=Xr.isBoolean;K.isBuffer=Xr.isBuffer;K.isDate=Xr.isDate;K.isElement=Xr.isElement;K.isEmpty=Xr.isEmpty;K.isEqual=Xr.isEqual;K.isEqualWith=Xr.isEqualWith;K.isError=Xr.isError;K.isFinite=Xr.isFinite;K.isFunction=Xr.isFunction;K.isInteger=Xr.isInteger;K.isLength=Xr.isLength;K.isMap=Xr.isMap;K.isMatch=Xr.isMatch;K.isMatchWith=Xr.isMatchWith;K.isNaN=Xr.isNaN;K.isNative=Xr.isNative;K.isNil=Xr.isNil;K.isNull=Xr.isNull;K.isNumber=Xr.isNumber;K.isObject=Yu;K.isObjectLike=Xr.isObjectLike;K.isPlainObject=Xr.isPlainObject;K.isRegExp=Xr.isRegExp;K.isSafeInteger=Xr.isSafeInteger;K.isSet=Xr.isSet;K.isString=Xr.isString;K.isSymbol=Xr.isSymbol;K.isTypedArray=Xr.isTypedArray;K.isUndefined=Xr.isUndefined;K.isWeakMap=Xr.isWeakMap;K.isWeakSet=Xr.isWeakSet;K.join=Er.join;K.kebabCase=Hn.kebabCase;K.last=qu;K.lastIndexOf=Er.lastIndexOf;K.lowerCase=Hn.lowerCase;K.lowerFirst=Hn.lowerFirst;K.lt=Xr.lt;K.lte=Xr.lte;K.max=Ea.max;K.maxBy=Ea.maxBy;K.mean=Ea.mean;K.meanBy=Ea.meanBy;K.min=Ea.min;K.minBy=Ea.minBy;K.stubArray=Kn.stubArray;K.stubFalse=Kn.stubFalse;K.stubObject=Kn.stubObject;K.stubString=Kn.stubString;K.stubTrue=Kn.stubTrue;K.multiply=Ea.multiply;K.nth=Er.nth;K.noop=Kn.noop;K.now=cG.now;K.pad=Hn.pad;K.padEnd=Hn.padEnd;K.padStart=Hn.padStart;K.parseInt=Hn.parseInt;K.random=K_.random;K.reduce=co.reduce;K.reduceRight=co.reduceRight;K.repeat=Hn.repeat;K.replace=Hn.replace;K.result=nn.result;K.round=Ea.round;K.sample=co.sample;K.size=co.size;K.snakeCase=Hn.snakeCase;K.some=co.some;K.sortedIndex=Er.sortedIndex;K.sortedIndexBy=Er.sortedIndexBy;K.sortedIndexOf=Er.sortedIndexOf;K.sortedLastIndex=Er.sortedLastIndex;K.sortedLastIndexBy=Er.sortedLastIndexBy;K.sortedLastIndexOf=Er.sortedLastIndexOf;K.startCase=Hn.startCase;K.startsWith=Hn.startsWith;K.subtract=Ea.subtract;K.sum=Ea.sum;K.sumBy=Ea.sumBy;K.template=Hn.template;K.times=Kn.times;K.toFinite=Xr.toFinite;K.toInteger=vn;K.toLength=Xr.toLength;K.toLower=Hn.toLower;K.toNumber=Xr.toNumber;K.toSafeInteger=Xr.toSafeInteger;K.toString=Xr.toString;K.toUpper=Hn.toUpper;K.trim=Hn.trim;K.trimEnd=Hn.trimEnd;K.trimStart=Hn.trimStart;K.truncate=Hn.truncate;K.unescape=Hn.unescape;K.uniqueId=Kn.uniqueId;K.upperCase=Hn.upperCase;K.upperFirst=Hn.upperFirst;K.each=co.forEach;K.eachRight=co.forEachRight;K.first=Er.head;q_(K,function(){var e={};return Cf(K,function(t,r){zT.call(K.prototype,r)||(e[r]=t)}),e}(),{chain:!1});K.VERSION=bG;(K.templateSettings=Hn.templateSettings).imports._=K;js(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){K[e].placeholder=K});js(["drop","take"],function(e,t){jn.prototype[e]=function(r){r=r===void 0?1:SG(vn(r),0);var a=this.__filtered__&&!t?new jn(this):this.clone();return a.__filtered__?a.__takeCount__=Fw(r,a.__takeCount__):a.__views__.push({size:Fw(r,UT),type:e+(a.__dir__<0?"Right":"")}),a},jn.prototype[e+"Right"]=function(r){return this.reverse()[e](r).reverse()}});js(["filter","map","takeWhile"],function(e,t){var r=t+1,a=r==EG||r==OG;jn.prototype[e]=function(n){var c=this.clone();return c.__iteratees__.push({iteratee:yn(n),type:r}),c.__filtered__=c.__filtered__||a,c}});js(["head","last"],function(e,t){var r="take"+(t?"Right":"");jn.prototype[e]=function(){return this[r](1).value()[0]}});js(["initial","tail"],function(e,t){var r="drop"+(t?"":"Right");jn.prototype[e]=function(){return this.__filtered__?new jn(this):this[r](1)}});jn.prototype.compact=function(){return this.filter(Qu)};jn.prototype.find=function(e){return this.filter(e).head()};jn.prototype.findLast=function(e){return this.reverse().find(e)};jn.prototype.invokeMap=An(function(e,t){return typeof e=="function"?new jn(this):this.map(function(r){return Ov(r,e,t)})});jn.prototype.reject=function(e){return this.filter(wv(yn(e)))};jn.prototype.slice=function(e,t){e=vn(e);var r=this;return r.__filtered__&&(e>0||t<0)?new jn(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==void 0&&(t=vn(t),r=t<0?r.dropRight(-t):r.take(t-e)),r)};jn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()};jn.prototype.toArray=function(){return this.take(UT)};Cf(jn.prototype,function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),a=/^(?:head|last)$/.test(t),n=K[a?"take"+(t=="last"?"Right":""):t],c=a||/^find/.test(t);!n||(K.prototype[t]=function(){var f=this.__wrapped__,y=a?[1]:arguments,v=f instanceof jn,b=y[0],O=v||to(f),S=function(G){var H=n.apply(K,bv([G],y));return a&&P?H[0]:H};O&&r&&typeof b=="function"&&b.length!=1&&(v=O=!1);var P=this.__chain__,j=!!this.__actions__.length,I=c&&!P,C=v&&!j;if(!c&&O){f=C?f:new jn(this);var k=e.apply(f,y);return k.__actions__.push({func:xv,args:[S],thisArg:void 0}),new Zu(k,P)}return I&&C?e.apply(this,y):(k=this.thru(S),I?a?k.value()[0]:k.value():k)})});js(["pop","push","shift","sort","splice","unshift"],function(e){var t=wG[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",a=/^(?:pop|shift)$/.test(e);K.prototype[e]=function(){var n=arguments;if(a&&!this.__chain__){var c=this.value();return t.apply(to(c)?c:[],n)}return this[r](function(f){return t.apply(to(f)?f:[],n)})}});Cf(jn.prototype,function(e,t){var r=K[t];if(r){var a=r.name+"";zT.call(th,a)||(th[a]=[]),th[a].push({name:t,func:r})}});th[pg(void 0,_G).name]=[{name:"wrapper",func:void 0}];jn.prototype.clone=fG;jn.prototype.reverse=lG;jn.prototype.value=mG;K.prototype.at=Oc.at;K.prototype.chain=Oc.wrapperChain;K.prototype.commit=Oc.commit;K.prototype.next=Oc.next;K.prototype.plant=Oc.plant;K.prototype.reverse=Oc.reverse;K.prototype.toJSON=K.prototype.valueOf=K.prototype.value=Oc.value;K.prototype.first=K.prototype.head;Lw&&(K.prototype[Lw]=Oc.toIterator);var Yt={exports:{}};(function(e,t){(function(r,a){e.exports=a()})(window,function(){return function(r){var a={};function n(c){if(a[c])return a[c].exports;var f=a[c]={i:c,l:!1,exports:{}};return r[c].call(f.exports,f,f.exports,n),f.l=!0,f.exports}return n.m=r,n.c=a,n.d=function(c,f,y){n.o(c,f)||Object.defineProperty(c,f,{enumerable:!0,get:y})},n.r=function(c){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})},n.t=function(c,f){if(1&f&&(c=n(c)),8&f||4&f&&typeof c=="object"&&c&&c.__esModule)return c;var y=Object.create(null);if(n.r(y),Object.defineProperty(y,"default",{enumerable:!0,value:c}),2&f&&typeof c!="string")for(var v in c)n.d(y,v,function(b){return c[b]}.bind(null,v));return y},n.n=function(c){var f=c&&c.__esModule?function(){return c.default}:function(){return c};return n.d(f,"a",f),f},n.o=function(c,f){return Object.prototype.hasOwnProperty.call(c,f)},n.p="",n(n.s=222)}([function(r,a,n){n.d(a,"a",function(){return be}),n.d(a,"b",function(){return _e}),n.d(a,"c",function(){return Lt}),n.d(a,"d",function(){return tr}),n.d(a,"e",function(){return G}),n.d(a,"f",function(){return ue}),n.d(a,"g",function(){return G}),n.d(a,"h",function(){return Rt}),n.d(a,"i",function(){return f}),n.d(a,"j",function(){return Pt}),n.d(a,"k",function(){return z});var c,f,y,v,b,O,S,P={},j=[],I=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function C(Te,de){for(var Ae in de)Te[Ae]=de[Ae];return Te}function k(Te){var de=Te.parentNode;de&&de.removeChild(Te)}function G(Te,de,Ae){var st,kt,ht,Wt={};for(ht in de)ht=="key"?st=de[ht]:ht=="ref"?kt=de[ht]:Wt[ht]=de[ht];if(arguments.length>2&&(Wt.children=arguments.length>3?c.call(arguments,2):Ae),typeof Te=="function"&&Te.defaultProps!=null)for(ht in Te.defaultProps)Wt[ht]===void 0&&(Wt[ht]=Te.defaultProps[ht]);return H(Te,Wt,st,kt,null)}function H(Te,de,Ae,st,kt){var ht={type:Te,props:de,key:Ae,ref:st,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:kt==null?++y:kt};return kt==null&&f.vnode!=null&&f.vnode(ht),ht}function ue(){return{current:null}}function _e(Te){return Te.children}function be(Te,de){this.props=Te,this.context=de}function ce(Te,de){if(de==null)return Te.__?ce(Te.__,Te.__.__k.indexOf(Te)+1):null;for(var Ae;de<Te.__k.length;de++)if((Ae=Te.__k[de])!=null&&Ae.__e!=null)return Ae.__e;return typeof Te.type=="function"?ce(Te):null}function fe(Te){var de,Ae;if((Te=Te.__)!=null&&Te.__c!=null){for(Te.__e=Te.__c.base=null,de=0;de<Te.__k.length;de++)if((Ae=Te.__k[de])!=null&&Ae.__e!=null){Te.__e=Te.__c.base=Ae.__e;break}return fe(Te)}}function ee(Te){(!Te.__d&&(Te.__d=!0)&&v.push(Te)&&!$.__r++||O!==f.debounceRendering)&&((O=f.debounceRendering)||b)($)}function $(){for(var Te;$.__r=v.length;)Te=v.sort(function(de,Ae){return de.__v.__b-Ae.__v.__b}),v=[],Te.some(function(de){var Ae,st,kt,ht,Wt,or;de.__d&&(Wt=(ht=(Ae=de).__v).__e,(or=Ae.__P)&&(st=[],(kt=C({},ht)).__v=ht.__v+1,$e(or,ht,kt,Ae.__n,or.ownerSVGElement!==void 0,ht.__h!=null?[Wt]:null,st,Wt==null?ce(ht):Wt,ht.__h),ae(st,ht),ht.__e!=Wt&&fe(ht)))})}function J(Te,de,Ae,st,kt,ht,Wt,or,vr,rr){var et,lr,Ne,ir,Br,V,Gr,dn=st&&st.__k||j,Mn=dn.length;for(Ae.__k=[],et=0;et<de.length;et++)if((ir=Ae.__k[et]=(ir=de[et])==null||typeof ir=="boolean"?null:typeof ir=="string"||typeof ir=="number"||typeof ir=="bigint"?H(null,ir,null,null,ir):Array.isArray(ir)?H(_e,{children:ir},null,null,null):ir.__b>0?H(ir.type,ir.props,ir.key,null,ir.__v):ir)!=null){if(ir.__=Ae,ir.__b=Ae.__b+1,(Ne=dn[et])===null||Ne&&ir.key==Ne.key&&ir.type===Ne.type)dn[et]=void 0;else for(lr=0;lr<Mn;lr++){if((Ne=dn[lr])&&ir.key==Ne.key&&ir.type===Ne.type){dn[lr]=void 0;break}Ne=null}$e(Te,ir,Ne=Ne||P,kt,ht,Wt,or,vr,rr),Br=ir.__e,(lr=ir.ref)&&Ne.ref!=lr&&(Gr||(Gr=[]),Ne.ref&&Gr.push(Ne.ref,null,ir),Gr.push(lr,ir.__c||Br,ir)),Br!=null?(V==null&&(V=Br),typeof ir.type=="function"&&ir.__k===Ne.__k?ir.__d=vr=re(ir,vr,Te):vr=Oe(Te,ir,Ne,dn,Br,vr),typeof Ae.type=="function"&&(Ae.__d=vr)):vr&&Ne.__e==vr&&vr.parentNode!=Te&&(vr=ce(Ne))}for(Ae.__e=V,et=Mn;et--;)dn[et]!=null&&(typeof Ae.type=="function"&&dn[et].__e!=null&&dn[et].__e==Ae.__d&&(Ae.__d=ce(st,et+1)),Ye(dn[et],dn[et]));if(Gr)for(et=0;et<Gr.length;et++)Se(Gr[et],Gr[++et],Gr[++et])}function re(Te,de,Ae){for(var st,kt=Te.__k,ht=0;kt&&ht<kt.length;ht++)(st=kt[ht])&&(st.__=Te,de=typeof st.type=="function"?re(st,de,Ae):Oe(Ae,st,st,kt,st.__e,de));return de}function z(Te,de){return de=de||[],Te==null||typeof Te=="boolean"||(Array.isArray(Te)?Te.some(function(Ae){z(Ae,de)}):de.push(Te)),de}function Oe(Te,de,Ae,st,kt,ht){var Wt,or,vr;if(de.__d!==void 0)Wt=de.__d,de.__d=void 0;else if(Ae==null||kt!=ht||kt.parentNode==null)e:if(ht==null||ht.parentNode!==Te)Te.appendChild(kt),Wt=null;else{for(or=ht,vr=0;(or=or.nextSibling)&&vr<st.length;vr+=2)if(or==kt)break e;Te.insertBefore(kt,ht),Wt=ht}return Wt!==void 0?Wt:kt.nextSibling}function We(Te,de,Ae){de[0]==="-"?Te.setProperty(de,Ae):Te[de]=Ae==null?"":typeof Ae!="number"||I.test(de)?Ae:Ae+"px"}function ke(Te,de,Ae,st,kt){var ht;e:if(de==="style")if(typeof Ae=="string")Te.style.cssText=Ae;else{if(typeof st=="string"&&(Te.style.cssText=st=""),st)for(de in st)Ae&&de in Ae||We(Te.style,de,"");if(Ae)for(de in Ae)st&&Ae[de]===st[de]||We(Te.style,de,Ae[de])}else if(de[0]==="o"&&de[1]==="n")ht=de!==(de=de.replace(/Capture$/,"")),de=de.toLowerCase()in Te?de.toLowerCase().slice(2):de.slice(2),Te.l||(Te.l={}),Te.l[de+ht]=Ae,Ae?st||Te.addEventListener(de,ht?at:it,ht):Te.removeEventListener(de,ht?at:it,ht);else if(de!=="dangerouslySetInnerHTML"){if(kt)de=de.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(de!=="href"&&de!=="list"&&de!=="form"&&de!=="tabIndex"&&de!=="download"&&de in Te)try{Te[de]=Ae==null?"":Ae;break e}catch{}typeof Ae=="function"||(Ae!=null&&(Ae!==!1||de[0]==="a"&&de[1]==="r")?Te.setAttribute(de,Ae):Te.removeAttribute(de))}}function it(Te){this.l[Te.type+!1](f.event?f.event(Te):Te)}function at(Te){this.l[Te.type+!0](f.event?f.event(Te):Te)}function $e(Te,de,Ae,st,kt,ht,Wt,or,vr){var rr,et,lr,Ne,ir,Br,V,Gr,dn,Mn,Xn,jr=de.type;if(de.constructor!==void 0)return null;Ae.__h!=null&&(vr=Ae.__h,or=de.__e=Ae.__e,de.__h=null,ht=[or]),(rr=f.__b)&&rr(de);try{e:if(typeof jr=="function"){if(Gr=de.props,dn=(rr=jr.contextType)&&st[rr.__c],Mn=rr?dn?dn.props.value:rr.__:st,Ae.__c?V=(et=de.__c=Ae.__c).__=et.__E:("prototype"in jr&&jr.prototype.render?de.__c=et=new jr(Gr,Mn):(de.__c=et=new be(Gr,Mn),et.constructor=jr,et.render=lt),dn&&dn.sub(et),et.props=Gr,et.state||(et.state={}),et.context=Mn,et.__n=st,lr=et.__d=!0,et.__h=[]),et.__s==null&&(et.__s=et.state),jr.getDerivedStateFromProps!=null&&(et.__s==et.state&&(et.__s=C({},et.__s)),C(et.__s,jr.getDerivedStateFromProps(Gr,et.__s))),Ne=et.props,ir=et.state,lr)jr.getDerivedStateFromProps==null&&et.componentWillMount!=null&&et.componentWillMount(),et.componentDidMount!=null&&et.__h.push(et.componentDidMount);else{if(jr.getDerivedStateFromProps==null&&Gr!==Ne&&et.componentWillReceiveProps!=null&&et.componentWillReceiveProps(Gr,Mn),!et.__e&&et.shouldComponentUpdate!=null&&et.shouldComponentUpdate(Gr,et.__s,Mn)===!1||de.__v===Ae.__v){et.props=Gr,et.state=et.__s,de.__v!==Ae.__v&&(et.__d=!1),et.__v=de,de.__e=Ae.__e,de.__k=Ae.__k,de.__k.forEach(function(fo){fo&&(fo.__=de)}),et.__h.length&&Wt.push(et);break e}et.componentWillUpdate!=null&&et.componentWillUpdate(Gr,et.__s,Mn),et.componentDidUpdate!=null&&et.__h.push(function(){et.componentDidUpdate(Ne,ir,Br)})}et.context=Mn,et.props=Gr,et.state=et.__s,(rr=f.__r)&&rr(de),et.__d=!1,et.__v=de,et.__P=Te,rr=et.render(et.props,et.state,et.context),et.state=et.__s,et.getChildContext!=null&&(st=C(C({},st),et.getChildContext())),lr||et.getSnapshotBeforeUpdate==null||(Br=et.getSnapshotBeforeUpdate(Ne,ir)),Xn=rr!=null&&rr.type===_e&&rr.key==null?rr.props.children:rr,J(Te,Array.isArray(Xn)?Xn:[Xn],de,Ae,st,kt,ht,Wt,or,vr),et.base=de.__e,de.__h=null,et.__h.length&&Wt.push(et),V&&(et.__E=et.__=null),et.__e=!1}else ht==null&&de.__v===Ae.__v?(de.__k=Ae.__k,de.__e=Ae.__e):de.__e=pe(Ae.__e,de,Ae,st,kt,ht,Wt,vr);(rr=f.diffed)&&rr(de)}catch(fo){de.__v=null,(vr||ht!=null)&&(de.__e=or,de.__h=!!vr,ht[ht.indexOf(or)]=null),f.__e(fo,de,Ae)}}function ae(Te,de){f.__c&&f.__c(de,Te),Te.some(function(Ae){try{Te=Ae.__h,Ae.__h=[],Te.some(function(st){st.call(Ae)})}catch(st){f.__e(st,Ae.__v)}})}function pe(Te,de,Ae,st,kt,ht,Wt,or){var vr,rr,et,lr=Ae.props,Ne=de.props,ir=de.type,Br=0;if(ir==="svg"&&(kt=!0),ht!=null){for(;Br<ht.length;Br++)if((vr=ht[Br])&&"setAttribute"in vr==!!ir&&(ir?vr.localName===ir:vr.nodeType===3)){Te=vr,ht[Br]=null;break}}if(Te==null){if(ir===null)return document.createTextNode(Ne);Te=kt?document.createElementNS("http://www.w3.org/2000/svg",ir):document.createElement(ir,Ne.is&&Ne),ht=null,or=!1}if(ir===null)lr===Ne||or&&Te.data===Ne||(Te.data=Ne);else{if(ht=ht&&c.call(Te.childNodes),rr=(lr=Ae.props||P).dangerouslySetInnerHTML,et=Ne.dangerouslySetInnerHTML,!or){if(ht!=null)for(lr={},Br=0;Br<Te.attributes.length;Br++)lr[Te.attributes[Br].name]=Te.attributes[Br].value;(et||rr)&&(et&&(rr&&et.__html==rr.__html||et.__html===Te.innerHTML)||(Te.innerHTML=et&&et.__html||""))}if(function(V,Gr,dn,Mn,Xn){var jr;for(jr in dn)jr==="children"||jr==="key"||jr in Gr||ke(V,jr,null,dn[jr],Mn);for(jr in Gr)Xn&&typeof Gr[jr]!="function"||jr==="children"||jr==="key"||jr==="value"||jr==="checked"||dn[jr]===Gr[jr]||ke(V,jr,Gr[jr],dn[jr],Mn)}(Te,Ne,lr,kt,or),et)de.__k=[];else if(Br=de.props.children,J(Te,Array.isArray(Br)?Br:[Br],de,Ae,st,kt&&ir!=="foreignObject",ht,Wt,ht?ht[0]:Ae.__k&&ce(Ae,0),or),ht!=null)for(Br=ht.length;Br--;)ht[Br]!=null&&k(ht[Br]);or||("value"in Ne&&(Br=Ne.value)!==void 0&&(Br!==lr.value||Br!==Te.value||ir==="progress"&&!Br)&&ke(Te,"value",Br,lr.value,!1),"checked"in Ne&&(Br=Ne.checked)!==void 0&&Br!==Te.checked&&ke(Te,"checked",Br,lr.checked,!1))}return Te}function Se(Te,de,Ae){try{typeof Te=="function"?Te(de):Te.current=de}catch(st){f.__e(st,Ae)}}function Ye(Te,de,Ae){var st,kt;if(f.unmount&&f.unmount(Te),(st=Te.ref)&&(st.current&&st.current!==Te.__e||Se(st,null,de)),(st=Te.__c)!=null){if(st.componentWillUnmount)try{st.componentWillUnmount()}catch(ht){f.__e(ht,de)}st.base=st.__P=null}if(st=Te.__k)for(kt=0;kt<st.length;kt++)st[kt]&&Ye(st[kt],de,typeof Te.type!="function");Ae||Te.__e==null||k(Te.__e),Te.__e=Te.__d=void 0}function lt(Te,de,Ae){return this.constructor(Te,Ae)}function Pt(Te,de,Ae){var st,kt,ht;f.__&&f.__(Te,de),kt=(st=typeof Ae=="function")?null:Ae&&Ae.__k||de.__k,ht=[],$e(de,Te=(!st&&Ae||de).__k=G(_e,null,[Te]),kt||P,P,de.ownerSVGElement!==void 0,!st&&Ae?[Ae]:kt?null:de.firstChild?c.call(de.childNodes):null,ht,!st&&Ae?Ae:kt?kt.__e:de.firstChild,st),ae(ht,Te)}function Rt(Te,de){Pt(Te,de,Rt)}function Lt(Te,de,Ae){var st,kt,ht,Wt=C({},Te.props);for(ht in de)ht=="key"?st=de[ht]:ht=="ref"?kt=de[ht]:Wt[ht]=de[ht];return arguments.length>2&&(Wt.children=arguments.length>3?c.call(arguments,2):Ae),H(Te.type,Wt,st||Te.key,kt||Te.ref,null)}function tr(Te,de){var Ae={__c:de="__cC"+S++,__:Te,Consumer:function(st,kt){return st.children(kt)},Provider:function(st){var kt,ht;return this.getChildContext||(kt=[],(ht={})[de]=this,this.getChildContext=function(){return ht},this.shouldComponentUpdate=function(Wt){this.props.value!==Wt.value&&kt.some(ee)},this.sub=function(Wt){kt.push(Wt);var or=Wt.componentWillUnmount;Wt.componentWillUnmount=function(){kt.splice(kt.indexOf(Wt),1),or&&or.call(Wt)}}),st.children}};return Ae.Provider.__=Ae.Consumer.contextType=Ae}c=j.slice,f={__e:function(Te,de){for(var Ae,st,kt;de=de.__;)if((Ae=de.__c)&&!Ae.__)try{if((st=Ae.constructor)&&st.getDerivedStateFromError!=null&&(Ae.setState(st.getDerivedStateFromError(Te)),kt=Ae.__d),Ae.componentDidCatch!=null&&(Ae.componentDidCatch(Te),kt=Ae.__d),kt)return Ae.__E=Ae}catch(ht){Te=ht}throw Te}},y=0,be.prototype.setState=function(Te,de){var Ae;Ae=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=C({},this.state),typeof Te=="function"&&(Te=Te(C({},Ae),this.props)),Te&&C(Ae,Te),Te!=null&&this.__v&&(de&&this.__h.push(de),ee(this))},be.prototype.forceUpdate=function(Te){this.__v&&(this.__e=!0,Te&&this.__h.push(Te),ee(this))},be.prototype.render=_e,v=[],b=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,$.__r=0,S=0},function(r,a,n){(function(c,f){n.d(a,"a",function(){return ee}),n.d(a,"b",function(){return Fc}),n.d(a,"c",function(){return $i}),n.d(a,"d",function(){return Nr}),n.d(a,"e",function(){return Ft}),n.d(a,"f",function(){return zt}),n.d(a,"g",function(){return wr}),n.d(a,"h",function(){return Qo}),n.d(a,"i",function(){return Xn}),n.d(a,"j",function(){return fr}),n.d(a,"k",function(){return Aa}),n.d(a,"l",function(){return Nc}),n.d(a,"m",function(){return V}),n.d(a,"n",function(){return _u}),n.d(a,"o",function(){return re}),n.d(a,"p",function(){return Xf}),n.d(a,"q",function(){return Ci}),n.d(a,"r",function(){return Eu}),n.d(a,"s",function(){return xi}),n.d(a,"t",function(){return lo}),n.d(a,"u",function(){return Is}),n.d(a,"v",function(){return Hf}),n.d(a,"w",function(){return Cc}),n.d(a,"x",function(){return Io}),n.d(a,"y",function(){return Di}),n.d(a,"z",function(){return _o}),n.d(a,"A",function(){return ko}),n.d(a,"B",function(){return Oi}),n.d(a,"C",function(){return rr}),n.d(a,"D",function(){return Ic}),n.d(a,"E",function(){return xn}),n.d(a,"F",function(){return Tn}),n.d(a,"G",function(){return Rc}),n.d(a,"H",function(){return Pc}),n.d(a,"I",function(){return Dc}),n.d(a,"J",function(){return Do}),n.d(a,"K",function(){return Le}),n.d(a,"L",function(){return Dn}),n.d(a,"M",function(){return Ls});var y=[];Object.freeze(y);var v={};function b(){return++hr.mobxGuid}function O(w){throw S(!1,w),"X"}function S(w,x){if(!w)throw new Error("[mobx] "+(x||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(v);function P(w){var x=!1;return function(){if(!x)return x=!0,w.apply(this,arguments)}}var j=function(){};function I(w){return w!==null&&typeof w=="object"}function C(w){if(w===null||typeof w!="object")return!1;var x=Object.getPrototypeOf(w);return x===Object.prototype||x===null}function k(w,x,M){Object.defineProperty(w,x,{enumerable:!1,writable:!0,configurable:!0,value:M})}function G(w,x){var M="isMobX"+w;return x.prototype[M]=!0,function(X){return I(X)&&X[M]===!0}}function H(w){return w instanceof Map}function ue(w){return w instanceof Set}function _e(w){var x=new Set;for(var M in w)x.add(M);return Object.getOwnPropertySymbols(w).forEach(function(X){Object.getOwnPropertyDescriptor(w,X).enumerable&&x.add(X)}),Array.from(x)}function be(w){return w&&w.toString?w.toString():new String(w).toString()}function ce(w){return w===null?null:typeof w=="object"?""+w:w}var fe=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(w){return Object.getOwnPropertyNames(w).concat(Object.getOwnPropertySymbols(w))}:Object.getOwnPropertyNames,ee=Symbol("mobx administration"),$=function(){function w(x){x===void 0&&(x="Atom@"+b()),this.name=x,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=lr.NOT_TRACKING}return w.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(x){return x()})},w.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(x){return x()})},w.prototype.reportObserved=function(){return Cs(this)},w.prototype.reportChanged=function(){hi(),function(x){x.lowestObserverState!==lr.STALE&&(x.lowestObserverState=lr.STALE,x.observers.forEach(function(M){M.dependenciesState===lr.UP_TO_DATE&&(M.isTracing!==Ne.NONE&&zi(M,x),M.onBecomeStale()),M.dependenciesState=lr.STALE}))}(this),Ei()},w.prototype.toString=function(){return this.name},w}(),J=G("Atom",$);function re(w,x,M){x===void 0&&(x=j),M===void 0&&(M=j);var X,ie=new $(w);return x!==j&&zf("onBecomeObserved",ie,x,X),M!==j&&xn(ie,M),ie}var z={identity:function(w,x){return w===x},structural:function(w,x){return Ot(w,x)},default:function(w,x){return Object.is(w,x)},shallow:function(w,x){return Ot(w,x,1)}},Oe=function(w,x){return Oe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,X){M.__proto__=X}||function(M,X){for(var ie in X)X.hasOwnProperty(ie)&&(M[ie]=X[ie])},Oe(w,x)};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation. All rights reserved.
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at http://www.apache.org/licenses/LICENSE-2.0

	THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	MERCHANTABLITY OR NON-INFRINGEMENT.

	See the Apache Version 2.0 License for specific language governing permissions
	and limitations under the License.
	***************************************************************************** */var We=function(){return We=Object.assign||function(w){for(var x,M=1,X=arguments.length;M<X;M++)for(var ie in x=arguments[M])Object.prototype.hasOwnProperty.call(x,ie)&&(w[ie]=x[ie]);return w},We.apply(this,arguments)};function ke(w){var x=typeof Symbol=="function"&&w[Symbol.iterator],M=0;return x?x.call(w):{next:function(){return w&&M>=w.length&&(w=void 0),{value:w&&w[M++],done:!w}}}}function it(w,x){var M=typeof Symbol=="function"&&w[Symbol.iterator];if(!M)return w;var X,ie,Ce=M.call(w),nt=[];try{for(;(x===void 0||x-- >0)&&!(X=Ce.next()).done;)nt.push(X.value)}catch(It){ie={error:It}}finally{try{X&&!X.done&&(M=Ce.return)&&M.call(Ce)}finally{if(ie)throw ie.error}}return nt}function at(){for(var w=[],x=0;x<arguments.length;x++)w=w.concat(it(arguments[x]));return w}var $e=Symbol("mobx did run lazy initializers"),ae=Symbol("mobx pending decorators"),pe={},Se={};function Ye(w,x){var M=x?pe:Se;return M[w]||(M[w]={configurable:!0,enumerable:x,get:function(){return lt(this),this[w]},set:function(X){lt(this),this[w]=X}})}function lt(w){var x,M;if(w[$e]!==!0){var X=w[ae];if(X){k(w,$e,!0);var ie=at(Object.getOwnPropertySymbols(X),Object.keys(X));try{for(var Ce=ke(ie),nt=Ce.next();!nt.done;nt=Ce.next()){var It=X[nt.value];It.propertyCreator(w,It.prop,It.descriptor,It.decoratorTarget,It.decoratorArguments)}}catch(ar){x={error:ar}}finally{try{nt&&!nt.done&&(M=Ce.return)&&M.call(Ce)}finally{if(x)throw x.error}}}}}function Pt(w,x){return function(){var M,X=function(ie,Ce,nt,It){if(It===!0)return x(ie,Ce,nt,ie,M),null;if(!Object.prototype.hasOwnProperty.call(ie,ae)){var ar=ie[ae];k(ie,ae,We({},ar))}return ie[ae][Ce]={prop:Ce,propertyCreator:x,descriptor:nt,decoratorTarget:ie,decoratorArguments:M},Ye(Ce,w)};return Rt(arguments)?(M=y,X.apply(null,arguments)):(M=Array.prototype.slice.call(arguments),X)}}function Rt(w){return(w.length===2||w.length===3)&&(typeof w[1]=="string"||typeof w[1]=="symbol")||w.length===4&&w[3]===!0}function Lt(w,x,M){return Io(w)?w:Array.isArray(w)?rr.array(w,{name:M}):C(w)?rr.object(w,void 0,{name:M}):H(w)?rr.map(w,{name:M}):ue(w)?rr.set(w,{name:M}):w}function tr(w){return w}function Te(w){S(w);var x=Pt(!0,function(X,ie,Ce,nt,It){var ar=Ce?Ce.initializer?Ce.initializer.call(X):Ce.value:void 0;wi(X).addObservableProp(ie,ar,w)}),M=(c!==void 0&&c.env,x);return M.enhancer=w,M}var de={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function Ae(w){return w==null?de:typeof w=="string"?{name:w,deep:!0,proxy:!0}:w}Object.freeze(de);var st=Te(Lt),kt=Te(function(w,x,M){return w==null||ko(w)||Di(w)||_o(w)||So(w)?w:Array.isArray(w)?rr.array(w,{name:M,deep:!1}):C(w)?rr.object(w,void 0,{name:M,deep:!1}):H(w)?rr.map(w,{name:M,deep:!1}):ue(w)?rr.set(w,{name:M,deep:!1}):O(!1)}),ht=Te(tr),Wt=Te(function(w,x,M){return Ot(w,x)?x:w});function or(w){return w.defaultDecorator?w.defaultDecorator.enhancer:w.deep===!1?tr:Lt}var vr={box:function(w,x){arguments.length>2&&et("box");var M=Ae(x);return new pn(w,or(M),M.name,!0,M.equals)},array:function(w,x){arguments.length>2&&et("array");var M=Ae(x);return Va(w,or(M),M.name)},map:function(w,x){arguments.length>2&&et("map");var M=Ae(x);return new Fc(w,or(M),M.name)},set:function(w,x){arguments.length>2&&et("set");var M=Ae(x);return new oa(w,or(M),M.name)},object:function(w,x,M){typeof arguments[1]=="string"&&et("object");var X=Ae(M);if(X.proxy===!1)return Ci({},w,x,X);var ie=Ds(X),Ce=Ci({},void 0,void 0,X),nt=Ou(Ce);return $f(nt,w,x,ie),nt},ref:ht,shallow:kt,deep:st,struct:Wt},rr=function(w,x,M){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return st.apply(null,arguments);if(Io(w))return w;var X=C(w)?rr.object(w,x,M):Array.isArray(w)?rr.array(w,x):H(w)?rr.map(w,x):ue(w)?rr.set(w,x):w;if(X!==w)return X;O(!1)};function et(w){O("Expected one or two arguments to observable."+w+". Did you accidentally try to use observable."+w+" as decorator?")}Object.keys(vr).forEach(function(w){return rr[w]=vr[w]});var lr,Ne,ir=Pt(!1,function(w,x,M,X,ie){var Ce=M.get,nt=M.set,It=ie[0]||{};wi(w).addComputedProp(w,x,We({get:Ce,set:nt,context:w},It))}),Br=ir({equals:z.structural}),V=function(w,x,M){if(typeof x=="string"||w!==null&&typeof w=="object"&&arguments.length===1)return ir.apply(null,arguments);var X=typeof x=="object"?x:{};return X.get=w,X.set=typeof x=="function"?x:X.set,X.name=X.name||w.name||"",new ta(X)};V.struct=Br,function(w){w[w.NOT_TRACKING=-1]="NOT_TRACKING",w[w.UP_TO_DATE=0]="UP_TO_DATE",w[w.POSSIBLY_STALE=1]="POSSIBLY_STALE",w[w.STALE=2]="STALE"}(lr||(lr={})),function(w){w[w.NONE=0]="NONE",w[w.LOG=1]="LOG",w[w.BREAK=2]="BREAK"}(Ne||(Ne={}));var Gr=function(w){this.cause=w};function dn(w){return w instanceof Gr}function Mn(w){switch(w.dependenciesState){case lr.UP_TO_DATE:return!1;case lr.NOT_TRACKING:case lr.STALE:return!0;case lr.POSSIBLY_STALE:for(var x=zt(!0),M=xe(),X=w.observing,ie=X.length,Ce=0;Ce<ie;Ce++){var nt=X[Ce];if(Sa(nt)){if(hr.disableErrorBoundaries)nt.get();else try{nt.get()}catch{return Ke(M),Ft(x),!0}if(w.dependenciesState===lr.STALE)return Ke(M),Ft(x),!0}}return yr(w),Ke(M),Ft(x),!1}}function Xn(){return hr.trackingDerivation!==null}function jr(w){var x=w.observers.size>0;hr.computationDepth>0&&x&&O(!1),hr.allowStateChanges||!x&&hr.enforceActions!=="strict"||O(!1)}function fo(w,x,M){var X=zt(!0);yr(w),w.newObserving=new Array(w.observing.length+100),w.unboundDepsCount=0,w.runId=++hr.runId;var ie,Ce=hr.trackingDerivation;if(hr.trackingDerivation=w,hr.disableErrorBoundaries===!0)ie=x.call(M);else try{ie=x.call(M)}catch(nt){ie=new Gr(nt)}return hr.trackingDerivation=Ce,function(nt){for(var It=nt.observing,ar=nt.observing=nt.newObserving,Qr=lr.UP_TO_DATE,Kt=0,Sn=nt.unboundDepsCount,Zr=0;Zr<Sn;Zr++)(gn=ar[Zr]).diffValue===0&&(gn.diffValue=1,Kt!==Zr&&(ar[Kt]=gn),Kt++),gn.dependenciesState>Qr&&(Qr=gn.dependenciesState);for(ar.length=Kt,nt.newObserving=null,Sn=It.length;Sn--;)(gn=It[Sn]).diffValue===0&&Wn(gn,nt),gn.diffValue=0;for(;Kt--;){var gn;(gn=ar[Kt]).diffValue===1&&(gn.diffValue=0,Lf(gn,nt))}Qr!==lr.UP_TO_DATE&&(nt.dependenciesState=Qr,nt.onBecomeStale())}(w),Ft(X),ie}function ve(w){var x=w.observing;w.observing=[];for(var M=x.length;M--;)Wn(x[M],w);w.dependenciesState=lr.NOT_TRACKING}function Le(w){var x=xe();try{return w()}finally{Ke(x)}}function xe(){var w=hr.trackingDerivation;return hr.trackingDerivation=null,w}function Ke(w){hr.trackingDerivation=w}function zt(w){var x=hr.allowStateReads;return hr.allowStateReads=w,x}function Ft(w){hr.allowStateReads=w}function yr(w){if(w.dependenciesState!==lr.UP_TO_DATE){w.dependenciesState=lr.UP_TO_DATE;for(var x=w.observing,M=x.length;M--;)x[M].lowestObserverState=lr.UP_TO_DATE}}var rn=0,Co=1,$o=Object.getOwnPropertyDescriptor(function(){},"name");$o&&$o.configurable;function bo(w,x,M){var X=function(){return xo(w,x,M||this,arguments)};return X.isMobxAction=!0,X}function xo(w,x,M,X){var ie=fr();try{return x.apply(M,X)}catch(Ce){throw ie.error=Ce,Ce}finally{wr(ie)}}function fr(w,x,M){var X=0,ie=xe();hi();var Ce={prevDerivation:ie,prevAllowStateChanges:$r(!0),prevAllowStateReads:zt(!0),notifySpy:!1,startTime:X,actionId:Co++,parentActionId:rn};return rn=Ce.actionId,Ce}function wr(w){rn!==w.actionId&&O("invalid action stack. did you forget to finish an action?"),rn=w.parentActionId,w.error!==void 0&&(hr.suppressReactionErrors=!0),Nn(w.prevAllowStateChanges),Ft(w.prevAllowStateReads),Ei(),Ke(w.prevDerivation),w.notifySpy,hr.suppressReactionErrors=!1}function Nr(w,x){var M,X=$r(w);try{M=x()}finally{Nn(X)}return M}function $r(w){var x=hr.allowStateChanges;return hr.allowStateChanges=w,x}function Nn(w){hr.allowStateChanges=w}var pn=function(w){function x(M,X,ie,Ce,nt){ie===void 0&&(ie="ObservableValue@"+b()),nt===void 0&&(nt=z.default);var It=w.call(this,ie)||this;return It.enhancer=X,It.name=ie,It.equals=nt,It.hasUnreportedChange=!1,It.value=X(M,void 0,ie),It}return function(M,X){function ie(){this.constructor=M}Oe(M,X),M.prototype=X===null?Object.create(X):(ie.prototype=X.prototype,new ie)}(x,w),x.prototype.dehanceValue=function(M){return this.dehancer!==void 0?this.dehancer(M):M},x.prototype.set=function(M){this.value,(M=this.prepareNewValue(M))!==hr.UNCHANGED&&this.setNewValue(M)},x.prototype.prepareNewValue=function(M){if(jr(this),vi(this)){var X=sn(this,{object:this,type:"update",newValue:M});if(!X)return hr.UNCHANGED;M=X.newValue}return M=this.enhancer(M,this.value,this.name),this.equals(this.value,M)?hr.UNCHANGED:M},x.prototype.setNewValue=function(M){var X=this.value;this.value=M,this.reportChanged(),ai(this)&&Bo(this,{type:"update",object:this,newValue:M,oldValue:X})},x.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},x.prototype.intercept=function(M){return Ii(this,M)},x.prototype.observe=function(M,X){return X&&M({object:this,type:"update",newValue:this.value,oldValue:void 0}),Hi(this,M)},x.prototype.toJSON=function(){return this.get()},x.prototype.toString=function(){return this.name+"["+this.value+"]"},x.prototype.valueOf=function(){return ce(this.get())},x.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},x}($),xa=G("ObservableValue",pn),ta=function(){function w(x){this.dependenciesState=lr.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=lr.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+b(),this.value=new Gr(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=Ne.NONE,S(x.get,"missing option for computed: get"),this.derivation=x.get,this.name=x.name||"ComputedValue@"+b(),x.set&&(this.setter=bo(this.name+"-setter",x.set)),this.equals=x.equals||(x.compareStructural||x.struct?z.structural:z.default),this.scope=x.context,this.requiresReaction=!!x.requiresReaction,this.keepAlive=!!x.keepAlive}return w.prototype.onBecomeStale=function(){(function(x){x.lowestObserverState===lr.UP_TO_DATE&&(x.lowestObserverState=lr.POSSIBLY_STALE,x.observers.forEach(function(M){M.dependenciesState===lr.UP_TO_DATE&&(M.dependenciesState=lr.POSSIBLY_STALE,M.isTracing!==Ne.NONE&&zi(M,x),M.onBecomeStale())}))})(this)},w.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(x){return x()})},w.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(x){return x()})},w.prototype.get=function(){this.isComputing&&O("Cycle detected in computation "+this.name+": "+this.derivation),hr.inBatch!==0||this.observers.size!==0||this.keepAlive?(Cs(this),Mn(this)&&this.trackAndCompute()&&function(M){M.lowestObserverState!==lr.STALE&&(M.lowestObserverState=lr.STALE,M.observers.forEach(function(X){X.dependenciesState===lr.POSSIBLY_STALE?X.dependenciesState=lr.STALE:X.dependenciesState===lr.UP_TO_DATE&&(M.lowestObserverState=lr.UP_TO_DATE)}))}(this)):Mn(this)&&(this.warnAboutUntrackedRead(),hi(),this.value=this.computeValue(!1),Ei());var x=this.value;if(dn(x))throw x.cause;return x},w.prototype.peek=function(){var x=this.computeValue(!1);if(dn(x))throw x.cause;return x},w.prototype.set=function(x){if(this.setter){S(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,x)}finally{this.isRunningSetter=!1}}else S(!1,!1)},w.prototype.trackAndCompute=function(){var x=this.value,M=this.dependenciesState===lr.NOT_TRACKING,X=this.computeValue(!0),ie=M||dn(x)||dn(X)||!this.equals(x,X);return ie&&(this.value=X),ie},w.prototype.computeValue=function(x){var M;if(this.isComputing=!0,hr.computationDepth++,x)M=fo(this,this.derivation,this.scope);else if(hr.disableErrorBoundaries===!0)M=this.derivation.call(this.scope);else try{M=this.derivation.call(this.scope)}catch(X){M=new Gr(X)}return hr.computationDepth--,this.isComputing=!1,M},w.prototype.suspend=function(){this.keepAlive||(ve(this),this.value=void 0)},w.prototype.observe=function(x,M){var X=this,ie=!0,Ce=void 0;return Nc(function(){var nt=X.get();if(!ie||M){var It=xe();x({type:"update",object:X,newValue:nt,oldValue:Ce}),Ke(It)}ie=!1,Ce=nt})},w.prototype.warnAboutUntrackedRead=function(){},w.prototype.toJSON=function(){return this.get()},w.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},w.prototype.valueOf=function(){return ce(this.get())},w.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},w}(),Sa=G("ComputedValue",ta),bu=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},zl={};function xc(){return typeof window<"u"?window:f!==void 0?f:typeof self<"u"?self:zl}var Ni=!0,ts=!1,hr=function(){var w=xc();return w.__mobxInstanceCount>0&&!w.__mobxGlobals&&(Ni=!1),w.__mobxGlobals&&w.__mobxGlobals.version!==new bu().version&&(Ni=!1),Ni?w.__mobxGlobals?(w.__mobxInstanceCount+=1,w.__mobxGlobals.UNCHANGED||(w.__mobxGlobals.UNCHANGED={}),w.__mobxGlobals):(w.__mobxInstanceCount=1,w.__mobxGlobals=new bu):(setTimeout(function(){ts||O("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new bu)}();function Lf(w,x){w.observers.add(x),w.lowestObserverState>x.dependenciesState&&(w.lowestObserverState=x.dependenciesState)}function Wn(w,x){w.observers.delete(x),w.observers.size===0&&Sc(w)}function Sc(w){w.isPendingUnobservation===!1&&(w.isPendingUnobservation=!0,hr.pendingUnobservations.push(w))}function hi(){hr.inBatch++}function Ei(){if(--hr.inBatch==0){Tc();for(var w=hr.pendingUnobservations,x=0;x<w.length;x++){var M=w[x];M.isPendingUnobservation=!1,M.observers.size===0&&(M.isBeingObserved&&(M.isBeingObserved=!1,M.onBecomeUnobserved()),M instanceof ta&&M.suspend())}hr.pendingUnobservations=[]}}function Cs(w){var x=hr.trackingDerivation;return x!==null?(x.runId!==w.lastAccessedBy&&(w.lastAccessedBy=x.runId,x.newObserving[x.unboundDepsCount++]=w,w.isBeingObserved||(w.isBeingObserved=!0,w.onBecomeObserved())),!0):(w.observers.size===0&&hr.inBatch>0&&Sc(w),!1)}function zi(w,x){if(w.isTracing===Ne.BREAK){var M=[];Mi(lo(w),M,1),new Function(`debugger;
/*
Tracing '`+w.name+`'

You are entering this break point because derivation '`+w.name+"' is being traced and '"+x.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(w instanceof ta?w.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+M.join(`
`)+`
*/
    `)()}}function Mi(w,x,M){x.length>=1e3?x.push("(and many more)"):(x.push(""+new Array(M).join("	")+w.name),w.dependencies&&w.dependencies.forEach(function(X){return Mi(X,x,M+1)}))}var $i=function(){function w(x,M,X,ie){x===void 0&&(x="Reaction@"+b()),ie===void 0&&(ie=!1),this.name=x,this.onInvalidate=M,this.errorHandler=X,this.requiresObservable=ie,this.observing=[],this.newObserving=[],this.dependenciesState=lr.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+b(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=Ne.NONE}return w.prototype.onBecomeStale=function(){this.schedule()},w.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,hr.pendingReactions.push(this),Tc())},w.prototype.isScheduled=function(){return this._isScheduled},w.prototype.runReaction=function(){if(!this.isDisposed){if(hi(),this._isScheduled=!1,Mn(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(x){this.reportExceptionInDerivation(x)}}Ei()}},w.prototype.track=function(x){if(!this.isDisposed){hi(),this._isRunning=!0;var M=fo(this,x,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&ve(this),dn(M)&&this.reportExceptionInDerivation(M.cause),Ei()}},w.prototype.reportExceptionInDerivation=function(x){var M=this;if(this.errorHandler)this.errorHandler(x,this);else{if(hr.disableErrorBoundaries)throw x;hr.suppressReactionErrors,hr.globalReactionErrorHandlers.forEach(function(X){return X(x,M)})}},w.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(hi(),ve(this),Ei()))},w.prototype.getDisposer=function(){var x=this.dispose.bind(this);return x[ee]=this,x},w.prototype.toString=function(){return"Reaction["+this.name+"]"},w.prototype.trace=function(x){x===void 0&&(x=!1),function(){for(var M=[],X=0;X<arguments.length;X++)M[X]=arguments[X];var ie=!1;typeof M[M.length-1]=="boolean"&&(ie=M.pop());var Ce=_n(M);if(!Ce)return O(!1);Ce.isTracing,Ne.NONE,Ce.isTracing=ie?Ne.BREAK:Ne.LOG}(this,x)},w}(),Ac=function(w){return w()};function Tc(){hr.inBatch>0||hr.isRunningReactions||Ac(Ff)}function Ff(){hr.isRunningReactions=!0;for(var w=hr.pendingReactions,x=0;w.length>0;){++x==100&&w.splice(0);for(var M=w.splice(0),X=0,ie=M.length;X<ie;X++)M[X].runReaction()}hr.isRunningReactions=!1}var rs=G("Reaction",$i);function Bf(w){var x=Ac;Ac=function(M){return w(function(){return x(M)})}}function Pc(w){return function(){}}function $l(){O(!1)}function Ha(w){return function(x,M,X){if(X){if(X.value)return{value:bo(w,X.value),enumerable:!1,configurable:!0,writable:!0};var ie=X.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return bo(w,ie.call(this))}}}return Gf(w).apply(this,arguments)}}function Gf(w){return function(x,M,X){Object.defineProperty(x,M,{configurable:!0,enumerable:!1,get:function(){},set:function(ie){k(this,M,Aa(w,ie))}})}}var Aa=function(w,x,M,X){return arguments.length===1&&typeof w=="function"?bo(w.name||"<unnamed action>",w):arguments.length===2&&typeof x=="function"?bo(w,x):arguments.length===1&&typeof w=="string"?Ha(w):X!==!0?Ha(x).apply(null,arguments):void k(w,x,bo(w.name||x,M.value,this))};function Rc(w,x){return xo(typeof w=="string"?w:w.name||"<unnamed action>",typeof w=="function"?w:x,this,void 0)}function Is(w){return typeof w=="function"&&w.isMobxAction===!0}function jc(w,x,M){k(w,x,bo(x,M.bind(w)))}function Nc(w,x){x===void 0&&(x=v);var M,X=x&&x.name||w.name||"Autorun@"+b();if(!x.scheduler&&!x.delay)M=new $i(X,function(){this.track(nt)},x.onError,x.requiresObservable);else{var ie=Uf(x),Ce=!1;M=new $i(X,function(){Ce||(Ce=!0,ie(function(){Ce=!1,M.isDisposed||M.track(nt)}))},x.onError,x.requiresObservable)}function nt(){w(M)}return M.schedule(),M.getDisposer()}Aa.bound=function(w,x,M,X){return X===!0?(jc(w,x,M.value),null):M?{configurable:!0,enumerable:!1,get:function(){return jc(this,x,M.value||M.initializer.call(this)),this[x]},set:$l}:{enumerable:!1,configurable:!0,set:function(ie){jc(this,x,ie)},get:function(){}}};var Hl=function(w){return w()};function Uf(w){return w.scheduler?w.scheduler:w.delay?function(x){return setTimeout(x,w.delay)}:Hl}function Tn(w,x,M){M===void 0&&(M=v);var X,ie,Ce,nt=M.name||"Reaction@"+b(),It=Aa(nt,M.onError?(X=M.onError,ie=x,function(){try{return ie.apply(this,arguments)}catch(qn){X.call(this,qn)}}):x),ar=!M.scheduler&&!M.delay,Qr=Uf(M),Kt=!0,Sn=!1,Zr=M.compareStructural?z.structural:M.equals||z.default,gn=new $i(nt,function(){Kt||ar?Si():Sn||(Sn=!0,Qr(Si))},M.onError,M.requiresObservable);function Si(){if(Sn=!1,!gn.isDisposed){var qn=!1;gn.track(function(){var gi=w(gn);qn=Kt||!Zr(Ce,gi),Ce=gi}),Kt&&M.fireImmediately&&It(Ce,gn),Kt||qn!==!0||It(Ce,gn),Kt&&(Kt=!1)}}return gn.schedule(),gn.getDisposer()}function xn(w,x,M){return zf("onBecomeUnobserved",w,x,M)}function zf(w,x,M,X){var ie=typeof X=="function"?xi(x,M):xi(x),Ce=typeof X=="function"?X:M,nt=w+"Listeners";return ie[nt]?ie[nt].add(Ce):ie[nt]=new Set([Ce]),typeof ie[w]!="function"?O(!1):function(){var It=ie[nt];It&&(It.delete(Ce),It.size===0&&delete ie[nt])}}function _u(w){var x=w.enforceActions,M=w.computedRequiresReaction,X=w.computedConfigurable,ie=w.disableErrorBoundaries,Ce=w.reactionScheduler,nt=w.reactionRequiresObservable,It=w.observableRequiresReaction;if(w.isolateGlobalState===!0&&((hr.pendingReactions.length||hr.inBatch||hr.isRunningReactions)&&O("isolateGlobalState should be called before MobX is running any reactions"),ts=!0,Ni&&(--xc().__mobxInstanceCount==0&&(xc().__mobxGlobals=void 0),hr=new bu)),x!==void 0){var ar=void 0;switch(x){case!0:case"observed":ar=!0;break;case!1:case"never":ar=!1;break;case"strict":case"always":ar="strict";break;default:O("Invalid value for 'enforceActions': '"+x+"', expected 'never', 'always' or 'observed'")}hr.enforceActions=ar,hr.allowStateChanges=ar!==!0&&ar!=="strict"}M!==void 0&&(hr.computedRequiresReaction=!!M),nt!==void 0&&(hr.reactionRequiresObservable=!!nt),It!==void 0&&(hr.observableRequiresReaction=!!It,hr.allowStateReads=!hr.observableRequiresReaction),X!==void 0&&(hr.computedConfigurable=!!X),ie!==void 0&&(hr.disableErrorBoundaries=!!ie),Ce&&Bf(Ce)}function Ci(w,x,M,X){var ie=Ds(X=Ae(X));return lt(w),wi(w,X.name,ie.enhancer),x&&$f(w,x,M,ie),w}function Ds(w){return w.defaultDecorator||(w.deep===!1?ht:st)}function $f(w,x,M,X){var ie,Ce;hi();try{var nt=fe(x);try{for(var It=ke(nt),ar=It.next();!ar.done;ar=It.next()){var Qr=ar.value,Kt=Object.getOwnPropertyDescriptor(x,Qr),Sn=(M&&Qr in M?M[Qr]:Kt.get?ir:X)(w,Qr,Kt,!0);Sn&&Object.defineProperty(w,Qr,Sn)}}catch(Zr){ie={error:Zr}}finally{try{ar&&!ar.done&&(Ce=It.return)&&Ce.call(It)}finally{if(ie)throw ie.error}}}finally{Ei()}}function lo(w,x){return Xa(xi(w,x))}function Xa(w){var x,M,X={name:w.name};return w.observing&&w.observing.length>0&&(X.dependencies=(x=w.observing,M=[],x.forEach(function(ie){M.indexOf(ie)===-1&&M.push(ie)}),M).map(Xa)),X}var Wa=0;function ks(){this.message="FLOW_CANCELLED"}function Eu(w){arguments.length!==1&&O("Flow expects 1 argument and cannot be used as decorator");var x=w.name||"<unnamed flow>";return function(){var M,X=this,ie=arguments,Ce=++Wa,nt=Aa(x+" - runid: "+Ce+" - init",w).apply(X,ie),It=void 0,ar=new Promise(function(Qr,Kt){var Sn=0;function Zr(qn){var gi;It=void 0;try{gi=Aa(x+" - runid: "+Ce+" - yield "+Sn++,nt.next).call(nt,qn)}catch(Ta){return Kt(Ta)}Si(gi)}function gn(qn){var gi;It=void 0;try{gi=Aa(x+" - runid: "+Ce+" - yield "+Sn++,nt.throw).call(nt,qn)}catch(Ta){return Kt(Ta)}Si(gi)}function Si(qn){if(!qn||typeof qn.then!="function")return qn.done?Qr(qn.value):(It=Promise.resolve(qn.value)).then(Zr,gn);qn.then(Si,Kt)}M=Kt,Zr(void 0)});return ar.cancel=Aa(x+" - runid: "+Ce+" - cancel",function(){try{It&&Ho(It);var Qr=nt.return(void 0),Kt=Promise.resolve(Qr.value);Kt.then(j,j),Ho(Kt),M(new ks)}catch(Sn){M(Sn)}}),ar}}function Ho(w){typeof w.cancel=="function"&&w.cancel()}function Mc(w,x){if(w==null)return!1;if(x!==void 0){if(ko(w)===!1||!w[ee].values.has(x))return!1;var M=xi(w,x);return Sa(M)}return Sa(w)}function Hf(w){return arguments.length>1?O(!1):Mc(w)}function Cc(w,x){return typeof x!="string"?O(!1):Mc(w,x)}function ri(w,x){return w!=null&&(x!==void 0?!!ko(w)&&w[ee].values.has(x):ko(w)||!!w[ee]||J(w)||rs(w)||Sa(w))}function Io(w){return arguments.length!==1&&O(!1),ri(w)}function Oi(w){return ko(w)?w[ee].getKeys():_o(w)||So(w)?Array.from(w.keys()):Di(w)?w.map(function(x,M){return M}):O(!1)}function Dn(w){return ko(w)?Oi(w).map(function(x){return w[x]}):_o(w)?Oi(w).map(function(x){return w.get(x)}):So(w)?Array.from(w.values()):Di(w)?w.slice():O(!1)}function Xf(w){return ko(w)?Oi(w).map(function(x){return[x,w[x]]}):_o(w)?Oi(w).map(function(x){return[x,w.get(x)]}):So(w)?Array.from(w.entries()):Di(w)?w.map(function(x,M){return[M,x]}):O(!1)}function ni(w,x,M){if(arguments.length!==2||So(w))if(ko(w)){var X=w[ee],ie=X.values.get(x);ie?X.write(x,M):X.addObservableProp(x,M,X.defaultEnhancer)}else if(_o(w))w.set(x,M);else if(So(w))w.add(x);else{if(!Di(w))return O(!1);typeof x!="number"&&(x=parseInt(x,10)),S(x>=0,"Not a valid index: '"+x+"'"),hi(),x>=w.length&&(w.length=x+1),w[x]=M,Ei()}else{hi();var Ce=x;try{for(var nt in Ce)ni(w,nt,Ce[nt])}finally{Ei()}}}function Ic(w,x,M,X){return typeof M=="function"?function(ie,Ce,nt,It){return Qo(ie,Ce).observe(nt,It)}(w,x,M,X):function(ie,Ce,nt){return Qo(ie).observe(Ce,nt)}(w,x,M)}ks.prototype=Object.create(Error.prototype);var Wf={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function oi(w,x,M,X){return X.detectCycles&&w.set(x,M),M}function Jo(w,x,M){if(!x.recurseEverything&&!Io(w)||typeof w!="object")return w;if(w===null)return null;if(w instanceof Date)return w;if(xa(w))return Jo(w.get(),x,M);if(Io(w)&&Oi(w),x.detectCycles===!0&&w!==null&&M.has(w))return M.get(w);if(Di(w)||Array.isArray(w)){var X=oi(M,w,[],x),ie=w.map(function(Zr){return Jo(Zr,x,M)});X.length=ie.length;for(var Ce=0,nt=ie.length;Ce<nt;Ce++)X[Ce]=ie[Ce];return X}if(So(w)||Object.getPrototypeOf(w)===Set.prototype){if(x.exportMapsAsObjects===!1){var It=oi(M,w,new Set,x);return w.forEach(function(Zr){It.add(Jo(Zr,x,M))}),It}var ar=oi(M,w,[],x);return w.forEach(function(Zr){ar.push(Jo(Zr,x,M))}),ar}if(_o(w)||Object.getPrototypeOf(w)===Map.prototype){if(x.exportMapsAsObjects===!1){var Qr=oi(M,w,new Map,x);return w.forEach(function(Zr,gn){Qr.set(gn,Jo(Zr,x,M))}),Qr}var Kt=oi(M,w,{},x);return w.forEach(function(Zr,gn){Kt[gn]=Jo(Zr,x,M)}),Kt}var Sn=oi(M,w,{},x);return _e(w).forEach(function(Zr){Sn[Zr]=Jo(w[Zr],x,M)}),Sn}function Dc(w,x){var M;return typeof x=="boolean"&&(x={detectCycles:x}),x||(x=Wf),x.detectCycles=x.detectCycles===void 0?x.recurseEverything===!0:x.detectCycles===!0,x.detectCycles&&(M=new Map),Jo(w,x,M)}function _n(w){switch(w.length){case 0:return hr.trackingDerivation;case 1:return xi(w[0]);case 2:return xi(w[0],w[1])}}function Do(w,x){x===void 0&&(x=void 0),hi();try{return w.apply(x)}finally{Ei()}}function Ls(w,x,M){return arguments.length===1||x&&typeof x=="object"?kc(w,x):Vf(w,x,M||{})}function Vf(w,x,M){var X;typeof M.timeout=="number"&&(X=setTimeout(function(){if(!Ce[ee].isDisposed){Ce();var nt=new Error("WHEN_TIMEOUT");if(!M.onError)throw nt;M.onError(nt)}},M.timeout)),M.name=M.name||"When@"+b();var ie=bo(M.name+"-effect",x),Ce=Nc(function(nt){w()&&(nt.dispose(),X&&clearTimeout(X),ie())},M);return Ce}function kc(w,x){var M,X=new Promise(function(ie,Ce){var nt=Vf(w,ie,We(We({},x),{onError:Ce}));M=function(){nt(),Ce("WHEN_CANCELLED")}});return X.cancel=M,X}function Fs(w){return w[ee]}function ra(w){return typeof w=="string"||typeof w=="number"||typeof w=="symbol"}var ii={has:function(w,x){if(x===ee||x==="constructor"||x===$e)return!0;var M=Fs(w);return ra(x)?M.has(x):x in w},get:function(w,x){if(x===ee||x==="constructor"||x===$e)return w[x];var M=Fs(w),X=M.values.get(x);if(X instanceof $){var ie=X.get();return ie===void 0&&M.has(x),ie}return ra(x)&&M.has(x),w[x]},set:function(w,x,M){return!!ra(x)&&(ni(w,x,M),!0)},deleteProperty:function(w,x){return!!ra(x)&&(Fs(w).remove(x),!0)},ownKeys:function(w){return Fs(w).keysAtom.reportObserved(),Reflect.ownKeys(w)},preventExtensions:function(w){return O("Dynamic observable objects cannot be frozen"),!1}};function Ou(w){var x=new Proxy(w,ii);return w[ee].proxy=x,x}function vi(w){return w.interceptors!==void 0&&w.interceptors.length>0}function Ii(w,x){var M=w.interceptors||(w.interceptors=[]);return M.push(x),P(function(){var X=M.indexOf(x);X!==-1&&M.splice(X,1)})}function sn(w,x){var M=xe();try{for(var X=at(w.interceptors||[]),ie=0,Ce=X.length;ie<Ce&&(S(!(x=X[ie](x))||x.type,"Intercept handlers should return nothing or a change object"),x);ie++);return x}finally{Ke(M)}}function ai(w){return w.changeListeners!==void 0&&w.changeListeners.length>0}function Hi(w,x){var M=w.changeListeners||(w.changeListeners=[]);return M.push(x),P(function(){var X=M.indexOf(x);X!==-1&&M.splice(X,1)})}function Bo(w,x){var M=xe(),X=w.changeListeners;if(X){for(var ie=0,Ce=(X=X.slice()).length;ie<Ce;ie++)X[ie](x);Ke(M)}}var wu={get:function(w,x){return x===ee?w[ee]:x==="length"?w[ee].getArrayLength():typeof x=="number"?Un.get.call(w,x):typeof x!="string"||isNaN(x)?Un.hasOwnProperty(x)?Un[x]:w[x]:Un.get.call(w,parseInt(x))},set:function(w,x,M){return x==="length"&&w[ee].setArrayLength(M),typeof x=="number"&&Un.set.call(w,x,M),typeof x=="symbol"||isNaN(x)?w[x]=M:Un.set.call(w,parseInt(x),M),!0},preventExtensions:function(w){return O("Observable arrays cannot be frozen"),!1}};function Va(w,x,M,X){M===void 0&&(M="ObservableArray@"+b()),X===void 0&&(X=!1);var ie,Ce,nt,It=new Xi(M,x,X);ie=It.values,Ce=ee,nt=It,Object.defineProperty(ie,Ce,{enumerable:!1,writable:!1,configurable:!0,value:nt});var ar=new Proxy(It.values,wu);if(It.proxy=ar,w&&w.length){var Qr=$r(!0);It.spliceWithArray(0,0,w),Nn(Qr)}return ar}var Xi=function(){function w(x,M,X){this.owned=X,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new $(x||"ObservableArray@"+b()),this.enhancer=function(ie,Ce){return M(ie,Ce,x+"[..]")}}return w.prototype.dehanceValue=function(x){return this.dehancer!==void 0?this.dehancer(x):x},w.prototype.dehanceValues=function(x){return this.dehancer!==void 0&&x.length>0?x.map(this.dehancer):x},w.prototype.intercept=function(x){return Ii(this,x)},w.prototype.observe=function(x,M){return M===void 0&&(M=!1),M&&x({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Hi(this,x)},w.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},w.prototype.setArrayLength=function(x){if(typeof x!="number"||x<0)throw new Error("[mobx.array] Out of range: "+x);var M=this.values.length;if(x!==M)if(x>M){for(var X=new Array(x-M),ie=0;ie<x-M;ie++)X[ie]=void 0;this.spliceWithArray(M,0,X)}else this.spliceWithArray(x,M-x)},w.prototype.updateArrayLength=function(x,M){if(x!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=M},w.prototype.spliceWithArray=function(x,M,X){var ie=this;jr(this.atom);var Ce=this.values.length;if(x===void 0?x=0:x>Ce?x=Ce:x<0&&(x=Math.max(0,Ce+x)),M=arguments.length===1?Ce-x:M==null?0:Math.max(0,Math.min(M,Ce-x)),X===void 0&&(X=y),vi(this)){var nt=sn(this,{object:this.proxy,type:"splice",index:x,removedCount:M,added:X});if(!nt)return y;M=nt.removedCount,X=nt.added}X=X.length===0?X:X.map(function(ar){return ie.enhancer(ar,void 0)});var It=this.spliceItemsIntoValues(x,M,X);return M===0&&X.length===0||this.notifyArraySplice(x,X,It),this.dehanceValues(It)},w.prototype.spliceItemsIntoValues=function(x,M,X){var ie;if(X.length<1e4)return(ie=this.values).splice.apply(ie,at([x,M],X));var Ce=this.values.slice(x,x+M);return this.values=this.values.slice(0,x).concat(X,this.values.slice(x+M)),Ce},w.prototype.notifyArrayChildUpdate=function(x,M,X){var ie=!this.owned&&!1,Ce=ai(this),nt=Ce||ie?{object:this.proxy,type:"update",index:x,newValue:M,oldValue:X}:null;this.atom.reportChanged(),Ce&&Bo(this,nt)},w.prototype.notifyArraySplice=function(x,M,X){var ie=!this.owned&&!1,Ce=ai(this),nt=Ce||ie?{object:this.proxy,type:"splice",index:x,removed:X,added:M,removedCount:X.length,addedCount:M.length}:null;this.atom.reportChanged(),Ce&&Bo(this,nt)},w}(),Un={intercept:function(w){return this[ee].intercept(w)},observe:function(w,x){return x===void 0&&(x=!1),this[ee].observe(w,x)},clear:function(){return this.splice(0)},replace:function(w){var x=this[ee];return x.spliceWithArray(0,x.values.length,w)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(w,x){for(var M=[],X=2;X<arguments.length;X++)M[X-2]=arguments[X];var ie=this[ee];switch(arguments.length){case 0:return[];case 1:return ie.spliceWithArray(w);case 2:return ie.spliceWithArray(w,x)}return ie.spliceWithArray(w,x,M)},spliceWithArray:function(w,x,M){return this[ee].spliceWithArray(w,x,M)},push:function(){for(var w=[],x=0;x<arguments.length;x++)w[x]=arguments[x];var M=this[ee];return M.spliceWithArray(M.values.length,0,w),M.values.length},pop:function(){return this.splice(Math.max(this[ee].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var w=[],x=0;x<arguments.length;x++)w[x]=arguments[x];var M=this[ee];return M.spliceWithArray(0,0,w),M.values.length},reverse:function(){var w=this.slice();return w.reverse.apply(w,arguments)},sort:function(w){var x=this.slice();return x.sort.apply(x,arguments)},remove:function(w){var x=this[ee],M=x.dehanceValues(x.values).indexOf(w);return M>-1&&(this.splice(M,1),!0)},get:function(w){var x=this[ee];if(x&&w<x.values.length)return x.atom.reportObserved(),x.dehanceValue(x.values[w])},set:function(w,x){var M=this[ee],X=M.values;if(w<X.length){jr(M.atom);var ie=X[w];if(vi(M)){var Ce=sn(M,{type:"update",object:M.proxy,index:w,newValue:x});if(!Ce)return;x=Ce.newValue}(x=M.enhancer(x,ie))!==ie&&(X[w]=x,M.notifyArrayChildUpdate(w,x,ie))}else{if(w!==X.length)throw new Error("[mobx.array] Index out of bounds, "+w+" is larger than "+X.length);M.spliceWithArray(w,0,[x])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(w){typeof Array.prototype[w]=="function"&&(Un[w]=function(){var x=this[ee];x.atom.reportObserved();var M=x.dehanceValues(x.values);return M[w].apply(M,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(w){typeof Array.prototype[w]=="function"&&(Un[w]=function(x,M){var X=this,ie=this[ee];return ie.atom.reportObserved(),ie.dehanceValues(ie.values)[w](function(Ce,nt){return x.call(M,Ce,nt,X)},M)})}),["reduce","reduceRight"].forEach(function(w){Un[w]=function(){var x=this,M=this[ee];M.atom.reportObserved();var X=arguments[0];return arguments[0]=function(ie,Ce,nt){return Ce=M.dehanceValue(Ce),X(ie,Ce,nt,x)},M.values[w].apply(M.values,arguments)}});var ns,na=G("ObservableArrayAdministration",Xi);function Di(w){return I(w)&&na(w[ee])}var Lc,Xl={},Fc=function(){function w(x,M,X){if(M===void 0&&(M=Lt),X===void 0&&(X="ObservableMap@"+b()),this.enhancer=M,this.name=X,this[ns]=Xl,this._keysAtom=re(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(x)}return w.prototype._has=function(x){return this._data.has(x)},w.prototype.has=function(x){var M=this;if(!hr.trackingDerivation)return this._has(x);var X=this._hasMap.get(x);if(!X){var ie=X=new pn(this._has(x),tr,this.name+"."+be(x)+"?",!1);this._hasMap.set(x,ie),xn(ie,function(){return M._hasMap.delete(x)})}return X.get()},w.prototype.set=function(x,M){var X=this._has(x);if(vi(this)){var ie=sn(this,{type:X?"update":"add",object:this,newValue:M,name:x});if(!ie)return this;M=ie.newValue}return X?this._updateValue(x,M):this._addValue(x,M),this},w.prototype.delete=function(x){var M=this;if(jr(this._keysAtom),vi(this)&&!(ie=sn(this,{type:"delete",object:this,name:x})))return!1;if(this._has(x)){var X=ai(this),ie=X?{type:"delete",object:this,oldValue:this._data.get(x).value,name:x}:null;return Do(function(){M._keysAtom.reportChanged(),M._updateHasMapEntry(x,!1),M._data.get(x).setNewValue(void 0),M._data.delete(x)}),X&&Bo(this,ie),!0}return!1},w.prototype._updateHasMapEntry=function(x,M){var X=this._hasMap.get(x);X&&X.setNewValue(M)},w.prototype._updateValue=function(x,M){var X=this._data.get(x);if((M=X.prepareNewValue(M))!==hr.UNCHANGED){var ie=ai(this),Ce=ie?{type:"update",object:this,oldValue:X.value,name:x,newValue:M}:null;X.setNewValue(M),ie&&Bo(this,Ce)}},w.prototype._addValue=function(x,M){var X=this;jr(this._keysAtom),Do(function(){var nt=new pn(M,X.enhancer,X.name+"."+be(x),!1);X._data.set(x,nt),M=nt.value,X._updateHasMapEntry(x,!0),X._keysAtom.reportChanged()});var ie=ai(this),Ce=ie?{type:"add",object:this,name:x,newValue:M}:null;ie&&Bo(this,Ce)},w.prototype.get=function(x){return this.has(x)?this.dehanceValue(this._data.get(x).get()):this.dehanceValue(void 0)},w.prototype.dehanceValue=function(x){return this.dehancer!==void 0?this.dehancer(x):x},w.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},w.prototype.values=function(){var x=this,M=this.keys();return cn({next:function(){var X=M.next(),ie=X.done,Ce=X.value;return{done:ie,value:ie?void 0:x.get(Ce)}}})},w.prototype.entries=function(){var x=this,M=this.keys();return cn({next:function(){var X=M.next(),ie=X.done,Ce=X.value;return{done:ie,value:ie?void 0:[Ce,x.get(Ce)]}}})},w.prototype[ns=ee,Symbol.iterator]=function(){return this.entries()},w.prototype.forEach=function(x,M){var X,ie;try{for(var Ce=ke(this),nt=Ce.next();!nt.done;nt=Ce.next()){var It=it(nt.value,2),ar=It[0],Qr=It[1];x.call(M,Qr,ar,this)}}catch(Kt){X={error:Kt}}finally{try{nt&&!nt.done&&(ie=Ce.return)&&ie.call(Ce)}finally{if(X)throw X.error}}},w.prototype.merge=function(x){var M=this;return _o(x)&&(x=x.toJS()),Do(function(){var X=$r(!0);try{C(x)?_e(x).forEach(function(ie){return M.set(ie,x[ie])}):Array.isArray(x)?x.forEach(function(ie){var Ce=it(ie,2),nt=Ce[0],It=Ce[1];return M.set(nt,It)}):H(x)?(x.constructor!==Map&&O("Cannot initialize from classes that inherit from Map: "+x.constructor.name),x.forEach(function(ie,Ce){return M.set(Ce,ie)})):x!=null&&O("Cannot initialize map from "+x)}finally{Nn(X)}}),this},w.prototype.clear=function(){var x=this;Do(function(){Le(function(){var M,X;try{for(var ie=ke(x.keys()),Ce=ie.next();!Ce.done;Ce=ie.next()){var nt=Ce.value;x.delete(nt)}}catch(It){M={error:It}}finally{try{Ce&&!Ce.done&&(X=ie.return)&&X.call(ie)}finally{if(M)throw M.error}}})})},w.prototype.replace=function(x){var M=this;return Do(function(){var X,ie,Ce,nt,It=function(Ao){if(H(Ao)||_o(Ao))return Ao;if(Array.isArray(Ao))return new Map(Ao);if(C(Ao)){var qa=new Map;for(var Ra in Ao)qa.set(Ra,Ao[Ra]);return qa}return O("Cannot convert to map from '"+Ao+"'")}(x),ar=new Map,Qr=!1;try{for(var Kt=ke(M._data.keys()),Sn=Kt.next();!Sn.done;Sn=Kt.next()){var Zr=Sn.value;if(!It.has(Zr))if(M.delete(Zr))Qr=!0;else{var gn=M._data.get(Zr);ar.set(Zr,gn)}}}catch(Ao){X={error:Ao}}finally{try{Sn&&!Sn.done&&(ie=Kt.return)&&ie.call(Kt)}finally{if(X)throw X.error}}try{for(var Si=ke(It.entries()),qn=Si.next();!qn.done;qn=Si.next()){var gi=it(qn.value,2),Ta=(Zr=gi[0],gn=gi[1],M._data.has(Zr));if(M.set(Zr,gn),M._data.has(Zr)){var Pa=M._data.get(Zr);ar.set(Zr,Pa),Ta||(Qr=!0)}}}catch(Ao){Ce={error:Ao}}finally{try{qn&&!qn.done&&(nt=Si.return)&&nt.call(Si)}finally{if(Ce)throw Ce.error}}if(!Qr)if(M._data.size!==ar.size)M._keysAtom.reportChanged();else for(var Ka=M._data.keys(),xu=ar.keys(),ia=Ka.next(),Su=xu.next();!ia.done;){if(ia.value!==Su.value){M._keysAtom.reportChanged();break}ia=Ka.next(),Su=xu.next()}M._data=ar}),this},Object.defineProperty(w.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),w.prototype.toPOJO=function(){var x,M,X={};try{for(var ie=ke(this),Ce=ie.next();!Ce.done;Ce=ie.next()){var nt=it(Ce.value,2),It=nt[0],ar=nt[1];X[typeof It=="symbol"?It:be(It)]=ar}}catch(Qr){x={error:Qr}}finally{try{Ce&&!Ce.done&&(M=ie.return)&&M.call(ie)}finally{if(x)throw x.error}}return X},w.prototype.toJS=function(){return new Map(this)},w.prototype.toJSON=function(){return this.toPOJO()},w.prototype.toString=function(){var x=this;return this.name+"[{ "+Array.from(this.keys()).map(function(M){return be(M)+": "+x.get(M)}).join(", ")+" }]"},w.prototype.observe=function(x,M){return Hi(this,x)},w.prototype.intercept=function(x){return Ii(this,x)},w}(),_o=G("ObservableMap",Fc),Ya={},oa=function(){function w(x,M,X){if(M===void 0&&(M=Lt),X===void 0&&(X="ObservableSet@"+b()),this.name=X,this[Lc]=Ya,this._data=new Set,this._atom=re(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(ie,Ce){return M(ie,Ce,X)},x&&this.replace(x)}return w.prototype.dehanceValue=function(x){return this.dehancer!==void 0?this.dehancer(x):x},w.prototype.clear=function(){var x=this;Do(function(){Le(function(){var M,X;try{for(var ie=ke(x._data.values()),Ce=ie.next();!Ce.done;Ce=ie.next()){var nt=Ce.value;x.delete(nt)}}catch(It){M={error:It}}finally{try{Ce&&!Ce.done&&(X=ie.return)&&X.call(ie)}finally{if(M)throw M.error}}})})},w.prototype.forEach=function(x,M){var X,ie;try{for(var Ce=ke(this),nt=Ce.next();!nt.done;nt=Ce.next()){var It=nt.value;x.call(M,It,It,this)}}catch(ar){X={error:ar}}finally{try{nt&&!nt.done&&(ie=Ce.return)&&ie.call(Ce)}finally{if(X)throw X.error}}},Object.defineProperty(w.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),w.prototype.add=function(x){var M=this;if(jr(this._atom),vi(this)&&!(ie=sn(this,{type:"add",object:this,newValue:x})))return this;if(!this.has(x)){Do(function(){M._data.add(M.enhancer(x,void 0)),M._atom.reportChanged()});var X=ai(this),ie=X?{type:"add",object:this,newValue:x}:null;X&&Bo(this,ie)}return this},w.prototype.delete=function(x){var M=this;if(vi(this)&&!(ie=sn(this,{type:"delete",object:this,oldValue:x})))return!1;if(this.has(x)){var X=ai(this),ie=X?{type:"delete",object:this,oldValue:x}:null;return Do(function(){M._atom.reportChanged(),M._data.delete(x)}),X&&Bo(this,ie),!0}return!1},w.prototype.has=function(x){return this._atom.reportObserved(),this._data.has(this.dehanceValue(x))},w.prototype.entries=function(){var x=0,M=Array.from(this.keys()),X=Array.from(this.values());return cn({next:function(){var ie=x;return x+=1,ie<X.length?{value:[M[ie],X[ie]],done:!1}:{done:!0}}})},w.prototype.keys=function(){return this.values()},w.prototype.values=function(){this._atom.reportObserved();var x=this,M=0,X=Array.from(this._data.values());return cn({next:function(){return M<X.length?{value:x.dehanceValue(X[M++]),done:!1}:{done:!0}}})},w.prototype.replace=function(x){var M=this;return So(x)&&(x=x.toJS()),Do(function(){var X=$r(!0);try{Array.isArray(x)||ue(x)?(M.clear(),x.forEach(function(ie){return M.add(ie)})):x!=null&&O("Cannot initialize set from "+x)}finally{Nn(X)}}),this},w.prototype.observe=function(x,M){return Hi(this,x)},w.prototype.intercept=function(x){return Ii(this,x)},w.prototype.toJS=function(){return new Set(this)},w.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},w.prototype[Lc=ee,Symbol.iterator]=function(){return this.values()},w}(),So=G("ObservableSet",oa),Bc=function(){function w(x,M,X,ie){M===void 0&&(M=new Map),this.target=x,this.values=M,this.name=X,this.defaultEnhancer=ie,this.keysAtom=new $(X+".keys")}return w.prototype.read=function(x){return this.values.get(x).get()},w.prototype.write=function(x,M){var X=this.target,ie=this.values.get(x);if(ie instanceof ta)ie.set(M);else{if(vi(this)){if(!(nt=sn(this,{type:"update",object:this.proxy||X,name:x,newValue:M})))return;M=nt.newValue}if((M=ie.prepareNewValue(M))!==hr.UNCHANGED){var Ce=ai(this),nt=Ce?{type:"update",object:this.proxy||X,oldValue:ie.value,name:x,newValue:M}:null;ie.setNewValue(M),Ce&&Bo(this,nt)}}},w.prototype.has=function(x){var M=this.pendingKeys||(this.pendingKeys=new Map),X=M.get(x);if(X)return X.get();var ie=!!this.values.get(x);return X=new pn(ie,tr,this.name+"."+be(x)+"?",!1),M.set(x,X),X.get()},w.prototype.addObservableProp=function(x,M,X){X===void 0&&(X=this.defaultEnhancer);var ie=this.target;if(vi(this)){var Ce=sn(this,{object:this.proxy||ie,name:x,type:"add",newValue:M});if(!Ce)return;M=Ce.newValue}var nt=new pn(M,X,this.name+"."+be(x),!1);this.values.set(x,nt),M=nt.value,Object.defineProperty(ie,x,function(It){return ki[It]||(ki[It]={configurable:!0,enumerable:!0,get:function(){return this[ee].read(It)},set:function(ar){this[ee].write(It,ar)}})}(x)),this.notifyPropertyAddition(x,M)},w.prototype.addComputedProp=function(x,M,X){var ie,Ce,nt,It=this.target;X.name=X.name||this.name+"."+be(M),this.values.set(M,new ta(X)),(x===It||(ie=x,Ce=M,!(nt=Object.getOwnPropertyDescriptor(ie,Ce))||nt.configurable!==!1&&nt.writable!==!1))&&Object.defineProperty(x,M,function(ar){return Bs[ar]||(Bs[ar]={configurable:hr.computedConfigurable,enumerable:!1,get:function(){return ui(this).read(ar)},set:function(Qr){ui(this).write(ar,Qr)}})}(M))},w.prototype.remove=function(x){if(this.values.has(x)){var M=this.target;if(vi(this)&&!(ar=sn(this,{object:this.proxy||M,name:x,type:"remove"})))return;try{hi();var X=ai(this),ie=!1,Ce=this.values.get(x),nt=Ce&&Ce.get();if(Ce&&Ce.set(void 0),this.keysAtom.reportChanged(),this.values.delete(x),this.pendingKeys){var It=this.pendingKeys.get(x);It&&It.set(!1)}delete this.target[x];var ar=X?{type:"remove",object:this.proxy||M,oldValue:nt,name:x}:null;X&&Bo(this,ar)}finally{Ei()}}},w.prototype.illegalAccess=function(x,M){},w.prototype.observe=function(x,M){return Hi(this,x)},w.prototype.intercept=function(x){return Ii(this,x)},w.prototype.notifyPropertyAddition=function(x,M){var X=ai(this),ie=X?{type:"add",object:this.proxy||this.target,name:x,newValue:M}:null;if(X&&Bo(this,ie),this.pendingKeys){var Ce=this.pendingKeys.get(x);Ce&&Ce.set(!0)}this.keysAtom.reportChanged()},w.prototype.getKeys=function(){var x,M;this.keysAtom.reportObserved();var X=[];try{for(var ie=ke(this.values),Ce=ie.next();!Ce.done;Ce=ie.next()){var nt=it(Ce.value,2),It=nt[0];nt[1]instanceof pn&&X.push(It)}}catch(ar){x={error:ar}}finally{try{Ce&&!Ce.done&&(M=ie.return)&&M.call(ie)}finally{if(x)throw x.error}}return X},w}();function wi(w,x,M){if(x===void 0&&(x=""),M===void 0&&(M=Lt),Object.prototype.hasOwnProperty.call(w,ee))return w[ee];C(w)||(x=(w.constructor.name||"ObservableObject")+"@"+b()),x||(x="ObservableObject@"+b());var X=new Bc(w,new Map,be(x),M);return k(w,ee,X),X}var ki=Object.create(null),Bs=Object.create(null);function ui(w){var x=w[ee];return x||(lt(w),w[ee])}var yi=G("ObservableObjectAdministration",Bc);function ko(w){return!!I(w)&&(lt(w),yi(w[ee]))}function xi(w,x){if(typeof w=="object"&&w!==null){if(Di(w))return x!==void 0&&O(!1),w[ee].atom;if(So(w))return w[ee];if(_o(w)){var M=w;return x===void 0?M._keysAtom:((X=M._data.get(x)||M._hasMap.get(x))||O(!1),X)}var X;if(lt(w),x&&!w[ee]&&w[x],ko(w))return x?((X=w[ee].values.get(x))||O(!1),X):O(!1);if(J(w)||Sa(w)||rs(w))return w}else if(typeof w=="function"&&rs(w[ee]))return w[ee];return O(!1)}function Qo(w,x){return w||O("Expecting some object"),x!==void 0?Qo(xi(w,x)):J(w)||Sa(w)||rs(w)||_o(w)||So(w)?w:(lt(w),w[ee]?w[ee]:void O(!1))}var Ze=Object.prototype.toString;function Ot(w,x,M){return M===void 0&&(M=-1),At(w,x,M)}function At(w,x,M,X,ie){if(w===x)return w!==0||1/w==1/x;if(w==null||x==null)return!1;if(w!=w)return x!=x;var Ce=typeof w;if(Ce!=="function"&&Ce!=="object"&&typeof x!="object")return!1;var nt=Ze.call(w);if(nt!==Ze.call(x))return!1;switch(nt){case"[object RegExp]":case"[object String]":return""+w==""+x;case"[object Number]":return+w!=+w?+x!=+x:+w==0?1/+w==1/x:+w==+x;case"[object Date]":case"[object Boolean]":return+w==+x;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(w)===Symbol.valueOf.call(x);case"[object Map]":case"[object Set]":M>=0&&M++}w=Jt(w),x=Jt(x);var It=nt==="[object Array]";if(!It){if(typeof w!="object"||typeof x!="object")return!1;var ar=w.constructor,Qr=x.constructor;if(ar!==Qr&&!(typeof ar=="function"&&ar instanceof ar&&typeof Qr=="function"&&Qr instanceof Qr)&&"constructor"in w&&"constructor"in x)return!1}if(M===0)return!1;M<0&&(M=-1),ie=ie||[];for(var Kt=(X=X||[]).length;Kt--;)if(X[Kt]===w)return ie[Kt]===x;if(X.push(w),ie.push(x),It){if((Kt=w.length)!==x.length)return!1;for(;Kt--;)if(!At(w[Kt],x[Kt],M-1,X,ie))return!1}else{var Sn=Object.keys(w),Zr=void 0;if(Kt=Sn.length,Object.keys(x).length!==Kt)return!1;for(;Kt--;)if(!Wr(x,Zr=Sn[Kt])||!At(w[Zr],x[Zr],M-1,X,ie))return!1}return X.pop(),ie.pop(),!0}function Jt(w){return Di(w)?w.slice():H(w)||_o(w)||ue(w)||So(w)?Array.from(w.entries()):w}function Wr(w,x){return Object.prototype.hasOwnProperty.call(w,x)}function cn(w){return w[Symbol.iterator]=zn,w}function zn(){return this}if(typeof Proxy>"u"||typeof Symbol>"u")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Pc,extras:{getDebugName:function(w,x){return(x!==void 0?xi(w,x):ko(w)||_o(w)||So(w)?Qo(w):xi(w)).name}},$mobx:ee})}).call(this,n(163),n(68))},function(r,a,n){var c=n(113),f=n(42),y=n(179);c||f(Object.prototype,"toString",y,{unsafe:!0})},function(r,a,n){var c=n(41),f=n(100),y=n(80),v=n(58),b=n(116),O="Array Iterator",S=v.set,P=v.getterFor(O);r.exports=b(Array,"Array",function(j,I){S(this,{type:O,target:c(j),index:0,kind:I})},function(){var j=P(this),I=j.target,C=j.kind,k=j.index++;return!I||k>=I.length?(j.target=void 0,{value:void 0,done:!0}):C=="keys"?{value:k,done:!1}:C=="values"?{value:I[k],done:!1}:{value:[k,I[k]],done:!1}},"values"),y.Arguments=y.Array,f("keys"),f("values"),f("entries")},function(r,a,n){var c=n(16),f=n(7),y=n(46),v=n(76),b=n(34),O=n(15),S=n(71),P=n(36),j=n(108),I=n(18),C=n(35),k=n(96),G=n(30),H=n(33),ue=n(54),_e=n(87),be=n(32),ce=n(40),fe=n(41),ee=n(86),$=n(39),J=n(69),re=n(60),z=n(77),Oe=n(74),We=n(139),ke=n(112),it=n(50),at=n(38),$e=n(84),ae=n(98),pe=n(42),Se=n(89),Ye=n(93),lt=n(72),Pt=n(90),Rt=n(28),Lt=n(140),tr=n(141),Te=n(78),de=n(58),Ae=n(79).forEach,st=Ye("hidden"),kt="Symbol",ht=Rt("toPrimitive"),Wt=de.set,or=de.getterFor(kt),vr=Object.prototype,rr=f.Symbol,et=rr&&rr.prototype,lr=f.TypeError,Ne=f.QObject,ir=y("JSON","stringify"),Br=it.f,V=at.f,Gr=We.f,dn=$e.f,Mn=O([].push),Xn=Se("symbols"),jr=Se("op-symbols"),fo=Se("string-to-symbol-registry"),ve=Se("symbol-to-string-registry"),Le=Se("wks"),xe=!Ne||!Ne.prototype||!Ne.prototype.findChild,Ke=P&&I(function(){return re(V({},"a",{get:function(){return V(this,"a",{value:7}).a}})).a!=7})?function(fr,wr,Nr){var $r=Br(vr,wr);$r&&delete vr[wr],V(fr,wr,Nr),$r&&fr!==vr&&V(vr,wr,$r)}:V,zt=function(fr,wr){var Nr=Xn[fr]=re(et);return Wt(Nr,{type:kt,tag:fr,description:wr}),P||(Nr.description=wr),Nr},Ft=function(fr,wr,Nr){fr===vr&&Ft(jr,wr,Nr),be(fr);var $r=ee(wr);return be(Nr),C(Xn,$r)?(Nr.enumerable?(C(fr,st)&&fr[st][$r]&&(fr[st][$r]=!1),Nr=re(Nr,{enumerable:J(0,!1)})):(C(fr,st)||V(fr,st,J(1,{})),fr[st][$r]=!0),Ke(fr,$r,Nr)):V(fr,$r,Nr)},yr=function(fr,wr){be(fr);var Nr=fe(wr),$r=z(Nr).concat(bo(Nr));return Ae($r,function(Nn){P&&!b(rn,Nr,Nn)||Ft(fr,Nn,Nr[Nn])}),fr},rn=function(fr){var wr=ee(fr),Nr=b(dn,this,wr);return!(this===vr&&C(Xn,wr)&&!C(jr,wr))&&(!(Nr||!C(this,wr)||!C(Xn,wr)||C(this,st)&&this[st][wr])||Nr)},Co=function(fr,wr){var Nr=fe(fr),$r=ee(wr);if(Nr!==vr||!C(Xn,$r)||C(jr,$r)){var Nn=Br(Nr,$r);return!Nn||!C(Xn,$r)||C(Nr,st)&&Nr[st][$r]||(Nn.enumerable=!0),Nn}},$o=function(fr){var wr=Gr(fe(fr)),Nr=[];return Ae(wr,function($r){C(Xn,$r)||C(lt,$r)||Mn(Nr,$r)}),Nr},bo=function(fr){var wr=fr===vr,Nr=Gr(wr?jr:fe(fr)),$r=[];return Ae(Nr,function(Nn){!C(Xn,Nn)||wr&&!C(vr,Nn)||Mn($r,Xn[Nn])}),$r};if(j||(rr=function(){if(ue(et,this))throw lr("Symbol is not a constructor");var fr=arguments.length&&arguments[0]!==void 0?$(arguments[0]):void 0,wr=Pt(fr),Nr=function($r){this===vr&&b(Nr,jr,$r),C(this,st)&&C(this[st],wr)&&(this[st][wr]=!1),Ke(this,wr,J(1,$r))};return P&&xe&&Ke(vr,wr,{configurable:!0,set:Nr}),zt(wr,fr)},pe(et=rr.prototype,"toString",function(){return or(this).tag}),pe(rr,"withoutSetter",function(fr){return zt(Pt(fr),fr)}),$e.f=rn,at.f=Ft,it.f=Co,Oe.f=We.f=$o,ke.f=bo,Lt.f=function(fr){return zt(Rt(fr),fr)},P&&(V(et,"description",{configurable:!0,get:function(){return or(this).description}}),S||pe(vr,"propertyIsEnumerable",rn,{unsafe:!0}))),c({global:!0,wrap:!0,forced:!j,sham:!j},{Symbol:rr}),Ae(z(Le),function(fr){tr(fr)}),c({target:kt,stat:!0,forced:!j},{for:function(fr){var wr=$(fr);if(C(fo,wr))return fo[wr];var Nr=rr(wr);return fo[wr]=Nr,ve[Nr]=wr,Nr},keyFor:function(fr){if(!_e(fr))throw lr(fr+" is not a symbol");if(C(ve,fr))return ve[fr]},useSetter:function(){xe=!0},useSimple:function(){xe=!1}}),c({target:"Object",stat:!0,forced:!j,sham:!P},{create:function(fr,wr){return wr===void 0?re(fr):yr(re(fr),wr)},defineProperty:Ft,defineProperties:yr,getOwnPropertyDescriptor:Co}),c({target:"Object",stat:!0,forced:!j},{getOwnPropertyNames:$o,getOwnPropertySymbols:bo}),c({target:"Object",stat:!0,forced:I(function(){ke.f(1)})},{getOwnPropertySymbols:function(fr){return ke.f(ce(fr))}}),ir&&c({target:"JSON",stat:!0,forced:!j||I(function(){var fr=rr();return ir([fr])!="[null]"||ir({a:fr})!="{}"||ir(Object(fr))!="{}"})},{stringify:function(fr,wr,Nr){var $r=ae(arguments),Nn=wr;if((H(wr)||fr!==void 0)&&!_e(fr))return k(wr)||(wr=function(pn,xa){if(G(Nn)&&(xa=b(Nn,this,pn,xa)),!_e(xa))return xa}),$r[1]=wr,v(ir,null,$r)}}),!et[ht]){var xo=et.valueOf;pe(et,ht,function(fr){return b(xo,this)})}Te(rr,kt),lt[st]=!0},function(r,a,n){var c=n(7),f=n(152),y=n(153),v=n(3),b=n(57),O=n(28),S=O("iterator"),P=O("toStringTag"),j=v.values,I=function(k,G){if(k){if(k[S]!==j)try{b(k,S,j)}catch{k[S]=j}if(k[P]||b(k,P,G),f[G]){for(var H in v)if(k[H]!==v[H])try{b(k,H,v[H])}catch{k[H]=v[H]}}}};for(var C in f)I(c[C]&&c[C].prototype,C);I(y,"DOMTokenList")},function(r,a,n){var c=n(151).charAt,f=n(39),y=n(58),v=n(116),b="String Iterator",O=y.set,S=y.getterFor(b);v(String,"String",function(P){O(this,{type:b,string:f(P),index:0})},function(){var P,j=S(this),I=j.string,C=j.index;return C>=I.length?{value:void 0,done:!0}:(P=c(I,C),j.index+=P.length,{value:P,done:!1})})},function(r,a,n){(function(c){var f=function(y){return y&&y.Math==Math&&y};r.exports=f(typeof globalThis=="object"&&globalThis)||f(typeof window=="object"&&window)||f(typeof self=="object"&&self)||f(typeof c=="object"&&c)||function(){return this}()||Function("return this")()}).call(this,n(68))},function(r,a,n){var c=n(16),f=n(36),y=n(7),v=n(15),b=n(35),O=n(30),S=n(54),P=n(39),j=n(38).f,I=n(134),C=y.Symbol,k=C&&C.prototype;if(f&&O(C)&&(!("description"in k)||C().description!==void 0)){var G={},H=function(){var $=arguments.length<1||arguments[0]===void 0?void 0:P(arguments[0]),J=S(k,this)?new C($):$===void 0?C():C($);return $===""&&(G[J]=!0),J};I(H,C),H.prototype=k,k.constructor=H;var ue=String(C("test"))=="Symbol(test)",_e=v(k.toString),be=v(k.valueOf),ce=/^Symbol\((.*)\)[^)]+$/,fe=v("".replace),ee=v("".slice);j(k,"description",{configurable:!0,get:function(){var $=be(this),J=_e($);if(b(G,$))return"";var re=ue?ee(J,7,-1):fe(J,ce,"$1");return re===""?void 0:re}}),c({global:!0,forced:!0},{Symbol:H})}},function(r,a,n){n(141)("iterator")},function(r,a,n){n.d(a,"a",function(){return v.a}),n.d(a,"c",function(){return v.e}),n.d(a,"h",function(){return ce}),n.d(a,"i",function(){return ue}),n.d(a,"j",function(){return G}),n.d(a,"b",function(){return it}),n.d(a,"e",function(){return pe}),n.d(a,"f",function(){return at}),n.d(a,"g",function(){return Xn});var c,f,y,v=n(0),b=0,O=[],S=v.i.__b,P=v.i.__r,j=v.i.diffed,I=v.i.__c,C=v.i.unmount;function k(ve,Le){v.i.__h&&v.i.__h(f,ve,b||Le),b=0;var xe=f.__H||(f.__H={__:[],__h:[]});return ve>=xe.__.length&&xe.__.push({}),xe.__[ve]}function G(ve){return b=1,H(Oe,ve)}function H(ve,Le,xe){var Ke=k(c++,2);return Ke.t=ve,Ke.__c||(Ke.__=[xe?xe(Le):Oe(void 0,Le),function(zt){var Ft=Ke.t(Ke.__[0],zt);Ke.__[0]!==Ft&&(Ke.__=[Ft,Ke.__[1]],Ke.__c.setState({}))}],Ke.__c=f),Ke.__}function ue(ve,Le){var xe=k(c++,3);!v.i.__s&&z(xe.__H,Le)&&(xe.__=ve,xe.__H=Le,f.__H.__h.push(xe))}function _e(ve,Le){var xe=k(c++,4);!v.i.__s&&z(xe.__H,Le)&&(xe.__=ve,xe.__H=Le,f.__h.push(xe))}function be(ve,Le){var xe=k(c++,7);return z(xe.__H,Le)&&(xe.__=ve(),xe.__H=Le,xe.__h=ve),xe.__}function ce(ve,Le){return b=8,be(function(){return ve},Le)}function fe(){var ve;for(O.sort(function(Le,xe){return Le.__v.__b-xe.__v.__b});ve=O.pop();)if(ve.__P)try{ve.__H.__h.forEach(J),ve.__H.__h.forEach(re),ve.__H.__h=[]}catch(Le){ve.__H.__h=[],v.i.__e(Le,ve.__v)}}v.i.__b=function(ve){f=null,S&&S(ve)},v.i.__r=function(ve){P&&P(ve),c=0;var Le=(f=ve.__c).__H;Le&&(Le.__h.forEach(J),Le.__h.forEach(re),Le.__h=[])},v.i.diffed=function(ve){j&&j(ve);var Le=ve.__c;Le&&Le.__H&&Le.__H.__h.length&&(O.push(Le)!==1&&y===v.i.requestAnimationFrame||((y=v.i.requestAnimationFrame)||$)(fe)),f=null},v.i.__c=function(ve,Le){Le.some(function(xe){try{xe.__h.forEach(J),xe.__h=xe.__h.filter(function(Ke){return!Ke.__||re(Ke)})}catch(Ke){Le.some(function(zt){zt.__h&&(zt.__h=[])}),Le=[],v.i.__e(Ke,xe.__v)}}),I&&I(ve,Le)},v.i.unmount=function(ve){C&&C(ve);var Le,xe=ve.__c;xe&&xe.__H&&(xe.__H.__.forEach(function(Ke){try{J(Ke)}catch(zt){Le=zt}}),Le&&v.i.__e(Le,xe.__v))};var ee=typeof requestAnimationFrame=="function";function $(ve){var Le,xe=function(){clearTimeout(Ke),ee&&cancelAnimationFrame(Le),setTimeout(ve)},Ke=setTimeout(xe,100);ee&&(Le=requestAnimationFrame(xe))}function J(ve){var Le=f,xe=ve.__c;typeof xe=="function"&&(ve.__c=void 0,xe()),f=Le}function re(ve){var Le=f;ve.__c=ve.__(),f=Le}function z(ve,Le){return!ve||ve.length!==Le.length||Le.some(function(xe,Ke){return xe!==ve[Ke]})}function Oe(ve,Le){return typeof Le=="function"?Le(ve):Le}function We(ve,Le){for(var xe in Le)ve[xe]=Le[xe];return ve}function ke(ve,Le){for(var xe in ve)if(xe!=="__source"&&!(xe in Le))return!0;for(var Ke in Le)if(Ke!=="__source"&&ve[Ke]!==Le[Ke])return!0;return!1}function it(ve){this.props=ve}function at(ve,Le){function xe(zt){var Ft=this.props.ref,yr=Ft==zt.ref;return!yr&&Ft&&(Ft.call?Ft(null):Ft.current=null),Le?!Le(this.props,zt)||!yr:ke(this.props,zt)}function Ke(zt){return this.shouldComponentUpdate=xe,Object(v.e)(ve,zt)}return Ke.displayName="Memo("+(ve.displayName||ve.name)+")",Ke.prototype.isReactComponent=!0,Ke.__f=!0,Ke}(it.prototype=new v.a).isPureReactComponent=!0,it.prototype.shouldComponentUpdate=function(ve,Le){return ke(this.props,ve)||ke(this.state,Le)};var $e=v.i.__b;v.i.__b=function(ve){ve.type&&ve.type.__f&&ve.ref&&(ve.props.ref=ve.ref,ve.ref=null),$e&&$e(ve)};var ae=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function pe(ve){function Le(xe,Ke){var zt=We({},xe);return delete zt.ref,ve(zt,!(Ke=xe.ref||Ke)||typeof Ke=="object"&&!("current"in Ke)?null:Ke)}return Le.$$typeof=ae,Le.render=Le,Le.prototype.isReactComponent=Le.__f=!0,Le.displayName="ForwardRef("+(ve.displayName||ve.name)+")",Le}var Se=function(ve,Le){return ve==null?null:Object(v.k)(Object(v.k)(ve).map(Le))},Ye={map:Se,forEach:Se,count:function(ve){return ve?Object(v.k)(ve).length:0},only:function(ve){var Le=Object(v.k)(ve);if(Le.length!==1)throw"Children.only";return Le[0]},toArray:v.k},lt=v.i.__e;v.i.__e=function(ve,Le,xe){if(ve.then){for(var Ke,zt=Le;zt=zt.__;)if((Ke=zt.__c)&&Ke.__c)return Le.__e==null&&(Le.__e=xe.__e,Le.__k=xe.__k),Ke.__c(ve,Le)}lt(ve,Le,xe)};var Pt=v.i.unmount;function Rt(ve,Le,xe){return ve&&(ve.__c&&ve.__c.__H&&(ve.__c.__H.__.forEach(function(Ke){typeof Ke.__c=="function"&&Ke.__c()}),ve.__c.__H=null),(ve=We({},ve)).__c!=null&&(ve.__c.__P===xe&&(ve.__c.__P=Le),ve.__c=null),ve.__k=ve.__k&&ve.__k.map(function(Ke){return Rt(Ke,Le,xe)})),ve}function Lt(ve,Le,xe){return ve&&(ve.__v=null,ve.__k=ve.__k&&ve.__k.map(function(Ke){return Lt(Ke,Le,xe)}),ve.__c&&ve.__c.__P===Le&&(ve.__e&&xe.insertBefore(ve.__e,ve.__d),ve.__c.__e=!0,ve.__c.__P=xe)),ve}function tr(){this.__u=0,this.t=null,this.__b=null}function Te(ve){var Le=ve.__.__c;return Le&&Le.__e&&Le.__e(ve)}function de(){this.u=null,this.o=null}v.i.unmount=function(ve){var Le=ve.__c;Le&&Le.__R&&Le.__R(),Le&&ve.__h===!0&&(ve.type=null),Pt&&Pt(ve)},(tr.prototype=new v.a).__c=function(ve,Le){var xe=Le.__c,Ke=this;Ke.t==null&&(Ke.t=[]),Ke.t.push(xe);var zt=Te(Ke.__v),Ft=!1,yr=function(){Ft||(Ft=!0,xe.__R=null,zt?zt(rn):rn())};xe.__R=yr;var rn=function(){if(!--Ke.__u){if(Ke.state.__e){var $o=Ke.state.__e;Ke.__v.__k[0]=Lt($o,$o.__c.__P,$o.__c.__O)}var bo;for(Ke.setState({__e:Ke.__b=null});bo=Ke.t.pop();)bo.forceUpdate()}},Co=Le.__h===!0;Ke.__u++||Co||Ke.setState({__e:Ke.__b=Ke.__v.__k[0]}),ve.then(yr,yr)},tr.prototype.componentWillUnmount=function(){this.t=[]},tr.prototype.render=function(ve,Le){if(this.__b){if(this.__v.__k){var xe=document.createElement("div"),Ke=this.__v.__k[0].__c;this.__v.__k[0]=Rt(this.__b,xe,Ke.__O=Ke.__P)}this.__b=null}var zt=Le.__e&&Object(v.e)(v.b,null,ve.fallback);return zt&&(zt.__h=null),[Object(v.e)(v.b,null,Le.__e?null:ve.children),zt]};var Ae=function(ve,Le,xe){if(++xe[1]===xe[0]&&ve.o.delete(Le),ve.props.revealOrder&&(ve.props.revealOrder[0]!=="t"||!ve.o.size))for(xe=ve.u;xe;){for(;xe.length>3;)xe.pop()();if(xe[1]<xe[0])break;ve.u=xe=xe[2]}};function st(ve){return this.getChildContext=function(){return ve.context},ve.children}function kt(ve){var Le=this,xe=ve.i;Le.componentWillUnmount=function(){Object(v.j)(null,Le.l),Le.l=null,Le.i=null},Le.i&&Le.i!==xe&&Le.componentWillUnmount(),ve.__v?(Le.l||(Le.i=xe,Le.l={nodeType:1,parentNode:xe,childNodes:[],appendChild:function(Ke){this.childNodes.push(Ke),Le.i.appendChild(Ke)},insertBefore:function(Ke,zt){this.childNodes.push(Ke),Le.i.appendChild(Ke)},removeChild:function(Ke){this.childNodes.splice(this.childNodes.indexOf(Ke)>>>1,1),Le.i.removeChild(Ke)}}),Object(v.j)(Object(v.e)(st,{context:Le.context},ve.__v),Le.l)):Le.l&&Le.componentWillUnmount()}(de.prototype=new v.a).__e=function(ve){var Le=this,xe=Te(Le.__v),Ke=Le.o.get(ve);return Ke[0]++,function(zt){var Ft=function(){Le.props.revealOrder?(Ke.push(zt),Ae(Le,ve,Ke)):zt()};xe?xe(Ft):Ft()}},de.prototype.render=function(ve){this.u=null,this.o=new Map;var Le=Object(v.k)(ve.children);ve.revealOrder&&ve.revealOrder[0]==="b"&&Le.reverse();for(var xe=Le.length;xe--;)this.o.set(Le[xe],this.u=[1,0,this.u]);return ve.children},de.prototype.componentDidUpdate=de.prototype.componentDidMount=function(){var ve=this;this.o.forEach(function(Le,xe){Ae(ve,xe,Le)})};var ht=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Wt=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,or=typeof document<"u",vr=function(ve){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(ve)};v.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(ve){Object.defineProperty(v.a.prototype,ve,{configurable:!0,get:function(){return this["UNSAFE_"+ve]},set:function(Le){Object.defineProperty(this,ve,{configurable:!0,writable:!0,value:Le})}})});var rr=v.i.event;function et(){}function lr(){return this.cancelBubble}function Ne(){return this.defaultPrevented}v.i.event=function(ve){return rr&&(ve=rr(ve)),ve.persist=et,ve.isPropagationStopped=lr,ve.isDefaultPrevented=Ne,ve.nativeEvent=ve};var ir,Br={configurable:!0,get:function(){return this.class}},V=v.i.vnode;v.i.vnode=function(ve){var Le=ve.type,xe=ve.props,Ke=xe;if(typeof Le=="string"){var zt=Le.indexOf("-")===-1;for(var Ft in Ke={},xe){var yr=xe[Ft];or&&Ft==="children"&&Le==="noscript"||Ft==="value"&&"defaultValue"in xe&&yr==null||(Ft==="defaultValue"&&"value"in xe&&xe.value==null?Ft="value":Ft==="download"&&yr===!0?yr="":/ondoubleclick/i.test(Ft)?Ft="ondblclick":/^onchange(textarea|input)/i.test(Ft+Le)&&!vr(xe.type)?Ft="oninput":/^onfocus$/i.test(Ft)?Ft="onfocusin":/^onblur$/i.test(Ft)?Ft="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(Ft)?Ft=Ft.toLowerCase():zt&&Wt.test(Ft)?Ft=Ft.replace(/[A-Z0-9]/,"-$&").toLowerCase():yr===null&&(yr=void 0),Ke[Ft]=yr)}Le=="select"&&Ke.multiple&&Array.isArray(Ke.value)&&(Ke.value=Object(v.k)(xe.children).forEach(function(rn){rn.props.selected=Ke.value.indexOf(rn.props.value)!=-1})),Le=="select"&&Ke.defaultValue!=null&&(Ke.value=Object(v.k)(xe.children).forEach(function(rn){rn.props.selected=Ke.multiple?Ke.defaultValue.indexOf(rn.props.value)!=-1:Ke.defaultValue==rn.props.value})),ve.props=Ke,xe.class!=xe.className&&(Br.enumerable="className"in xe,xe.className!=null&&(Ke.class=xe.className),Object.defineProperty(Ke,"className",Br))}ve.$$typeof=ht,V&&V(ve)};var Gr=v.i.__r;v.i.__r=function(ve){Gr&&Gr(ve),ir=ve.__c};var dn={ReactCurrentDispatcher:{current:{readContext:function(ve){return ir.__n[ve.__c].props.value}}}};function Mn(ve){return!!ve&&ve.$$typeof===ht}var Xn=function(ve,Le){return ve(Le)},jr=v.b,fo={useState:G,useReducer:H,useEffect:ue,useLayoutEffect:_e,useRef:function(ve){return b=5,be(function(){return{current:ve}},[])},useImperativeHandle:function(ve,Le,xe){b=6,_e(function(){typeof ve=="function"?ve(Le()):ve&&(ve.current=Le())},xe==null?xe:xe.concat(ve))},useMemo:be,useCallback:ce,useContext:function(ve){var Le=f.context[ve.__c],xe=k(c++,9);return xe.c=ve,Le?(xe.__==null&&(xe.__=!0,Le.sub(f)),Le.props.value):ve.__},useDebugValue:function(ve,Le){v.i.useDebugValue&&v.i.useDebugValue(Le?Le(ve):ve)},version:"17.0.2",Children:Ye,render:function(ve,Le,xe){return Le.__k==null&&(Le.textContent=""),Object(v.j)(ve,Le),typeof xe=="function"&&xe(),ve?ve.__c:null},hydrate:function(ve,Le,xe){return Object(v.h)(ve,Le),typeof xe=="function"&&xe(),ve?ve.__c:null},unmountComponentAtNode:function(ve){return!!ve.__k&&(Object(v.j)(null,ve),!0)},createPortal:function(ve,Le){return Object(v.e)(kt,{__v:ve,i:Le})},createElement:v.e,createContext:v.d,createFactory:function(ve){return v.e.bind(null,ve)},cloneElement:function(ve){return Mn(ve)?v.c.apply(null,arguments):ve},createRef:v.f,Fragment:v.b,isValidElement:Mn,findDOMNode:function(ve){return ve&&(ve.base||ve.nodeType===1&&ve)||null},Component:v.a,PureComponent:it,memo:at,forwardRef:pe,flushSync:function(ve,Le){return ve(Le)},unstable_batchedUpdates:Xn,StrictMode:jr,Suspense:tr,SuspenseList:de,lazy:function(ve){var Le,xe,Ke;function zt(Ft){if(Le||(Le=ve()).then(function(yr){xe=yr.default||yr},function(yr){Ke=yr}),Ke)throw Ke;if(!xe)throw Le;return Object(v.e)(xe,Ft)}return zt.displayName="Lazy",zt.__f=!0,zt},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:dn};a.d=fo},function(r,a,n){var c=n(7),f=n(152),y=n(153),v=n(187),b=n(57),O=function(P){if(P&&P.forEach!==v)try{b(P,"forEach",v)}catch{P.forEach=v}};for(var S in f)f[S]&&O(c[S]&&c[S].prototype);O(y)},function(r,a,n){n(16)({target:"Object",stat:!0},{setPrototypeOf:n(102)})},function(r,a,n){var c=n(16),f=n(18),y=n(40),v=n(101),b=n(143);c({target:"Object",stat:!0,forced:f(function(){v(1)}),sham:!b},{getPrototypeOf:function(O){return v(y(O))}})},function(r,a,n){var c=n(16),f=n(46),y=n(76),v=n(203),b=n(165),O=n(32),S=n(33),P=n(60),j=n(18),I=f("Reflect","construct"),C=Object.prototype,k=[].push,G=j(function(){function _e(){}return!(I(function(){},[],_e)instanceof _e)}),H=!j(function(){I(function(){})}),ue=G||H;c({target:"Reflect",stat:!0,forced:ue,sham:ue},{construct:function(_e,be){b(_e),O(be);var ce=arguments.length<3?_e:b(arguments[2]);if(H&&!G)return I(_e,be,ce);if(_e==ce){switch(be.length){case 0:return new _e;case 1:return new _e(be[0]);case 2:return new _e(be[0],be[1]);case 3:return new _e(be[0],be[1],be[2]);case 4:return new _e(be[0],be[1],be[2],be[3])}var fe=[null];return y(k,fe,be),new(y(v,_e,fe))}var ee=ce.prototype,$=P(S(ee)?ee:C),J=y(_e,$,be);return S(J)?J:$}})},function(r,a){var n=Function.prototype,c=n.bind,f=n.call,y=c&&c.bind(f);r.exports=c?function(v){return v&&y(f,v)}:function(v){return v&&function(){return f.apply(v,arguments)}}},function(r,a,n){var c=n(7),f=n(50).f,y=n(57),v=n(42),b=n(110),O=n(134),S=n(95);r.exports=function(P,j){var I,C,k,G,H,ue=P.target,_e=P.global,be=P.stat;if(I=_e?c:be?c[ue]||b(ue,{}):(c[ue]||{}).prototype)for(C in j){if(G=j[C],k=P.noTargetGet?(H=f(I,C))&&H.value:I[C],!S(_e?C:ue+(be?".":"#")+C,P.forced)&&k!==void 0){if(typeof G==typeof k)continue;O(G,k)}(P.sham||k&&k.sham)&&y(G,"sham",!0),v(I,C,G,P)}}},function(r,a,n){var c=n(16),f=n(7),y=n(96),v=n(99),b=n(33),O=n(75),S=n(45),P=n(41),j=n(63),I=n(28),C=n(81),k=n(98),G=C("slice"),H=I("species"),ue=f.Array,_e=Math.max;c({target:"Array",proto:!0,forced:!G},{slice:function(be,ce){var fe,ee,$,J=P(this),re=S(J),z=O(be,re),Oe=O(ce===void 0?re:ce,re);if(y(J)&&(fe=J.constructor,(v(fe)&&(fe===ue||y(fe.prototype))||b(fe)&&(fe=fe[H])===null)&&(fe=void 0),fe===ue||fe===void 0))return k(J,z,Oe);for(ee=new(fe===void 0?ue:fe)(_e(Oe-z,0)),$=0;z<Oe;z++,$++)z in J&&j(ee,$,J[z]);return ee.length=$,ee}})},function(r,a){r.exports=function(n){try{return!!n()}catch{return!0}}},function(r,a,n){var c=n(16),f=n(103);c({target:"RegExp",proto:!0,forced:/./.exec!==f},{exec:f})},function(r,a,n){var c=n(16),f=n(40),y=n(77);c({target:"Object",stat:!0,forced:n(18)(function(){y(1)})},{keys:function(v){return y(f(v))}})},function(r,a,n){var c=n(36),f=n(73).EXISTS,y=n(15),v=n(38).f,b=Function.prototype,O=y(b.toString),S=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,P=y(S.exec);c&&!f&&v(b,"name",{configurable:!0,get:function(){try{return P(S,O(this))[1]}catch{return""}}})},function(r,a,n){var c=n(16),f=n(18),y=n(41),v=n(50).f,b=n(36),O=f(function(){v(1)});c({target:"Object",stat:!0,forced:!b||O,sham:!b},{getOwnPropertyDescriptor:function(S,P){return v(y(S),P)}})},function(r,a,n){var c=n(16),f=n(188);c({target:"Array",stat:!0,forced:!n(120)(function(y){Array.from(y)})},{from:f})},function(r,a,n){var c=n(16),f=n(79).filter;c({target:"Array",proto:!0,forced:!n(81)("filter")},{filter:function(y){return f(this,y,arguments.length>1?arguments[1]:void 0)}})},function(r,a,n){var c=n(16),f=n(36),y=n(135),v=n(41),b=n(50),O=n(63);c({target:"Object",stat:!0,sham:!f},{getOwnPropertyDescriptors:function(S){for(var P,j,I=v(S),C=b.f,k=y(I),G={},H=0;k.length>H;)(j=C(I,P=k[H++]))!==void 0&&O(G,P,j);return G}})},,function(r,a,n){var c=n(16),f=n(7),y=n(18),v=n(96),b=n(33),O=n(40),S=n(45),P=n(63),j=n(115),I=n(81),C=n(28),k=n(70),G=C("isConcatSpreadable"),H=9007199254740991,ue="Maximum allowed index exceeded",_e=f.TypeError,be=k>=51||!y(function(){var ee=[];return ee[G]=!1,ee.concat()[0]!==ee}),ce=I("concat"),fe=function(ee){if(!b(ee))return!1;var $=ee[G];return $!==void 0?!!$:v(ee)};c({target:"Array",proto:!0,forced:!be||!ce},{concat:function(ee){var $,J,re,z,Oe,We=O(this),ke=j(We,0),it=0;for($=-1,re=arguments.length;$<re;$++)if(fe(Oe=$===-1?We:arguments[$])){if(it+(z=S(Oe))>H)throw _e(ue);for(J=0;J<z;J++,it++)J in Oe&&P(ke,it,Oe[J])}else{if(it>=H)throw _e(ue);P(ke,it++,Oe)}return ke.length=it,ke}})},function(r,a,n){var c=n(7),f=n(89),y=n(35),v=n(90),b=n(108),O=n(132),S=f("wks"),P=c.Symbol,j=P&&P.for,I=O?P:P&&P.withoutSetter||v;r.exports=function(C){if(!y(S,C)||!b&&typeof S[C]!="string"){var k="Symbol."+C;b&&y(P,C)?S[C]=P[C]:S[C]=O&&j?j(k):I(k)}return S[C]}},function(r,a,n){var c=n(16),f=n(202);c({target:"Object",stat:!0,forced:Object.assign!==f},{assign:f})},function(r,a){r.exports=function(n){return typeof n=="function"}},function(r,a,n){var c=n(106),f=typeof self=="object"&&self&&self.Object===Object&&self,y=c.a||f||Function("return this")();a.a=y},function(r,a,n){var c=n(7),f=n(33),y=c.String,v=c.TypeError;r.exports=function(b){if(f(b))return b;throw v(y(b)+" is not an object")}},function(r,a,n){var c=n(30);r.exports=function(f){return typeof f=="object"?f!==null:c(f)}},function(r,a){var n=Function.prototype.call;r.exports=n.bind?n.bind(n):function(){return n.apply(n,arguments)}},function(r,a,n){var c=n(15),f=n(40),y=c({}.hasOwnProperty);r.exports=Object.hasOwn||function(v,b){return y(f(v),b)}},function(r,a,n){var c=n(18);r.exports=!c(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(r,a,n){var c=n(16),f=n(79).map;c({target:"Array",proto:!0,forced:!n(81)("map")},{map:function(y){return f(this,y,arguments.length>1?arguments[1]:void 0)}})},function(r,a,n){var c=n(7),f=n(36),y=n(133),v=n(32),b=n(86),O=c.TypeError,S=Object.defineProperty;a.f=f?S:function(P,j,I){if(v(P),j=b(j),v(I),y)try{return S(P,j,I)}catch{}if("get"in I||"set"in I)throw O("Accessors not supported");return"value"in I&&(P[j]=I.value),P}},function(r,a,n){var c=n(7),f=n(97),y=c.String;r.exports=function(v){if(f(v)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return y(v)}},function(r,a,n){var c=n(7),f=n(44),y=c.Object;r.exports=function(v){return y(f(v))}},function(r,a,n){var c=n(85),f=n(44);r.exports=function(y){return c(f(y))}},function(r,a,n){var c=n(7),f=n(30),y=n(35),v=n(57),b=n(110),O=n(92),S=n(58),P=n(73).CONFIGURABLE,j=S.get,I=S.enforce,C=String(String).split("String");(r.exports=function(k,G,H,ue){var _e,be=!!ue&&!!ue.unsafe,ce=!!ue&&!!ue.enumerable,fe=!!ue&&!!ue.noTargetGet,ee=ue&&ue.name!==void 0?ue.name:G;f(H)&&(String(ee).slice(0,7)==="Symbol("&&(ee="["+String(ee).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!y(H,"name")||P&&H.name!==ee)&&v(H,"name",ee),(_e=I(H)).source||(_e.source=C.join(typeof ee=="string"?ee:""))),k!==c?(be?!fe&&k[G]&&(ce=!0):delete k[G],ce?k[G]=H:v(k,G,H)):ce?k[G]=H:b(G,H)})(Function.prototype,"toString",function(){return f(this)&&j(this).source||O(this)})},function(r,a,n){(function(c){n.d(a,"d",function(){return v}),n.d(a,"c",function(){return b}),n.d(a,"b",function(){return O}),n.d(a,"a",function(){return P});var f=n(10),y=function(j,I){var C=typeof Symbol=="function"&&j[Symbol.iterator];if(!C)return j;var k,G,H=C.call(j),ue=[];try{for(;(I===void 0||I-- >0)&&!(k=H.next()).done;)ue.push(k.value)}catch(_e){G={error:_e}}finally{try{k&&!k.done&&(C=H.return)&&C.call(H)}finally{if(G)throw G.error}}return ue};function v(){var j=y(Object(f.j)(0),2)[1];return Object(f.h)(function(){j(function(I){return I+1})},[])}function b(j){if(!j||typeof j!="object")return!1;var I=Object.getPrototypeOf(j);return!I||I===Object.prototype}function O(j){return typeof Symbol=="function"?Symbol.for(j):"__$mobx-react "+j+"__"}var S={};function P(){return typeof window<"u"?window:c!==void 0?c:typeof self<"u"?self:S}}).call(this,n(68))},function(r,a,n){var c=n(7).TypeError;r.exports=function(f){if(f==null)throw c("Can't call method on "+f);return f}},function(r,a,n){var c=n(94);r.exports=function(f){return c(f.length)}},function(r,a,n){var c=n(7),f=n(30),y=function(v){return f(v)?v:void 0};r.exports=function(v,b){return arguments.length<2?y(c[v]):c[v]&&c[v][b]}},function(r,a,n){var c=n(16),f=n(34),y=n(33),v=n(32),b=n(204),O=n(50),S=n(101);c({target:"Reflect",stat:!0},{get:function P(j,I){var C,k,G=arguments.length<3?j:arguments[2];return v(j)===G?j[I]:(C=O.f(j,I))?b(C)?C.value:C.get===void 0?void 0:f(C.get,G):y(k=S(j))?P(k,I,G):void 0}})},function(r,a,n){(function(c){var f=n(31),y=n(171),v=t&&!t.nodeType&&t,b=v&&typeof c=="object"&&c&&!c.nodeType&&c,O=b&&b.exports===v?f.a.Buffer:void 0,S=(O?O.isBuffer:void 0)||y.a;a.a=S}).call(this,n(122)(r))},function(r,a,n){(function(c){var f=n(106),y=t&&!t.nodeType&&t,v=y&&typeof c=="object"&&c&&!c.nodeType&&c,b=v&&v.exports===y&&f.a.process,O=function(){try{var S=v&&v.require&&v.require("util").types;return S||b&&b.binding&&b.binding("util")}catch{}}();a.a=O}).call(this,n(122)(r))},function(r,a,n){var c=n(36),f=n(34),y=n(84),v=n(69),b=n(41),O=n(86),S=n(35),P=n(133),j=Object.getOwnPropertyDescriptor;a.f=c?j:function(I,C){if(I=b(I),C=O(C),P)try{return j(I,C)}catch{}if(S(I,C))return v(!f(y.f,I,C),I[C])}},function(r,a,n){var c=n(15),f=c({}.toString),y=c("".slice);r.exports=function(v){return y(f(v),8,-1)}},function(r,a,n){n(182)("Map",function(c){return function(){return c(this,arguments.length?arguments[0]:void 0)}},n(186))},function(r,a,n){var c=n(16),f=n(220).entries;c({target:"Object",stat:!0},{entries:function(y){return f(y)}})},function(r,a,n){var c=n(15);r.exports=c({}.isPrototypeOf)},function(r,a,n){var c=n(46);r.exports=c("navigator","userAgent")||""},function(r,a,n){var c=n(7),f=n(30),y=n(88),v=c.TypeError;r.exports=function(b){if(f(b))return b;throw v(y(b)+" is not a function")}},function(r,a,n){var c=n(36),f=n(38),y=n(69);r.exports=c?function(v,b,O){return f.f(v,b,y(1,O))}:function(v,b,O){return v[b]=O,v}},function(r,a,n){var c,f,y,v=n(175),b=n(7),O=n(15),S=n(33),P=n(57),j=n(35),I=n(109),C=n(93),k=n(72),G="Object already initialized",H=b.TypeError,ue=b.WeakMap;if(v||I.state){var _e=I.state||(I.state=new ue),be=O(_e.get),ce=O(_e.has),fe=O(_e.set);c=function($,J){if(ce(_e,$))throw new H(G);return J.facade=$,fe(_e,$,J),J},f=function($){return be(_e,$)||{}},y=function($){return ce(_e,$)}}else{var ee=C("state");k[ee]=!0,c=function($,J){if(j($,ee))throw new H(G);return J.facade=$,P($,ee,J),J},f=function($){return j($,ee)?$[ee]:{}},y=function($){return j($,ee)}}r.exports={set:c,get:f,has:y,enforce:function($){return y($)?f($):c($,{})},getterFor:function($){return function(J){var re;if(!S(J)||(re=f(J)).type!==$)throw H("Incompatible receiver, "+$+" required");return re}}}},function(r,a){var n=Math.ceil,c=Math.floor;r.exports=function(f){var y=+f;return y!=y||y===0?0:(y>0?c:n)(y)}},function(r,a,n){var c,f=n(32),y=n(176),v=n(111),b=n(72),O=n(138),S=n(91),P=n(93),j=P("IE_PROTO"),I=function(){},C=function(H){return"<script>"+H+"<\/script>"},k=function(H){H.write(C("")),H.close();var ue=H.parentWindow.Object;return H=null,ue},G=function(){try{c=new ActiveXObject("htmlfile")}catch{}var H,ue;G=typeof document<"u"?document.domain&&c?k(c):((ue=S("iframe")).style.display="none",O.appendChild(ue),ue.src=String("javascript:"),(H=ue.contentWindow.document).open(),H.write(C("document.F=Object")),H.close(),H.F):k(c);for(var _e=v.length;_e--;)delete G.prototype[v[_e]];return G()};b[j]=!0,r.exports=Object.create||function(H,ue){var _e;return H!==null?(I.prototype=f(H),_e=new I,I.prototype=null,_e[j]=H):_e=G(),ue===void 0?_e:y(_e,ue)}},function(r,a,n){var c=n(36),f=n(7),y=n(15),v=n(95),b=n(42),O=n(35),S=n(148),P=n(54),j=n(87),I=n(131),C=n(18),k=n(74).f,G=n(50).f,H=n(38).f,ue=n(160),_e=n(161).trim,be="Number",ce=f.Number,fe=ce.prototype,ee=f.TypeError,$=y("".slice),J=y("".charCodeAt),re=function(at){var $e=I(at,"number");return typeof $e=="bigint"?$e:z($e)},z=function(at){var $e,ae,pe,Se,Ye,lt,Pt,Rt,Lt=I(at,"number");if(j(Lt))throw ee("Cannot convert a Symbol value to a number");if(typeof Lt=="string"&&Lt.length>2){if(Lt=_e(Lt),($e=J(Lt,0))===43||$e===45){if((ae=J(Lt,2))===88||ae===120)return NaN}else if($e===48){switch(J(Lt,1)){case 66:case 98:pe=2,Se=49;break;case 79:case 111:pe=8,Se=55;break;default:return+Lt}for(lt=(Ye=$(Lt,2)).length,Pt=0;Pt<lt;Pt++)if((Rt=J(Ye,Pt))<48||Rt>Se)return NaN;return parseInt(Ye,pe)}}return+Lt};if(v(be,!ce(" 0o1")||!ce("0b1")||ce("+0x1"))){for(var Oe,We=function(at){var $e=arguments.length<1?0:ce(re(at)),ae=this;return P(fe,ae)&&C(function(){ue(ae)})?S(Object($e),ae,We):$e},ke=c?k(ce):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),it=0;ke.length>it;it++)O(ce,Oe=ke[it])&&!O(We,Oe)&&H(We,Oe,G(ce,Oe));We.prototype=fe,fe.constructor=We,b(f,be,We)}},function(r,a,n){var c=n(56);r.exports=function(f,y){var v=f[y];return v==null?void 0:c(v)}},function(r,a,n){var c=n(86),f=n(38),y=n(69);r.exports=function(v,b,O){var S=c(b);S in v?f.f(v,S,y(0,O)):v[S]=O}},function(r,a,n){var c=n(15),f=n(56),y=c(c.bind);r.exports=function(v,b){return f(v),b===void 0?v:y?y(v,b):function(){return v.apply(b,arguments)}}},function(r,a,n){var c=n(16),f=n(15),y=n(85),v=n(41),b=n(121),O=f([].join),S=y!=Object,P=b("join",",");c({target:"Array",proto:!0,forced:S||!P},{join:function(j){return O(v(this),j===void 0?",":j)}})},function(r,a,n){var c=n(15),f=n(73).PROPER,y=n(42),v=n(32),b=n(54),O=n(39),S=n(18),P=n(154),j="toString",I=RegExp.prototype,C=I.toString,k=c(P),G=S(function(){return C.call({source:"a",flags:"b"})!="/a/b"}),H=f&&C.name!=j;(G||H)&&y(RegExp.prototype,j,function(){var ue=v(this),_e=O(ue.source),be=ue.flags;return"/"+_e+"/"+O(be===void 0&&b(I,ue)&&!("flags"in I)?k(ue):be)},{unsafe:!0})},function(r,a,n){var c=n(16),f=n(217),y=n(100);c({target:"Array",proto:!0},{fill:f}),y("fill")},function(r,a){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch{typeof window=="object"&&(n=window)}r.exports=n},function(r,a){r.exports=function(n,c){return{enumerable:!(1&n),configurable:!(2&n),writable:!(4&n),value:c}}},function(r,a,n){var c,f,y=n(7),v=n(55),b=y.process,O=y.Deno,S=b&&b.versions||O&&O.version,P=S&&S.v8;P&&(f=(c=P.split("."))[0]>0&&c[0]<4?1:+(c[0]+c[1])),!f&&v&&(!(c=v.match(/Edge\/(\d+)/))||c[1]>=74)&&(c=v.match(/Chrome\/(\d+)/))&&(f=+c[1]),r.exports=f},function(r,a){r.exports=!1},function(r,a){r.exports={}},function(r,a,n){var c=n(36),f=n(35),y=Function.prototype,v=c&&Object.getOwnPropertyDescriptor,b=f(y,"name"),O=b&&function(){}.name==="something",S=b&&(!c||c&&v(y,"name").configurable);r.exports={EXISTS:b,PROPER:O,CONFIGURABLE:S}},function(r,a,n){var c=n(136),f=n(111).concat("length","prototype");a.f=Object.getOwnPropertyNames||function(y){return c(y,f)}},function(r,a,n){var c=n(59),f=Math.max,y=Math.min;r.exports=function(v,b){var O=c(v);return O<0?f(O+b,0):y(O,b)}},function(r,a){var n=Function.prototype,c=n.apply,f=n.bind,y=n.call;r.exports=typeof Reflect=="object"&&Reflect.apply||(f?y.bind(c):function(){return y.apply(c,arguments)})},function(r,a,n){var c=n(136),f=n(111);r.exports=Object.keys||function(y){return c(y,f)}},function(r,a,n){var c=n(38).f,f=n(35),y=n(28)("toStringTag");r.exports=function(v,b,O){v&&!f(v=O?v:v.prototype,y)&&c(v,y,{configurable:!0,value:b})}},function(r,a,n){var c=n(64),f=n(15),y=n(85),v=n(40),b=n(45),O=n(115),S=f([].push),P=function(j){var I=j==1,C=j==2,k=j==3,G=j==4,H=j==6,ue=j==7,_e=j==5||H;return function(be,ce,fe,ee){for(var $,J,re=v(be),z=y(re),Oe=c(ce,fe),We=b(z),ke=0,it=ee||O,at=I?it(be,We):C||ue?it(be,0):void 0;We>ke;ke++)if((_e||ke in z)&&(J=Oe($=z[ke],ke,re),j))if(I)at[ke]=J;else if(J)switch(j){case 3:return!0;case 5:return $;case 6:return ke;case 2:S(at,$)}else switch(j){case 4:return!1;case 7:S(at,$)}return H?-1:k||G?G:at}};r.exports={forEach:P(0),map:P(1),filter:P(2),some:P(3),every:P(4),find:P(5),findIndex:P(6),filterReject:P(7)}},function(r,a){r.exports={}},function(r,a,n){var c=n(18),f=n(28),y=n(70),v=f("species");r.exports=function(b){return y>=51||!c(function(){var O=[];return(O.constructor={})[v]=function(){return{foo:1}},O[b](Boolean).foo!==1})}},function(r,a,n){var c=n(76),f=n(34),y=n(15),v=n(123),b=n(159),O=n(32),S=n(44),P=n(164),j=n(124),I=n(94),C=n(39),k=n(62),G=n(114),H=n(125),ue=n(103),_e=n(155),be=n(18),ce=_e.UNSUPPORTED_Y,fe=4294967295,ee=Math.min,$=[].push,J=y(/./.exec),re=y($),z=y("".slice),Oe=!be(function(){var We=/(?:)/,ke=We.exec;We.exec=function(){return ke.apply(this,arguments)};var it="ab".split(We);return it.length!==2||it[0]!=="a"||it[1]!=="b"});v("split",function(We,ke,it){var at;return at="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function($e,ae){var pe=C(S(this)),Se=ae===void 0?fe:ae>>>0;if(Se===0)return[];if($e===void 0)return[pe];if(!b($e))return f(ke,pe,$e,Se);for(var Ye,lt,Pt,Rt=[],Lt=($e.ignoreCase?"i":"")+($e.multiline?"m":"")+($e.unicode?"u":"")+($e.sticky?"y":""),tr=0,Te=new RegExp($e.source,Lt+"g");(Ye=f(ue,Te,pe))&&!((lt=Te.lastIndex)>tr&&(re(Rt,z(pe,tr,Ye.index)),Ye.length>1&&Ye.index<pe.length&&c($,Rt,G(Ye,1)),Pt=Ye[0].length,tr=lt,Rt.length>=Se));)Te.lastIndex===Ye.index&&Te.lastIndex++;return tr===pe.length?!Pt&&J(Te,"")||re(Rt,""):re(Rt,z(pe,tr)),Rt.length>Se?G(Rt,0,Se):Rt}:"0".split(void 0,0).length?function($e,ae){return $e===void 0&&ae===0?[]:f(ke,this,$e,ae)}:ke,[function($e,ae){var pe=S(this),Se=$e==null?void 0:k($e,We);return Se?f(Se,$e,pe,ae):f(at,C(pe),$e,ae)},function($e,ae){var pe=O(this),Se=C($e),Ye=it(at,pe,Se,ae,at!==ke);if(Ye.done)return Ye.value;var lt=P(pe,RegExp),Pt=pe.unicode,Rt=(pe.ignoreCase?"i":"")+(pe.multiline?"m":"")+(pe.unicode?"u":"")+(ce?"g":"y"),Lt=new lt(ce?"^(?:"+pe.source+")":pe,Rt),tr=ae===void 0?fe:ae>>>0;if(tr===0)return[];if(Se.length===0)return H(Lt,Se)===null?[Se]:[];for(var Te=0,de=0,Ae=[];de<Se.length;){Lt.lastIndex=ce?0:de;var st,kt=H(Lt,ce?z(Se,de):Se);if(kt===null||(st=ee(I(Lt.lastIndex+(ce?de:0)),Se.length))===Te)de=j(Se,de,Pt);else{if(re(Ae,z(Se,Te,de)),Ae.length===tr)return Ae;for(var ht=1;ht<=kt.length-1;ht++)if(re(Ae,kt[ht]),Ae.length===tr)return Ae;de=Te=st}}return re(Ae,z(Se,Te)),Ae}]},!Oe,ce)},function(r,a,n){n(16)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(r,a,n){var c={}.propertyIsEnumerable,f=Object.getOwnPropertyDescriptor,y=f&&!c.call({1:2},1);a.f=y?function(v){var b=f(this,v);return!!b&&b.enumerable}:c},function(r,a,n){var c=n(7),f=n(15),y=n(18),v=n(51),b=c.Object,O=f("".split);r.exports=y(function(){return!b("z").propertyIsEnumerable(0)})?function(S){return v(S)=="String"?O(S,""):b(S)}:b},function(r,a,n){var c=n(131),f=n(87);r.exports=function(y){var v=c(y,"string");return f(v)?v:v+""}},function(r,a,n){var c=n(7),f=n(46),y=n(30),v=n(54),b=n(132),O=c.Object;r.exports=b?function(S){return typeof S=="symbol"}:function(S){var P=f("Symbol");return y(P)&&v(P.prototype,O(S))}},function(r,a,n){var c=n(7).String;r.exports=function(f){try{return c(f)}catch{return"Object"}}},function(r,a,n){var c=n(71),f=n(109);(r.exports=function(y,v){return f[y]||(f[y]=v!==void 0?v:{})})("versions",[]).push({version:"3.19.3",mode:c?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})},function(r,a,n){var c=n(15),f=0,y=Math.random(),v=c(1 .toString);r.exports=function(b){return"Symbol("+(b===void 0?"":b)+")_"+v(++f+y,36)}},function(r,a,n){var c=n(7),f=n(33),y=c.document,v=f(y)&&f(y.createElement);r.exports=function(b){return v?y.createElement(b):{}}},function(r,a,n){var c=n(15),f=n(30),y=n(109),v=c(Function.toString);f(y.inspectSource)||(y.inspectSource=function(b){return v(b)}),r.exports=y.inspectSource},function(r,a,n){var c=n(89),f=n(90),y=c("keys");r.exports=function(v){return y[v]||(y[v]=f(v))}},function(r,a,n){var c=n(59),f=Math.min;r.exports=function(y){return y>0?f(c(y),9007199254740991):0}},function(r,a,n){var c=n(18),f=n(30),y=/#|\.prototype\./,v=function(j,I){var C=O[b(j)];return C==P||C!=S&&(f(I)?c(I):!!I)},b=v.normalize=function(j){return String(j).replace(y,".").toLowerCase()},O=v.data={},S=v.NATIVE="N",P=v.POLYFILL="P";r.exports=v},function(r,a,n){var c=n(51);r.exports=Array.isArray||function(f){return c(f)=="Array"}},function(r,a,n){var c=n(7),f=n(113),y=n(30),v=n(51),b=n(28)("toStringTag"),O=c.Object,S=v(function(){return arguments}())=="Arguments";r.exports=f?v:function(P){var j,I,C;return P===void 0?"Undefined":P===null?"Null":typeof(I=function(k,G){try{return k[G]}catch{}}(j=O(P),b))=="string"?I:S?v(j):(C=v(j))=="Object"&&y(j.callee)?"Arguments":C}},function(r,a,n){var c=n(15);r.exports=c([].slice)},function(r,a,n){var c=n(15),f=n(18),y=n(30),v=n(97),b=n(46),O=n(92),S=function(){},P=[],j=b("Reflect","construct"),I=/^\s*(?:class|function)\b/,C=c(I.exec),k=!I.exec(S),G=function(H){if(!y(H))return!1;try{return j(S,P,H),!0}catch{return!1}};r.exports=!j||f(function(){var H;return G(G.call)||!G(Object)||!G(function(){H=!0})||H})?function(H){if(!y(H))return!1;switch(v(H)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return k||!!C(I,O(H))}:G},function(r,a,n){var c=n(28),f=n(60),y=n(38),v=c("unscopables"),b=Array.prototype;b[v]==null&&y.f(b,v,{configurable:!0,value:f(null)}),r.exports=function(O){b[v][O]=!0}},function(r,a,n){var c=n(7),f=n(35),y=n(30),v=n(40),b=n(93),O=n(143),S=b("IE_PROTO"),P=c.Object,j=P.prototype;r.exports=O?P.getPrototypeOf:function(I){var C=v(I);if(f(C,S))return C[S];var k=C.constructor;return y(k)&&C instanceof k?k.prototype:C instanceof P?j:null}},function(r,a,n){var c=n(15),f=n(32),y=n(181);r.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var v,b=!1,O={};try{(v=c(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(O,[]),b=O instanceof Array}catch{}return function(S,P){return f(S),y(P),b?v(S,P):S.__proto__=P,S}}():void 0)},function(r,a,n){var c,f,y=n(34),v=n(15),b=n(39),O=n(154),S=n(155),P=n(89),j=n(60),I=n(58).get,C=n(190),k=n(191),G=P("native-string-replace",String.prototype.replace),H=RegExp.prototype.exec,ue=H,_e=v("".charAt),be=v("".indexOf),ce=v("".replace),fe=v("".slice),ee=(f=/b*/g,y(H,c=/a/,"a"),y(H,f,"a"),c.lastIndex!==0||f.lastIndex!==0),$=S.BROKEN_CARET,J=/()??/.exec("")[1]!==void 0;(ee||J||$||C||k)&&(ue=function(re){var z,Oe,We,ke,it,at,$e,ae=this,pe=I(ae),Se=b(re),Ye=pe.raw;if(Ye)return Ye.lastIndex=ae.lastIndex,z=y(ue,Ye,Se),ae.lastIndex=Ye.lastIndex,z;var lt=pe.groups,Pt=$&&ae.sticky,Rt=y(O,ae),Lt=ae.source,tr=0,Te=Se;if(Pt&&(Rt=ce(Rt,"y",""),be(Rt,"g")===-1&&(Rt+="g"),Te=fe(Se,ae.lastIndex),ae.lastIndex>0&&(!ae.multiline||ae.multiline&&_e(Se,ae.lastIndex-1)!==`
`)&&(Lt="(?: "+Lt+")",Te=" "+Te,tr++),Oe=new RegExp("^(?:"+Lt+")",Rt)),J&&(Oe=new RegExp("^"+Lt+"$(?!\\s)",Rt)),ee&&(We=ae.lastIndex),ke=y(H,Pt?Oe:ae,Te),Pt?ke?(ke.input=fe(ke.input,tr),ke[0]=fe(ke[0],tr),ke.index=ae.lastIndex,ae.lastIndex+=ke[0].length):ae.lastIndex=0:ee&&ke&&(ae.lastIndex=ae.global?ke.index+ke[0].length:We),J&&ke&&ke.length>1&&y(G,ke[0],Oe,function(){for(it=1;it<arguments.length-2;it++)arguments[it]===void 0&&(ke[it]=void 0)}),ke&&lt)for(ke.groups=at=j(null),it=0;it<lt.length;it++)at[($e=lt[it])[0]]=ke[$e[1]];return ke}),r.exports=ue},function(r,a,n){var c=n(16),f=n(7),y=n(75),v=n(59),b=n(45),O=n(40),S=n(115),P=n(63),j=n(81)("splice"),I=f.TypeError,C=Math.max,k=Math.min,G=9007199254740991,H="Maximum allowed length exceeded";c({target:"Array",proto:!0,forced:!j},{splice:function(ue,_e){var be,ce,fe,ee,$,J,re=O(this),z=b(re),Oe=y(ue,z),We=arguments.length;if(We===0?be=ce=0:We===1?(be=0,ce=z-Oe):(be=We-2,ce=k(C(v(_e),0),z-Oe)),z+be-ce>G)throw I(H);for(fe=S(re,ce),ee=0;ee<ce;ee++)($=Oe+ee)in re&&P(fe,ee,re[$]);if(fe.length=ce,be<ce){for(ee=Oe;ee<z-ce;ee++)J=ee+be,($=ee+ce)in re?re[J]=re[$]:delete re[J];for(ee=z;ee>z-ce+be;ee--)delete re[ee-1]}else if(be>ce)for(ee=z-ce;ee>Oe;ee--)J=ee+be-1,($=ee+ce-1)in re?re[J]=re[$]:delete re[J];for(ee=0;ee<be;ee++)re[ee+Oe]=arguments[ee+2];return re.length=z-ce+be,fe}})},function(r,a,n){var c=n(16),f=n(205);c({target:"String",proto:!0,forced:n(206)("anchor")},{anchor:function(y){return f(this,"a","name",y)}})},function(r,a,n){(function(c){var f=typeof c=="object"&&c&&c.Object===Object&&c;a.a=f}).call(this,n(68))},function(r,a,n){(function(c){var f=n(31),y=t&&!t.nodeType&&t,v=y&&typeof c=="object"&&c&&!c.nodeType&&c,b=v&&v.exports===y?f.a.Buffer:void 0,O=b?b.allocUnsafe:void 0;a.a=function(S,P){if(P)return S.slice();var j=S.length,I=O?O(j):new S.constructor(j);return S.copy(I),I}}).call(this,n(122)(r))},function(r,a,n){var c=n(70),f=n(18);r.exports=!!Object.getOwnPropertySymbols&&!f(function(){var y=Symbol();return!String(y)||!(Object(y)instanceof Symbol)||!Symbol.sham&&c&&c<41})},function(r,a,n){var c=n(7),f=n(110),y="__core-js_shared__",v=c[y]||f(y,{});r.exports=v},function(r,a,n){var c=n(7),f=Object.defineProperty;r.exports=function(y,v){try{f(c,y,{value:v,configurable:!0,writable:!0})}catch{c[y]=v}return v}},function(r,a){r.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(r,a){a.f=Object.getOwnPropertySymbols},function(r,a,n){var c={};c[n(28)("toStringTag")]="z",r.exports=String(c)==="[object z]"},function(r,a,n){var c=n(7),f=n(75),y=n(45),v=n(63),b=c.Array,O=Math.max;r.exports=function(S,P,j){for(var I=y(S),C=f(P,I),k=f(j===void 0?I:j,I),G=b(O(k-C,0)),H=0;C<k;C++,H++)v(G,H,S[C]);return G.length=H,G}},function(r,a,n){var c=n(178);r.exports=function(f,y){return new(c(f))(y===0?0:y)}},function(r,a,n){var c=n(16),f=n(34),y=n(71),v=n(73),b=n(30),O=n(180),S=n(101),P=n(102),j=n(78),I=n(57),C=n(42),k=n(28),G=n(80),H=n(142),ue=v.PROPER,_e=v.CONFIGURABLE,be=H.IteratorPrototype,ce=H.BUGGY_SAFARI_ITERATORS,fe=k("iterator"),ee="keys",$="values",J="entries",re=function(){return this};r.exports=function(z,Oe,We,ke,it,at,$e){O(We,Oe,ke);var ae,pe,Se,Ye=function(de){if(de===it&&tr)return tr;if(!ce&&de in Rt)return Rt[de];switch(de){case ee:case $:case J:return function(){return new We(this,de)}}return function(){return new We(this)}},lt=Oe+" Iterator",Pt=!1,Rt=z.prototype,Lt=Rt[fe]||Rt["@@iterator"]||it&&Rt[it],tr=!ce&&Lt||Ye(it),Te=Oe=="Array"&&Rt.entries||Lt;if(Te&&(ae=S(Te.call(new z)))!==Object.prototype&&ae.next&&(y||S(ae)===be||(P?P(ae,be):b(ae[fe])||C(ae,fe,re)),j(ae,lt,!0,!0),y&&(G[lt]=re)),ue&&it==$&&Lt&&Lt.name!==$&&(!y&&_e?I(Rt,"name",$):(Pt=!0,tr=function(){return f(Lt,this)})),it)if(pe={values:Ye($),keys:at?tr:Ye(ee),entries:Ye(J)},$e)for(Se in pe)(ce||Pt||!(Se in Rt))&&C(Rt,Se,pe[Se]);else c({target:Oe,proto:!0,forced:ce||Pt},pe);return y&&!$e||Rt[fe]===tr||C(Rt,fe,tr,{name:it}),G[Oe]=tr,pe}},function(r,a,n){var c=n(7),f=n(64),y=n(34),v=n(32),b=n(88),O=n(145),S=n(45),P=n(54),j=n(146),I=n(118),C=n(147),k=c.TypeError,G=function(ue,_e){this.stopped=ue,this.result=_e},H=G.prototype;r.exports=function(ue,_e,be){var ce,fe,ee,$,J,re,z,Oe=be&&be.that,We=!(!be||!be.AS_ENTRIES),ke=!(!be||!be.IS_ITERATOR),it=!(!be||!be.INTERRUPTED),at=f(_e,Oe),$e=function(pe){return ce&&C(ce,"normal",pe),new G(!0,pe)},ae=function(pe){return We?(v(pe),it?at(pe[0],pe[1],$e):at(pe[0],pe[1])):it?at(pe,$e):at(pe)};if(ke)ce=ue;else{if(!(fe=I(ue)))throw k(b(ue)+" is not iterable");if(O(fe)){for(ee=0,$=S(ue);$>ee;ee++)if((J=ae(ue[ee]))&&P(H,J))return J;return new G(!1)}ce=j(ue,fe)}for(re=ce.next;!(z=y(re,ce)).done;){try{J=ae(z.value)}catch(pe){C(ce,"throw",pe)}if(typeof J=="object"&&J&&P(H,J))return J}return new G(!1)}},function(r,a,n){var c=n(97),f=n(62),y=n(80),v=n(28)("iterator");r.exports=function(b){if(b!=null)return f(b,v)||f(b,"@@iterator")||y[c(b)]}},function(r,a,n){var c=n(7),f=n(54),y=c.TypeError;r.exports=function(v,b){if(f(b,v))return v;throw y("Incorrect invocation")}},function(r,a,n){var c=n(28)("iterator"),f=!1;try{var y=0,v={next:function(){return{done:!!y++}},return:function(){f=!0}};v[c]=function(){return this},Array.from(v,function(){throw 2})}catch{}r.exports=function(b,O){if(!O&&!f)return!1;var S=!1;try{var P={};P[c]=function(){return{next:function(){return{done:S=!0}}}},b(P)}catch{}return S}},function(r,a,n){var c=n(18);r.exports=function(f,y){var v=[][f];return!!v&&c(function(){v.call(null,y||function(){throw 1},1)})}},function(r,a){r.exports=function(n){if(!n.webpackPolyfill){var c=Object.create(n);c.children||(c.children=[]),Object.defineProperty(c,"loaded",{enumerable:!0,get:function(){return c.l}}),Object.defineProperty(c,"id",{enumerable:!0,get:function(){return c.i}}),Object.defineProperty(c,"exports",{enumerable:!0}),c.webpackPolyfill=1}return c}},function(r,a,n){n(19);var c=n(15),f=n(42),y=n(103),v=n(18),b=n(28),O=n(57),S=b("species"),P=RegExp.prototype;r.exports=function(j,I,C,k){var G=b(j),H=!v(function(){var ce={};return ce[G]=function(){return 7},""[j](ce)!=7}),ue=H&&!v(function(){var ce=!1,fe=/a/;return j==="split"&&((fe={}).constructor={},fe.constructor[S]=function(){return fe},fe.flags="",fe[G]=/./[G]),fe.exec=function(){return ce=!0,null},fe[G](""),!ce});if(!H||!ue||C){var _e=c(/./[G]),be=I(G,""[j],function(ce,fe,ee,$,J){var re=c(ce),z=fe.exec;return z===y||z===P.exec?H&&!J?{done:!0,value:_e(fe,ee,$)}:{done:!0,value:re(ee,fe,$)}:{done:!1}});f(String.prototype,j,be[0]),f(P,G,be[1])}k&&O(P[G],"sham",!0)}},function(r,a,n){var c=n(151).charAt;r.exports=function(f,y,v){return y+(v?c(f,y).length:1)}},function(r,a,n){var c=n(7),f=n(34),y=n(32),v=n(30),b=n(51),O=n(103),S=c.TypeError;r.exports=function(P,j){var I=P.exec;if(v(I)){var C=f(I,P,j);return C!==null&&y(C),C}if(b(P)==="RegExp")return f(O,P,j);throw S("RegExp#exec called on incompatible receiver")}},function(r,a,n){var c=n(76),f=n(34),y=n(15),v=n(123),b=n(18),O=n(32),S=n(30),P=n(59),j=n(94),I=n(39),C=n(44),k=n(124),G=n(62),H=n(201),ue=n(125),_e=n(28)("replace"),be=Math.max,ce=Math.min,fe=y([].concat),ee=y([].push),$=y("".indexOf),J=y("".slice),re="a".replace(/./,"$0")==="$0",z=!!/./[_e]&&/./[_e]("a","$0")==="";v("replace",function(Oe,We,ke){var it=z?"$":"$0";return[function(at,$e){var ae=C(this),pe=at==null?void 0:G(at,_e);return pe?f(pe,at,ae,$e):f(We,I(ae),at,$e)},function(at,$e){var ae=O(this),pe=I(at);if(typeof $e=="string"&&$($e,it)===-1&&$($e,"$<")===-1){var Se=ke(We,ae,pe,$e);if(Se.done)return Se.value}var Ye=S($e);Ye||($e=I($e));var lt=ae.global;if(lt){var Pt=ae.unicode;ae.lastIndex=0}for(var Rt=[];;){var Lt=ue(ae,pe);if(Lt===null||(ee(Rt,Lt),!lt))break;I(Lt[0])===""&&(ae.lastIndex=k(pe,j(ae.lastIndex),Pt))}for(var tr,Te="",de=0,Ae=0;Ae<Rt.length;Ae++){for(var st=I((Lt=Rt[Ae])[0]),kt=be(ce(P(Lt.index),pe.length),0),ht=[],Wt=1;Wt<Lt.length;Wt++)ee(ht,(tr=Lt[Wt])===void 0?tr:String(tr));var or=Lt.groups;if(Ye){var vr=fe([st],ht,kt,pe);or!==void 0&&ee(vr,or);var rr=I(c($e,void 0,vr))}else rr=H(st,pe,kt,ht,or,$e);kt>=de&&(Te+=J(pe,de,kt)+rr,de=kt+st.length)}return Te+J(pe,de)}]},!!b(function(){var Oe=/./;return Oe.exec=function(){var We=[];return We.groups={a:"7"},We},"".replace(Oe,"$<a>")!=="7"})||!re||z)},function(r,a,n){var c=n(16),f=Math.hypot,y=Math.abs,v=Math.sqrt;c({target:"Math",stat:!0,forced:!!f&&f(1/0,NaN)!==1/0},{hypot:function(b,O){for(var S,P,j=0,I=0,C=arguments.length,k=0;I<C;)k<(S=y(arguments[I++]))?(j=j*(P=k/S)*P+1,k=S):j+=S>0?(P=S/k)*P:S;return k===1/0?1/0:k*v(j)}})},function(r,a,n){var c=n(51),f=n(7);r.exports=c(f.process)=="process"},function(r,a,n){n(16)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(r,a,n){(function(c,f){var y;/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var v,b="Expected a function",O="__lodash_hash_undefined__",S="__lodash_placeholder__",P=16,j=32,I=64,C=128,k=256,G=1/0,H=9007199254740991,ue=NaN,_e=4294967295,be=[["ary",C],["bind",1],["bindKey",2],["curry",8],["curryRight",P],["flip",512],["partial",j],["partialRight",I],["rearg",k]],ce="[object Arguments]",fe="[object Array]",ee="[object Boolean]",$="[object Date]",J="[object Error]",re="[object Function]",z="[object GeneratorFunction]",Oe="[object Map]",We="[object Number]",ke="[object Object]",it="[object Promise]",at="[object RegExp]",$e="[object Set]",ae="[object String]",pe="[object Symbol]",Se="[object WeakMap]",Ye="[object ArrayBuffer]",lt="[object DataView]",Pt="[object Float32Array]",Rt="[object Float64Array]",Lt="[object Int8Array]",tr="[object Int16Array]",Te="[object Int32Array]",de="[object Uint8Array]",Ae="[object Uint8ClampedArray]",st="[object Uint16Array]",kt="[object Uint32Array]",ht=/\b__p \+= '';/g,Wt=/\b(__p \+=) '' \+/g,or=/(__e\(.*?\)|\b__t\)) \+\n'';/g,vr=/&(?:amp|lt|gt|quot|#39);/g,rr=/[&<>"']/g,et=RegExp(vr.source),lr=RegExp(rr.source),Ne=/<%-([\s\S]+?)%>/g,ir=/<%([\s\S]+?)%>/g,Br=/<%=([\s\S]+?)%>/g,V=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Gr=/^\w*$/,dn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Mn=/[\\^$.*+?()[\]{}|]/g,Xn=RegExp(Mn.source),jr=/^\s+/,fo=/\s/,ve=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Le=/\{\n\/\* \[wrapped with (.+)\] \*/,xe=/,? & /,Ke=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,zt=/[()=,{}\[\]\/\s]/,Ft=/\\(\\)?/g,yr=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,rn=/\w*$/,Co=/^[-+]0x[0-9a-f]+$/i,$o=/^0b[01]+$/i,bo=/^\[object .+?Constructor\]$/,xo=/^0o[0-7]+$/i,fr=/^(?:0|[1-9]\d*)$/,wr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Nr=/($^)/,$r=/['\n\r\u2028\u2029\\]/g,Nn="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",pn="\\u2700-\\u27bf",xa="a-z\\xdf-\\xf6\\xf8-\\xff",ta="A-Z\\xc0-\\xd6\\xd8-\\xde",Sa="\\ufe0e\\ufe0f",bu="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",zl="['\u2019]",xc="[\\ud800-\\udfff]",Ni="["+bu+"]",ts="["+Nn+"]",hr="\\d+",Lf="[\\u2700-\\u27bf]",Wn="["+xa+"]",Sc="[^\\ud800-\\udfff"+bu+hr+pn+xa+ta+"]",hi="\\ud83c[\\udffb-\\udfff]",Ei="[^\\ud800-\\udfff]",Cs="(?:\\ud83c[\\udde6-\\uddff]){2}",zi="[\\ud800-\\udbff][\\udc00-\\udfff]",Mi="["+ta+"]",$i="(?:"+Wn+"|"+Sc+")",Ac="(?:"+Mi+"|"+Sc+")",Tc="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ff="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",rs="(?:"+ts+"|"+hi+")?",Bf="[\\ufe0e\\ufe0f]?",Pc=Bf+rs+("(?:\\u200d(?:"+[Ei,Cs,zi].join("|")+")"+Bf+rs+")*"),$l="(?:"+[Lf,Cs,zi].join("|")+")"+Pc,Ha="(?:"+[Ei+ts+"?",ts,Cs,zi,xc].join("|")+")",Gf=RegExp(zl,"g"),Aa=RegExp(ts,"g"),Rc=RegExp(hi+"(?="+hi+")|"+Ha+Pc,"g"),Is=RegExp([Mi+"?"+Wn+"+"+Tc+"(?="+[Ni,Mi,"$"].join("|")+")",Ac+"+"+Ff+"(?="+[Ni,Mi+$i,"$"].join("|")+")",Mi+"?"+$i+"+"+Tc,Mi+"+"+Ff,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",hr,$l].join("|"),"g"),jc=RegExp("[\\u200d\\ud800-\\udfff"+Nn+Sa+"]"),Nc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Hl=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Uf=-1,Tn={};Tn[Pt]=Tn[Rt]=Tn[Lt]=Tn[tr]=Tn[Te]=Tn[de]=Tn[Ae]=Tn[st]=Tn[kt]=!0,Tn[ce]=Tn[fe]=Tn[Ye]=Tn[ee]=Tn[lt]=Tn[$]=Tn[J]=Tn[re]=Tn[Oe]=Tn[We]=Tn[ke]=Tn[at]=Tn[$e]=Tn[ae]=Tn[Se]=!1;var xn={};xn[ce]=xn[fe]=xn[Ye]=xn[lt]=xn[ee]=xn[$]=xn[Pt]=xn[Rt]=xn[Lt]=xn[tr]=xn[Te]=xn[Oe]=xn[We]=xn[ke]=xn[at]=xn[$e]=xn[ae]=xn[pe]=xn[de]=xn[Ae]=xn[st]=xn[kt]=!0,xn[J]=xn[re]=xn[Se]=!1;var zf={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},_u=parseFloat,Ci=parseInt,Ds=typeof c=="object"&&c&&c.Object===Object&&c,$f=typeof self=="object"&&self&&self.Object===Object&&self,lo=Ds||$f||Function("return this")(),Xa=a&&!a.nodeType&&a,Wa=Xa&&typeof f=="object"&&f&&!f.nodeType&&f,ks=Wa&&Wa.exports===Xa,Eu=ks&&Ds.process,Ho=function(){try{var Ze=Wa&&Wa.require&&Wa.require("util").types;return Ze||Eu&&Eu.binding&&Eu.binding("util")}catch{}}(),Mc=Ho&&Ho.isArrayBuffer,Hf=Ho&&Ho.isDate,Cc=Ho&&Ho.isMap,ri=Ho&&Ho.isRegExp,Io=Ho&&Ho.isSet,Oi=Ho&&Ho.isTypedArray;function Dn(Ze,Ot,At){switch(At.length){case 0:return Ze.call(Ot);case 1:return Ze.call(Ot,At[0]);case 2:return Ze.call(Ot,At[0],At[1]);case 3:return Ze.call(Ot,At[0],At[1],At[2])}return Ze.apply(Ot,At)}function Xf(Ze,Ot,At,Jt){for(var Wr=-1,cn=Ze==null?0:Ze.length;++Wr<cn;){var zn=Ze[Wr];Ot(Jt,zn,At(zn),Ze)}return Jt}function ni(Ze,Ot){for(var At=-1,Jt=Ze==null?0:Ze.length;++At<Jt&&Ot(Ze[At],At,Ze)!==!1;);return Ze}function Ic(Ze,Ot){for(var At=Ze==null?0:Ze.length;At--&&Ot(Ze[At],At,Ze)!==!1;);return Ze}function Wf(Ze,Ot){for(var At=-1,Jt=Ze==null?0:Ze.length;++At<Jt;)if(!Ot(Ze[At],At,Ze))return!1;return!0}function oi(Ze,Ot){for(var At=-1,Jt=Ze==null?0:Ze.length,Wr=0,cn=[];++At<Jt;){var zn=Ze[At];Ot(zn,At,Ze)&&(cn[Wr++]=zn)}return cn}function Jo(Ze,Ot){return!!(Ze!=null&&Ze.length)&&Ou(Ze,Ot,0)>-1}function Dc(Ze,Ot,At){for(var Jt=-1,Wr=Ze==null?0:Ze.length;++Jt<Wr;)if(At(Ot,Ze[Jt]))return!0;return!1}function _n(Ze,Ot){for(var At=-1,Jt=Ze==null?0:Ze.length,Wr=Array(Jt);++At<Jt;)Wr[At]=Ot(Ze[At],At,Ze);return Wr}function Do(Ze,Ot){for(var At=-1,Jt=Ot.length,Wr=Ze.length;++At<Jt;)Ze[Wr+At]=Ot[At];return Ze}function Ls(Ze,Ot,At,Jt){var Wr=-1,cn=Ze==null?0:Ze.length;for(Jt&&cn&&(At=Ze[++Wr]);++Wr<cn;)At=Ot(At,Ze[Wr],Wr,Ze);return At}function Vf(Ze,Ot,At,Jt){var Wr=Ze==null?0:Ze.length;for(Jt&&Wr&&(At=Ze[--Wr]);Wr--;)At=Ot(At,Ze[Wr],Wr,Ze);return At}function kc(Ze,Ot){for(var At=-1,Jt=Ze==null?0:Ze.length;++At<Jt;)if(Ot(Ze[At],At,Ze))return!0;return!1}var Fs=ai("length");function ra(Ze,Ot,At){var Jt;return At(Ze,function(Wr,cn,zn){if(Ot(Wr,cn,zn))return Jt=cn,!1}),Jt}function ii(Ze,Ot,At,Jt){for(var Wr=Ze.length,cn=At+(Jt?1:-1);Jt?cn--:++cn<Wr;)if(Ot(Ze[cn],cn,Ze))return cn;return-1}function Ou(Ze,Ot,At){return Ot==Ot?function(Jt,Wr,cn){for(var zn=cn-1,w=Jt.length;++zn<w;)if(Jt[zn]===Wr)return zn;return-1}(Ze,Ot,At):ii(Ze,Ii,At)}function vi(Ze,Ot,At,Jt){for(var Wr=At-1,cn=Ze.length;++Wr<cn;)if(Jt(Ze[Wr],Ot))return Wr;return-1}function Ii(Ze){return Ze!=Ze}function sn(Ze,Ot){var At=Ze==null?0:Ze.length;return At?wu(Ze,Ot)/At:ue}function ai(Ze){return function(Ot){return Ot==null?v:Ot[Ze]}}function Hi(Ze){return function(Ot){return Ze==null?v:Ze[Ot]}}function Bo(Ze,Ot,At,Jt,Wr){return Wr(Ze,function(cn,zn,w){At=Jt?(Jt=!1,cn):Ot(At,cn,zn,w)}),At}function wu(Ze,Ot){for(var At,Jt=-1,Wr=Ze.length;++Jt<Wr;){var cn=Ot(Ze[Jt]);cn!==v&&(At=At===v?cn:At+cn)}return At}function Va(Ze,Ot){for(var At=-1,Jt=Array(Ze);++At<Ze;)Jt[At]=Ot(At);return Jt}function Xi(Ze){return Ze&&Ze.slice(0,ko(Ze)+1).replace(jr,"")}function Un(Ze){return function(Ot){return Ze(Ot)}}function ns(Ze,Ot){return _n(Ot,function(At){return Ze[At]})}function na(Ze,Ot){return Ze.has(Ot)}function Di(Ze,Ot){for(var At=-1,Jt=Ze.length;++At<Jt&&Ou(Ot,Ze[At],0)>-1;);return At}function Lc(Ze,Ot){for(var At=Ze.length;At--&&Ou(Ot,Ze[At],0)>-1;);return At}function Xl(Ze,Ot){for(var At=Ze.length,Jt=0;At--;)Ze[At]===Ot&&++Jt;return Jt}var Fc=Hi({\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"}),_o=Hi({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Ya(Ze){return"\\"+zf[Ze]}function oa(Ze){return jc.test(Ze)}function So(Ze){var Ot=-1,At=Array(Ze.size);return Ze.forEach(function(Jt,Wr){At[++Ot]=[Wr,Jt]}),At}function Bc(Ze,Ot){return function(At){return Ze(Ot(At))}}function wi(Ze,Ot){for(var At=-1,Jt=Ze.length,Wr=0,cn=[];++At<Jt;){var zn=Ze[At];zn!==Ot&&zn!==S||(Ze[At]=S,cn[Wr++]=At)}return cn}function ki(Ze){var Ot=-1,At=Array(Ze.size);return Ze.forEach(function(Jt){At[++Ot]=Jt}),At}function Bs(Ze){var Ot=-1,At=Array(Ze.size);return Ze.forEach(function(Jt){At[++Ot]=[Jt,Jt]}),At}function ui(Ze){return oa(Ze)?function(Ot){for(var At=Rc.lastIndex=0;Rc.test(Ot);)++At;return At}(Ze):Fs(Ze)}function yi(Ze){return oa(Ze)?function(Ot){return Ot.match(Rc)||[]}(Ze):function(Ot){return Ot.split("")}(Ze)}function ko(Ze){for(var Ot=Ze.length;Ot--&&fo.test(Ze.charAt(Ot)););return Ot}var xi=Hi({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Qo=function Ze(Ot){var At,Jt=(Ot=Ot==null?lo:Qo.defaults(lo.Object(),Ot,Qo.pick(lo,Hl))).Array,Wr=Ot.Date,cn=Ot.Error,zn=Ot.Function,w=Ot.Math,x=Ot.Object,M=Ot.RegExp,X=Ot.String,ie=Ot.TypeError,Ce=Jt.prototype,nt=zn.prototype,It=x.prototype,ar=Ot["__core-js_shared__"],Qr=nt.toString,Kt=It.hasOwnProperty,Sn=0,Zr=(At=/[^.]+$/.exec(ar&&ar.keys&&ar.keys.IE_PROTO||""))?"Symbol(src)_1."+At:"",gn=It.toString,Si=Qr.call(x),qn=lo._,gi=M("^"+Qr.call(Kt).replace(Mn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ta=ks?Ot.Buffer:v,Pa=Ot.Symbol,Ka=Ot.Uint8Array,xu=Ta?Ta.allocUnsafe:v,ia=Bc(x.getPrototypeOf,x),Su=x.create,Ao=It.propertyIsEnumerable,qa=Ce.splice,Ra=Pa?Pa.isConcatSpreadable:v,aa=Pa?Pa.iterator:v,ua=Pa?Pa.toStringTag:v,os=function(){try{var d=da(x,"defineProperty");return d({},"",{}),d}catch{}}(),Jd=Ot.clearTimeout!==lo.clearTimeout&&Ot.clearTimeout,Qd=Wr&&Wr.now!==lo.Date.now&&Wr.now,Wl=Ot.setTimeout!==lo.setTimeout&&Ot.setTimeout,Gc=w.ceil,is=w.floor,Yf=x.getOwnPropertySymbols,ep=Ta?Ta.isBuffer:v,as=Ot.isFinite,Uc=Ce.join,Kf=Bc(x.keys,x),po=w.max,si=w.min,qf=Wr.now,Zf=Ot.parseInt,Gs=w.random,Th=Ce.reverse,Us=da(Ot,"DataView"),ja=da(Ot,"Map"),zc=da(Ot,"Promise"),us=da(Ot,"Set"),Au=da(Ot,"WeakMap"),zs=da(x,"create"),$c=Au&&new Au,Tu={},Ph=Bu(Us),Hc=Bu(ja),Rh=Bu(zc),jh=Bu(us),tp=Bu(Au),Jf=Pa?Pa.prototype:v,ei=Jf?Jf.valueOf:v,rp=Jf?Jf.toString:v;function W(d){if(ao(d)&&!en(d)&&!(d instanceof fn)){if(d instanceof Wi)return d;if(Kt.call(d,"__wrapped__"))return _l(d)}return new Wi(d)}var ss=function(){function d(){}return function(g){if(!Cn(g))return{};if(Su)return Su(g);d.prototype=g;var _=new d;return d.prototype=v,_}}();function Za(){}function Wi(d,g){this.__wrapped__=d,this.__actions__=[],this.__chain__=!!g,this.__index__=0,this.__values__=v}function fn(d){this.__wrapped__=d,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=_e,this.__views__=[]}function Xo(d){var g=-1,_=d==null?0:d.length;for(this.clear();++g<_;){var T=d[g];this.set(T[0],T[1])}}function En(d){var g=-1,_=d==null?0:d.length;for(this.clear();++g<_;){var T=d[g];this.set(T[0],T[1])}}function sa(d){var g=-1,_=d==null?0:d.length;for(this.clear();++g<_;){var T=d[g];this.set(T[0],T[1])}}function Ja(d){var g=-1,_=d==null?0:d.length;for(this.__data__=new sa;++g<_;)this.add(d[g])}function Li(d){var g=this.__data__=new En(d);this.size=g.size}function Qf(d,g){var _=en(d),T=!_&&Uu(d),D=!_&&!T&&Ji(d),B=!_&&!T&&!D&&Ge(d),te=_||T||D||B,le=te?Va(d.length,X):[],Re=le.length;for(var rt in d)!g&&!Kt.call(d,rt)||te&&(rt=="length"||D&&(rt=="offset"||rt=="parent")||B&&(rt=="buffer"||rt=="byteLength"||rt=="byteOffset")||kn(rt,Re))||le.push(rt);return le}function el(d){var g=d.length;return g?d[nd(0,g-1)]:v}function Vl(d,g){return Fa(Go(d),Pu(g,0,d.length))}function np(d){return Fa(Go(d))}function Qa(d,g,_){(_!==v&&!Pi(d[g],_)||_===v&&!(g in d))&&ca(d,g,_)}function ho(d,g,_){var T=d[g];Kt.call(d,g)&&Pi(T,_)&&(_!==v||g in d)||ca(d,g,_)}function $s(d,g){for(var _=d.length;_--;)if(Pi(d[_][0],g))return _;return-1}function Yl(d,g,_,T){return Vn(d,function(D,B,te){g(T,D,_(D),te)}),T}function eu(d,g){return d&&Ca(g,xt(g),d)}function ca(d,g,_){g=="__proto__"&&os?os(d,g,{configurable:!0,enumerable:!0,value:_,writable:!0}):d[g]=_}function Xc(d,g){for(var _=-1,T=g.length,D=Jt(T),B=d==null;++_<T;)D[_]=B?v:Ct(d,g[_]);return D}function Pu(d,g,_){return d==d&&(_!==v&&(d=d<=_?d:_),g!==v&&(d=d>=g?d:g)),d}function Fi(d,g,_,T,D,B){var te,le=1&g,Re=2&g,rt=4&g;if(_&&(te=D?_(d,T,D,B):_(d)),te!==v)return te;if(!Cn(d))return d;var ut=en(d);if(ut){if(te=function(gt){var Ut=gt.length,qr=new gt.constructor(Ut);return Ut&&typeof gt[0]=="string"&&Kt.call(gt,"index")&&(qr.index=gt.index,qr.input=gt.input),qr}(d),!le)return Go(d,te)}else{var Nt=oo(d),dr=Nt==re||Nt==z;if(Ji(d))return sd(d,le);if(Nt==ke||Nt==ce||dr&&!D){if(te=Re||dr?{}:ku(d),!le)return Re?function(gt,Ut){return Ca(gt,Zs(gt),Ut)}(d,function(gt,Ut){return gt&&Ca(Ut,yt(Ut),gt)}(te,d)):function(gt,Ut){return Ca(gt,qs(gt),Ut)}(d,eu(te,d))}else{if(!xn[Nt])return D?d:{};te=function(gt,Ut,qr){var nr=gt.constructor;switch(Ut){case Ye:return fs(gt);case ee:case $:return new nr(+gt);case lt:return function(zr,mn){var xr=mn?fs(zr.buffer):zr.buffer;return new zr.constructor(xr,zr.byteOffset,zr.byteLength)}(gt,qr);case Pt:case Rt:case Lt:case tr:case Te:case de:case Ae:case st:case kt:return $n(gt,qr);case Oe:return new nr;case We:case ae:return new nr(gt);case at:return function(zr){var mn=new zr.constructor(zr.source,rn.exec(zr));return mn.lastIndex=zr.lastIndex,mn}(gt);case $e:return new nr;case pe:return Hr=gt,ei?x(ei.call(Hr)):{}}var Hr}(d,Nt,le)}}B||(B=new Li);var cr=B.get(d);if(cr)return cr;B.set(d,te),se(d)?d.forEach(function(gt){te.add(Fi(gt,g,_,gt,d,B))}):Wo(d)&&d.forEach(function(gt,Ut){te.set(Ut,Fi(gt,g,_,Ut,d,B))});var Mr=ut?v:(rt?Re?gl:nf:Re?yt:xt)(d);return ni(Mr||d,function(gt,Ut){Mr&&(gt=d[Ut=gt]),ho(te,Ut,Fi(gt,g,_,Ut,d,B))}),te}function Kl(d,g,_){var T=_.length;if(d==null)return!T;for(d=x(d);T--;){var D=_[T],B=g[D],te=d[D];if(te===v&&!(D in d)||!B(te))return!1}return!0}function ql(d,g,_){if(typeof d!="function")throw new ie(b);return ps(function(){d.apply(v,_)},g)}function fa(d,g,_,T){var D=-1,B=Jo,te=!0,le=d.length,Re=[],rt=g.length;if(!le)return Re;_&&(g=_n(g,Un(_))),T?(B=Dc,te=!1):g.length>=200&&(B=na,te=!1,g=new Ja(g));e:for(;++D<le;){var ut=d[D],Nt=_==null?ut:_(ut);if(ut=T||ut!==0?ut:0,te&&Nt==Nt){for(var dr=rt;dr--;)if(g[dr]===Nt)continue e;Re.push(ut)}else B(g,Nt,T)||Re.push(ut)}return Re}W.templateSettings={escape:Ne,evaluate:ir,interpolate:Br,variable:"",imports:{_:W}},W.prototype=Za.prototype,W.prototype.constructor=W,Wi.prototype=ss(Za.prototype),Wi.prototype.constructor=Wi,fn.prototype=ss(Za.prototype),fn.prototype.constructor=fn,Xo.prototype.clear=function(){this.__data__=zs?zs(null):{},this.size=0},Xo.prototype.delete=function(d){var g=this.has(d)&&delete this.__data__[d];return this.size-=g?1:0,g},Xo.prototype.get=function(d){var g=this.__data__;if(zs){var _=g[d];return _===O?v:_}return Kt.call(g,d)?g[d]:v},Xo.prototype.has=function(d){var g=this.__data__;return zs?g[d]!==v:Kt.call(g,d)},Xo.prototype.set=function(d,g){var _=this.__data__;return this.size+=this.has(d)?0:1,_[d]=zs&&g===v?O:g,this},En.prototype.clear=function(){this.__data__=[],this.size=0},En.prototype.delete=function(d){var g=this.__data__,_=$s(g,d);return!(_<0)&&(_==g.length-1?g.pop():qa.call(g,_,1),--this.size,!0)},En.prototype.get=function(d){var g=this.__data__,_=$s(g,d);return _<0?v:g[_][1]},En.prototype.has=function(d){return $s(this.__data__,d)>-1},En.prototype.set=function(d,g){var _=this.__data__,T=$s(_,d);return T<0?(++this.size,_.push([d,g])):_[T][1]=g,this},sa.prototype.clear=function(){this.size=0,this.__data__={hash:new Xo,map:new(ja||En),string:new Xo}},sa.prototype.delete=function(d){var g=Ks(this,d).delete(d);return this.size-=g?1:0,g},sa.prototype.get=function(d){return Ks(this,d).get(d)},sa.prototype.has=function(d){return Ks(this,d).has(d)},sa.prototype.set=function(d,g){var _=Ks(this,d),T=_.size;return _.set(d,g),this.size+=_.size==T?0:1,this},Ja.prototype.add=Ja.prototype.push=function(d){return this.__data__.set(d,O),this},Ja.prototype.has=function(d){return this.__data__.has(d)},Li.prototype.clear=function(){this.__data__=new En,this.size=0},Li.prototype.delete=function(d){var g=this.__data__,_=g.delete(d);return this.size=g.size,_},Li.prototype.get=function(d){return this.__data__.get(d)},Li.prototype.has=function(d){return this.__data__.has(d)},Li.prototype.set=function(d,g){var _=this.__data__;if(_ instanceof En){var T=_.__data__;if(!ja||T.length<199)return T.push([d,g]),this.size=++_.size,this;_=this.__data__=new sa(T)}return _.set(d,g),this.size=_.size,this};var Vn=ls(gr),op=ls(Bn,!0);function Zl(d,g){var _=!0;return Vn(d,function(T,D,B){return _=!!g(T,D,B)}),_}function vo(d,g,_){for(var T=-1,D=d.length;++T<D;){var B=d[T],te=g(B);if(te!=null&&(le===v?te==te&&!tt(te):_(te,le)))var le=te,Re=B}return Re}function Pn(d,g){var _=[];return Vn(d,function(T,D,B){g(T,D,B)&&_.push(T)}),_}function To(d,g,_,T,D){var B=-1,te=d.length;for(_||(_=af),D||(D=[]);++B<te;){var le=d[B];g>0&&_(le)?g>1?To(le,g-1,_,T,D):Do(D,le):T||(D[D.length]=le)}return D}var on=fl(),Fn=fl(!0);function gr(d,g){return d&&on(d,g,xt)}function Bn(d,g){return d&&Fn(d,g,xt)}function Wc(d,g){return oi(g,function(_){return Ga(d[_])})}function Na(d,g){for(var _=0,T=(g=Mu(g,d)).length;d!=null&&_<T;)d=d[va(g[_++])];return _&&_==T?d:v}function tl(d,g,_){var T=g(d);return en(d)?T:Do(T,_(d))}function Zn(d){return d==null?d===v?"[object Undefined]":"[object Null]":ua&&ua in x(d)?function(g){var _=Kt.call(g,ua),T=g[ua];try{g[ua]=v;var D=!0}catch{}var B=gn.call(g);return D&&(_?g[ua]=T:delete g[ua]),B}(d):function(g){return gn.call(g)}(d)}function no(d,g){return d>g}function Jl(d,g){return d!=null&&Kt.call(d,g)}function Ql(d,g){return d!=null&&g in x(d)}function Vc(d,g,_){for(var T=_?Dc:Jo,D=d[0].length,B=d.length,te=B,le=Jt(B),Re=1/0,rt=[];te--;){var ut=d[te];te&&g&&(ut=_n(ut,Un(g))),Re=si(ut.length,Re),le[te]=!_&&(g||D>=120&&ut.length>=120)?new Ja(te&&ut):v}ut=d[0];var Nt=-1,dr=le[0];e:for(;++Nt<D&&rt.length<Re;){var cr=ut[Nt],Mr=g?g(cr):cr;if(cr=_||cr!==0?cr:0,!(dr?na(dr,Mr):T(rt,Mr,_))){for(te=B;--te;){var gt=le[te];if(!(gt?na(gt,Mr):T(d[te],Mr,_)))continue e}dr&&dr.push(Mr),rt.push(cr)}}return rt}function ci(d,g,_){var T=(d=Fu(d,g=Mu(g,d)))==null?d:d[va(fi(g))];return T==null?v:Dn(T,d,_)}function rl(d){return ao(d)&&Zn(d)==ce}function Hs(d,g,_,T,D){return d===g||(d==null||g==null||!ao(d)&&!ao(g)?d!=d&&g!=g:function(B,te,le,Re,rt,ut){var Nt=en(B),dr=en(te),cr=Nt?fe:oo(B),Mr=dr?fe:oo(te),gt=(cr=cr==ce?ke:cr)==ke,Ut=(Mr=Mr==ce?ke:Mr)==ke,qr=cr==Mr;if(qr&&Ji(B)){if(!Ji(te))return!1;Nt=!0,gt=!1}if(qr&&!gt)return ut||(ut=new Li),Nt||Ge(B)?yl(B,te,le,Re,rt,ut):function(xr,Lr,Oo,Ve,fu,Vo,zu){switch(Oo){case lt:if(xr.byteLength!=Lr.byteLength||xr.byteOffset!=Lr.byteOffset)return!1;xr=xr.buffer,Lr=Lr.buffer;case Ye:return!(xr.byteLength!=Lr.byteLength||!Vo(new Ka(xr),new Ka(Lr)));case ee:case $:case We:return Pi(+xr,+Lr);case J:return xr.name==Lr.name&&xr.message==Lr.message;case at:case ae:return xr==Lr+"";case Oe:var bs=So;case $e:var xl=1&Ve;if(bs||(bs=ki),xr.size!=Lr.size&&!xl)return!1;var wd=zu.get(xr);if(wd)return wd==Lr;Ve|=2,zu.set(xr,Lr);var gf=yl(bs(xr),bs(Lr),Ve,fu,Vo,zu);return zu.delete(xr),gf;case pe:if(ei)return ei.call(xr)==ei.call(Lr)}return!1}(B,te,cr,le,Re,rt,ut);if(!(1&le)){var nr=gt&&Kt.call(B,"__wrapped__"),Hr=Ut&&Kt.call(te,"__wrapped__");if(nr||Hr){var zr=nr?B.value():B,mn=Hr?te.value():te;return ut||(ut=new Li),rt(zr,mn,le,Re,ut)}}return qr?(ut||(ut=new Li),function(xr,Lr,Oo,Ve,fu,Vo){var zu=1&Oo,bs=nf(xr),xl=bs.length,wd=nf(Lr).length;if(xl!=wd&&!zu)return!1;for(var gf=xl;gf--;){var ac=bs[gf];if(!(zu?ac in Lr:Kt.call(Lr,ac)))return!1}var kh=Vo.get(xr),Lh=Vo.get(Lr);if(kh&&Lh)return kh==Lr&&Lh==xr;var xd=!0;Vo.set(xr,Lr),Vo.set(Lr,xr);for(var xp=zu;++gf<xl;){var uc=xr[ac=bs[gf]],Sd=Lr[ac];if(Ve)var Fh=zu?Ve(Sd,uc,ac,Lr,xr,Vo):Ve(uc,Sd,ac,xr,Lr,Vo);if(!(Fh===v?uc===Sd||fu(uc,Sd,Oo,Ve,Vo):Fh)){xd=!1;break}xp||(xp=ac=="constructor")}if(xd&&!xp){var sc=xr.constructor,Ad=Lr.constructor;sc==Ad||!("constructor"in xr)||!("constructor"in Lr)||typeof sc=="function"&&sc instanceof sc&&typeof Ad=="function"&&Ad instanceof Ad||(xd=!1)}return Vo.delete(xr),Vo.delete(Lr),xd}(B,te,le,Re,rt,ut)):!1}(d,g,_,T,Hs,D))}function Vi(d,g,_,T){var D=_.length,B=D,te=!T;if(d==null)return!B;for(d=x(d);D--;){var le=_[D];if(te&&le[2]?le[1]!==d[le[0]]:!(le[0]in d))return!1}for(;++D<B;){var Re=(le=_[D])[0],rt=d[Re],ut=le[1];if(te&&le[2]){if(rt===v&&!(Re in d))return!1}else{var Nt=new Li;if(T)var dr=T(rt,ut,Re,d,g,Nt);if(!(dr===v?Hs(ut,rt,3,T,Nt):dr))return!1}}return!0}function Ru(d){return!(!Cn(d)||(g=d,Zr&&Zr in g))&&(Ga(d)?gi:bo).test(Bu(d));var g}function tu(d){return typeof d=="function"?d:d==null?Pr:typeof d=="object"?en(d)?td(d[0],d[1]):ed(d):q(d)}function Yi(d){if(!Lu(d))return Kf(d);var g=[];for(var _ in x(d))Kt.call(d,_)&&_!="constructor"&&g.push(_);return g}function ip(d){if(!Cn(d))return function(D){var B=[];if(D!=null)for(var te in x(D))B.push(te);return B}(d);var g=Lu(d),_=[];for(var T in d)(T!="constructor"||!g&&Kt.call(d,T))&&_.push(T);return _}function Ma(d,g){return d<g}function Bi(d,g){var _=-1,T=Ri(d)?Jt(d.length):[];return Vn(d,function(D,B,te){T[++_]=g(D,B,te)}),T}function ed(d){var g=of(d);return g.length==1&&g[0][2]?Qs(g[0][0],g[0][1]):function(_){return _===d||Vi(_,d,g)}}function td(d,g){return iu(d)&&La(g)?Qs(va(d),g):function(_){var T=Ct(_,d);return T===v&&T===g?ft(_,d):Hs(g,T,3)}}function nl(d,g,_,T,D){d!==g&&on(g,function(B,te){if(D||(D=new Li),Cn(B))(function(Re,rt,ut,Nt,dr,cr,Mr){var gt=_t(Re,ut),Ut=_t(rt,ut),qr=Mr.get(Ut);if(qr)return void Qa(Re,ut,qr);var nr=cr?cr(gt,Ut,ut+"",Re,rt,Mr):v,Hr=nr===v;if(Hr){var zr=en(Ut),mn=!zr&&Ji(Ut),xr=!zr&&!mn&&Ge(Ut);nr=Ut,zr||mn||xr?en(gt)?nr=gt:jo(gt)?nr=Go(gt):mn?(Hr=!1,nr=sd(Ut,!0)):xr?(Hr=!1,nr=$n(Ut,!0)):nr=[]:N(Ut)||Uu(Ut)?(nr=gt,Uu(gt)?nr=bt(gt):Cn(gt)&&!Ga(gt)||(nr=ku(Ut))):Hr=!1}Hr&&(Mr.set(Ut,nr),dr(nr,Ut,Nt,cr,Mr),Mr.delete(Ut)),Qa(Re,ut,nr)})(d,g,te,_,nl,T,D);else{var le=T?T(_t(d,te),B,te+"",d,g,D):v;le===v&&(le=B),Qa(d,te,le)}},yt)}function ap(d,g){var _=d.length;if(_)return kn(g+=g<0?_:0,_)?d[g]:v}function up(d,g,_){g=g.length?_n(g,function(B){return en(B)?function(te){return Na(te,B.length===1?B[0]:B)}:B}):[Pr];var T=-1;g=_n(g,Un(Dr()));var D=Bi(d,function(B,te,le){var Re=_n(g,function(rt){return rt(B)});return{criteria:Re,index:++T,value:B}});return function(B,te){var le=B.length;for(B.sort(te);le--;)B[le]=B[le].value;return B}(D,function(B,te){return function(le,Re,rt){for(var ut=-1,Nt=le.criteria,dr=Re.criteria,cr=Nt.length,Mr=rt.length;++ut<cr;){var gt=Jc(Nt[ut],dr[ut]);if(gt)return ut>=Mr?gt:gt*(rt[ut]=="desc"?-1:1)}return le.index-Re.index}(B,te,_)})}function sp(d,g,_){for(var T=-1,D=g.length,B={};++T<D;){var te=g[T],le=Na(d,te);_(le,te)&&ju(B,Mu(te,d),le)}return B}function rd(d,g,_,T){var D=T?vi:Ou,B=-1,te=g.length,le=d;for(d===g&&(g=Go(g)),_&&(le=_n(d,Un(_)));++B<te;)for(var Re=0,rt=g[B],ut=_?_(rt):rt;(Re=D(le,ut,Re,T))>-1;)le!==d&&qa.call(le,Re,1),qa.call(d,Re,1);return d}function Xs(d,g){for(var _=d?g.length:0,T=_-1;_--;){var D=g[_];if(_==T||D!==B){var B=D;kn(D)?qa.call(d,D,1):al(d,D)}}return d}function nd(d,g){return d+is(Gs()*(g-d+1))}function Yc(d,g){var _="";if(!d||g<1||g>H)return _;do g%2&&(_+=d),(g=is(g/2))&&(d+=d);while(g);return _}function an(d,g){return sf(uf(d,g,Pr),d+"")}function Nh(d){return el(tn(d))}function od(d,g){var _=tn(d);return Fa(_,Pu(g,0,_.length))}function ju(d,g,_,T){if(!Cn(d))return d;for(var D=-1,B=(g=Mu(g,d)).length,te=B-1,le=d;le!=null&&++D<B;){var Re=va(g[D]),rt=_;if(Re==="__proto__"||Re==="constructor"||Re==="prototype")return d;if(D!=te){var ut=le[Re];(rt=T?T(ut,Re,le):v)===v&&(rt=Cn(ut)?ut:kn(g[D+1])?[]:{})}ho(le,Re,rt),le=le[Re]}return d}var Kc=$c?function(d,g){return $c.set(d,g),d}:Pr,Mh=os?function(d,g){return os(d,"toString",{configurable:!0,enumerable:!1,value:ln(g),writable:!0})}:Pr;function Ch(d){return Fa(tn(d))}function Ki(d,g,_){var T=-1,D=d.length;g<0&&(g=-g>D?0:D+g),(_=_>D?D:_)<0&&(_+=D),D=g>_?0:_-g>>>0,g>>>=0;for(var B=Jt(D);++T<D;)B[T]=d[T+g];return B}function id(d,g){var _;return Vn(d,function(T,D,B){return!(_=g(T,D,B))}),!!_}function ol(d,g,_){var T=0,D=d==null?T:d.length;if(typeof g=="number"&&g==g&&D<=2147483647){for(;T<D;){var B=T+D>>>1,te=d[B];te!==null&&!tt(te)&&(_?te<=g:te<g)?T=B+1:D=B}return D}return il(d,g,Pr,_)}function il(d,g,_,T){var D=0,B=d==null?0:d.length;if(B===0)return 0;for(var te=(g=_(g))!=g,le=g===null,Re=tt(g),rt=g===v;D<B;){var ut=is((D+B)/2),Nt=_(d[ut]),dr=Nt!==v,cr=Nt===null,Mr=Nt==Nt,gt=tt(Nt);if(te)var Ut=T||Mr;else Ut=rt?Mr&&(T||dr):le?Mr&&dr&&(T||!cr):Re?Mr&&dr&&!cr&&(T||!gt):!cr&&!gt&&(T?Nt<=g:Nt<g);Ut?D=ut+1:B=ut}return si(B,4294967294)}function cp(d,g){for(var _=-1,T=d.length,D=0,B=[];++_<T;){var te=d[_],le=g?g(te):te;if(!_||!Pi(le,Re)){var Re=le;B[D++]=te===0?0:te}}return B}function ad(d){return typeof d=="number"?d:tt(d)?ue:+d}function Ai(d){if(typeof d=="string")return d;if(en(d))return _n(d,Ai)+"";if(tt(d))return rp?rp.call(d):"";var g=d+"";return g=="0"&&1/d==-1/0?"-0":g}function Nu(d,g,_){var T=-1,D=Jo,B=d.length,te=!0,le=[],Re=le;if(_)te=!1,D=Dc;else if(B>=200){var rt=g?null:hl(d);if(rt)return ki(rt);te=!1,D=na,Re=new Ja}else Re=g?[]:le;e:for(;++T<B;){var ut=d[T],Nt=g?g(ut):ut;if(ut=_||ut!==0?ut:0,te&&Nt==Nt){for(var dr=Re.length;dr--;)if(Re[dr]===Nt)continue e;g&&Re.push(Nt),le.push(ut)}else D(Re,Nt,_)||(Re!==le&&Re.push(Nt),le.push(ut))}return le}function al(d,g){return(d=Fu(d,g=Mu(g,d)))==null||delete d[va(fi(g))]}function cs(d,g,_,T){return ju(d,g,_(Na(d,g)),T)}function qc(d,g,_,T){for(var D=d.length,B=T?D:-1;(T?B--:++B<D)&&g(d[B],B,d););return _?Ki(d,T?0:B,T?B+1:D):Ki(d,T?B+1:0,T?D:B)}function fp(d,g){var _=d;return _ instanceof fn&&(_=_.value()),Ls(g,function(T,D){return D.func.apply(D.thisArg,Do([T],D.args))},_)}function Zc(d,g,_){var T=d.length;if(T<2)return T?Nu(d[0]):[];for(var D=-1,B=Jt(T);++D<T;)for(var te=d[D],le=-1;++le<T;)le!=D&&(B[D]=fa(B[D]||te,d[le],g,_));return Nu(To(B,1),g,_)}function ul(d,g,_){for(var T=-1,D=d.length,B=g.length,te={};++T<D;){var le=T<B?g[T]:v;_(te,d[T],le)}return te}function sl(d){return jo(d)?d:[]}function cl(d){return typeof d=="function"?d:Pr}function Mu(d,g){return en(d)?d:iu(d,g)?[d]:vd(ct(d))}var lp=an;function Cu(d,g,_){var T=d.length;return _=_===v?T:_,!g&&_>=T?d:Ki(d,g,_)}var ud=Jd||function(d){return lo.clearTimeout(d)};function sd(d,g){if(g)return d.slice();var _=d.length,T=xu?xu(_):new d.constructor(_);return d.copy(T),T}function fs(d){var g=new d.constructor(d.byteLength);return new Ka(g).set(new Ka(d)),g}function $n(d,g){var _=g?fs(d.buffer):d.buffer;return new d.constructor(_,d.byteOffset,d.length)}function Jc(d,g){if(d!==g){var _=d!==v,T=d===null,D=d==d,B=tt(d),te=g!==v,le=g===null,Re=g==g,rt=tt(g);if(!le&&!rt&&!B&&d>g||B&&te&&Re&&!le&&!rt||T&&te&&Re||!_&&Re||!D)return 1;if(!T&&!B&&!rt&&d<g||rt&&_&&D&&!T&&!B||le&&_&&D||!te&&D||!Re)return-1}return 0}function Jn(d,g,_,T){for(var D=-1,B=d.length,te=_.length,le=-1,Re=g.length,rt=po(B-te,0),ut=Jt(Re+rt),Nt=!T;++le<Re;)ut[le]=g[le];for(;++D<te;)(Nt||D<B)&&(ut[_[D]]=d[D]);for(;rt--;)ut[le++]=d[D++];return ut}function ru(d,g,_,T){for(var D=-1,B=d.length,te=-1,le=_.length,Re=-1,rt=g.length,ut=po(B-le,0),Nt=Jt(ut+rt),dr=!T;++D<ut;)Nt[D]=d[D];for(var cr=D;++Re<rt;)Nt[cr+Re]=g[Re];for(;++te<le;)(dr||D<B)&&(Nt[cr+_[te]]=d[D++]);return Nt}function Go(d,g){var _=-1,T=d.length;for(g||(g=Jt(T));++_<T;)g[_]=d[_];return g}function Ca(d,g,_,T){var D=!_;_||(_={});for(var B=-1,te=g.length;++B<te;){var le=g[B],Re=T?T(_[le],d[le],le,_,d):v;Re===v&&(Re=d[le]),D?ca(_,le,Re):ho(_,le,Re)}return _}function nu(d,g){return function(_,T){var D=en(_)?Xf:Yl,B=g?g():{};return D(_,d,Dr(T,2),B)}}function Iu(d){return an(function(g,_){var T=-1,D=_.length,B=D>1?_[D-1]:v,te=D>2?_[2]:v;for(B=d.length>3&&typeof B=="function"?(D--,B):v,te&&yo(_[0],_[1],te)&&(B=D<3?v:B,D=1),g=x(g);++T<D;){var le=_[T];le&&d(g,le,T,B)}return g})}function ls(d,g){return function(_,T){if(_==null)return _;if(!Ri(_))return d(_,T);for(var D=_.length,B=g?D:-1,te=x(_);(g?B--:++B<D)&&T(te[B],B,te)!==!1;);return _}}function fl(d){return function(g,_,T){for(var D=-1,B=x(g),te=T(g),le=te.length;le--;){var Re=te[d?le:++D];if(_(B[Re],Re,B)===!1)break}return g}}function ll(d){return function(g){var _=oa(g=ct(g))?yi(g):v,T=_?_[0]:g.charAt(0),D=_?Cu(_,1).join(""):g.slice(1);return T[d]()+D}}function Ia(d){return function(g){return Ls(eo(Yr(g).replace(Gf,"")),d,"")}}function ds(d){return function(){var g=arguments;switch(g.length){case 0:return new d;case 1:return new d(g[0]);case 2:return new d(g[0],g[1]);case 3:return new d(g[0],g[1],g[2]);case 4:return new d(g[0],g[1],g[2],g[3]);case 5:return new d(g[0],g[1],g[2],g[3],g[4]);case 6:return new d(g[0],g[1],g[2],g[3],g[4],g[5]);case 7:return new d(g[0],g[1],g[2],g[3],g[4],g[5],g[6])}var _=ss(d.prototype),T=d.apply(_,g);return Cn(T)?T:_}}function dl(d){return function(g,_,T){var D=x(g);if(!Ri(g)){var B=Dr(_,3);g=xt(g),_=function(le){return B(D[le],le,D)}}var te=d(g,_,T);return te>-1?D[B?g[te]:te]:v}}function Qc(d){return ka(function(g){var _=g.length,T=_,D=Wi.prototype.thru;for(d&&g.reverse();T--;){var B=g[T];if(typeof B!="function")throw new ie(b);if(D&&!te&&Ys(B)=="wrapper")var te=new Wi([],!0)}for(T=te?T:_;++T<_;){var le=Ys(B=g[T]),Re=le=="wrapper"?ml(B):v;te=Re&&pa(Re[0])&&Re[1]==424&&!Re[4].length&&Re[9]==1?te[Ys(Re[0])].apply(te,Re[3]):B.length==1&&pa(B)?te[le]():te.thru(B)}return function(){var rt=arguments,ut=rt[0];if(te&&rt.length==1&&en(ut))return te.plant(ut).value();for(var Nt=0,dr=_?g[Nt].apply(this,rt):ut;++Nt<_;)dr=g[Nt].call(this,dr);return dr}})}function Du(d,g,_,T,D,B,te,le,Re,rt){var ut=g&C,Nt=1&g,dr=2&g,cr=24&g,Mr=512&g,gt=dr?v:ds(d);return function Ut(){for(var qr=arguments.length,nr=Jt(qr),Hr=qr;Hr--;)nr[Hr]=arguments[Hr];if(cr)var zr=ou(Ut),mn=Xl(nr,zr);if(T&&(nr=Jn(nr,T,D,cr)),B&&(nr=ru(nr,B,te,cr)),qr-=mn,cr&&qr<rt){var xr=wi(nr,zr);return tf(d,g,Du,Ut.placeholder,_,nr,xr,le,Re,rt-qr)}var Lr=Nt?_:this,Oo=dr?Lr[d]:d;return qr=nr.length,le?nr=ec(nr,le):Mr&&qr>1&&nr.reverse(),ut&&Re<qr&&(nr.length=Re),this&&this!==lo&&this instanceof Ut&&(Oo=gt||ds(Oo)),Oo.apply(Lr,nr)}}function cd(d,g){return function(_,T){return function(D,B,te,le){return gr(D,function(Re,rt,ut){B(le,te(Re),rt,ut)}),le}(_,d,g(T),{})}}function Ws(d,g){return function(_,T){var D;if(_===v&&T===v)return g;if(_!==v&&(D=_),T!==v){if(D===v)return T;typeof _=="string"||typeof T=="string"?(_=Ai(_),T=Ai(T)):(_=ad(_),T=ad(T)),D=d(_,T)}return D}}function pl(d){return ka(function(g){return g=_n(g,Un(Dr())),an(function(_){var T=this;return d(g,function(D){return Dn(D,T,_)})})})}function ef(d,g){var _=(g=g===v?" ":Ai(g)).length;if(_<2)return _?Yc(g,d):g;var T=Yc(g,Gc(d/ui(g)));return oa(g)?Cu(yi(T),0,d).join(""):T.slice(0,d)}function Da(d){return function(g,_,T){return T&&typeof T!="number"&&yo(g,_,T)&&(_=T=v),g=Et(g),_===v?(_=g,g=0):_=Et(_),function(D,B,te,le){for(var Re=-1,rt=po(Gc((B-D)/(te||1)),0),ut=Jt(rt);rt--;)ut[le?rt:++Re]=D,D+=te;return ut}(g,_,T=T===v?g<_?1:-1:Et(T),d)}}function Vs(d){return function(g,_){return typeof g=="string"&&typeof _=="string"||(g=jt(g),_=jt(_)),d(g,_)}}function tf(d,g,_,T,D,B,te,le,Re,rt){var ut=8&g;g|=ut?j:I,4&(g&=~(ut?I:j))||(g&=-4);var Nt=[d,g,D,ut?B:v,ut?te:v,ut?v:B,ut?v:te,le,Re,rt],dr=_.apply(v,Nt);return pa(d)&&pd(dr,Nt),dr.placeholder=T,bl(dr,d,g)}function rf(d){var g=w[d];return function(_,T){if(_=jt(_),(T=T==null?0:si(Qe(T),292))&&as(_)){var D=(ct(_)+"e").split("e");return+((D=(ct(g(D[0]+"e"+(+D[1]+T)))+"e").split("e"))[0]+"e"+(+D[1]-T))}return g(_)}}var hl=us&&1/ki(new us([,-0]))[1]==G?function(d){return new us(d)}:Xe;function vl(d){return function(g){var _=oo(g);return _==Oe?So(g):_==$e?Bs(g):function(T,D){return _n(D,function(B){return[B,T[B]]})}(g,d(g))}}function la(d,g,_,T,D,B,te,le){var Re=2&g;if(!Re&&typeof d!="function")throw new ie(b);var rt=T?T.length:0;if(rt||(g&=-97,T=D=v),te=te===v?te:po(Qe(te),0),le=le===v?le:Qe(le),rt-=D?D.length:0,g&I){var ut=T,Nt=D;T=D=v}var dr=Re?v:ml(d),cr=[d,g,_,T,D,ut,Nt,B,te,le];if(dr&&function(gt,Ut){var qr=gt[1],nr=Ut[1],Hr=qr|nr,zr=Hr<131,mn=nr==C&&qr==8||nr==C&&qr==k&&gt[7].length<=Ut[8]||nr==384&&Ut[7].length<=Ut[8]&&qr==8;if(!zr&&!mn)return gt;1&nr&&(gt[2]=Ut[2],Hr|=1&qr?0:4);var xr=Ut[3];if(xr){var Lr=gt[3];gt[3]=Lr?Jn(Lr,xr,Ut[4]):xr,gt[4]=Lr?wi(gt[3],S):Ut[4]}(xr=Ut[5])&&(Lr=gt[5],gt[5]=Lr?ru(Lr,xr,Ut[6]):xr,gt[6]=Lr?wi(gt[5],S):Ut[6]),(xr=Ut[7])&&(gt[7]=xr),nr&C&&(gt[8]=gt[8]==null?Ut[8]:si(gt[8],Ut[8])),gt[9]==null&&(gt[9]=Ut[9]),gt[0]=Ut[0],gt[1]=Hr}(cr,dr),d=cr[0],g=cr[1],_=cr[2],T=cr[3],D=cr[4],!(le=cr[9]=cr[9]===v?Re?0:d.length:po(cr[9]-rt,0))&&24&g&&(g&=-25),g&&g!=1)Mr=g==8||g==P?function(gt,Ut,qr){var nr=ds(gt);return function Hr(){for(var zr=arguments.length,mn=Jt(zr),xr=zr,Lr=ou(Hr);xr--;)mn[xr]=arguments[xr];var Oo=zr<3&&mn[0]!==Lr&&mn[zr-1]!==Lr?[]:wi(mn,Lr);return(zr-=Oo.length)<qr?tf(gt,Ut,Du,Hr.placeholder,v,mn,Oo,v,v,qr-zr):Dn(this&&this!==lo&&this instanceof Hr?nr:gt,this,mn)}}(d,g,le):g!=j&&g!=33||D.length?Du.apply(v,cr):function(gt,Ut,qr,nr){var Hr=1&Ut,zr=ds(gt);return function mn(){for(var xr=-1,Lr=arguments.length,Oo=-1,Ve=nr.length,fu=Jt(Ve+Lr),Vo=this&&this!==lo&&this instanceof mn?zr:gt;++Oo<Ve;)fu[Oo]=nr[Oo];for(;Lr--;)fu[Oo++]=arguments[++xr];return Dn(Vo,Hr?qr:this,fu)}}(d,g,_,T);else var Mr=function(gt,Ut,qr){var nr=1&Ut,Hr=ds(gt);return function zr(){return(this&&this!==lo&&this instanceof zr?Hr:gt).apply(nr?qr:this,arguments)}}(d,g,_);return bl((dr?Kc:pd)(Mr,cr),d,g)}function fd(d,g,_,T){return d===v||Pi(d,It[_])&&!Kt.call(T,_)?g:d}function ld(d,g,_,T,D,B){return Cn(d)&&Cn(g)&&(B.set(g,d),nl(d,g,v,ld,B),B.delete(g)),d}function dd(d){return N(d)?v:d}function yl(d,g,_,T,D,B){var te=1&_,le=d.length,Re=g.length;if(le!=Re&&!(te&&Re>le))return!1;var rt=B.get(d),ut=B.get(g);if(rt&&ut)return rt==g&&ut==d;var Nt=-1,dr=!0,cr=2&_?new Ja:v;for(B.set(d,g),B.set(g,d);++Nt<le;){var Mr=d[Nt],gt=g[Nt];if(T)var Ut=te?T(gt,Mr,Nt,g,d,B):T(Mr,gt,Nt,d,g,B);if(Ut!==v){if(Ut)continue;dr=!1;break}if(cr){if(!kc(g,function(qr,nr){if(!na(cr,nr)&&(Mr===qr||D(Mr,qr,_,T,B)))return cr.push(nr)})){dr=!1;break}}else if(Mr!==gt&&!D(Mr,gt,_,T,B)){dr=!1;break}}return B.delete(d),B.delete(g),dr}function ka(d){return sf(uf(d,v,md),d+"")}function nf(d){return tl(d,xt,qs)}function gl(d){return tl(d,yt,Zs)}var ml=$c?function(d){return $c.get(d)}:Xe;function Ys(d){for(var g=d.name+"",_=Tu[g],T=Kt.call(Tu,g)?_.length:0;T--;){var D=_[T],B=D.func;if(B==null||B==d)return D.name}return g}function ou(d){return(Kt.call(W,"placeholder")?W:d).placeholder}function Dr(){var d=W.iteratee||Gn;return d=d===Gn?tu:d,arguments.length?d(arguments[0],arguments[1]):d}function Ks(d,g){var _,T,D=d.__data__;return((T=typeof(_=g))=="string"||T=="number"||T=="symbol"||T=="boolean"?_!=="__proto__":_===null)?D[typeof g=="string"?"string":"hash"]:D.map}function of(d){for(var g=xt(d),_=g.length;_--;){var T=g[_],D=d[T];g[_]=[T,D,La(D)]}return g}function da(d,g){var _=function(T,D){return T==null?v:T[D]}(d,g);return Ru(_)?_:v}var qs=Yf?function(d){return d==null?[]:(d=x(d),oi(Yf(d),function(g){return Ao.call(d,g)}))}:Me,Zs=Yf?function(d){for(var g=[];d;)Do(g,qs(d)),d=ia(d);return g}:Me,oo=Zn;function Js(d,g,_){for(var T=-1,D=(g=Mu(g,d)).length,B=!1;++T<D;){var te=va(g[T]);if(!(B=d!=null&&_(d,te)))break;d=d[te]}return B||++T!=D?B:!!(D=d==null?0:d.length)&&su(D)&&kn(te,D)&&(en(d)||Uu(d))}function ku(d){return typeof d.constructor!="function"||Lu(d)?{}:ss(ia(d))}function af(d){return en(d)||Uu(d)||!!(Ra&&d&&d[Ra])}function kn(d,g){var _=typeof d;return!!(g=g==null?H:g)&&(_=="number"||_!="symbol"&&fr.test(d))&&d>-1&&d%1==0&&d<g}function yo(d,g,_){if(!Cn(_))return!1;var T=typeof g;return!!(T=="number"?Ri(_)&&kn(g,_.length):T=="string"&&g in _)&&Pi(_[g],d)}function iu(d,g){if(en(d))return!1;var _=typeof d;return!(_!="number"&&_!="symbol"&&_!="boolean"&&d!=null&&!tt(d))||Gr.test(d)||!V.test(d)||g!=null&&d in x(g)}function pa(d){var g=Ys(d),_=W[g];if(typeof _!="function"||!(g in fn.prototype))return!1;if(d===_)return!0;var T=ml(_);return!!T&&d===T[0]}(Us&&oo(new Us(new ArrayBuffer(1)))!=lt||ja&&oo(new ja)!=Oe||zc&&oo(zc.resolve())!=it||us&&oo(new us)!=$e||Au&&oo(new Au)!=Se)&&(oo=function(d){var g=Zn(d),_=g==ke?d.constructor:v,T=_?Bu(_):"";if(T)switch(T){case Ph:return lt;case Hc:return Oe;case Rh:return it;case jh:return $e;case tp:return Se}return g});var ha=ar?Ga:De;function Lu(d){var g=d&&d.constructor;return d===(typeof g=="function"&&g.prototype||It)}function La(d){return d==d&&!Cn(d)}function Qs(d,g){return function(_){return _!=null&&_[d]===g&&(g!==v||d in x(_))}}function uf(d,g,_){return g=po(g===v?d.length-1:g,0),function(){for(var T=arguments,D=-1,B=po(T.length-g,0),te=Jt(B);++D<B;)te[D]=T[g+D];D=-1;for(var le=Jt(g+1);++D<g;)le[D]=T[D];return le[g]=_(te),Dn(d,this,le)}}function Fu(d,g){return g.length<2?d:Na(d,Ki(g,0,-1))}function ec(d,g){for(var _=d.length,T=si(g.length,_),D=Go(d);T--;){var B=g[T];d[T]=kn(B,_)?D[B]:v}return d}function _t(d,g){if((g!=="constructor"||typeof d[g]!="function")&&g!="__proto__")return d[g]}var pd=hd(Kc),ps=Wl||function(d,g){return lo.setTimeout(d,g)},sf=hd(Mh);function bl(d,g,_){var T=g+"";return sf(d,function(D,B){var te=B.length;if(!te)return D;var le=te-1;return B[le]=(te>1?"& ":"")+B[le],B=B.join(te>2?", ":" "),D.replace(ve,`{
/* [wrapped with `+B+`] */
`)}(T,function(D,B){return ni(be,function(te){var le="_."+te[0];B&te[1]&&!Jo(D,le)&&D.push(le)}),D.sort()}(function(D){var B=D.match(Le);return B?B[1].split(xe):[]}(T),_)))}function hd(d){var g=0,_=0;return function(){var T=qf(),D=16-(T-_);if(_=T,D>0){if(++g>=800)return arguments[0]}else g=0;return d.apply(v,arguments)}}function Fa(d,g){var _=-1,T=d.length,D=T-1;for(g=g===v?T:g;++_<g;){var B=nd(_,D),te=d[B];d[B]=d[_],d[_]=te}return d.length=g,d}var vd=function(d){var g=Gu(d,function(T){return _.size===500&&_.clear(),T}),_=g.cache;return g}(function(d){var g=[];return d.charCodeAt(0)===46&&g.push(""),d.replace(dn,function(_,T,D,B){g.push(D?B.replace(Ft,"$1"):T||_)}),g});function va(d){if(typeof d=="string"||tt(d))return d;var g=d+"";return g=="0"&&1/d==-1/0?"-0":g}function Bu(d){if(d!=null){try{return Qr.call(d)}catch{}try{return d+""}catch{}}return""}function _l(d){if(d instanceof fn)return d.clone();var g=new Wi(d.__wrapped__,d.__chain__);return g.__actions__=Go(d.__actions__),g.__index__=d.__index__,g.__values__=d.__values__,g}var dp=an(function(d,g){return jo(d)?fa(d,To(g,1,jo,!0)):[]}),pp=an(function(d,g){var _=fi(g);return jo(_)&&(_=v),jo(d)?fa(d,To(g,1,jo,!0),Dr(_,2)):[]}),hp=an(function(d,g){var _=fi(g);return jo(_)&&(_=v),jo(d)?fa(d,To(g,1,jo,!0),v,_):[]});function yd(d,g,_){var T=d==null?0:d.length;if(!T)return-1;var D=_==null?0:Qe(_);return D<0&&(D=po(T+D,0)),ii(d,Dr(g,3),D)}function gd(d,g,_){var T=d==null?0:d.length;if(!T)return-1;var D=T-1;return _!==v&&(D=Qe(_),D=_<0?po(T+D,0):si(D,T-1)),ii(d,Dr(g,3),D,!0)}function md(d){return d!=null&&d.length?To(d,1):[]}function bd(d){return d&&d.length?d[0]:v}var vp=an(function(d){var g=_n(d,sl);return g.length&&g[0]===d[0]?Vc(g):[]}),yp=an(function(d){var g=fi(d),_=_n(d,sl);return g===fi(_)?g=v:_.pop(),_.length&&_[0]===d[0]?Vc(_,Dr(g,2)):[]}),gp=an(function(d){var g=fi(d),_=_n(d,sl);return(g=typeof g=="function"?g:v)&&_.pop(),_.length&&_[0]===d[0]?Vc(_,v,g):[]});function fi(d){var g=d==null?0:d.length;return g?d[g-1]:v}var hs=an(cf);function cf(d,g){return d&&d.length&&g&&g.length?rd(d,g):d}var Ti=ka(function(d,g){var _=d==null?0:d.length,T=Xc(d,g);return Xs(d,_n(g,function(D){return kn(D,_)?+D:D}).sort(Jc)),T});function qi(d){return d==null?d:Th.call(d)}var El=an(function(d){return Nu(To(d,1,jo,!0))}),li=an(function(d){var g=fi(d);return jo(g)&&(g=v),Nu(To(d,1,jo,!0),Dr(g,2))}),ff=an(function(d){var g=fi(d);return g=typeof g=="function"?g:v,Nu(To(d,1,jo,!0),v,g)});function vs(d){if(!d||!d.length)return[];var g=0;return d=oi(d,function(_){if(jo(_))return g=po(_.length,g),!0}),Va(g,function(_){return _n(d,ai(_))})}function tc(d,g){if(!d||!d.length)return[];var _=vs(d);return g==null?_:_n(_,function(T){return Dn(g,v,T)})}var lf=an(function(d,g){return jo(d)?fa(d,g):[]}),df=an(function(d){return Zc(oi(d,jo))}),rc=an(function(d){var g=fi(d);return jo(g)&&(g=v),Zc(oi(d,jo),Dr(g,2))}),nc=an(function(d){var g=fi(d);return g=typeof g=="function"?g:v,Zc(oi(d,jo),v,g)}),ys=an(vs),au=an(function(d){var g=d.length,_=g>1?d[g-1]:v;return _=typeof _=="function"?(d.pop(),_):v,tc(d,_)});function Po(d){var g=W(d);return g.__chain__=!0,g}function pf(d,g){return g(d)}var hf=ka(function(d){var g=d.length,_=g?d[0]:0,T=this.__wrapped__,D=function(B){return Xc(B,d)};return!(g>1||this.__actions__.length)&&T instanceof fn&&kn(_)?((T=T.slice(_,+_+(g?1:0))).__actions__.push({func:pf,args:[D],thisArg:v}),new Wi(T,this.__chain__).thru(function(B){return g&&!B.length&&B.push(v),B})):this.thru(D)}),uu=nu(function(d,g,_){Kt.call(d,_)?++d[_]:ca(d,_,1)}),_d=dl(yd),di=dl(gd);function Ro(d,g){return(en(d)?ni:Vn)(d,Dr(g,3))}function mp(d,g){return(en(d)?Ic:op)(d,Dr(g,3))}var Zi=nu(function(d,g,_){Kt.call(d,_)?d[_].push(g):ca(d,_,[g])}),Or=an(function(d,g,_){var T=-1,D=typeof g=="function",B=Ri(d)?Jt(d.length):[];return Vn(d,function(te){B[++T]=D?Dn(g,te,_):ci(te,g,_)}),B}),Ol=nu(function(d,g,_){ca(d,_,g)});function gs(d,g){return(en(d)?_n:Bi)(d,Dr(g,3))}var wl=nu(function(d,g,_){d[_?0:1].push(g)},function(){return[[],[]]}),bp=an(function(d,g){if(d==null)return[];var _=g.length;return _>1&&yo(d,g[0],g[1])?g=[]:_>2&&yo(g[0],g[1],g[2])&&(g=[g[0]]),up(d,To(g,1),[])}),oc=Qd||function(){return lo.Date.now()};function _p(d,g,_){return g=_?v:g,g=d&&g==null?d.length:g,la(d,C,v,v,v,v,g)}function ya(d,g){var _;if(typeof g!="function")throw new ie(b);return d=Qe(d),function(){return--d>0&&(_=g.apply(this,arguments)),d<=1&&(g=v),_}}var ic=an(function(d,g,_){var T=1;if(_.length){var D=wi(_,ou(ic));T|=j}return la(d,T,g,_,D)}),ms=an(function(d,g,_){var T=3;if(_.length){var D=wi(_,ou(ms));T|=j}return la(g,T,d,_,D)});function ga(d,g,_){var T,D,B,te,le,Re,rt=0,ut=!1,Nt=!1,dr=!0;if(typeof d!="function")throw new ie(b);function cr(Hr){var zr=T,mn=D;return T=D=v,rt=Hr,te=d.apply(mn,zr)}function Mr(Hr){return rt=Hr,le=ps(Ut,g),ut?cr(Hr):te}function gt(Hr){var zr=Hr-Re;return Re===v||zr>=g||zr<0||Nt&&Hr-rt>=B}function Ut(){var Hr=oc();if(gt(Hr))return qr(Hr);le=ps(Ut,function(zr){var mn=g-(zr-Re);return Nt?si(mn,B-(zr-rt)):mn}(Hr))}function qr(Hr){return le=v,dr&&T?cr(Hr):(T=D=v,te)}function nr(){var Hr=oc(),zr=gt(Hr);if(T=arguments,D=this,Re=Hr,zr){if(le===v)return Mr(Re);if(Nt)return ud(le),le=ps(Ut,g),cr(Re)}return le===v&&(le=ps(Ut,g)),te}return g=jt(g)||0,Cn(_)&&(ut=!!_.leading,B=(Nt="maxWait"in _)?po(jt(_.maxWait)||0,g):B,dr="trailing"in _?!!_.trailing:dr),nr.cancel=function(){le!==v&&ud(le),rt=0,T=Re=D=le=v},nr.flush=function(){return le===v?te:qr(oc())},nr}var Ep=an(function(d,g){return ql(d,1,g)}),Ed=an(function(d,g,_){return ql(d,jt(g)||0,_)});function Gu(d,g){if(typeof d!="function"||g!=null&&typeof g!="function")throw new ie(b);var _=function(){var T=arguments,D=g?g.apply(this,T):T[0],B=_.cache;if(B.has(D))return B.get(D);var te=d.apply(this,T);return _.cache=B.set(D,te)||B,te};return _.cache=new(Gu.Cache||sa),_}function Ba(d){if(typeof d!="function")throw new ie(b);return function(){var g=arguments;switch(g.length){case 0:return!d.call(this);case 1:return!d.call(this,g[0]);case 2:return!d.call(this,g[0],g[1]);case 3:return!d.call(this,g[0],g[1],g[2])}return!d.apply(this,g)}}Gu.Cache=sa;var pi=lp(function(d,g){var _=(g=g.length==1&&en(g[0])?_n(g[0],Un(Dr())):_n(To(g,1),Un(Dr()))).length;return an(function(T){for(var D=-1,B=si(T.length,_);++D<B;)T[D]=g[D].call(this,T[D]);return Dn(d,this,T)})}),Sr=an(function(d,g){var _=wi(g,ou(Sr));return la(d,j,v,g,_)}),io=an(function(d,g){var _=wi(g,ou(io));return la(d,I,v,g,_)}),ti=ka(function(d,g){return la(d,k,v,v,v,g)});function Pi(d,g){return d===g||d!=d&&g!=g}var Ih=Vs(no),Op=Vs(function(d,g){return d>=g}),Uu=rl(function(){return arguments}())?rl:function(d){return ao(d)&&Kt.call(d,"callee")&&!Ao.call(d,"callee")},en=Jt.isArray,wp=Mc?Un(Mc):function(d){return ao(d)&&Zn(d)==Ye};function Ri(d){return d!=null&&su(d.length)&&!Ga(d)}function jo(d){return ao(d)&&Ri(d)}var Ji=ep||De,Dh=Hf?Un(Hf):function(d){return ao(d)&&Zn(d)==$};function vf(d){if(!ao(d))return!1;var g=Zn(d);return g==J||g=="[object DOMException]"||typeof d.message=="string"&&typeof d.name=="string"&&!N(d)}function Ga(d){if(!Cn(d))return!1;var g=Zn(d);return g==re||g==z||g=="[object AsyncFunction]"||g=="[object Proxy]"}function Od(d){return typeof d=="number"&&d==Qe(d)}function su(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=H}function Cn(d){var g=typeof d;return d!=null&&(g=="object"||g=="function")}function ao(d){return d!=null&&typeof d=="object"}var Wo=Cc?Un(Cc):function(d){return ao(d)&&oo(d)==Oe};function yf(d){return typeof d=="number"||ao(d)&&Zn(d)==We}function N(d){if(!ao(d)||Zn(d)!=ke)return!1;var g=ia(d);if(g===null)return!0;var _=Kt.call(g,"constructor")&&g.constructor;return typeof _=="function"&&_ instanceof _&&Qr.call(_)==Si}var Y=ri?Un(ri):function(d){return ao(d)&&Zn(d)==at},se=Io?Un(Io):function(d){return ao(d)&&oo(d)==$e};function He(d){return typeof d=="string"||!en(d)&&ao(d)&&Zn(d)==ae}function tt(d){return typeof d=="symbol"||ao(d)&&Zn(d)==pe}var Ge=Oi?Un(Oi):function(d){return ao(d)&&su(d.length)&&!!Tn[Zn(d)]},Je=Vs(Ma),mt=Vs(function(d,g){return d<=g});function wt(d){if(!d)return[];if(Ri(d))return He(d)?yi(d):Go(d);if(aa&&d[aa])return function(_){for(var T,D=[];!(T=_.next()).done;)D.push(T.value);return D}(d[aa]());var g=oo(d);return(g==Oe?So:g==$e?ki:tn)(d)}function Et(d){return d?(d=jt(d))===G||d===-1/0?17976931348623157e292*(d<0?-1:1):d==d?d:0:d===0?d:0}function Qe(d){var g=Et(d),_=g%1;return g==g?_?g-_:g:0}function Mt(d){return d?Pu(Qe(d),0,_e):0}function jt(d){if(typeof d=="number")return d;if(tt(d))return ue;if(Cn(d)){var g=typeof d.valueOf=="function"?d.valueOf():d;d=Cn(g)?g+"":g}if(typeof d!="string")return d===0?d:+d;d=Xi(d);var _=$o.test(d);return _||xo.test(d)?Ci(d.slice(2),_?2:8):Co.test(d)?ue:+d}function bt(d){return Ca(d,yt(d))}function ct(d){return d==null?"":Ai(d)}var Ie=Iu(function(d,g){if(Lu(g)||Ri(g))Ca(g,xt(g),d);else for(var _ in g)Kt.call(g,_)&&ho(d,_,g[_])}),qe=Iu(function(d,g){Ca(g,yt(g),d)}),St=Iu(function(d,g,_,T){Ca(g,yt(g),d,T)}),Bt=Iu(function(d,g,_,T){Ca(g,xt(g),d,T)}),pt=ka(Xc),Gt=an(function(d,g){d=x(d);var _=-1,T=g.length,D=T>2?g[2]:v;for(D&&yo(g[0],g[1],D)&&(T=1);++_<T;)for(var B=g[_],te=yt(B),le=-1,Re=te.length;++le<Re;){var rt=te[le],ut=d[rt];(ut===v||Pi(ut,It[rt])&&!Kt.call(d,rt))&&(d[rt]=B[rt])}return d}),vt=an(function(d){return d.push(v,ld),Dn(br,v,d)});function Ct(d,g,_){var T=d==null?v:Na(d,g);return T===v?_:T}function ft(d,g){return d!=null&&Js(d,g,Ql)}var Dt=cd(function(d,g,_){g!=null&&typeof g.toString!="function"&&(g=gn.call(g)),d[g]=_},ln(Pr)),pr=cd(function(d,g,_){g!=null&&typeof g.toString!="function"&&(g=gn.call(g)),Kt.call(d,g)?d[g].push(_):d[g]=[_]},Dr),Tr=an(ci);function xt(d){return Ri(d)?Qf(d):Yi(d)}function yt(d){return Ri(d)?Qf(d,!0):ip(d)}var dt=Iu(function(d,g,_){nl(d,g,_)}),br=Iu(function(d,g,_,T){nl(d,g,_,T)}),Fr=ka(function(d,g){var _={};if(d==null)return _;var T=!1;g=_n(g,function(B){return B=Mu(B,d),T||(T=B.length>1),B}),Ca(d,gl(d),_),T&&(_=Fi(_,7,dd));for(var D=g.length;D--;)al(_,g[D]);return _}),qt=ka(function(d,g){return d==null?{}:function(_,T){return sp(_,T,function(D,B){return ft(_,B)})}(d,g)});function kr(d,g){if(d==null)return{};var _=_n(gl(d),function(T){return[T]});return g=Dr(g),sp(d,_,function(T,D){return g(T,D[0])})}var Ar=vl(xt),Ur=vl(yt);function tn(d){return d==null?[]:ns(d,xt(d))}var uo=Ia(function(d,g,_){return g=g.toLowerCase(),d+(_?go(g):g)});function go(d){return No(ct(d).toLowerCase())}function Yr(d){return(d=ct(d))&&d.replace(wr,Fc).replace(Aa,"")}var Eo=Ia(function(d,g,_){return d+(_?"-":"")+g.toLowerCase()}),In=Ia(function(d,g,_){return d+(_?" ":"")+g.toLowerCase()}),so=ll("toLowerCase"),mo=Ia(function(d,g,_){return d+(_?"_":"")+g.toLowerCase()}),Qn=Ia(function(d,g,_){return d+(_?" ":"")+No(g)}),Yn=Ia(function(d,g,_){return d+(_?" ":"")+g.toUpperCase()}),No=ll("toUpperCase");function eo(d,g,_){return d=ct(d),(g=_?v:g)===v?function(T){return Nc.test(T)}(d)?function(T){return T.match(Is)||[]}(d):function(T){return T.match(Ke)||[]}(d):d.match(g)||[]}var Ir=an(function(d,g){try{return Dn(d,v,g)}catch(_){return vf(_)?_:new cn(_)}}),Lo=ka(function(d,g){return ni(g,function(_){_=va(_),ca(d,_,ic(d[_],d))}),d});function ln(d){return function(){return d}}var mr=Qc(),Kr=Qc(!0);function Pr(d){return d}function Gn(d){return tu(typeof d=="function"?d:Fi(d,1))}var Qi=an(function(d,g){return function(_){return ci(_,d,g)}}),cu=an(function(d,g){return function(_){return ci(d,_,g)}});function oe(d,g,_){var T=xt(g),D=Wc(g,T);_!=null||Cn(g)&&(D.length||!T.length)||(_=g,g=d,d=this,D=Wc(g,xt(g)));var B=!(Cn(_)&&"chain"in _&&!_.chain),te=Ga(d);return ni(D,function(le){var Re=g[le];d[le]=Re,te&&(d.prototype[le]=function(){var rt=this.__chain__;if(B||rt){var ut=d(this.__wrapped__),Nt=ut.__actions__=Go(this.__actions__);return Nt.push({func:Re,args:arguments,thisArg:d}),ut.__chain__=rt,ut}return Re.apply(d,Do([this.value()],arguments))})}),d}function Xe(){}var Be=pl(_n),$t=pl(Wf),Jr=pl(kc);function q(d){return iu(d)?ai(va(d)):function(g){return function(_){return Na(_,g)}}(d)}var U=Da(),ge=Da(!0);function Me(){return[]}function De(){return!1}var Ee=Ws(function(d,g){return d+g},0),me=rf("ceil"),Pe=Ws(function(d,g){return d/g},1),Q=rf("floor"),he,Z=Ws(function(d,g){return d*g},1),je=rf("round"),Fe=Ws(function(d,g){return d-g},0);return W.after=function(d,g){if(typeof g!="function")throw new ie(b);return d=Qe(d),function(){if(--d<1)return g.apply(this,arguments)}},W.ary=_p,W.assign=Ie,W.assignIn=qe,W.assignInWith=St,W.assignWith=Bt,W.at=pt,W.before=ya,W.bind=ic,W.bindAll=Lo,W.bindKey=ms,W.castArray=function(){if(!arguments.length)return[];var d=arguments[0];return en(d)?d:[d]},W.chain=Po,W.chunk=function(d,g,_){g=(_?yo(d,g,_):g===v)?1:po(Qe(g),0);var T=d==null?0:d.length;if(!T||g<1)return[];for(var D=0,B=0,te=Jt(Gc(T/g));D<T;)te[B++]=Ki(d,D,D+=g);return te},W.compact=function(d){for(var g=-1,_=d==null?0:d.length,T=0,D=[];++g<_;){var B=d[g];B&&(D[T++]=B)}return D},W.concat=function(){var d=arguments.length;if(!d)return[];for(var g=Jt(d-1),_=arguments[0],T=d;T--;)g[T-1]=arguments[T];return Do(en(_)?Go(_):[_],To(g,1))},W.cond=function(d){var g=d==null?0:d.length,_=Dr();return d=g?_n(d,function(T){if(typeof T[1]!="function")throw new ie(b);return[_(T[0]),T[1]]}):[],an(function(T){for(var D=-1;++D<g;){var B=d[D];if(Dn(B[0],this,T))return Dn(B[1],this,T)}})},W.conforms=function(d){return function(g){var _=xt(g);return function(T){return Kl(T,g,_)}}(Fi(d,1))},W.constant=ln,W.countBy=uu,W.create=function(d,g){var _=ss(d);return g==null?_:eu(_,g)},W.curry=function d(g,_,T){var D=la(g,8,v,v,v,v,v,_=T?v:_);return D.placeholder=d.placeholder,D},W.curryRight=function d(g,_,T){var D=la(g,P,v,v,v,v,v,_=T?v:_);return D.placeholder=d.placeholder,D},W.debounce=ga,W.defaults=Gt,W.defaultsDeep=vt,W.defer=Ep,W.delay=Ed,W.difference=dp,W.differenceBy=pp,W.differenceWith=hp,W.drop=function(d,g,_){var T=d==null?0:d.length;return T?Ki(d,(g=_||g===v?1:Qe(g))<0?0:g,T):[]},W.dropRight=function(d,g,_){var T=d==null?0:d.length;return T?Ki(d,0,(g=T-(g=_||g===v?1:Qe(g)))<0?0:g):[]},W.dropRightWhile=function(d,g){return d&&d.length?qc(d,Dr(g,3),!0,!0):[]},W.dropWhile=function(d,g){return d&&d.length?qc(d,Dr(g,3),!0):[]},W.fill=function(d,g,_,T){var D=d==null?0:d.length;return D?(_&&typeof _!="number"&&yo(d,g,_)&&(_=0,T=D),function(B,te,le,Re){var rt=B.length;for((le=Qe(le))<0&&(le=-le>rt?0:rt+le),(Re=Re===v||Re>rt?rt:Qe(Re))<0&&(Re+=rt),Re=le>Re?0:Mt(Re);le<Re;)B[le++]=te;return B}(d,g,_,T)):[]},W.filter=function(d,g){return(en(d)?oi:Pn)(d,Dr(g,3))},W.flatMap=function(d,g){return To(gs(d,g),1)},W.flatMapDeep=function(d,g){return To(gs(d,g),G)},W.flatMapDepth=function(d,g,_){return _=_===v?1:Qe(_),To(gs(d,g),_)},W.flatten=md,W.flattenDeep=function(d){return d!=null&&d.length?To(d,G):[]},W.flattenDepth=function(d,g){return d!=null&&d.length?To(d,g=g===v?1:Qe(g)):[]},W.flip=function(d){return la(d,512)},W.flow=mr,W.flowRight=Kr,W.fromPairs=function(d){for(var g=-1,_=d==null?0:d.length,T={};++g<_;){var D=d[g];T[D[0]]=D[1]}return T},W.functions=function(d){return d==null?[]:Wc(d,xt(d))},W.functionsIn=function(d){return d==null?[]:Wc(d,yt(d))},W.groupBy=Zi,W.initial=function(d){return d!=null&&d.length?Ki(d,0,-1):[]},W.intersection=vp,W.intersectionBy=yp,W.intersectionWith=gp,W.invert=Dt,W.invertBy=pr,W.invokeMap=Or,W.iteratee=Gn,W.keyBy=Ol,W.keys=xt,W.keysIn=yt,W.map=gs,W.mapKeys=function(d,g){var _={};return g=Dr(g,3),gr(d,function(T,D,B){ca(_,g(T,D,B),T)}),_},W.mapValues=function(d,g){var _={};return g=Dr(g,3),gr(d,function(T,D,B){ca(_,D,g(T,D,B))}),_},W.matches=function(d){return ed(Fi(d,1))},W.matchesProperty=function(d,g){return td(d,Fi(g,1))},W.memoize=Gu,W.merge=dt,W.mergeWith=br,W.method=Qi,W.methodOf=cu,W.mixin=oe,W.negate=Ba,W.nthArg=function(d){return d=Qe(d),an(function(g){return ap(g,d)})},W.omit=Fr,W.omitBy=function(d,g){return kr(d,Ba(Dr(g)))},W.once=function(d){return ya(2,d)},W.orderBy=function(d,g,_,T){return d==null?[]:(en(g)||(g=g==null?[]:[g]),en(_=T?v:_)||(_=_==null?[]:[_]),up(d,g,_))},W.over=Be,W.overArgs=pi,W.overEvery=$t,W.overSome=Jr,W.partial=Sr,W.partialRight=io,W.partition=wl,W.pick=qt,W.pickBy=kr,W.property=q,W.propertyOf=function(d){return function(g){return d==null?v:Na(d,g)}},W.pull=hs,W.pullAll=cf,W.pullAllBy=function(d,g,_){return d&&d.length&&g&&g.length?rd(d,g,Dr(_,2)):d},W.pullAllWith=function(d,g,_){return d&&d.length&&g&&g.length?rd(d,g,v,_):d},W.pullAt=Ti,W.range=U,W.rangeRight=ge,W.rearg=ti,W.reject=function(d,g){return(en(d)?oi:Pn)(d,Ba(Dr(g,3)))},W.remove=function(d,g){var _=[];if(!d||!d.length)return _;var T=-1,D=[],B=d.length;for(g=Dr(g,3);++T<B;){var te=d[T];g(te,T,d)&&(_.push(te),D.push(T))}return Xs(d,D),_},W.rest=function(d,g){if(typeof d!="function")throw new ie(b);return an(d,g=g===v?g:Qe(g))},W.reverse=qi,W.sampleSize=function(d,g,_){return g=(_?yo(d,g,_):g===v)?1:Qe(g),(en(d)?Vl:od)(d,g)},W.set=function(d,g,_){return d==null?d:ju(d,g,_)},W.setWith=function(d,g,_,T){return T=typeof T=="function"?T:v,d==null?d:ju(d,g,_,T)},W.shuffle=function(d){return(en(d)?np:Ch)(d)},W.slice=function(d,g,_){var T=d==null?0:d.length;return T?(_&&typeof _!="number"&&yo(d,g,_)?(g=0,_=T):(g=g==null?0:Qe(g),_=_===v?T:Qe(_)),Ki(d,g,_)):[]},W.sortBy=bp,W.sortedUniq=function(d){return d&&d.length?cp(d):[]},W.sortedUniqBy=function(d,g){return d&&d.length?cp(d,Dr(g,2)):[]},W.split=function(d,g,_){return _&&typeof _!="number"&&yo(d,g,_)&&(g=_=v),(_=_===v?_e:_>>>0)?(d=ct(d))&&(typeof g=="string"||g!=null&&!Y(g))&&!(g=Ai(g))&&oa(d)?Cu(yi(d),0,_):d.split(g,_):[]},W.spread=function(d,g){if(typeof d!="function")throw new ie(b);return g=g==null?0:po(Qe(g),0),an(function(_){var T=_[g],D=Cu(_,0,g);return T&&Do(D,T),Dn(d,this,D)})},W.tail=function(d){var g=d==null?0:d.length;return g?Ki(d,1,g):[]},W.take=function(d,g,_){return d&&d.length?Ki(d,0,(g=_||g===v?1:Qe(g))<0?0:g):[]},W.takeRight=function(d,g,_){var T=d==null?0:d.length;return T?Ki(d,(g=T-(g=_||g===v?1:Qe(g)))<0?0:g,T):[]},W.takeRightWhile=function(d,g){return d&&d.length?qc(d,Dr(g,3),!1,!0):[]},W.takeWhile=function(d,g){return d&&d.length?qc(d,Dr(g,3)):[]},W.tap=function(d,g){return g(d),d},W.throttle=function(d,g,_){var T=!0,D=!0;if(typeof d!="function")throw new ie(b);return Cn(_)&&(T="leading"in _?!!_.leading:T,D="trailing"in _?!!_.trailing:D),ga(d,g,{leading:T,maxWait:g,trailing:D})},W.thru=pf,W.toArray=wt,W.toPairs=Ar,W.toPairsIn=Ur,W.toPath=function(d){return en(d)?_n(d,va):tt(d)?[d]:Go(vd(ct(d)))},W.toPlainObject=bt,W.transform=function(d,g,_){var T=en(d),D=T||Ji(d)||Ge(d);if(g=Dr(g,4),_==null){var B=d&&d.constructor;_=D?T?new B:[]:Cn(d)&&Ga(B)?ss(ia(d)):{}}return(D?ni:gr)(d,function(te,le,Re){return g(_,te,le,Re)}),_},W.unary=function(d){return _p(d,1)},W.union=El,W.unionBy=li,W.unionWith=ff,W.uniq=function(d){return d&&d.length?Nu(d):[]},W.uniqBy=function(d,g){return d&&d.length?Nu(d,Dr(g,2)):[]},W.uniqWith=function(d,g){return g=typeof g=="function"?g:v,d&&d.length?Nu(d,v,g):[]},W.unset=function(d,g){return d==null||al(d,g)},W.unzip=vs,W.unzipWith=tc,W.update=function(d,g,_){return d==null?d:cs(d,g,cl(_))},W.updateWith=function(d,g,_,T){return T=typeof T=="function"?T:v,d==null?d:cs(d,g,cl(_),T)},W.values=tn,W.valuesIn=function(d){return d==null?[]:ns(d,yt(d))},W.without=lf,W.words=eo,W.wrap=function(d,g){return Sr(cl(g),d)},W.xor=df,W.xorBy=rc,W.xorWith=nc,W.zip=ys,W.zipObject=function(d,g){return ul(d||[],g||[],ho)},W.zipObjectDeep=function(d,g){return ul(d||[],g||[],ju)},W.zipWith=au,W.entries=Ar,W.entriesIn=Ur,W.extend=qe,W.extendWith=St,oe(W,W),W.add=Ee,W.attempt=Ir,W.camelCase=uo,W.capitalize=go,W.ceil=me,W.clamp=function(d,g,_){return _===v&&(_=g,g=v),_!==v&&(_=(_=jt(_))==_?_:0),g!==v&&(g=(g=jt(g))==g?g:0),Pu(jt(d),g,_)},W.clone=function(d){return Fi(d,4)},W.cloneDeep=function(d){return Fi(d,5)},W.cloneDeepWith=function(d,g){return Fi(d,5,g=typeof g=="function"?g:v)},W.cloneWith=function(d,g){return Fi(d,4,g=typeof g=="function"?g:v)},W.conformsTo=function(d,g){return g==null||Kl(d,g,xt(g))},W.deburr=Yr,W.defaultTo=function(d,g){return d==null||d!=d?g:d},W.divide=Pe,W.endsWith=function(d,g,_){d=ct(d),g=Ai(g);var T=d.length,D=_=_===v?T:Pu(Qe(_),0,T);return(_-=g.length)>=0&&d.slice(_,D)==g},W.eq=Pi,W.escape=function(d){return(d=ct(d))&&lr.test(d)?d.replace(rr,_o):d},W.escapeRegExp=function(d){return(d=ct(d))&&Xn.test(d)?d.replace(Mn,"\\$&"):d},W.every=function(d,g,_){var T=en(d)?Wf:Zl;return _&&yo(d,g,_)&&(g=v),T(d,Dr(g,3))},W.find=_d,W.findIndex=yd,W.findKey=function(d,g){return ra(d,Dr(g,3),gr)},W.findLast=di,W.findLastIndex=gd,W.findLastKey=function(d,g){return ra(d,Dr(g,3),Bn)},W.floor=Q,W.forEach=Ro,W.forEachRight=mp,W.forIn=function(d,g){return d==null?d:on(d,Dr(g,3),yt)},W.forInRight=function(d,g){return d==null?d:Fn(d,Dr(g,3),yt)},W.forOwn=function(d,g){return d&&gr(d,Dr(g,3))},W.forOwnRight=function(d,g){return d&&Bn(d,Dr(g,3))},W.get=Ct,W.gt=Ih,W.gte=Op,W.has=function(d,g){return d!=null&&Js(d,g,Jl)},W.hasIn=ft,W.head=bd,W.identity=Pr,W.includes=function(d,g,_,T){d=Ri(d)?d:tn(d),_=_&&!T?Qe(_):0;var D=d.length;return _<0&&(_=po(D+_,0)),He(d)?_<=D&&d.indexOf(g,_)>-1:!!D&&Ou(d,g,_)>-1},W.indexOf=function(d,g,_){var T=d==null?0:d.length;if(!T)return-1;var D=_==null?0:Qe(_);return D<0&&(D=po(T+D,0)),Ou(d,g,D)},W.inRange=function(d,g,_){return g=Et(g),_===v?(_=g,g=0):_=Et(_),function(T,D,B){return T>=si(D,B)&&T<po(D,B)}(d=jt(d),g,_)},W.invoke=Tr,W.isArguments=Uu,W.isArray=en,W.isArrayBuffer=wp,W.isArrayLike=Ri,W.isArrayLikeObject=jo,W.isBoolean=function(d){return d===!0||d===!1||ao(d)&&Zn(d)==ee},W.isBuffer=Ji,W.isDate=Dh,W.isElement=function(d){return ao(d)&&d.nodeType===1&&!N(d)},W.isEmpty=function(d){if(d==null)return!0;if(Ri(d)&&(en(d)||typeof d=="string"||typeof d.splice=="function"||Ji(d)||Ge(d)||Uu(d)))return!d.length;var g=oo(d);if(g==Oe||g==$e)return!d.size;if(Lu(d))return!Yi(d).length;for(var _ in d)if(Kt.call(d,_))return!1;return!0},W.isEqual=function(d,g){return Hs(d,g)},W.isEqualWith=function(d,g,_){var T=(_=typeof _=="function"?_:v)?_(d,g):v;return T===v?Hs(d,g,v,_):!!T},W.isError=vf,W.isFinite=function(d){return typeof d=="number"&&as(d)},W.isFunction=Ga,W.isInteger=Od,W.isLength=su,W.isMap=Wo,W.isMatch=function(d,g){return d===g||Vi(d,g,of(g))},W.isMatchWith=function(d,g,_){return _=typeof _=="function"?_:v,Vi(d,g,of(g),_)},W.isNaN=function(d){return yf(d)&&d!=+d},W.isNative=function(d){if(ha(d))throw new cn("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ru(d)},W.isNil=function(d){return d==null},W.isNull=function(d){return d===null},W.isNumber=yf,W.isObject=Cn,W.isObjectLike=ao,W.isPlainObject=N,W.isRegExp=Y,W.isSafeInteger=function(d){return Od(d)&&d>=-9007199254740991&&d<=H},W.isSet=se,W.isString=He,W.isSymbol=tt,W.isTypedArray=Ge,W.isUndefined=function(d){return d===v},W.isWeakMap=function(d){return ao(d)&&oo(d)==Se},W.isWeakSet=function(d){return ao(d)&&Zn(d)=="[object WeakSet]"},W.join=function(d,g){return d==null?"":Uc.call(d,g)},W.kebabCase=Eo,W.last=fi,W.lastIndexOf=function(d,g,_){var T=d==null?0:d.length;if(!T)return-1;var D=T;return _!==v&&(D=(D=Qe(_))<0?po(T+D,0):si(D,T-1)),g==g?function(B,te,le){for(var Re=le+1;Re--;)if(B[Re]===te)return Re;return Re}(d,g,D):ii(d,Ii,D,!0)},W.lowerCase=In,W.lowerFirst=so,W.lt=Je,W.lte=mt,W.max=function(d){return d&&d.length?vo(d,Pr,no):v},W.maxBy=function(d,g){return d&&d.length?vo(d,Dr(g,2),no):v},W.mean=function(d){return sn(d,Pr)},W.meanBy=function(d,g){return sn(d,Dr(g,2))},W.min=function(d){return d&&d.length?vo(d,Pr,Ma):v},W.minBy=function(d,g){return d&&d.length?vo(d,Dr(g,2),Ma):v},W.stubArray=Me,W.stubFalse=De,W.stubObject=function(){return{}},W.stubString=function(){return""},W.stubTrue=function(){return!0},W.multiply=Z,W.nth=function(d,g){return d&&d.length?ap(d,Qe(g)):v},W.noConflict=function(){return lo._===this&&(lo._=qn),this},W.noop=Xe,W.now=oc,W.pad=function(d,g,_){d=ct(d);var T=(g=Qe(g))?ui(d):0;if(!g||T>=g)return d;var D=(g-T)/2;return ef(is(D),_)+d+ef(Gc(D),_)},W.padEnd=function(d,g,_){d=ct(d);var T=(g=Qe(g))?ui(d):0;return g&&T<g?d+ef(g-T,_):d},W.padStart=function(d,g,_){d=ct(d);var T=(g=Qe(g))?ui(d):0;return g&&T<g?ef(g-T,_)+d:d},W.parseInt=function(d,g,_){return _||g==null?g=0:g&&(g=+g),Zf(ct(d).replace(jr,""),g||0)},W.random=function(d,g,_){if(_&&typeof _!="boolean"&&yo(d,g,_)&&(g=_=v),_===v&&(typeof g=="boolean"?(_=g,g=v):typeof d=="boolean"&&(_=d,d=v)),d===v&&g===v?(d=0,g=1):(d=Et(d),g===v?(g=d,d=0):g=Et(g)),d>g){var T=d;d=g,g=T}if(_||d%1||g%1){var D=Gs();return si(d+D*(g-d+_u("1e-"+((D+"").length-1))),g)}return nd(d,g)},W.reduce=function(d,g,_){var T=en(d)?Ls:Bo,D=arguments.length<3;return T(d,Dr(g,4),_,D,Vn)},W.reduceRight=function(d,g,_){var T=en(d)?Vf:Bo,D=arguments.length<3;return T(d,Dr(g,4),_,D,op)},W.repeat=function(d,g,_){return g=(_?yo(d,g,_):g===v)?1:Qe(g),Yc(ct(d),g)},W.replace=function(){var d=arguments,g=ct(d[0]);return d.length<3?g:g.replace(d[1],d[2])},W.result=function(d,g,_){var T=-1,D=(g=Mu(g,d)).length;for(D||(D=1,d=v);++T<D;){var B=d==null?v:d[va(g[T])];B===v&&(T=D,B=_),d=Ga(B)?B.call(d):B}return d},W.round=je,W.runInContext=Ze,W.sample=function(d){return(en(d)?el:Nh)(d)},W.size=function(d){if(d==null)return 0;if(Ri(d))return He(d)?ui(d):d.length;var g=oo(d);return g==Oe||g==$e?d.size:Yi(d).length},W.snakeCase=mo,W.some=function(d,g,_){var T=en(d)?kc:id;return _&&yo(d,g,_)&&(g=v),T(d,Dr(g,3))},W.sortedIndex=function(d,g){return ol(d,g)},W.sortedIndexBy=function(d,g,_){return il(d,g,Dr(_,2))},W.sortedIndexOf=function(d,g){var _=d==null?0:d.length;if(_){var T=ol(d,g);if(T<_&&Pi(d[T],g))return T}return-1},W.sortedLastIndex=function(d,g){return ol(d,g,!0)},W.sortedLastIndexBy=function(d,g,_){return il(d,g,Dr(_,2),!0)},W.sortedLastIndexOf=function(d,g){if(d!=null&&d.length){var _=ol(d,g,!0)-1;if(Pi(d[_],g))return _}return-1},W.startCase=Qn,W.startsWith=function(d,g,_){return d=ct(d),_=_==null?0:Pu(Qe(_),0,d.length),g=Ai(g),d.slice(_,_+g.length)==g},W.subtract=Fe,W.sum=function(d){return d&&d.length?wu(d,Pr):0},W.sumBy=function(d,g){return d&&d.length?wu(d,Dr(g,2)):0},W.template=function(d,g,_){var T=W.templateSettings;_&&yo(d,g,_)&&(g=v),d=ct(d),g=St({},g,T,fd);var D,B,te=St({},g.imports,T.imports,fd),le=xt(te),Re=ns(te,le),rt=0,ut=g.interpolate||Nr,Nt="__p += '",dr=M((g.escape||Nr).source+"|"+ut.source+"|"+(ut===Br?yr:Nr).source+"|"+(g.evaluate||Nr).source+"|$","g"),cr="//# sourceURL="+(Kt.call(g,"sourceURL")?(g.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Uf+"]")+`
`;d.replace(dr,function(Ut,qr,nr,Hr,zr,mn){return nr||(nr=Hr),Nt+=d.slice(rt,mn).replace($r,Ya),qr&&(D=!0,Nt+=`' +
__e(`+qr+`) +
'`),zr&&(B=!0,Nt+=`';
`+zr+`;
__p += '`),nr&&(Nt+=`' +
((__t = (`+nr+`)) == null ? '' : __t) +
'`),rt=mn+Ut.length,Ut}),Nt+=`';
`;var Mr=Kt.call(g,"variable")&&g.variable;if(Mr){if(zt.test(Mr))throw new cn("Invalid `variable` option passed into `_.template`")}else Nt=`with (obj) {
`+Nt+`
}
`;Nt=(B?Nt.replace(ht,""):Nt).replace(Wt,"$1").replace(or,"$1;"),Nt="function("+(Mr||"obj")+`) {
`+(Mr?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(D?", __e = _.escape":"")+(B?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Nt+`return __p
}`;var gt=Ir(function(){return zn(le,cr+"return "+Nt).apply(v,Re)});if(gt.source=Nt,vf(gt))throw gt;return gt},W.times=function(d,g){if((d=Qe(d))<1||d>H)return[];var _=_e,T=si(d,_e);g=Dr(g),d-=_e;for(var D=Va(T,g);++_<d;)g(_);return D},W.toFinite=Et,W.toInteger=Qe,W.toLength=Mt,W.toLower=function(d){return ct(d).toLowerCase()},W.toNumber=jt,W.toSafeInteger=function(d){return d?Pu(Qe(d),-9007199254740991,H):d===0?d:0},W.toString=ct,W.toUpper=function(d){return ct(d).toUpperCase()},W.trim=function(d,g,_){if((d=ct(d))&&(_||g===v))return Xi(d);if(!d||!(g=Ai(g)))return d;var T=yi(d),D=yi(g);return Cu(T,Di(T,D),Lc(T,D)+1).join("")},W.trimEnd=function(d,g,_){if((d=ct(d))&&(_||g===v))return d.slice(0,ko(d)+1);if(!d||!(g=Ai(g)))return d;var T=yi(d);return Cu(T,0,Lc(T,yi(g))+1).join("")},W.trimStart=function(d,g,_){if((d=ct(d))&&(_||g===v))return d.replace(jr,"");if(!d||!(g=Ai(g)))return d;var T=yi(d);return Cu(T,Di(T,yi(g))).join("")},W.truncate=function(d,g){var _=30,T="...";if(Cn(g)){var D="separator"in g?g.separator:D;_="length"in g?Qe(g.length):_,T="omission"in g?Ai(g.omission):T}var B=(d=ct(d)).length;if(oa(d)){var te=yi(d);B=te.length}if(_>=B)return d;var le=_-ui(T);if(le<1)return T;var Re=te?Cu(te,0,le).join(""):d.slice(0,le);if(D===v)return Re+T;if(te&&(le+=Re.length-le),Y(D)){if(d.slice(le).search(D)){var rt,ut=Re;for(D.global||(D=M(D.source,ct(rn.exec(D))+"g")),D.lastIndex=0;rt=D.exec(ut);)var Nt=rt.index;Re=Re.slice(0,Nt===v?le:Nt)}}else if(d.indexOf(Ai(D),le)!=le){var dr=Re.lastIndexOf(D);dr>-1&&(Re=Re.slice(0,dr))}return Re+T},W.unescape=function(d){return(d=ct(d))&&et.test(d)?d.replace(vr,xi):d},W.uniqueId=function(d){var g=++Sn;return ct(d)+g},W.upperCase=Yn,W.upperFirst=No,W.each=Ro,W.eachRight=mp,W.first=bd,oe(W,(he={},gr(W,function(d,g){Kt.call(W.prototype,g)||(he[g]=d)}),he),{chain:!1}),W.VERSION="4.17.21",ni(["bind","bindKey","curry","curryRight","partial","partialRight"],function(d){W[d].placeholder=W}),ni(["drop","take"],function(d,g){fn.prototype[d]=function(_){_=_===v?1:po(Qe(_),0);var T=this.__filtered__&&!g?new fn(this):this.clone();return T.__filtered__?T.__takeCount__=si(_,T.__takeCount__):T.__views__.push({size:si(_,_e),type:d+(T.__dir__<0?"Right":"")}),T},fn.prototype[d+"Right"]=function(_){return this.reverse()[d](_).reverse()}}),ni(["filter","map","takeWhile"],function(d,g){var _=g+1,T=_==1||_==3;fn.prototype[d]=function(D){var B=this.clone();return B.__iteratees__.push({iteratee:Dr(D,3),type:_}),B.__filtered__=B.__filtered__||T,B}}),ni(["head","last"],function(d,g){var _="take"+(g?"Right":"");fn.prototype[d]=function(){return this[_](1).value()[0]}}),ni(["initial","tail"],function(d,g){var _="drop"+(g?"":"Right");fn.prototype[d]=function(){return this.__filtered__?new fn(this):this[_](1)}}),fn.prototype.compact=function(){return this.filter(Pr)},fn.prototype.find=function(d){return this.filter(d).head()},fn.prototype.findLast=function(d){return this.reverse().find(d)},fn.prototype.invokeMap=an(function(d,g){return typeof d=="function"?new fn(this):this.map(function(_){return ci(_,d,g)})}),fn.prototype.reject=function(d){return this.filter(Ba(Dr(d)))},fn.prototype.slice=function(d,g){d=Qe(d);var _=this;return _.__filtered__&&(d>0||g<0)?new fn(_):(d<0?_=_.takeRight(-d):d&&(_=_.drop(d)),g!==v&&(_=(g=Qe(g))<0?_.dropRight(-g):_.take(g-d)),_)},fn.prototype.takeRightWhile=function(d){return this.reverse().takeWhile(d).reverse()},fn.prototype.toArray=function(){return this.take(_e)},gr(fn.prototype,function(d,g){var _=/^(?:filter|find|map|reject)|While$/.test(g),T=/^(?:head|last)$/.test(g),D=W[T?"take"+(g=="last"?"Right":""):g],B=T||/^find/.test(g);D&&(W.prototype[g]=function(){var te=this.__wrapped__,le=T?[1]:arguments,Re=te instanceof fn,rt=le[0],ut=Re||en(te),Nt=function(qr){var nr=D.apply(W,Do([qr],le));return T&&dr?nr[0]:nr};ut&&_&&typeof rt=="function"&&rt.length!=1&&(Re=ut=!1);var dr=this.__chain__,cr=!!this.__actions__.length,Mr=B&&!dr,gt=Re&&!cr;if(!B&&ut){te=gt?te:new fn(this);var Ut=d.apply(te,le);return Ut.__actions__.push({func:pf,args:[Nt],thisArg:v}),new Wi(Ut,dr)}return Mr&&gt?d.apply(this,le):(Ut=this.thru(Nt),Mr?T?Ut.value()[0]:Ut.value():Ut)})}),ni(["pop","push","shift","sort","splice","unshift"],function(d){var g=Ce[d],_=/^(?:push|sort|unshift)$/.test(d)?"tap":"thru",T=/^(?:pop|shift)$/.test(d);W.prototype[d]=function(){var D=arguments;if(T&&!this.__chain__){var B=this.value();return g.apply(en(B)?B:[],D)}return this[_](function(te){return g.apply(en(te)?te:[],D)})}}),gr(fn.prototype,function(d,g){var _=W[g];if(_){var T=_.name+"";Kt.call(Tu,T)||(Tu[T]=[]),Tu[T].push({name:g,func:_})}}),Tu[Du(v,2).name]=[{name:"wrapper",func:v}],fn.prototype.clone=function(){var d=new fn(this.__wrapped__);return d.__actions__=Go(this.__actions__),d.__dir__=this.__dir__,d.__filtered__=this.__filtered__,d.__iteratees__=Go(this.__iteratees__),d.__takeCount__=this.__takeCount__,d.__views__=Go(this.__views__),d},fn.prototype.reverse=function(){if(this.__filtered__){var d=new fn(this);d.__dir__=-1,d.__filtered__=!0}else(d=this.clone()).__dir__*=-1;return d},fn.prototype.value=function(){var d=this.__wrapped__.value(),g=this.__dir__,_=en(d),T=g<0,D=_?d.length:0,B=function(mn,xr,Lr){for(var Oo=-1,Ve=Lr.length;++Oo<Ve;){var fu=Lr[Oo],Vo=fu.size;switch(fu.type){case"drop":mn+=Vo;break;case"dropRight":xr-=Vo;break;case"take":xr=si(xr,mn+Vo);break;case"takeRight":mn=po(mn,xr-Vo)}}return{start:mn,end:xr}}(0,D,this.__views__),te=B.start,le=B.end,Re=le-te,rt=T?le:te-1,ut=this.__iteratees__,Nt=ut.length,dr=0,cr=si(Re,this.__takeCount__);if(!_||!T&&D==Re&&cr==Re)return fp(d,this.__actions__);var Mr=[];e:for(;Re--&&dr<cr;){for(var gt=-1,Ut=d[rt+=g];++gt<Nt;){var qr=ut[gt],nr=qr.iteratee,Hr=qr.type,zr=nr(Ut);if(Hr==2)Ut=zr;else if(!zr){if(Hr==1)continue e;break e}}Mr[dr++]=Ut}return Mr},W.prototype.at=hf,W.prototype.chain=function(){return Po(this)},W.prototype.commit=function(){return new Wi(this.value(),this.__chain__)},W.prototype.next=function(){this.__values__===v&&(this.__values__=wt(this.value()));var d=this.__index__>=this.__values__.length;return{done:d,value:d?v:this.__values__[this.__index__++]}},W.prototype.plant=function(d){for(var g,_=this;_ instanceof Za;){var T=_l(_);T.__index__=0,T.__values__=v,g?D.__wrapped__=T:g=T;var D=T;_=_.__wrapped__}return D.__wrapped__=d,g},W.prototype.reverse=function(){var d=this.__wrapped__;if(d instanceof fn){var g=d;return this.__actions__.length&&(g=new fn(this)),(g=g.reverse()).__actions__.push({func:pf,args:[qi],thisArg:v}),new Wi(g,this.__chain__)}return this.thru(qi)},W.prototype.toJSON=W.prototype.valueOf=W.prototype.value=function(){return fp(this.__wrapped__,this.__actions__)},W.prototype.first=W.prototype.head,aa&&(W.prototype[aa]=function(){return this}),W}();lo._=Qo,(y=function(){return Qo}.call(a,n,a,f))===v||(f.exports=y)}).call(this)}).call(this,n(68),n(221)(r))},function(r,a,n){var c=n(7),f=n(34),y=n(33),v=n(87),b=n(62),O=n(174),S=n(28),P=c.TypeError,j=S("toPrimitive");r.exports=function(I,C){if(!y(I)||v(I))return I;var k,G=b(I,j);if(G){if(C===void 0&&(C="default"),k=f(G,I,C),!y(k)||v(k))return k;throw P("Can't convert object to primitive value")}return C===void 0&&(C="number"),O(I,C)}},function(r,a,n){var c=n(108);r.exports=c&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(r,a,n){var c=n(36),f=n(18),y=n(91);r.exports=!c&&!f(function(){return Object.defineProperty(y("div"),"a",{get:function(){return 7}}).a!=7})},function(r,a,n){var c=n(35),f=n(135),y=n(50),v=n(38);r.exports=function(b,O){for(var S=f(O),P=v.f,j=y.f,I=0;I<S.length;I++){var C=S[I];c(b,C)||P(b,C,j(O,C))}}},function(r,a,n){var c=n(46),f=n(15),y=n(74),v=n(112),b=n(32),O=f([].concat);r.exports=c("Reflect","ownKeys")||function(S){var P=y.f(b(S)),j=v.f;return j?O(P,j(S)):P}},function(r,a,n){var c=n(15),f=n(35),y=n(41),v=n(137).indexOf,b=n(72),O=c([].push);r.exports=function(S,P){var j,I=y(S),C=0,k=[];for(j in I)!f(b,j)&&f(I,j)&&O(k,j);for(;P.length>C;)f(I,j=P[C++])&&(~v(k,j)||O(k,j));return k}},function(r,a,n){var c=n(41),f=n(75),y=n(45),v=function(b){return function(O,S,P){var j,I=c(O),C=y(I),k=f(P,C);if(b&&S!=S){for(;C>k;)if((j=I[k++])!=j)return!0}else for(;C>k;k++)if((b||k in I)&&I[k]===S)return b||k||0;return!b&&-1}};r.exports={includes:v(!0),indexOf:v(!1)}},function(r,a,n){var c=n(46);r.exports=c("document","documentElement")},function(r,a,n){var c=n(51),f=n(41),y=n(74).f,v=n(114),b=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];r.exports.f=function(O){return b&&c(O)=="Window"?function(S){try{return y(S)}catch{return v(b)}}(O):y(f(O))}},function(r,a,n){var c=n(28);a.f=c},function(r,a,n){var c=n(177),f=n(35),y=n(140),v=n(38).f;r.exports=function(b){var O=c.Symbol||(c.Symbol={});f(O,b)||v(O,b,{value:y.f(b)})}},function(r,a,n){var c,f,y,v=n(18),b=n(30),O=n(60),S=n(101),P=n(42),j=n(28),I=n(71),C=j("iterator"),k=!1;[].keys&&("next"in(y=[].keys())?(f=S(S(y)))!==Object.prototype&&(c=f):k=!0),c==null||v(function(){var G={};return c[C].call(G)!==G})?c={}:I&&(c=O(c)),b(c[C])||P(c,C,function(){return this}),r.exports={IteratorPrototype:c,BUGGY_SAFARI_ITERATORS:k}},function(r,a,n){var c=n(18);r.exports=!c(function(){function f(){}return f.prototype.constructor=null,Object.getPrototypeOf(new f)!==f.prototype})},function(r,a,n){var c=n(16),f=n(15),y=n(72),v=n(33),b=n(35),O=n(38).f,S=n(74),P=n(139),j=n(183),I=n(90),C=n(185),k=!1,G=I("meta"),H=0,ue=function(be){O(be,G,{value:{objectID:"O"+H++,weakData:{}}})},_e=r.exports={enable:function(){_e.enable=function(){},k=!0;var be=S.f,ce=f([].splice),fe={};fe[G]=1,be(fe).length&&(S.f=function(ee){for(var $=be(ee),J=0,re=$.length;J<re;J++)if($[J]===G){ce($,J,1);break}return $},c({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:P.f}))},fastKey:function(be,ce){if(!v(be))return typeof be=="symbol"?be:(typeof be=="string"?"S":"P")+be;if(!b(be,G)){if(!j(be))return"F";if(!ce)return"E";ue(be)}return be[G].objectID},getWeakData:function(be,ce){if(!b(be,G)){if(!j(be))return!0;if(!ce)return!1;ue(be)}return be[G].weakData},onFreeze:function(be){return C&&k&&j(be)&&!b(be,G)&&ue(be),be}};y[G]=!0},function(r,a,n){var c=n(28),f=n(80),y=c("iterator"),v=Array.prototype;r.exports=function(b){return b!==void 0&&(f.Array===b||v[y]===b)}},function(r,a,n){var c=n(7),f=n(34),y=n(56),v=n(32),b=n(88),O=n(118),S=c.TypeError;r.exports=function(P,j){var I=arguments.length<2?O(P):j;if(y(I))return v(f(I,P));throw S(b(P)+" is not iterable")}},function(r,a,n){var c=n(34),f=n(32),y=n(62);r.exports=function(v,b,O){var S,P;f(v);try{if(!(S=y(v,"return"))){if(b==="throw")throw O;return O}S=c(S,v)}catch(j){P=!0,S=j}if(b==="throw")throw O;if(P)throw S;return f(S),O}},function(r,a,n){var c=n(30),f=n(33),y=n(102);r.exports=function(v,b,O){var S,P;return y&&c(S=b.constructor)&&S!==O&&f(P=S.prototype)&&P!==O.prototype&&y(v,P),v}},function(r,a,n){var c=n(42);r.exports=function(f,y,v){for(var b in y)c(f,b,y[b],v);return f}},function(r,a,n){var c=n(46),f=n(38),y=n(28),v=n(36),b=y("species");r.exports=function(O){var S=c(O),P=f.f;v&&S&&!S[b]&&P(S,b,{configurable:!0,get:function(){return this}})}},function(r,a,n){var c=n(15),f=n(59),y=n(39),v=n(44),b=c("".charAt),O=c("".charCodeAt),S=c("".slice),P=function(j){return function(I,C){var k,G,H=y(v(I)),ue=f(C),_e=H.length;return ue<0||ue>=_e?j?"":void 0:(k=O(H,ue))<55296||k>56319||ue+1===_e||(G=O(H,ue+1))<56320||G>57343?j?b(H,ue):k:j?S(H,ue,ue+2):G-56320+(k-55296<<10)+65536}};r.exports={codeAt:P(!1),charAt:P(!0)}},function(r,a){r.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(r,a,n){var c=n(91)("span").classList,f=c&&c.constructor&&c.constructor.prototype;r.exports=f===Object.prototype?void 0:f},function(r,a,n){var c=n(32);r.exports=function(){var f=c(this),y="";return f.global&&(y+="g"),f.ignoreCase&&(y+="i"),f.multiline&&(y+="m"),f.dotAll&&(y+="s"),f.unicode&&(y+="u"),f.sticky&&(y+="y"),y}},function(r,a,n){var c=n(18),f=n(7).RegExp,y=c(function(){var O=f("a","y");return O.lastIndex=2,O.exec("abcd")!=null}),v=y||c(function(){return!f("a","y").sticky}),b=y||c(function(){var O=f("^r","gy");return O.lastIndex=2,O.exec("str")!=null});r.exports={BROKEN_CARET:b,MISSED_STICKY:v,UNSUPPORTED_Y:y}},function(r,a,n){var c=n(16),f=n(79).find,y=n(100),v="find",b=!0;v in[]&&Array(1).find(function(){b=!1}),c({target:"Array",proto:!0,forced:b},{find:function(O){return f(this,O,arguments.length>1?arguments[1]:void 0)}}),y(v)},function(r,a,n){var c=n(16),f=n(137).includes,y=n(100);c({target:"Array",proto:!0},{includes:function(v){return f(this,v,arguments.length>1?arguments[1]:void 0)}}),y("includes")},function(r,a,n){var c=n(16),f=n(15),y=n(197),v=n(44),b=n(39),O=n(198),S=f("".indexOf);c({target:"String",proto:!0,forced:!O("includes")},{includes:function(P){return!!~S(b(v(this)),b(y(P)),arguments.length>1?arguments[1]:void 0)}})},function(r,a,n){var c=n(33),f=n(51),y=n(28)("match");r.exports=function(v){var b;return c(v)&&((b=v[y])!==void 0?!!b:f(v)=="RegExp")}},function(r,a,n){var c=n(15);r.exports=c(1 .valueOf)},function(r,a,n){var c=n(15),f=n(44),y=n(39),v=n(162),b=c("".replace),O="["+v+"]",S=RegExp("^"+O+O+"*"),P=RegExp(O+O+"*$"),j=function(I){return function(C){var k=y(f(C));return 1&I&&(k=b(k,S,"")),2&I&&(k=b(k,P,"")),k}};r.exports={start:j(1),end:j(2),trim:j(3)}},function(r,a){r.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},function(r,a){var n,c,f=r.exports={};function y(){throw new Error("setTimeout has not been defined")}function v(){throw new Error("clearTimeout has not been defined")}function b(H){if(n===setTimeout)return setTimeout(H,0);if((n===y||!n)&&setTimeout)return n=setTimeout,setTimeout(H,0);try{return n(H,0)}catch{try{return n.call(null,H,0)}catch{return n.call(this,H,0)}}}(function(){try{n=typeof setTimeout=="function"?setTimeout:y}catch{n=y}try{c=typeof clearTimeout=="function"?clearTimeout:v}catch{c=v}})();var O,S=[],P=!1,j=-1;function I(){P&&O&&(P=!1,O.length?S=O.concat(S):j=-1,S.length&&C())}function C(){if(!P){var H=b(I);P=!0;for(var ue=S.length;ue;){for(O=S,S=[];++j<ue;)O&&O[j].run();j=-1,ue=S.length}O=null,P=!1,function(_e){if(c===clearTimeout)return clearTimeout(_e);if((c===v||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(_e);try{c(_e)}catch{try{return c.call(null,_e)}catch{return c.call(this,_e)}}}(H)}}function k(H,ue){this.fun=H,this.array=ue}function G(){}f.nextTick=function(H){var ue=new Array(arguments.length-1);if(arguments.length>1)for(var _e=1;_e<arguments.length;_e++)ue[_e-1]=arguments[_e];S.push(new k(H,ue)),S.length!==1||P||b(C)},k.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=G,f.addListener=G,f.once=G,f.off=G,f.removeListener=G,f.removeAllListeners=G,f.emit=G,f.prependListener=G,f.prependOnceListener=G,f.listeners=function(H){return[]},f.binding=function(H){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(H){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(r,a,n){var c=n(32),f=n(165),y=n(28)("species");r.exports=function(v,b){var O,S=c(v).constructor;return S===void 0||(O=c(S)[y])==null?b:f(O)}},function(r,a,n){var c=n(7),f=n(99),y=n(88),v=c.TypeError;r.exports=function(b){if(f(b))return b;throw v(y(b)+" is not a constructor")}},function(r,a,n){var c=n(16),f=n(161).trim;c({target:"String",proto:!0,forced:n(200)("trim")},{trim:function(){return f(this)}})},function(r,a,n){var c=n(34),f=n(123),y=n(32),v=n(94),b=n(39),O=n(44),S=n(62),P=n(124),j=n(125);f("match",function(I,C,k){return[function(G){var H=O(this),ue=G==null?void 0:S(G,I);return ue?c(ue,G,H):new RegExp(G)[I](b(H))},function(G){var H=y(this),ue=b(G),_e=k(C,H,ue);if(_e.done)return _e.value;if(!H.global)return j(H,ue);var be=H.unicode;H.lastIndex=0;for(var ce,fe=[],ee=0;(ce=j(H,ue))!==null;){var $=b(ce[0]);fe[ee]=$,$===""&&(H.lastIndex=P(ue,v(H.lastIndex),be)),ee++}return ee===0?null:fe}]})},function(r,a,n){var c,f,y,v,b=n(7),O=n(76),S=n(64),P=n(30),j=n(35),I=n(18),C=n(138),k=n(98),G=n(91),H=n(169),ue=n(128),_e=b.setImmediate,be=b.clearImmediate,ce=b.process,fe=b.Dispatch,ee=b.Function,$=b.MessageChannel,J=b.String,re=0,z={},Oe="onreadystatechange";try{c=b.location}catch{}var We=function($e){if(j(z,$e)){var ae=z[$e];delete z[$e],ae()}},ke=function($e){return function(){We($e)}},it=function($e){We($e.data)},at=function($e){b.postMessage(J($e),c.protocol+"//"+c.host)};_e&&be||(_e=function($e){var ae=k(arguments,1);return z[++re]=function(){O(P($e)?$e:ee($e),void 0,ae)},f(re),re},be=function($e){delete z[$e]},ue?f=function($e){ce.nextTick(ke($e))}:fe&&fe.now?f=function($e){fe.now(ke($e))}:$&&!H?(v=(y=new $).port2,y.port1.onmessage=it,f=S(v.postMessage,v)):b.addEventListener&&P(b.postMessage)&&!b.importScripts&&c&&c.protocol!=="file:"&&!I(at)?(f=at,b.addEventListener("message",it,!1)):f=Oe in G("script")?function($e){C.appendChild(G("script")).onreadystatechange=function(){C.removeChild(this),We($e)}}:function($e){setTimeout(ke($e),0)}),r.exports={set:_e,clear:be}},function(r,a,n){var c=n(55);r.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(c)},function(r,a,n){var c=n(56),f=function(y){var v,b;this.promise=new y(function(O,S){if(v!==void 0||b!==void 0)throw TypeError("Bad Promise constructor");v=O,b=S}),this.resolve=c(v),this.reject=c(b)};r.exports.f=function(y){return new f(y)}},function(r,a,n){a.a=function(){return!1}},function(r,a,n){(function(c){n.d(a,"a",function(){return ce});var f=n(1);function y($){throw new Error("[mobx-utils] "+$)}function v($,J){J===void 0&&(J="Illegal state"),$||y(J)}var b=function($){return $&&$!==Object.prototype&&Object.getOwnPropertyNames($).concat(b(Object.getPrototypeOf($))||[])},O=function($){return function(J){var re=b(J);return re.filter(function(z,Oe){return re.indexOf(z)===Oe})}($).filter(function(J){return J!=="constructor"&&!~J.indexOf("__")})},S="pending",P="fulfilled",j="rejected";function I($){switch(this.state){case S:return $.pending&&$.pending(this.value);case j:return $.rejected&&$.rejected(this.value);case P:return $.fulfilled?$.fulfilled(this.value):this.value}}function C($,J){if(v(arguments.length<=2,"fromPromise expects up to two arguments"),v(typeof $=="function"||typeof $=="object"&&$&&typeof $.then=="function","Please pass a promise or function to fromPromise"),$.isPromiseBasedObservable===!0)return $;typeof $=="function"&&($=new Promise($));var re=$;$.then(Object(f.k)("observableFromPromise-resolve",function(Oe){re.value=Oe,re.state=P}),Object(f.k)("observableFromPromise-reject",function(Oe){re.value=Oe,re.state=j})),re.isPromiseBasedObservable=!0,re.case=I;var z=J&&J.state===P?J.value:void 0;return Object(f.q)(re,{value:z,state:S},{},{deep:!1}),re}(function($){$.reject=Object(f.k)("fromPromise.reject",function(J){var re=$(Promise.reject(J));return re.state=j,re.value=J,re}),$.resolve=Object(f.k)("fromPromise.resolve",function(J){J===void 0&&(J=void 0);var re=$(Promise.resolve(J));return re.state=P,re.value=J,re})})(C||(C={}));var k=function($,J,re,z){var Oe,We=arguments.length,ke=We<3?J:z===null?z=Object.getOwnPropertyDescriptor(J,re):z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ke=Reflect.decorate($,J,re,z);else for(var it=$.length-1;it>=0;it--)(Oe=$[it])&&(ke=(We<3?Oe(ke):We>3?Oe(J,re,ke):Oe(J,re))||ke);return We>3&&ke&&Object.defineProperty(J,re,ke),ke};(function(){function $(J,re){var z=this;Object(f.G)(function(){z.current=re,z.subscription=J.subscribe(z)})}$.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},$.prototype.next=function(J){this.current=J},$.prototype.complete=function(){this.dispose()},$.prototype.error=function(J){this.current=J,this.dispose()},k([f.C.ref],$.prototype,"current",void 0),k([f.k.bound],$.prototype,"next",null),k([f.k.bound],$.prototype,"complete",null),k([f.k.bound],$.prototype,"error",null)})();var G=function(){return G=Object.assign||function($){for(var J,re=1,z=arguments.length;re<z;re++)for(var Oe in J=arguments[re])Object.prototype.hasOwnProperty.call(J,Oe)&&($[Oe]=J[Oe]);return $},G.apply(this,arguments)},H=function($,J,re,z){var Oe,We=arguments.length,ke=We<3?J:z===null?z=Object.getOwnPropertyDescriptor(J,re):z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ke=Reflect.decorate($,J,re,z);else for(var it=$.length-1;it>=0;it--)(Oe=$[it])&&(ke=(We<3?Oe(ke):We>3?Oe(J,re,ke):Oe(J,re))||ke);return We>3&&ke&&Object.defineProperty(J,re,ke),ke},ue=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function $(J){var re=this;this.model=J,this.localValues=f.C.map({}),this.localComputedValues=f.C.map({}),this.isPropertyDirty=function(z){return re.localValues.has(z)},v(Object(f.A)(J),"createViewModel expects an observable object"),O(J).forEach(function(z){if(z!==f.a&&z!=="__mobxDidRunLazyInitializers"){if(v(ue.indexOf(z)===-1,"The propertyname "+z+" is reserved and cannot be used with viewModels"),Object(f.w)(J,z)){var Oe=Object(f.h)(J,z).derivation;re.localComputedValues.set(z,Object(f.m)(Oe.bind(re)))}var We=Object.getOwnPropertyDescriptor(J,z),ke=We?{enumerable:We.enumerable}:{};Object.defineProperty(re,z,G(G({},ke),{configurable:!0,get:function(){return Object(f.w)(J,z)?re.localComputedValues.get(z).get():re.isPropertyDirty(z)?re.localValues.get(z):re.model[z]},set:Object(f.k)(function(it){it!==re.model[z]?re.localValues.set(z,it):re.localValues.delete(z)})}))}})}Object.defineProperty($.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),$.prototype.submit=function(){var J=this;Object(f.B)(this.localValues).forEach(function(re){var z=J.localValues.get(re),Oe=J.model[re];Object(f.y)(Oe)?Oe.replace(z):Object(f.z)(Oe)?(Oe.clear(),Oe.merge(z)):Object(f.v)(z)||(J.model[re]=z)}),this.localValues.clear()},$.prototype.reset=function(){this.localValues.clear()},$.prototype.resetProperty=function(J){this.localValues.delete(J)},H([f.m],$.prototype,"isDirty",null),H([f.m],$.prototype,"changedValues",null),H([f.k.bound],$.prototype,"submit",null),H([f.k.bound],$.prototype,"reset",null),H([f.k.bound],$.prototype,"resetProperty",null)})();function _e($){if(!$)return"ROOT";for(var J=[];$.parent;)J.push($.path),$=$.parent;return J.reverse().join("/")}function be($){return Object(f.A)($)||Object(f.y)($)||Object(f.z)($)}function ce($,J){var re=new WeakMap;function z(ke){var it=re.get(ke.object);(function(at,$e){switch(at.type){case"add":Oe(at.newValue,$e,at.name);break;case"update":We(at.oldValue),Oe(at.newValue,$e,at.name||""+at.index);break;case"remove":case"delete":We(at.oldValue);break;case"splice":at.removed.map(We),at.added.forEach(function(Se,Ye){return Oe(Se,$e,""+(at.index+Ye))});for(var ae=at.index+at.addedCount;ae<at.object.length;ae++)if(be(at.object[ae])){var pe=re.get(at.object[ae]);pe&&(pe.path=""+ae)}}})(ke,it),J(ke,_e(it),$)}function Oe(ke,it,at){if(be(ke)){var $e=re.get(ke);if($e){if($e.parent!==it||$e.path!==at)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+_e(it)+"/"+at+"', but it already exists at '"+_e($e.parent)+"/"+$e.path+"'")}else{var ae={parent:it,path:at,dispose:Object(f.D)(ke,z)};re.set(ke,ae),Object(f.p)(ke).forEach(function(pe){var Se=pe[0];return Oe(pe[1],ae,Se)})}}}function We(ke){if(be(ke)){var it=re.get(ke);if(!it)return;re.delete(ke),it.dispose(),Object(f.L)(ke).forEach(We)}}return Oe($,void 0,""),function(){We($)}}var fe,ee=(fe=function($,J){return fe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(re,z){re.__proto__=z}||function(re,z){for(var Oe in z)z.hasOwnProperty(Oe)&&(re[Oe]=z[Oe])},fe($,J)},function($,J){function re(){this.constructor=$}fe($,J),$.prototype=J===null?Object.create(J):(re.prototype=J.prototype,new re)});(function($){function J(re,z,Oe){var We=Oe===void 0?{}:Oe,ke=We.name,it=ke===void 0?"ogm"+(1e3*Math.random()|0):ke,at=We.keyToName,$e=at===void 0?function(Se){return""+Se}:at,ae=$.call(this)||this;ae._keyToName=$e,ae._groupBy=z,ae._ogmInfoKey=Symbol("ogmInfo"+it),ae._base=re;for(var pe=0;pe<re.length;pe++)ae._addItem(re[pe]);return ae._disposeBaseObserver=Object(f.D)(ae._base,function(Se){if(Se.type==="splice")Object(f.J)(function(){for(var Ye=0,lt=Se.removed;Ye<lt.length;Ye++){var Pt=lt[Ye];ae._removeItem(Pt)}for(var Rt=0,Lt=Se.added;Rt<Lt.length;Rt++){var tr=Lt[Rt];ae._addItem(tr)}});else{if(Se.type!=="update")throw new Error("illegal state");Object(f.J)(function(){ae._removeItem(Se.oldValue),ae._addItem(Se.newValue)})}}),ae}ee(J,$),J.prototype.clear=function(){throw new Error("not supported")},J.prototype.delete=function(re){throw new Error("not supported")},J.prototype.set=function(re,z){throw new Error("not supported")},J.prototype.dispose=function(){this._disposeBaseObserver();for(var re=0;re<this._base.length;re++){var z=this._base[re];z[this._ogmInfoKey].reaction(),delete z[this._ogmInfoKey]}},J.prototype._getGroupArr=function(re){var z=$.prototype.get.call(this,re);return z===void 0&&(z=Object(f.C)([],{name:"GroupArray["+this._keyToName(re)+"]",deep:!1}),$.prototype.set.call(this,re,z)),z},J.prototype._removeFromGroupArr=function(re,z){var Oe=$.prototype.get.call(this,re);Oe.length===1?$.prototype.delete.call(this,re):(z===Oe.length-1||(Oe[z]=Oe[Oe.length-1],Oe[z][this._ogmInfoKey].groupArrIndex=z),Oe.length--)},J.prototype._addItem=function(re){var z=this,Oe=this._groupBy(re),We=this._getGroupArr(Oe),ke={groupByValue:Oe,groupArrIndex:We.length,reaction:Object(f.F)(function(){return z._groupBy(re)},function(it,at){var $e=re[z._ogmInfoKey];z._removeFromGroupArr($e.groupByValue,$e.groupArrIndex);var ae=z._getGroupArr(it),pe=ae.length;ae.push(re),$e.groupByValue=it,$e.groupArrIndex=pe})};Object.defineProperty(re,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:ke}),We.push(re)},J.prototype._removeItem=function(re){var z=re[this._ogmInfoKey];this._removeFromGroupArr(z.groupByValue,z.groupArrIndex),z.reaction(),delete re[this._ogmInfoKey]}})(f.b),function(){function $(J,re){this.base=J,this.args=re,this.closestIdx=0,this.isDisposed=!1;for(var z=this.closest=this.root=J,Oe=0;Oe<this.args.length-1&&(z=z.get(re[Oe]));Oe++)this.closest=z;this.closestIdx=Oe}return $.prototype.exists=function(){this.assertNotDisposed();var J=this.args.length;return this.closestIdx>=J-1&&this.closest.has(this.args[J-1])},$.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},$.prototype.set=function(J){this.assertNotDisposed();for(var re=this.args.length,z=this.closest,Oe=this.closestIdx;Oe<re-1;Oe++){var We=new Map;z.set(this.args[Oe],We),z=We}this.closestIdx=re-1,this.closest=z,z.set(this.args[re-1],J)},$.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var J=this.args.length;this.closest.delete(this.args[J-1]);for(var re=this.root,z=[re],Oe=0;Oe<J-1;Oe++)re=re.get(this.args[Oe]),z.push(re);for(Oe=z.length-1;Oe>0;Oe--)z[Oe].size===0&&z[Oe-1].delete(this.args[Oe-1]);this.isDisposed=!0},$.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},$}(),Promise.resolve(),typeof queueMicrotask<"u"||c!==void 0&&c.nextTick}).call(this,n(163))},function(r,a,n){var c;(function(f,y,v){if(f){for(var b,O={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},S={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},P={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},j={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},I=1;I<20;++I)O[111+I]="f"+I;for(I=0;I<=9;++I)O[I+96]=I.toString();be.prototype.bind=function(ce,fe,ee){var $=this;return ce=ce instanceof Array?ce:[ce],$._bindMultiple.call($,ce,fe,ee),$},be.prototype.unbind=function(ce,fe){return this.bind.call(this,ce,function(){},fe)},be.prototype.trigger=function(ce,fe){var ee=this;return ee._directMap[ce+":"+fe]&&ee._directMap[ce+":"+fe]({},ce),ee},be.prototype.reset=function(){var ce=this;return ce._callbacks={},ce._directMap={},ce},be.prototype.stopCallback=function(ce,fe){if((" "+fe.className+" ").indexOf(" mousetrap ")>-1||_e(fe,this.target))return!1;if("composedPath"in ce&&typeof ce.composedPath=="function"){var ee=ce.composedPath()[0];ee!==ce.target&&(fe=ee)}return fe.tagName=="INPUT"||fe.tagName=="SELECT"||fe.tagName=="TEXTAREA"||fe.isContentEditable},be.prototype.handleKey=function(){var ce=this;return ce._handleKey.apply(ce,arguments)},be.addKeycodes=function(ce){for(var fe in ce)ce.hasOwnProperty(fe)&&(O[fe]=ce[fe]);b=null},be.init=function(){var ce=be(y);for(var fe in ce)fe.charAt(0)!=="_"&&(be[fe]=function(ee){return function(){return ce[ee].apply(ce,arguments)}}(fe))},be.init(),f.Mousetrap=be,r.exports&&(r.exports=be),(c=function(){return be}.call(a,n,a,r))===void 0||(r.exports=c)}function C(ce,fe,ee){ce.addEventListener?ce.addEventListener(fe,ee,!1):ce.attachEvent("on"+fe,ee)}function k(ce){if(ce.type=="keypress"){var fe=String.fromCharCode(ce.which);return ce.shiftKey||(fe=fe.toLowerCase()),fe}return O[ce.which]?O[ce.which]:S[ce.which]?S[ce.which]:String.fromCharCode(ce.which).toLowerCase()}function G(ce){return ce=="shift"||ce=="ctrl"||ce=="alt"||ce=="meta"}function H(ce,fe,ee){return ee||(ee=function(){if(!b)for(var $ in b={},O)$>95&&$<112||O.hasOwnProperty($)&&(b[O[$]]=$);return b}()[ce]?"keydown":"keypress"),ee=="keypress"&&fe.length&&(ee="keydown"),ee}function ue(ce,fe){var ee,$,J,re=[];for(ee=function(z){return z==="+"?["+"]:(z=z.replace(/\+{2}/g,"+plus")).split("+")}(ce),J=0;J<ee.length;++J)$=ee[J],j[$]&&($=j[$]),fe&&fe!="keypress"&&P[$]&&($=P[$],re.push("shift")),G($)&&re.push($);return{key:$,modifiers:re,action:fe=H($,re,fe)}}function _e(ce,fe){return ce!==null&&ce!==y&&(ce===fe||_e(ce.parentNode,fe))}function be(ce){var fe=this;if(ce=ce||y,!(fe instanceof be))return new be(ce);fe.target=ce,fe._callbacks={},fe._directMap={};var ee,$={},J=!1,re=!1,z=!1;function Oe(ae){ae=ae||{};var pe,Se=!1;for(pe in $)ae[pe]?Se=!0:$[pe]=0;Se||(z=!1)}function We(ae,pe,Se,Ye,lt,Pt){var Rt,Lt,tr,Te,de=[],Ae=Se.type;if(!fe._callbacks[ae])return[];for(Ae=="keyup"&&G(ae)&&(pe=[ae]),Rt=0;Rt<fe._callbacks[ae].length;++Rt)if(Lt=fe._callbacks[ae][Rt],(Ye||!Lt.seq||$[Lt.seq]==Lt.level)&&Ae==Lt.action&&(Ae=="keypress"&&!Se.metaKey&&!Se.ctrlKey||(tr=pe,Te=Lt.modifiers,tr.sort().join(",")===Te.sort().join(",")))){var st=!Ye&&Lt.combo==lt,kt=Ye&&Lt.seq==Ye&&Lt.level==Pt;(st||kt)&&fe._callbacks[ae].splice(Rt,1),de.push(Lt)}return de}function ke(ae,pe,Se,Ye){fe.stopCallback(pe,pe.target||pe.srcElement,Se,Ye)||ae(pe,Se)===!1&&(function(lt){lt.preventDefault?lt.preventDefault():lt.returnValue=!1}(pe),function(lt){lt.stopPropagation?lt.stopPropagation():lt.cancelBubble=!0}(pe))}function it(ae){typeof ae.which!="number"&&(ae.which=ae.keyCode);var pe=k(ae);pe&&(ae.type!="keyup"||J!==pe?fe.handleKey(pe,function(Se){var Ye=[];return Se.shiftKey&&Ye.push("shift"),Se.altKey&&Ye.push("alt"),Se.ctrlKey&&Ye.push("ctrl"),Se.metaKey&&Ye.push("meta"),Ye}(ae),ae):J=!1)}function at(ae,pe,Se,Ye){function lt(tr){return function(){z=tr,++$[ae],clearTimeout(ee),ee=setTimeout(Oe,1e3)}}function Pt(tr){ke(Se,tr,ae),Ye!=="keyup"&&(J=k(tr)),setTimeout(Oe,10)}$[ae]=0;for(var Rt=0;Rt<pe.length;++Rt){var Lt=Rt+1===pe.length?Pt:lt(Ye||ue(pe[Rt+1]).action);$e(pe[Rt],Lt,Ye,ae,Rt)}}function $e(ae,pe,Se,Ye,lt){fe._directMap[ae+":"+Se]=pe;var Pt,Rt=(ae=ae.replace(/\s+/g," ")).split(" ");Rt.length>1?at(ae,Rt,pe,Se):(Pt=ue(ae,Se),fe._callbacks[Pt.key]=fe._callbacks[Pt.key]||[],We(Pt.key,Pt.modifiers,{type:Pt.action},Ye,ae,lt),fe._callbacks[Pt.key][Ye?"unshift":"push"]({callback:pe,modifiers:Pt.modifiers,action:Pt.action,seq:Ye,level:lt,combo:ae}))}fe._handleKey=function(ae,pe,Se){var Ye,lt=We(ae,pe,Se),Pt={},Rt=0,Lt=!1;for(Ye=0;Ye<lt.length;++Ye)lt[Ye].seq&&(Rt=Math.max(Rt,lt[Ye].level));for(Ye=0;Ye<lt.length;++Ye)if(lt[Ye].seq){if(lt[Ye].level!=Rt)continue;Lt=!0,Pt[lt[Ye].seq]=1,ke(lt[Ye].callback,Se,lt[Ye].combo,lt[Ye].seq)}else Lt||ke(lt[Ye].callback,Se,lt[Ye].combo);var tr=Se.type=="keypress"&&re;Se.type!=z||G(ae)||tr||Oe(Pt),re=Lt&&Se.type=="keydown"},fe._bindMultiple=function(ae,pe,Se){for(var Ye=0;Ye<ae.length;++Ye)$e(ae[Ye],pe,Se)},C(ce,"keypress",it),C(ce,"keydown",it),C(ce,"keyup",it)}})(typeof window<"u"?window:null,typeof window<"u"?document:null)},function(r,a,n){var c=n(7),f=n(34),y=n(30),v=n(33),b=c.TypeError;r.exports=function(O,S){var P,j;if(S==="string"&&y(P=O.toString)&&!v(j=f(P,O))||y(P=O.valueOf)&&!v(j=f(P,O))||S!=="string"&&y(P=O.toString)&&!v(j=f(P,O)))return j;throw b("Can't convert object to primitive value")}},function(r,a,n){var c=n(7),f=n(30),y=n(92),v=c.WeakMap;r.exports=f(v)&&/native code/.test(y(v))},function(r,a,n){var c=n(36),f=n(38),y=n(32),v=n(41),b=n(77);r.exports=c?Object.defineProperties:function(O,S){y(O);for(var P,j=v(S),I=b(S),C=I.length,k=0;C>k;)f.f(O,P=I[k++],j[P]);return O}},function(r,a,n){var c=n(7);r.exports=c},function(r,a,n){var c=n(7),f=n(96),y=n(99),v=n(33),b=n(28)("species"),O=c.Array;r.exports=function(S){var P;return f(S)&&(P=S.constructor,(y(P)&&(P===O||f(P.prototype))||v(P)&&(P=P[b])===null)&&(P=void 0)),P===void 0?O:P}},function(r,a,n){var c=n(113),f=n(97);r.exports=c?{}.toString:function(){return"[object "+f(this)+"]"}},function(r,a,n){var c=n(142).IteratorPrototype,f=n(60),y=n(69),v=n(78),b=n(80),O=function(){return this};r.exports=function(S,P,j,I){var C=P+" Iterator";return S.prototype=f(c,{next:y(+!I,j)}),v(S,C,!1,!0),b[C]=O,S}},function(r,a,n){var c=n(7),f=n(30),y=c.String,v=c.TypeError;r.exports=function(b){if(typeof b=="object"||f(b))return b;throw v("Can't set "+y(b)+" as a prototype")}},function(r,a,n){var c=n(16),f=n(7),y=n(15),v=n(95),b=n(42),O=n(144),S=n(117),P=n(119),j=n(30),I=n(33),C=n(18),k=n(120),G=n(78),H=n(148);r.exports=function(ue,_e,be){var ce=ue.indexOf("Map")!==-1,fe=ue.indexOf("Weak")!==-1,ee=ce?"set":"add",$=f[ue],J=$&&$.prototype,re=$,z={},Oe=function(ae){var pe=y(J[ae]);b(J,ae,ae=="add"?function(Se){return pe(this,Se===0?0:Se),this}:ae=="delete"?function(Se){return!(fe&&!I(Se))&&pe(this,Se===0?0:Se)}:ae=="get"?function(Se){return fe&&!I(Se)?void 0:pe(this,Se===0?0:Se)}:ae=="has"?function(Se){return!(fe&&!I(Se))&&pe(this,Se===0?0:Se)}:function(Se,Ye){return pe(this,Se===0?0:Se,Ye),this})};if(v(ue,!j($)||!(fe||J.forEach&&!C(function(){new $().entries().next()}))))re=be.getConstructor(_e,ue,ce,ee),O.enable();else if(v(ue,!0)){var We=new re,ke=We[ee](fe?{}:-0,1)!=We,it=C(function(){We.has(1)}),at=k(function(ae){new $(ae)}),$e=!fe&&C(function(){for(var ae=new $,pe=5;pe--;)ae[ee](pe,pe);return!ae.has(-0)});at||((re=_e(function(ae,pe){P(ae,J);var Se=H(new $,ae,re);return pe!=null&&S(pe,Se[ee],{that:Se,AS_ENTRIES:ce}),Se})).prototype=J,J.constructor=re),(it||$e)&&(Oe("delete"),Oe("has"),ce&&Oe("get")),($e||ke)&&Oe(ee),fe&&J.clear&&delete J.clear}return z[ue]=re,c({global:!0,forced:re!=$},z),G(re,ue),fe||be.setStrong(re,ue,ce),re}},function(r,a,n){var c=n(18),f=n(33),y=n(51),v=n(184),b=Object.isExtensible,O=c(function(){});r.exports=O||v?function(S){return!!f(S)&&(!v||y(S)!="ArrayBuffer")&&(!b||b(S))}:b},function(r,a,n){var c=n(18);r.exports=c(function(){if(typeof ArrayBuffer=="function"){var f=new ArrayBuffer(8);Object.isExtensible(f)&&Object.defineProperty(f,"a",{value:8})}})},function(r,a,n){var c=n(18);r.exports=!c(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(r,a,n){var c=n(38).f,f=n(60),y=n(149),v=n(64),b=n(119),O=n(117),S=n(116),P=n(150),j=n(36),I=n(144).fastKey,C=n(58),k=C.set,G=C.getterFor;r.exports={getConstructor:function(H,ue,_e,be){var ce=H(function(re,z){b(re,fe),k(re,{type:ue,index:f(null),first:void 0,last:void 0,size:0}),j||(re.size=0),z!=null&&O(z,re[be],{that:re,AS_ENTRIES:_e})}),fe=ce.prototype,ee=G(ue),$=function(re,z,Oe){var We,ke,it=ee(re),at=J(re,z);return at?at.value=Oe:(it.last=at={index:ke=I(z,!0),key:z,value:Oe,previous:We=it.last,next:void 0,removed:!1},it.first||(it.first=at),We&&(We.next=at),j?it.size++:re.size++,ke!=="F"&&(it.index[ke]=at)),re},J=function(re,z){var Oe,We=ee(re),ke=I(z);if(ke!=="F")return We.index[ke];for(Oe=We.first;Oe;Oe=Oe.next)if(Oe.key==z)return Oe};return y(fe,{clear:function(){for(var re=ee(this),z=re.index,Oe=re.first;Oe;)Oe.removed=!0,Oe.previous&&(Oe.previous=Oe.previous.next=void 0),delete z[Oe.index],Oe=Oe.next;re.first=re.last=void 0,j?re.size=0:this.size=0},delete:function(re){var z=this,Oe=ee(z),We=J(z,re);if(We){var ke=We.next,it=We.previous;delete Oe.index[We.index],We.removed=!0,it&&(it.next=ke),ke&&(ke.previous=it),Oe.first==We&&(Oe.first=ke),Oe.last==We&&(Oe.last=it),j?Oe.size--:z.size--}return!!We},forEach:function(re){for(var z,Oe=ee(this),We=v(re,arguments.length>1?arguments[1]:void 0);z=z?z.next:Oe.first;)for(We(z.value,z.key,this);z&&z.removed;)z=z.previous},has:function(re){return!!J(this,re)}}),y(fe,_e?{get:function(re){var z=J(this,re);return z&&z.value},set:function(re,z){return $(this,re===0?0:re,z)}}:{add:function(re){return $(this,re=re===0?0:re,re)}}),j&&c(fe,"size",{get:function(){return ee(this).size}}),ce},setStrong:function(H,ue,_e){var be=ue+" Iterator",ce=G(ue),fe=G(be);S(H,ue,function(ee,$){k(this,{type:be,target:ee,state:ce(ee),kind:$,last:void 0})},function(){for(var ee=fe(this),$=ee.kind,J=ee.last;J&&J.removed;)J=J.previous;return ee.target&&(ee.last=J=J?J.next:ee.state.first)?$=="keys"?{value:J.key,done:!1}:$=="values"?{value:J.value,done:!1}:{value:[J.key,J.value],done:!1}:(ee.target=void 0,{value:void 0,done:!0})},_e?"entries":"values",!_e,!0),P(ue)}}},function(r,a,n){var c=n(79).forEach,f=n(121)("forEach");r.exports=f?[].forEach:function(y){return c(this,y,arguments.length>1?arguments[1]:void 0)}},function(r,a,n){var c=n(7),f=n(64),y=n(34),v=n(40),b=n(189),O=n(145),S=n(99),P=n(45),j=n(63),I=n(146),C=n(118),k=c.Array;r.exports=function(G){var H=v(G),ue=S(this),_e=arguments.length,be=_e>1?arguments[1]:void 0,ce=be!==void 0;ce&&(be=f(be,_e>2?arguments[2]:void 0));var fe,ee,$,J,re,z,Oe=C(H),We=0;if(!Oe||this==k&&O(Oe))for(fe=P(H),ee=ue?new this(fe):k(fe);fe>We;We++)z=ce?be(H[We],We):H[We],j(ee,We,z);else for(re=(J=I(H,Oe)).next,ee=ue?new this:[];!($=y(re,J)).done;We++)z=ce?b(J,be,[$.value,We],!0):$.value,j(ee,We,z);return ee.length=We,ee}},function(r,a,n){var c=n(32),f=n(147);r.exports=function(y,v,b,O){try{return O?v(c(b)[0],b[1]):v(b)}catch(S){f(y,"throw",S)}}},function(r,a,n){var c=n(18),f=n(7).RegExp;r.exports=c(function(){var y=f(".","s");return!(y.dotAll&&y.exec(`
`)&&y.flags==="s")})},function(r,a,n){var c=n(18),f=n(7).RegExp;r.exports=c(function(){var y=f("(?<a>b)","g");return y.exec("b").groups.a!=="b"||"b".replace(y,"$<a>c")!=="bc"})},function(r,a,n){var c=n(16),f=n(15),y=n(56),v=n(40),b=n(45),O=n(39),S=n(18),P=n(193),j=n(121),I=n(194),C=n(195),k=n(70),G=n(196),H=[],ue=f(H.sort),_e=f(H.push),be=S(function(){H.sort(void 0)}),ce=S(function(){H.sort(null)}),fe=j("sort"),ee=!S(function(){if(k)return k<70;if(!(I&&I>3)){if(C)return!0;if(G)return G<603;var $,J,re,z,Oe="";for($=65;$<76;$++){switch(J=String.fromCharCode($),$){case 66:case 69:case 70:case 72:re=3;break;case 68:case 71:re=4;break;default:re=2}for(z=0;z<47;z++)H.push({k:J+z,v:re})}for(H.sort(function(We,ke){return ke.v-We.v}),z=0;z<H.length;z++)J=H[z].k.charAt(0),Oe.charAt(Oe.length-1)!==J&&(Oe+=J);return Oe!=="DGBEFHACIJK"}});c({target:"Array",proto:!0,forced:be||!ce||!fe||!ee},{sort:function($){$!==void 0&&y($);var J=v(this);if(ee)return $===void 0?ue(J):ue(J,$);var re,z,Oe=[],We=b(J);for(z=0;z<We;z++)z in J&&_e(Oe,J[z]);for(P(Oe,function(ke){return function(it,at){return at===void 0?-1:it===void 0?1:ke!==void 0?+ke(it,at)||0:O(it)>O(at)?1:-1}}($)),re=Oe.length,z=0;z<re;)J[z]=Oe[z++];for(;z<We;)delete J[z++];return J}})},function(r,a,n){var c=n(114),f=Math.floor,y=function(O,S){var P=O.length,j=f(P/2);return P<8?v(O,S):b(O,y(c(O,0,j),S),y(c(O,j),S),S)},v=function(O,S){for(var P,j,I=O.length,C=1;C<I;){for(j=C,P=O[C];j&&S(O[j-1],P)>0;)O[j]=O[--j];j!==C++&&(O[j]=P)}return O},b=function(O,S,P,j){for(var I=S.length,C=P.length,k=0,G=0;k<I||G<C;)O[k+G]=k<I&&G<C?j(S[k],P[G])<=0?S[k++]:P[G++]:k<I?S[k++]:P[G++];return O};r.exports=y},function(r,a,n){var c=n(55).match(/firefox\/(\d+)/i);r.exports=!!c&&+c[1]},function(r,a,n){var c=n(55);r.exports=/MSIE|Trident/.test(c)},function(r,a,n){var c=n(55).match(/AppleWebKit\/(\d+)\./);r.exports=!!c&&+c[1]},function(r,a,n){var c=n(7),f=n(159),y=c.TypeError;r.exports=function(v){if(f(v))throw y("The method doesn't accept regular expressions");return v}},function(r,a,n){var c=n(28)("match");r.exports=function(f){var y=/./;try{"/./"[f](y)}catch{try{return y[c]=!1,"/./"[f](y)}catch{}}return!1}},function(r,a,n){n(16)({target:"Number",stat:!0},{isNaN:function(c){return c!=c}})},function(r,a,n){var c=n(73).PROPER,f=n(18),y=n(162);r.exports=function(v){return f(function(){return!!y[v]()||"\u200B\x85\u180E"[v]()!=="\u200B\x85\u180E"||c&&y[v].name!==v})}},function(r,a,n){var c=n(15),f=n(40),y=Math.floor,v=c("".charAt),b=c("".replace),O=c("".slice),S=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,P=/\$([$&'`]|\d{1,2})/g;r.exports=function(j,I,C,k,G,H){var ue=C+j.length,_e=k.length,be=P;return G!==void 0&&(G=f(G),be=S),b(H,be,function(ce,fe){var ee;switch(v(fe,0)){case"$":return"$";case"&":return j;case"`":return O(I,0,C);case"'":return O(I,ue);case"<":ee=G[O(fe,1,-1)];break;default:var $=+fe;if($===0)return ce;if($>_e){var J=y($/10);return J===0?ce:J<=_e?k[J-1]===void 0?v(fe,1):k[J-1]+v(fe,1):ce}ee=k[$-1]}return ee===void 0?"":ee})}},function(r,a,n){var c=n(36),f=n(15),y=n(34),v=n(18),b=n(77),O=n(112),S=n(84),P=n(40),j=n(85),I=Object.assign,C=Object.defineProperty,k=f([].concat);r.exports=!I||v(function(){if(c&&I({b:1},I(C({},"a",{enumerable:!0,get:function(){C(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var G={},H={},ue=Symbol(),_e="abcdefghijklmnopqrst";return G[ue]=7,_e.split("").forEach(function(be){H[be]=be}),I({},G)[ue]!=7||b(I({},H)).join("")!=_e})?function(G,H){for(var ue=P(G),_e=arguments.length,be=1,ce=O.f,fe=S.f;_e>be;)for(var ee,$=j(arguments[be++]),J=ce?k(b($),ce($)):b($),re=J.length,z=0;re>z;)ee=J[z++],c&&!y(fe,$,ee)||(ue[ee]=$[ee]);return ue}:I},function(r,a,n){var c=n(7),f=n(15),y=n(56),v=n(33),b=n(35),O=n(98),S=c.Function,P=f([].concat),j=f([].join),I={},C=function(k,G,H){if(!b(I,G)){for(var ue=[],_e=0;_e<G;_e++)ue[_e]="a["+_e+"]";I[G]=S("C,a","return new C("+j(ue,",")+")")}return I[G](k,H)};r.exports=S.bind||function(k){var G=y(this),H=G.prototype,ue=O(arguments,1),_e=function(){var be=P(ue,O(arguments));return this instanceof _e?C(G,be.length,be):G.apply(k,be)};return v(H)&&(_e.prototype=H),_e}},function(r,a,n){var c=n(35);r.exports=function(f){return f!==void 0&&(c(f,"value")||c(f,"writable"))}},function(r,a,n){var c=n(15),f=n(44),y=n(39),v=/"/g,b=c("".replace);r.exports=function(O,S,P,j){var I=y(f(O)),C="<"+S;return P!==""&&(C+=" "+P+'="'+b(y(j),v,"&quot;")+'"'),C+">"+I+"</"+S+">"}},function(r,a,n){var c=n(18);r.exports=function(f){return c(function(){var y=""[f]('"');return y!==y.toLowerCase()||y.split('"').length>3})}},function(r,a,n){n(16)({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},function(r,a,n){var c,f,y,v,b=n(16),O=n(71),S=n(7),P=n(46),j=n(34),I=n(209),C=n(42),k=n(149),G=n(102),H=n(78),ue=n(150),_e=n(56),be=n(30),ce=n(33),fe=n(119),ee=n(92),$=n(117),J=n(120),re=n(164),z=n(168).set,Oe=n(210),We=n(213),ke=n(214),it=n(170),at=n(215),$e=n(58),ae=n(95),pe=n(28),Se=n(216),Ye=n(128),lt=n(70),Pt=pe("species"),Rt="Promise",Lt=$e.getterFor(Rt),tr=$e.set,Te=$e.getterFor(Rt),de=I&&I.prototype,Ae=I,st=de,kt=S.TypeError,ht=S.document,Wt=S.process,or=it.f,vr=or,rr=!!(ht&&ht.createEvent&&S.dispatchEvent),et=be(S.PromiseRejectionEvent),lr="unhandledrejection",Ne=!1,ir=ae(Rt,function(){var xe=ee(Ae),Ke=xe!==String(Ae);if(!Ke&&lt===66||O&&!st.finally)return!0;if(lt>=51&&/native code/.test(xe))return!1;var zt=new Ae(function(yr){yr(1)}),Ft=function(yr){yr(function(){},function(){})};return(zt.constructor={})[Pt]=Ft,!(Ne=zt.then(function(){})instanceof Ft)||!Ke&&Se&&!et}),Br=ir||!J(function(xe){Ae.all(xe).catch(function(){})}),V=function(xe){var Ke;return!(!ce(xe)||!be(Ke=xe.then))&&Ke},Gr=function(xe,Ke){if(!xe.notified){xe.notified=!0;var zt=xe.reactions;Oe(function(){for(var Ft=xe.value,yr=xe.state==1,rn=0;zt.length>rn;){var Co,$o,bo,xo=zt[rn++],fr=yr?xo.ok:xo.fail,wr=xo.resolve,Nr=xo.reject,$r=xo.domain;try{fr?(yr||(xe.rejection===2&&jr(xe),xe.rejection=1),fr===!0?Co=Ft:($r&&$r.enter(),Co=fr(Ft),$r&&($r.exit(),bo=!0)),Co===xo.promise?Nr(kt("Promise-chain cycle")):($o=V(Co))?j($o,Co,wr,Nr):wr(Co)):Nr(Ft)}catch(Nn){$r&&!bo&&$r.exit(),Nr(Nn)}}xe.reactions=[],xe.notified=!1,Ke&&!xe.rejection&&Mn(xe)})}},dn=function(xe,Ke,zt){var Ft,yr;rr?((Ft=ht.createEvent("Event")).promise=Ke,Ft.reason=zt,Ft.initEvent(xe,!1,!0),S.dispatchEvent(Ft)):Ft={promise:Ke,reason:zt},!et&&(yr=S["on"+xe])?yr(Ft):xe===lr&&ke("Unhandled promise rejection",zt)},Mn=function(xe){j(z,S,function(){var Ke,zt=xe.facade,Ft=xe.value;if(Xn(xe)&&(Ke=at(function(){Ye?Wt.emit("unhandledRejection",Ft,zt):dn(lr,zt,Ft)}),xe.rejection=Ye||Xn(xe)?2:1,Ke.error))throw Ke.value})},Xn=function(xe){return xe.rejection!==1&&!xe.parent},jr=function(xe){j(z,S,function(){var Ke=xe.facade;Ye?Wt.emit("rejectionHandled",Ke):dn("rejectionhandled",Ke,xe.value)})},fo=function(xe,Ke,zt){return function(Ft){xe(Ke,Ft,zt)}},ve=function(xe,Ke,zt){xe.done||(xe.done=!0,zt&&(xe=zt),xe.value=Ke,xe.state=2,Gr(xe,!0))},Le=function(xe,Ke,zt){if(!xe.done){xe.done=!0,zt&&(xe=zt);try{if(xe.facade===Ke)throw kt("Promise can't be resolved itself");var Ft=V(Ke);Ft?Oe(function(){var yr={done:!1};try{j(Ft,Ke,fo(Le,yr,xe),fo(ve,yr,xe))}catch(rn){ve(yr,rn,xe)}}):(xe.value=Ke,xe.state=1,Gr(xe,!1))}catch(yr){ve({done:!1},yr,xe)}}};if(ir&&(st=(Ae=function(xe){fe(this,st),_e(xe),j(c,this);var Ke=Lt(this);try{xe(fo(Le,Ke),fo(ve,Ke))}catch(zt){ve(Ke,zt)}}).prototype,(c=function(xe){tr(this,{type:Rt,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=k(st,{then:function(xe,Ke){var zt=Te(this),Ft=zt.reactions,yr=or(re(this,Ae));return yr.ok=!be(xe)||xe,yr.fail=be(Ke)&&Ke,yr.domain=Ye?Wt.domain:void 0,zt.parent=!0,Ft[Ft.length]=yr,zt.state!=0&&Gr(zt,!1),yr.promise},catch:function(xe){return this.then(void 0,xe)}}),f=function(){var xe=new c,Ke=Lt(xe);this.promise=xe,this.resolve=fo(Le,Ke),this.reject=fo(ve,Ke)},it.f=or=function(xe){return xe===Ae||xe===y?new f(xe):vr(xe)},!O&&be(I)&&de!==Object.prototype)){v=de.then,Ne||(C(de,"then",function(xe,Ke){var zt=this;return new Ae(function(Ft,yr){j(v,zt,Ft,yr)}).then(xe,Ke)},{unsafe:!0}),C(de,"catch",st.catch,{unsafe:!0}));try{delete de.constructor}catch{}G&&G(de,st)}b({global:!0,wrap:!0,forced:ir},{Promise:Ae}),H(Ae,Rt,!1,!0),ue(Rt),y=P(Rt),b({target:Rt,stat:!0,forced:ir},{reject:function(xe){var Ke=or(this);return j(Ke.reject,void 0,xe),Ke.promise}}),b({target:Rt,stat:!0,forced:O||ir},{resolve:function(xe){return We(O&&this===y?Ae:this,xe)}}),b({target:Rt,stat:!0,forced:Br},{all:function(xe){var Ke=this,zt=or(Ke),Ft=zt.resolve,yr=zt.reject,rn=at(function(){var Co=_e(Ke.resolve),$o=[],bo=0,xo=1;$(xe,function(fr){var wr=bo++,Nr=!1;xo++,j(Co,Ke,fr).then(function($r){Nr||(Nr=!0,$o[wr]=$r,--xo||Ft($o))},yr)}),--xo||Ft($o)});return rn.error&&yr(rn.value),zt.promise},race:function(xe){var Ke=this,zt=or(Ke),Ft=zt.reject,yr=at(function(){var rn=_e(Ke.resolve);$(xe,function(Co){j(rn,Ke,Co).then(zt.resolve,Ft)})});return yr.error&&Ft(yr.value),zt.promise}})},function(r,a,n){var c=n(7);r.exports=c.Promise},function(r,a,n){var c,f,y,v,b,O,S,P,j=n(7),I=n(64),C=n(50).f,k=n(168).set,G=n(169),H=n(211),ue=n(212),_e=n(128),be=j.MutationObserver||j.WebKitMutationObserver,ce=j.document,fe=j.process,ee=j.Promise,$=C(j,"queueMicrotask"),J=$&&$.value;J||(c=function(){var re,z;for(_e&&(re=fe.domain)&&re.exit();f;){z=f.fn,f=f.next;try{z()}catch(Oe){throw f?v():y=void 0,Oe}}y=void 0,re&&re.enter()},G||_e||ue||!be||!ce?!H&&ee&&ee.resolve?((S=ee.resolve(void 0)).constructor=ee,P=I(S.then,S),v=function(){P(c)}):_e?v=function(){fe.nextTick(c)}:(k=I(k,j),v=function(){k(c)}):(b=!0,O=ce.createTextNode(""),new be(c).observe(O,{characterData:!0}),v=function(){O.data=b=!b})),r.exports=J||function(re){var z={fn:re,next:void 0};y&&(y.next=z),f||(f=z,v()),y=z}},function(r,a,n){var c=n(55),f=n(7);r.exports=/ipad|iphone|ipod/i.test(c)&&f.Pebble!==void 0},function(r,a,n){var c=n(55);r.exports=/web0s(?!.*chrome)/i.test(c)},function(r,a,n){var c=n(32),f=n(33),y=n(170);r.exports=function(v,b){if(c(v),f(b)&&b.constructor===v)return b;var O=y.f(v);return(0,O.resolve)(b),O.promise}},function(r,a,n){var c=n(7);r.exports=function(f,y){var v=c.console;v&&v.error&&(arguments.length==1?v.error(f):v.error(f,y))}},function(r,a){r.exports=function(n){try{return{error:!1,value:n()}}catch(c){return{error:!0,value:c}}}},function(r,a){r.exports=typeof window=="object"},function(r,a,n){var c=n(40),f=n(75),y=n(45);r.exports=function(v){for(var b=c(this),O=y(b),S=arguments.length,P=f(S>1?arguments[1]:void 0,O),j=S>2?arguments[2]:void 0,I=j===void 0?O:f(j,O);I>P;)b[P++]=v;return b}},function(r,a,n){var c=n(16),f=n(7),y=n(15),v=n(59),b=n(160),O=n(219),S=n(18),P=f.RangeError,j=f.String,I=Math.floor,C=y(O),k=y("".slice),G=y(1 .toFixed),H=function(ce,fe,ee){return fe===0?ee:fe%2==1?H(ce,fe-1,ee*ce):H(ce*ce,fe/2,ee)},ue=function(ce,fe,ee){for(var $=-1,J=ee;++$<6;)J+=fe*ce[$],ce[$]=J%1e7,J=I(J/1e7)},_e=function(ce,fe){for(var ee=6,$=0;--ee>=0;)$+=ce[ee],ce[ee]=I($/fe),$=$%fe*1e7},be=function(ce){for(var fe=6,ee="";--fe>=0;)if(ee!==""||fe===0||ce[fe]!==0){var $=j(ce[fe]);ee=ee===""?$:ee+C("0",7-$.length)+$}return ee};c({target:"Number",proto:!0,forced:S(function(){return G(8e-5,3)!=="0.000"||G(.9,0)!=="1"||G(1.255,2)!=="1.25"||G(0xde0b6b3a7640080,0)!=="1000000000000000128"})||!S(function(){G({})})},{toFixed:function(ce){var fe,ee,$,J,re=b(this),z=v(ce),Oe=[0,0,0,0,0,0],We="",ke="0";if(z<0||z>20)throw P("Incorrect fraction digits");if(re!=re)return"NaN";if(re<=-1e21||re>=1e21)return j(re);if(re<0&&(We="-",re=-re),re>1e-21)if(ee=(fe=function(it){for(var at=0,$e=it;$e>=4096;)at+=12,$e/=4096;for(;$e>=2;)at+=1,$e/=2;return at}(re*H(2,69,1))-69)<0?re*H(2,-fe,1):re/H(2,fe,1),ee*=4503599627370496,(fe=52-fe)>0){for(ue(Oe,0,ee),$=z;$>=7;)ue(Oe,1e7,0),$-=7;for(ue(Oe,H(10,$,1),0),$=fe-1;$>=23;)_e(Oe,1<<23),$-=23;_e(Oe,1<<$),ue(Oe,1,1),_e(Oe,2),ke=be(Oe)}else ue(Oe,0,ee),ue(Oe,1<<-fe,0),ke=be(Oe)+C("0",z);return ke=z>0?We+((J=ke.length)<=z?"0."+C("0",z-J)+ke:k(ke,0,J-z)+"."+k(ke,J-z)):We+ke}})},function(r,a,n){var c=n(7),f=n(59),y=n(39),v=n(44),b=c.RangeError;r.exports=function(O){var S=y(v(this)),P="",j=f(O);if(j<0||j==1/0)throw b("Wrong number of repetitions");for(;j>0;(j>>>=1)&&(S+=S))1&j&&(P+=S);return P}},function(r,a,n){var c=n(36),f=n(15),y=n(77),v=n(41),b=f(n(84).f),O=f([].push),S=function(P){return function(j){for(var I,C=v(j),k=y(C),G=k.length,H=0,ue=[];G>H;)I=k[H++],c&&!b(C,I)||O(ue,P?[I,C[I]]:C[I]);return ue}};r.exports={entries:S(!0),values:S(!1)}},function(r,a){r.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),n.webpackPolyfill=1),n}},function(r,a,n){n.r(a),n.d(a,"observer",function(){return xs}),n.d(a,"LogicFlow",function(){return vb}),n.d(a,"h",function(){return Ne.g}),n.d(a,"LogicFlowUtil",function(){return c}),n.d(a,"BaseNode",function(){return Of}),n.d(a,"RectNode",function(){return a0}),n.d(a,"CircleNode",function(){return f0}),n.d(a,"PolygonNode",function(){return v0}),n.d(a,"DiamondNode",function(){return b0}),n.d(a,"EllipseNode",function(){return x0}),n.d(a,"TextNode",function(){return T0}),n.d(a,"HtmlNode",function(){return N0}),n.d(a,"BaseEdge",function(){return Yh}),n.d(a,"LineEdge",function(){return X0}),n.d(a,"PolylineEdge",function(){return q0}),n.d(a,"BezierEdge",function(){return eb}),n.d(a,"Arrow",function(){return pM}),n.d(a,"BaseEdgeModel",function(){return Ol}),n.d(a,"BezierEdgeModel",function(){return dm}),n.d(a,"LineEdgeModel",function(){return ti}),n.d(a,"PolylineEdgeModel",function(){return yf}),n.d(a,"BaseNodeModel",function(){return Ef}),n.d(a,"CircleNodeModel",function(){return mm}),n.d(a,"DiamondNodeModel",function(){return wm}),n.d(a,"EllipseNodeModel",function(){return Tm}),n.d(a,"PolygonNodeModel",function(){return Cm}),n.d(a,"RectNodeModel",function(){return Lm}),n.d(a,"TextNodeModel",function(){return Um}),n.d(a,"HtmlNodeModel",function(){return Hm}),n.d(a,"EditConfigModel",function(){return tl}),n.d(a,"GraphModel",function(){return T1}),n.d(a,"SnaplineModel",function(){return lO}),n.d(a,"Keyboard",function(){return ZO}),n.d(a,"get",function(){return Z1}),n.d(a,"defaults",function(){return Q1}),n.d(a,"ElementState",function(){return Pn}),n.d(a,"ModelType",function(){return on}),n.d(a,"ElementType",function(){return Fn}),n.d(a,"EventType",function(){return gr}),n.d(a,"formateAnchorConnectValidateData",function(){return au});var c={};n.r(c),n.d(c,"createUuid",function(){return ha}),n.d(c,"refreshGraphId",function(){return Lu}),n.d(c,"StepDrag",function(){return U}),n.d(c,"setupEdgeModel",function(){return ct}),n.d(c,"isBboxOverLapping",function(){return Ie}),n.d(c,"filterRepeatPoints",function(){return qe}),n.d(c,"getSimplePolyline",function(){return St}),n.d(c,"getExpandedBBox",function(){return Bt}),n.d(c,"pointDirection",function(){return pt}),n.d(c,"getExpandedBBoxPoint",function(){return Gt}),n.d(c,"mergeBBox",function(){return vt}),n.d(c,"getBBoxOfPoints",function(){return Ct}),n.d(c,"getPointsFromBBox",function(){return ft}),n.d(c,"isPointOutsideBBox",function(){return Dt}),n.d(c,"getBBoxXCrossPoints",function(){return pr}),n.d(c,"getBBoxYCrossPoints",function(){return Tr}),n.d(c,"getBBoxCrossPointsByPoint",function(){return xt}),n.d(c,"estimateDistance",function(){return yt}),n.d(c,"costByPoints",function(){return dt}),n.d(c,"heuristicCostEstimate",function(){return br}),n.d(c,"rebuildPath",function(){return Fr}),n.d(c,"removeClosePointFromOpenList",function(){return qt}),n.d(c,"isSegmentsIntersected",function(){return kr}),n.d(c,"isSegmentCrossingBBox",function(){return Ar}),n.d(c,"getNextNeighborPoints",function(){return Ur}),n.d(c,"pathFinder",function(){return tn}),n.d(c,"getBoxByOriginNode",function(){return uo}),n.d(c,"pointFilter",function(){return go}),n.d(c,"getPolylinePoints",function(){return Yr}),n.d(c,"getLongestEdge",function(){return Eo}),n.d(c,"isSegmentsInNode",function(){return In}),n.d(c,"isSegmentsCrossNode",function(){return so}),n.d(c,"getCrossPointInRect",function(){return mo}),n.d(c,"segmentDirection",function(){return Qn}),n.d(c,"points2PointsList",function(){return Yn}),n.d(c,"getSimplePoints",function(){return No}),n.d(c,"getBytesLength",function(){return Ir}),n.d(c,"getTextWidth",function(){return ln}),n.d(c,"getAppendAttributes",function(){return mr}),n.d(c,"getBezierControlPoints",function(){return Kr}),n.d(c,"getBezierPoints",function(){return Pr}),n.d(c,"getEndTangent",function(){return Qi}),n.d(c,"getClosestPointOfPolyline",function(){return cu}),n.d(c,"pickEdgeConfig",function(){return oe}),n.d(c,"twoPointDistance",function(){return Xe}),n.d(c,"createEdgeGenerator",function(){return Be}),n.d(c,"snapToGrid",function(){return Da}),n.d(c,"getGridOffset",function(){return Vs}),n.d(c,"sampleCubic",function(){return se}),n.d(c,"getThetaOfVector",function(){return tt}),n.d(c,"degrees",function(){return Ge}),n.d(c,"Vector",function(){return B}),n.d(c,"Point",function(){return te}),n.d(c,"Matrix",function(){return uc}),n.d(c,"RotateMatrix",function(){return Sd}),n.d(c,"ScaleMatrix",function(){return Fh}),n.d(c,"TranslateMatrix",function(){return sc});var f=n(1),y=n(10);if(!y.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!f.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var v=n(43),b=Object(v.b)("observerBatching");function O(i){i()}var S=!1;function P(){return S}function j(i){return Object(f.t)(i)}var I,C=1e4,k=new Set;function G(){I===void 0&&(I=setTimeout(H,1e4))}function H(){I=void 0;var i=Date.now();k.forEach(function(o){var u=o.current;u&&i>=u.cleanAt&&(u.reaction.dispose(),o.current=null,k.delete(o))}),k.size>0&&G()}var ue=!1,_e=[],be={};function ce(i){return"observer"+i}function fe(i,o,u){o===void 0&&(o="observed"),u===void 0&&(u=be),P();var s,p=function(A){return function(){ue?_e.push(A):A()}}((u.useForceUpdate||v.d)()),l=y.d.useRef(null);if(!l.current){var h=new f.c(ce(o),function(){m.mounted?p():(h.dispose(),l.current=null)}),m=function(A){return{cleanAt:Date.now()+C,reaction:A}}(h);l.current=m,s=l,k.add(s),G()}var E=l.current.reaction;return y.d.useDebugValue(E,j),y.d.useEffect(function(){var A;return A=l,k.delete(A),l.current?l.current.mounted=!0:(l.current={reaction:new f.c(ce(o),function(){p()}),cleanAt:1/0},p()),function(){l.current.reaction.dispose(),l.current=null}},[]),function(A){ue=!0,_e=[];try{var R=A();ue=!1;var L=_e.length>0?_e:void 0;return y.d.useLayoutEffect(function(){L&&L.forEach(function(F){return F()})},[L]),R}finally{ue=!1}}(function(){var A,R;if(E.track(function(){try{A=i()}catch(L){R=L}}),R)throw R;return A})}var ee=function(){return ee=Object.assign||function(i){for(var o,u=1,s=arguments.length;u<s;u++)for(var p in o=arguments[u])Object.prototype.hasOwnProperty.call(o,p)&&(i[p]=o[p]);return i},ee.apply(this,arguments)};function $(i,o){var u,s,p,l=ee({forwardRef:!1},o),h=i.displayName||i.name,m=function(E,A){return fe(function(){return i(E,A)},h)};return m.displayName=h,u=l.forwardRef?Object(y.f)(Object(y.e)(m)):Object(y.f)(m),s=i,p=u,Object.keys(s).forEach(function(E){J[E]||Object.defineProperty(p,E,Object.getOwnPropertyDescriptor(s,E))}),u.displayName=h,u}var J={$$typeof:!0,render:!0,compare:!0,type:!0};function re(i){var o=i.children,u=i.render,s=o||u;return typeof s!="function"?null:fe(s)}function z(i,o,u,s,p){var l=o==="children"?"render":"children",h=typeof i[o]=="function",m=typeof i[l]=="function";return h&&m?new Error("MobX Observer: Do not use children and render in the same time in`"+u):h||m?null:new Error("Invalid prop `"+p+"` of type `"+typeof i[o]+"` supplied to `"+u+"`, expected `function`.")}re.propTypes={children:z,render:z},re.displayName="Observer";var Oe;(Oe=y.g)||(Oe=O),Object(f.n)({reactionScheduler:Oe}),Object(v.a)()[b]=!0;var We=0,ke={};function it(i){return ke[i]||(ke[i]=function(o){if(typeof Symbol=="function")return Symbol(o);var u="__$mobx-react "+o+" ("+We+")";return We++,u}(i)),ke[i]}function at(i,o){if($e(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),s=Object.keys(o);if(u.length!==s.length)return!1;for(var p=0;p<u.length;p++)if(!Object.hasOwnProperty.call(o,u[p])||!$e(i[u[p]],o[u[p]]))return!1;return!0}function $e(i,o){return i===o?i!==0||1/i==1/o:i!=i&&o!=o}function ae(i,o,u){Object.hasOwnProperty.call(i,o)?i[o]=u:Object.defineProperty(i,o,{enumerable:!1,configurable:!0,writable:!0,value:u})}var pe=it("patchMixins"),Se=it("patchedDefinition");function Ye(i,o){for(var u=this,s=arguments.length,p=new Array(s>2?s-2:0),l=2;l<s;l++)p[l-2]=arguments[l];o.locks++;try{var h;return i!=null&&(h=i.apply(this,p)),h}finally{o.locks--,o.locks===0&&o.methods.forEach(function(m){m.apply(u,p)})}}function lt(i,o){return function(){for(var u=arguments.length,s=new Array(u),p=0;p<u;p++)s[p]=arguments[p];Ye.call.apply(Ye,[this,i,o].concat(s))}}function Pt(i,o,u){var s=function(m,E){var A=m[pe]=m[pe]||{},R=A[E]=A[E]||{};return R.locks=R.locks||0,R.methods=R.methods||[],R}(i,o);s.methods.indexOf(u)<0&&s.methods.push(u);var p=Object.getOwnPropertyDescriptor(i,o);if(!p||!p[Se]){var l=i[o],h=Rt(i,o,p?p.enumerable:void 0,s,l);Object.defineProperty(i,o,h)}}function Rt(i,o,u,s,p){var l,h=lt(p,s);return(l={})[Se]=!0,l.get=function(){return h},l.set=function(m){if(this===i)h=lt(m,s);else{var E=Rt(this,o,u,s,m);Object.defineProperty(this,o,E)}},l.configurable=!0,l.enumerable=u,l}var Lt=f.a||"$mobx",tr=it("isMobXReactObserver"),Te=it("isUnmounted"),de=it("skipRender"),Ae=it("isForcingUpdate");function st(i){var o=i.prototype;if(i[tr]?kt(o):i[tr]=!0,o.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(i.__proto__!==y.b)if(o.shouldComponentUpdate){if(o.shouldComponentUpdate!==Wt)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else o.shouldComponentUpdate=Wt;or(o,"props"),or(o,"state");var u=o.render;return o.render=function(){return ht.call(this,u)},Pt(o,"componentWillUnmount",function(){var s;(s=this.render[Lt])===null||s===void 0||s.dispose(),this[Te]=!0,!this.render[Lt]&&kt(this)}),i}function kt(i){return i.displayName||i.name||i.constructor&&(i.constructor.displayName||i.constructor.name)||"<component>"}function ht(i){var o=this;ae(this,de,!1),ae(this,Ae,!1);var u=kt(this),s=i.bind(this),p=!1,l=new f.c(u+".render()",function(){if(!p&&(p=!0,o[Te]!==!0)){var m=!0;try{ae(o,Ae,!0),o[de]||y.a.prototype.forceUpdate.call(o),m=!1}finally{ae(o,Ae,!1),m&&l.dispose()}}});function h(){p=!1;var m=void 0,E=void 0;if(l.track(function(){try{E=Object(f.d)(!1,s)}catch(A){m=A}}),m)throw m;return E}return l.reactComponent=this,h[Lt]=l,this.render=h,h.call(this)}function Wt(i,o){return this.state!==o||!at(this.props,i)}function or(i,o){var u=it("reactProp_"+o+"_valueHolder"),s=it("reactProp_"+o+"_atomHolder");function p(){return this[s]||ae(this,s,Object(f.o)("reactive "+o)),this[s]}Object.defineProperty(i,o,{configurable:!0,enumerable:!0,get:function(){var l=!1;return f.f&&f.e&&(l=Object(f.f)(!0)),p.call(this).reportObserved(),f.f&&f.e&&Object(f.e)(l),this[u]},set:function(l){this[Ae]||at(this[u],l)?ae(this,u,l):(ae(this,u,l),ae(this,de,!0),p.call(this).reportChanged(),ae(this,de,!1))}})}var vr=typeof Symbol=="function"&&Symbol.for,rr=vr?Symbol.for("react.forward_ref"):typeof y.e=="function"&&Object(y.e)(function(i){return null}).$$typeof,et=vr?Symbol.for("react.memo"):typeof y.f=="function"&&Object(y.f)(function(i){return null}).$$typeof;function lr(i){if(i.isMobxInjector,et&&i.$$typeof===et)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(rr&&i.$$typeof===rr){var o=i.render;if(typeof o!="function")throw new Error("render property of ForwardRef was not a function");return Object(y.e)(function(){var u=arguments;return Object(y.c)(re,null,function(){return o.apply(void 0,u)})})}return typeof i!="function"||i.prototype&&i.prototype.render||i.isReactClass||Object.prototype.isPrototypeOf.call(y.a,i)?st(i):$(i)}if(!y.a)throw new Error("mobx-react requires React to be available");if(!f.C)throw new Error("mobx-react requires mobx to be available");var Ne=n(0);n(4),n(8),n(2),n(3),n(52),n(6),n(5),n(11),n(37),n(27),n(21),n(20),n(24),n(22),n(25),n(9),n(17),n(23),n(19),n(192),n(156),n(104),n(157),n(158),n(199),n(61);var ir=function(i,o){for(var u=-1,s=i==null?0:i.length,p=Array(s);++u<s;)p[u]=o(i[u],u,i);return p},Br=function(){this.__data__=[],this.size=0},V=function(i,o){return i===o||i!=i&&o!=o},Gr=function(i,o){for(var u=i.length;u--;)if(V(i[u][0],o))return u;return-1},dn=Array.prototype.splice,Mn=function(i){var o=this.__data__,u=Gr(o,i);return!(u<0)&&(u==o.length-1?o.pop():dn.call(o,u,1),--this.size,!0)},Xn=function(i){var o=this.__data__,u=Gr(o,i);return u<0?void 0:o[u][1]},jr=function(i){return Gr(this.__data__,i)>-1},fo=function(i,o){var u=this.__data__,s=Gr(u,i);return s<0?(++this.size,u.push([i,o])):u[s][1]=o,this};function ve(i){var o=-1,u=i==null?0:i.length;for(this.clear();++o<u;){var s=i[o];this.set(s[0],s[1])}}ve.prototype.clear=Br,ve.prototype.delete=Mn,ve.prototype.get=Xn,ve.prototype.has=jr,ve.prototype.set=fo;var Le=ve,xe=function(){this.__data__=new Le,this.size=0},Ke=function(i){var o=this.__data__,u=o.delete(i);return this.size=o.size,u},zt=function(i){return this.__data__.get(i)},Ft=function(i){return this.__data__.has(i)},yr=n(31),rn=yr.a.Symbol,Co=Object.prototype,$o=Co.hasOwnProperty,bo=Co.toString,xo=rn?rn.toStringTag:void 0,fr=function(i){var o=$o.call(i,xo),u=i[xo];try{i[xo]=void 0;var s=!0}catch{}var p=bo.call(i);return s&&(o?i[xo]=u:delete i[xo]),p},wr=Object.prototype.toString,Nr=function(i){return wr.call(i)},$r=rn?rn.toStringTag:void 0,Nn=function(i){return i==null?i===void 0?"[object Undefined]":"[object Null]":$r&&$r in Object(i)?fr(i):Nr(i)},pn=function(i){var o=typeof i;return i!=null&&(o=="object"||o=="function")},xa,ta=function(i){if(!pn(i))return!1;var o=Nn(i);return o=="[object Function]"||o=="[object GeneratorFunction]"||o=="[object AsyncFunction]"||o=="[object Proxy]"},Sa=yr.a["__core-js_shared__"],bu=(xa=/[^.]+$/.exec(Sa&&Sa.keys&&Sa.keys.IE_PROTO||""))?"Symbol(src)_1."+xa:"",zl=function(i){return!!bu&&bu in i},xc=Function.prototype.toString,Ni=function(i){if(i!=null){try{return xc.call(i)}catch{}try{return i+""}catch{}}return""},ts=/^\[object .+?Constructor\]$/,hr=Function.prototype,Lf=Object.prototype,Wn=hr.toString,Sc=Lf.hasOwnProperty,hi=RegExp("^"+Wn.call(Sc).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ei=function(i){return!(!pn(i)||zl(i))&&(ta(i)?hi:ts).test(Ni(i))},Cs=function(i,o){return i==null?void 0:i[o]},zi=function(i,o){var u=Cs(i,o);return Ei(u)?u:void 0},Mi=zi(yr.a,"Map"),$i=zi(Object,"create"),Ac=function(){this.__data__=$i?$i(null):{},this.size=0},Tc=function(i){var o=this.has(i)&&delete this.__data__[i];return this.size-=o?1:0,o},Ff=Object.prototype.hasOwnProperty,rs=function(i){var o=this.__data__;if($i){var u=o[i];return u==="__lodash_hash_undefined__"?void 0:u}return Ff.call(o,i)?o[i]:void 0},Bf=Object.prototype.hasOwnProperty,Pc=function(i){var o=this.__data__;return $i?o[i]!==void 0:Bf.call(o,i)},$l=function(i,o){var u=this.__data__;return this.size+=this.has(i)?0:1,u[i]=$i&&o===void 0?"__lodash_hash_undefined__":o,this};function Ha(i){var o=-1,u=i==null?0:i.length;for(this.clear();++o<u;){var s=i[o];this.set(s[0],s[1])}}Ha.prototype.clear=Ac,Ha.prototype.delete=Tc,Ha.prototype.get=rs,Ha.prototype.has=Pc,Ha.prototype.set=$l;var Gf=Ha,Aa=function(){this.size=0,this.__data__={hash:new Gf,map:new(Mi||Le),string:new Gf}},Rc=function(i){var o=typeof i;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?i!=="__proto__":i===null},Is=function(i,o){var u=i.__data__;return Rc(o)?u[typeof o=="string"?"string":"hash"]:u.map},jc=function(i){var o=Is(this,i).delete(i);return this.size-=o?1:0,o},Nc=function(i){return Is(this,i).get(i)},Hl=function(i){return Is(this,i).has(i)},Uf=function(i,o){var u=Is(this,i),s=u.size;return u.set(i,o),this.size+=u.size==s?0:1,this};function Tn(i){var o=-1,u=i==null?0:i.length;for(this.clear();++o<u;){var s=i[o];this.set(s[0],s[1])}}Tn.prototype.clear=Aa,Tn.prototype.delete=jc,Tn.prototype.get=Nc,Tn.prototype.has=Hl,Tn.prototype.set=Uf;var xn=Tn,zf=function(i,o){var u=this.__data__;if(u instanceof Le){var s=u.__data__;if(!Mi||s.length<199)return s.push([i,o]),this.size=++u.size,this;u=this.__data__=new xn(s)}return u.set(i,o),this.size=u.size,this};function _u(i){var o=this.__data__=new Le(i);this.size=o.size}_u.prototype.clear=xe,_u.prototype.delete=Ke,_u.prototype.get=zt,_u.prototype.has=Ft,_u.prototype.set=zf;var Ci=_u,Ds=function(i){return this.__data__.set(i,"__lodash_hash_undefined__"),this},$f=function(i){return this.__data__.has(i)};function lo(i){var o=-1,u=i==null?0:i.length;for(this.__data__=new xn;++o<u;)this.add(i[o])}lo.prototype.add=lo.prototype.push=Ds,lo.prototype.has=$f;var Xa=lo,Wa=function(i,o){for(var u=-1,s=i==null?0:i.length;++u<s;)if(o(i[u],u,i))return!0;return!1},ks=function(i,o){return i.has(o)},Eu=function(i,o,u,s,p,l){var h=1&u,m=i.length,E=o.length;if(m!=E&&!(h&&E>m))return!1;var A=l.get(i),R=l.get(o);if(A&&R)return A==o&&R==i;var L=-1,F=!0,ne=2&u?new Xa:void 0;for(l.set(i,o),l.set(o,i);++L<m;){var ye=i[L],we=o[L];if(s)var Ue=h?s(we,ye,L,o,i,l):s(ye,we,L,i,o,l);if(Ue!==void 0){if(Ue)continue;F=!1;break}if(ne){if(!Wa(o,function(ze,ot){if(!ks(ne,ot)&&(ye===ze||p(ye,ze,u,s,l)))return ne.push(ot)})){F=!1;break}}else if(ye!==we&&!p(ye,we,u,s,l)){F=!1;break}}return l.delete(i),l.delete(o),F},Ho=yr.a.Uint8Array,Mc=function(i){var o=-1,u=Array(i.size);return i.forEach(function(s,p){u[++o]=[p,s]}),u},Hf=function(i){var o=-1,u=Array(i.size);return i.forEach(function(s){u[++o]=s}),u},Cc=rn?rn.prototype:void 0,ri=Cc?Cc.valueOf:void 0,Io=function(i,o,u,s,p,l,h){switch(u){case"[object DataView]":if(i.byteLength!=o.byteLength||i.byteOffset!=o.byteOffset)return!1;i=i.buffer,o=o.buffer;case"[object ArrayBuffer]":return!(i.byteLength!=o.byteLength||!l(new Ho(i),new Ho(o)));case"[object Boolean]":case"[object Date]":case"[object Number]":return V(+i,+o);case"[object Error]":return i.name==o.name&&i.message==o.message;case"[object RegExp]":case"[object String]":return i==o+"";case"[object Map]":var m=Mc;case"[object Set]":var E=1&s;if(m||(m=Hf),i.size!=o.size&&!E)return!1;var A=h.get(i);if(A)return A==o;s|=2,h.set(i,o);var R=Eu(m(i),m(o),s,p,l,h);return h.delete(i),R;case"[object Symbol]":if(ri)return ri.call(i)==ri.call(o)}return!1},Oi=function(i,o){for(var u=-1,s=o.length,p=i.length;++u<s;)i[p+u]=o[u];return i},Dn=Array.isArray,Xf=function(i,o,u){var s=o(i);return Dn(i)?s:Oi(s,u(i))},ni=function(i,o){for(var u=-1,s=i==null?0:i.length,p=0,l=[];++u<s;){var h=i[u];o(h,u,i)&&(l[p++]=h)}return l},Ic=function(){return[]},Wf=Object.prototype.propertyIsEnumerable,oi=Object.getOwnPropertySymbols,Jo=oi?function(i){return i==null?[]:(i=Object(i),ni(oi(i),function(o){return Wf.call(i,o)}))}:Ic,Dc=function(i,o){for(var u=-1,s=Array(i);++u<i;)s[u]=o(u);return s},_n=function(i){return i!=null&&typeof i=="object"},Do=function(i){return _n(i)&&Nn(i)=="[object Arguments]"},Ls=Object.prototype,Vf=Ls.hasOwnProperty,kc=Ls.propertyIsEnumerable,Fs=Do(function(){return arguments}())?Do:function(i){return _n(i)&&Vf.call(i,"callee")&&!kc.call(i,"callee")},ra=Fs,ii=n(48),Ou=/^(?:0|[1-9]\d*)$/,vi=function(i,o){var u=typeof i;return!!(o=o==null?9007199254740991:o)&&(u=="number"||u!="symbol"&&Ou.test(i))&&i>-1&&i%1==0&&i<o},Ii=function(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=9007199254740991},sn={};sn["[object Float32Array]"]=sn["[object Float64Array]"]=sn["[object Int8Array]"]=sn["[object Int16Array]"]=sn["[object Int32Array]"]=sn["[object Uint8Array]"]=sn["[object Uint8ClampedArray]"]=sn["[object Uint16Array]"]=sn["[object Uint32Array]"]=!0,sn["[object Arguments]"]=sn["[object Array]"]=sn["[object ArrayBuffer]"]=sn["[object Boolean]"]=sn["[object DataView]"]=sn["[object Date]"]=sn["[object Error]"]=sn["[object Function]"]=sn["[object Map]"]=sn["[object Number]"]=sn["[object Object]"]=sn["[object RegExp]"]=sn["[object Set]"]=sn["[object String]"]=sn["[object WeakMap]"]=!1;var ai=function(i){return _n(i)&&Ii(i.length)&&!!sn[Nn(i)]},Hi=function(i){return function(o){return i(o)}},Bo=n(49),wu=Bo.a&&Bo.a.isTypedArray,Va=wu?Hi(wu):ai,Xi=Object.prototype.hasOwnProperty,Un=function(i,o){var u=Dn(i),s=!u&&ra(i),p=!u&&!s&&Object(ii.a)(i),l=!u&&!s&&!p&&Va(i),h=u||s||p||l,m=h?Dc(i.length,String):[],E=m.length;for(var A in i)!o&&!Xi.call(i,A)||h&&(A=="length"||p&&(A=="offset"||A=="parent")||l&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||vi(A,E))||m.push(A);return m},ns=Object.prototype,na=function(i){var o=i&&i.constructor;return i===(typeof o=="function"&&o.prototype||ns)},Di=function(i,o){return function(u){return i(o(u))}},Lc=Di(Object.keys,Object),Xl=Object.prototype.hasOwnProperty,Fc=function(i){if(!na(i))return Lc(i);var o=[];for(var u in Object(i))Xl.call(i,u)&&u!="constructor"&&o.push(u);return o},_o=function(i){return i!=null&&Ii(i.length)&&!ta(i)},Ya=function(i){return _o(i)?Un(i):Fc(i)},oa=function(i){return Xf(i,Ya,Jo)},So=Object.prototype.hasOwnProperty,Bc=function(i,o,u,s,p,l){var h=1&u,m=oa(i),E=m.length;if(E!=oa(o).length&&!h)return!1;for(var A=E;A--;){var R=m[A];if(!(h?R in o:So.call(o,R)))return!1}var L=l.get(i),F=l.get(o);if(L&&F)return L==o&&F==i;var ne=!0;l.set(i,o),l.set(o,i);for(var ye=h;++A<E;){var we=i[R=m[A]],Ue=o[R];if(s)var ze=h?s(Ue,we,R,o,i,l):s(we,Ue,R,i,o,l);if(!(ze===void 0?we===Ue||p(we,Ue,u,s,l):ze)){ne=!1;break}ye||(ye=R=="constructor")}if(ne&&!ye){var ot=i.constructor,Tt=o.constructor;ot==Tt||!("constructor"in i)||!("constructor"in o)||typeof ot=="function"&&ot instanceof ot&&typeof Tt=="function"&&Tt instanceof Tt||(ne=!1)}return l.delete(i),l.delete(o),ne},wi=zi(yr.a,"DataView"),ki=zi(yr.a,"Promise"),Bs=zi(yr.a,"Set"),ui=zi(yr.a,"WeakMap"),yi="[object Map]",ko="[object Promise]",xi="[object Set]",Qo="[object WeakMap]",Ze="[object DataView]",Ot=Ni(wi),At=Ni(Mi),Jt=Ni(ki),Wr=Ni(Bs),cn=Ni(ui),zn=Nn;(wi&&zn(new wi(new ArrayBuffer(1)))!=Ze||Mi&&zn(new Mi)!=yi||ki&&zn(ki.resolve())!=ko||Bs&&zn(new Bs)!=xi||ui&&zn(new ui)!=Qo)&&(zn=function(i){var o=Nn(i),u=o=="[object Object]"?i.constructor:void 0,s=u?Ni(u):"";if(s)switch(s){case Ot:return Ze;case At:return yi;case Jt:return ko;case Wr:return xi;case cn:return Qo}return o});var w=zn,x="[object Arguments]",M="[object Array]",X="[object Object]",ie=Object.prototype.hasOwnProperty,Ce=function(i,o,u,s,p,l){var h=Dn(i),m=Dn(o),E=h?M:w(i),A=m?M:w(o),R=(E=E==x?X:E)==X,L=(A=A==x?X:A)==X,F=E==A;if(F&&Object(ii.a)(i)){if(!Object(ii.a)(o))return!1;h=!0,R=!1}if(F&&!R)return l||(l=new Ci),h||Va(i)?Eu(i,o,u,s,p,l):Io(i,o,E,u,s,p,l);if(!(1&u)){var ne=R&&ie.call(i,"__wrapped__"),ye=L&&ie.call(o,"__wrapped__");if(ne||ye){var we=ne?i.value():i,Ue=ye?o.value():o;return l||(l=new Ci),p(we,Ue,u,s,l)}}return!!F&&(l||(l=new Ci),Bc(i,o,u,s,p,l))},nt=function i(o,u,s,p,l){return o===u||(o==null||u==null||!_n(o)&&!_n(u)?o!=o&&u!=u:Ce(o,u,s,p,i,l))},It=function(i,o,u,s){var p=u.length,l=p,h=!s;if(i==null)return!l;for(i=Object(i);p--;){var m=u[p];if(h&&m[2]?m[1]!==i[m[0]]:!(m[0]in i))return!1}for(;++p<l;){var E=(m=u[p])[0],A=i[E],R=m[1];if(h&&m[2]){if(A===void 0&&!(E in i))return!1}else{var L=new Ci;if(s)var F=s(A,R,E,i,o,L);if(!(F===void 0?nt(R,A,3,s,L):F))return!1}}return!0},ar=function(i){return i==i&&!pn(i)},Qr=function(i){for(var o=Ya(i),u=o.length;u--;){var s=o[u],p=i[s];o[u]=[s,p,ar(p)]}return o},Kt=function(i,o){return function(u){return u!=null&&u[i]===o&&(o!==void 0||i in Object(u))}},Sn=function(i){var o=Qr(i);return o.length==1&&o[0][2]?Kt(o[0][0],o[0][1]):function(u){return u===i||It(u,i,o)}},Zr=function(i){return typeof i=="symbol"||_n(i)&&Nn(i)=="[object Symbol]"},gn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Si=/^\w*$/,qn=function(i,o){if(Dn(i))return!1;var u=typeof i;return!(u!="number"&&u!="symbol"&&u!="boolean"&&i!=null&&!Zr(i))||Si.test(i)||!gn.test(i)||o!=null&&i in Object(o)};function gi(i,o){if(typeof i!="function"||o!=null&&typeof o!="function")throw new TypeError("Expected a function");var u=function(){var s=arguments,p=o?o.apply(this,s):s[0],l=u.cache;if(l.has(p))return l.get(p);var h=i.apply(this,s);return u.cache=l.set(p,h)||l,h};return u.cache=new(gi.Cache||xn),u}gi.Cache=xn;var Ta=gi,Pa=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ka=/\\(\\)?/g,xu=function(i){var o=Ta(i,function(s){return u.size===500&&u.clear(),s}),u=o.cache;return o}(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(Pa,function(u,s,p,l){o.push(p?l.replace(Ka,"$1"):s||u)}),o}),ia=rn?rn.prototype:void 0,Su=ia?ia.toString:void 0,Ao=function i(o){if(typeof o=="string")return o;if(Dn(o))return ir(o,i)+"";if(Zr(o))return Su?Su.call(o):"";var u=o+"";return u=="0"&&1/o==-1/0?"-0":u},qa=function(i){return i==null?"":Ao(i)},Ra=function(i,o){return Dn(i)?i:qn(i,o)?[i]:xu(qa(i))},aa=function(i){if(typeof i=="string"||Zr(i))return i;var o=i+"";return o=="0"&&1/i==-1/0?"-0":o},ua=function(i,o){for(var u=0,s=(o=Ra(o,i)).length;i!=null&&u<s;)i=i[aa(o[u++])];return u&&u==s?i:void 0},os=function(i,o,u){var s=i==null?void 0:ua(i,o);return s===void 0?u:s},Jd=function(i,o){return i!=null&&o in Object(i)},Qd=function(i,o,u){for(var s=-1,p=(o=Ra(o,i)).length,l=!1;++s<p;){var h=aa(o[s]);if(!(l=i!=null&&u(i,h)))break;i=i[h]}return l||++s!=p?l:!!(p=i==null?0:i.length)&&Ii(p)&&vi(h,p)&&(Dn(i)||ra(i))},Wl=function(i,o){return i!=null&&Qd(i,o,Jd)},Gc=function(i,o){return qn(i)&&ar(o)?Kt(aa(i),o):function(u){var s=os(u,i);return s===void 0&&s===o?Wl(u,i):nt(o,s,3)}},is=function(i){return i},Yf=function(i){return function(o){return o==null?void 0:o[i]}},ep=function(i){return function(o){return ua(o,i)}},as=function(i){return qn(i)?Yf(aa(i)):ep(i)},Uc=function(i){return typeof i=="function"?i:i==null?is:typeof i=="object"?Dn(i)?Gc(i[0],i[1]):Sn(i):as(i)},Kf=function(i){return function(o,u,s){for(var p=-1,l=Object(o),h=s(o),m=h.length;m--;){var E=h[i?m:++p];if(u(l[E],E,l)===!1)break}return o}}(),po=function(i,o){return function(u,s){if(u==null)return u;if(!_o(u))return i(u,s);for(var p=u.length,l=o?p:-1,h=Object(u);(o?l--:++l<p)&&s(h[l],l,h)!==!1;);return u}}(function(i,o){return i&&Kf(i,o,Ya)}),si=function(i,o){var u=-1,s=_o(i)?Array(i.length):[];return po(i,function(p,l,h){s[++u]=o(p,l,h)}),s},qf=function(i,o){return(Dn(i)?ir:si)(i,Uc(o))};Object(f.n)({isolateGlobalState:!0});var Zf=function(){try{var i=zi(Object,"defineProperty");return i({},"",{}),i}catch{}}(),Gs=function(i,o,u){o=="__proto__"&&Zf?Zf(i,o,{configurable:!0,enumerable:!0,value:u,writable:!0}):i[o]=u},Th=Object.prototype.hasOwnProperty,Us=function(i,o,u){var s=i[o];Th.call(i,o)&&V(s,u)&&(u!==void 0||o in i)||Gs(i,o,u)},ja=function(i,o,u,s){var p=!u;u||(u={});for(var l=-1,h=o.length;++l<h;){var m=o[l],E=s?s(u[m],i[m],m,u,i):void 0;E===void 0&&(E=i[m]),p?Gs(u,m,E):Us(u,m,E)}return u},zc=function(i,o,u){switch(u.length){case 0:return i.call(o);case 1:return i.call(o,u[0]);case 2:return i.call(o,u[0],u[1]);case 3:return i.call(o,u[0],u[1],u[2])}return i.apply(o,u)},us=Math.max,Au=function(i,o,u){return o=us(o===void 0?i.length-1:o,0),function(){for(var s=arguments,p=-1,l=us(s.length-o,0),h=Array(l);++p<l;)h[p]=s[o+p];p=-1;for(var m=Array(o+1);++p<o;)m[p]=s[p];return m[o]=u(h),zc(i,this,m)}},zs=function(i){return function(){return i}},$c=Zf?function(i,o){return Zf(i,"toString",{configurable:!0,enumerable:!1,value:zs(o),writable:!0})}:is,Tu=Date.now,Ph=function(i){var o=0,u=0;return function(){var s=Tu(),p=16-(s-u);if(u=s,p>0){if(++o>=800)return arguments[0]}else o=0;return i.apply(void 0,arguments)}},Hc=Ph($c),Rh=function(i,o){return Hc(Au(i,o,is),i+"")},jh=function(i,o,u){if(!pn(u))return!1;var s=typeof o;return!!(s=="number"?_o(u)&&vi(o,u.length):s=="string"&&o in u)&&V(u[o],i)},tp=function(i){return Rh(function(o,u){var s=-1,p=u.length,l=p>1?u[p-1]:void 0,h=p>2?u[2]:void 0;for(l=i.length>3&&typeof l=="function"?(p--,l):void 0,h&&jh(u[0],u[1],h)&&(l=p<3?void 0:l,p=1),o=Object(o);++s<p;){var m=u[s];m&&i(o,m,s,l)}return o})},Jf=Object.prototype.hasOwnProperty,ei=tp(function(i,o){if(na(o)||_o(o))ja(o,Ya(o),i);else for(var u in o)Jf.call(o,u)&&Us(i,u,o[u])}),rp=function(i,o,u,s){if(!pn(i))return i;for(var p=-1,l=(o=Ra(o,i)).length,h=l-1,m=i;m!=null&&++p<l;){var E=aa(o[p]),A=u;if(E==="__proto__"||E==="constructor"||E==="prototype")return i;if(p!=h){var R=m[E];(A=s?s(R,E,m):void 0)===void 0&&(A=pn(R)?R:vi(o[p+1])?[]:{})}Us(m,E,A),m=m[E]}return i},W=function(i,o,u){for(var s=-1,p=o.length,l={};++s<p;){var h=o[s],m=ua(i,h);u(m,h)&&rp(l,Ra(h,i),m)}return l},ss=function(i,o){return W(i,o,function(u,s){return Wl(i,s)})},Za=rn?rn.isConcatSpreadable:void 0,Wi=function(i){return Dn(i)||ra(i)||!!(Za&&i&&i[Za])},fn=function i(o,u,s,p,l){var h=-1,m=o.length;for(s||(s=Wi),l||(l=[]);++h<m;){var E=o[h];u>0&&s(E)?u>1?i(E,u-1,s,p,l):Oi(l,E):p||(l[l.length]=E)}return l},Xo=function(i){return i!=null&&i.length?fn(i,1):[]},En,sa,Ja,Li,Qf,el,Vl,np,Qa,ho,$s,Yl,eu,ca,Xc,Pu,Fi,Kl,ql,fa=function(i){return Hc(Au(i,void 0,Xo),i+"")}(function(i,o){return i==null?{}:ss(i,o)});function Vn(i,o,u,s){u&&Object.defineProperty(i,o,{enumerable:u.enumerable,configurable:u.configurable,writable:u.writable,value:u.initializer?u.initializer.call(s):void 0})}function op(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function Zl(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}function vo(i,o,u,s,p){var l={};return Object.keys(s).forEach(function(h){l[h]=s[h]}),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=u.slice().reverse().reduce(function(h,m){return m(i,o,h)||h},l),p&&l.initializer!==void 0&&(l.value=l.initializer?l.initializer.call(p):void 0,l.initializer=void 0),l.initializer===void 0&&(Object.defineProperty(i,o,l),l=null),l}var Pn,To,on,Fn,gr,Bn,Wc={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,allowRotation:!1,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},Na=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","allowRotation","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","autoExpand"],tl=(sa=vo((En=function(){function i(s){(function(p,l){if(!(p instanceof l))throw new TypeError("Cannot call a class as a function")})(this,i),Vn(this,"isSilentMode",sa,this),Vn(this,"stopZoomGraph",Ja,this),Vn(this,"stopScrollGraph",Li,this),Vn(this,"stopMoveGraph",Qf,this),Vn(this,"adjustEdge",el,this),Vn(this,"adjustEdgeMiddle",Vl,this),Vn(this,"adjustEdgeStartAndEnd",np,this),Vn(this,"adjustNodePosition",Qa,this),Vn(this,"hideAnchors",ho,this),Vn(this,"allowRotation",$s,this),Vn(this,"hoverOutline",Yl,this),Vn(this,"nodeSelectedOutline",eu,this),Vn(this,"edgeSelectedOutline",ca,this),Vn(this,"nodeTextEdit",Xc,this),Vn(this,"edgeTextEdit",Pu,this),Vn(this,"nodeTextDraggable",Fi,this),Vn(this,"edgeTextDraggable",Kl,this),Vn(this,"autoExpand",ql,this),Zl(this,"multipleSelectKey",""),Zl(this,"defaultConfig",{}),ei(this,this.getConfigDetail(s))}var o,u;return o=i,(u=[{key:"updateEditConfig",value:function(s){var p=this.getConfigDetail(s);ei(this,p)}},{key:"getConfigDetail",value:function(s){var p=s.isSilentMode,l=s.textEdit,h={};if(p===!1&&ei(h,this.defaultConfig),p===!0&&p!==this.isSilentMode){var m=fa(Wc,Na);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,allowRotation:this.allowRotation,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,autoExpand:this.autoExpand},ei(h,m)}l===!1&&ei(h,{nodeTextEdit:!1,edgeTextEdit:!1});var E=fa(s,Na);return ei(h,E)}},{key:"getConfig",value:function(){return fa(this,Na)}}])&&op(o.prototype,u),i}()).prototype,"isSilentMode",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ja=vo(En.prototype,"stopZoomGraph",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Li=vo(En.prototype,"stopScrollGraph",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Qf=vo(En.prototype,"stopMoveGraph",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),el=vo(En.prototype,"adjustEdge",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Vl=vo(En.prototype,"adjustEdgeMiddle",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),np=vo(En.prototype,"adjustEdgeStartAndEnd",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Qa=vo(En.prototype,"adjustNodePosition",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ho=vo(En.prototype,"hideAnchors",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$s=vo(En.prototype,"allowRotation",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Yl=vo(En.prototype,"hoverOutline",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),eu=vo(En.prototype,"nodeSelectedOutline",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ca=vo(En.prototype,"edgeSelectedOutline",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Xc=vo(En.prototype,"nodeTextEdit",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Pu=vo(En.prototype,"edgeTextEdit",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Fi=vo(En.prototype,"nodeTextDraggable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Kl=vo(En.prototype,"edgeTextDraggable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ql=vo(En.prototype,"autoExpand",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),vo(En.prototype,"updateEditConfig",[f.k],Object.getOwnPropertyDescriptor(En.prototype,"updateEditConfig"),En.prototype),En);n(65),n(66),function(i){i[i.DEFAULT=1]="DEFAULT",i[i.TEXT_EDIT=2]="TEXT_EDIT",i[i.SHOW_MENU=3]="SHOW_MENU",i[i.ALLOW_CONNECT=4]="ALLOW_CONNECT",i[i.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(Pn||(Pn={})),function(i){i.KEY="logic-flow",i.NODE_NAME="lf-node",i.EDGE_NAME="lf-edge"}(To||(To={})),function(i){i.NODE="node",i.CIRCLE_NODE="circle-node",i.POLYGON_NODE="polygon-node",i.RECT_NODE="rect-node",i.TEXT_NODE="text-node",i.ELLIPSE_NODE="ellipse-node",i.DIAMOND_NODE="diamond-node",i.HTML_NODE="html-node",i.EDGE="edge",i.LINE_EDGE="line-edge",i.POLYLINE_EDGE="polyline-edge",i.BEZIER_EDGE="bezier-edge",i.GRAPH="graph"}(on||(on={})),function(i){i.NODE="node",i.EDGE="edge",i.GRAPH="graph"}(Fn||(Fn={})),function(i){i.ELEMENT_CLICK="element:click",i.NODE_CLICK="node:click",i.NODE_DBCLICK="node:dbclick",i.NODE_DELETE="node:delete",i.NODE_ADD="node:add",i.NODE_GROUP_COPY="node:group-copy-add",i.NODE_DND_ADD="node:dnd-add",i.NODE_DND_DRAG="node:dnd-drag",i.NODE_MOUSEDOWN="node:mousedown",i.NODE_DRAGSTART="node:dragstart",i.NODE_DRAG="node:drag",i.NODE_DROP="node:drop",i.NODE_MOUSEUP="node:mouseup",i.NODE_MOUSEMOVE="node:mousemove",i.NODE_MOUSEENTER="node:mouseenter",i.NODE_MOUSELEAVE="node:mouseleave",i.NODE_CONTEXTMENU="node:contextmenu",i.NODE_ROTATE="node:rotate",i.EDGE_DELETE="edge:delete",i.EDGE_ADD="edge:add",i.EDGE_CLICK="edge:click",i.EDGE_DBCLICK="edge:dbclick",i.EDGE_MOUSEENTER="edge:mouseenter",i.EDGE_MOUSELEAVE="edge:mouseleave",i.EDGE_CONTEXTMENU="edge:contextmenu",i.EDGE_ADJUST="edge:adjust",i.EDGE_EXCHANGE_NODE="edge:exchange-node",i.ANCHOR_DRAGSTART="anchor:dragstart",i.ANCHOR_DRAG="anchor:drag",i.ANCHOR_DROP="anchor:drop",i.ANCHOR_DRAGEND="anchor:dragend",i.ADJUST_POINT_MOUSEDOWN="adjustPoint:mousedown",i.ADJUST_POINT_MOUSEUP="adjustPoint:mouseup",i.ADJUST_POINT_MOUSEMOVE="adjustPoint:mousemove",i.ADJUST_POINT_DRAGSTART="adjustPoint:dragstart",i.ADJUST_POINT_DRAG="adjustPoint:drag",i.ADJUST_POINT_DROP="adjustPoint:drop",i.ADJUST_POINT_DRAGEND="adjustPoint:dragend",i.BLANK_MOUSEDOWN="blank:mousedown",i.BLANK_DRAGSTART="blank:dragstart",i.BLANK_DRAG="blank:drag",i.BLANK_DROP="blank:drop",i.BLANK_MOUSEMOVE="blank:mousemove",i.BLANK_MOUSEUP="blank:mouseup",i.BLANK_CLICK="blank:click",i.BLANK_CONTEXTMENU="blank:contextmenu",i.SELECTION_MOUSEDOWN="selection:mousedown",i.SELECTION_DRAGSTART="selection:dragstart",i.SELECTION_DRAG="selection:drag",i.SELECTION_DROP="selection:drop",i.SELECTION_MOUSEMOVE="selection:mousemove",i.SELECTION_MOUSEUP="selection:mouseup",i.SELECTION_CONTEXTMENU="selection:contextmenu",i.CONNECTION_NOT_ALLOWED="connection:not-allowed",i.HISTORY_CHANGE="history:change",i.TEXT_UPDATE="text:update",i.GRAPH_TRANSFORM="graph:transform",i.GRAPH_RENDERED="graph:rendered"}(gr||(gr={})),function(i){i.HORIZONTAL="horizontal",i.VERTICAL="vertical"}(Bn||(Bn={}));var Zn,no,Jl,Ql,Vc,ci,rl,Hs,Vi;function Ru(i,o){return function(u){if(Array.isArray(u))return u}(i)||function(u,s){var p=u==null?null:typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(p!=null){var l,h,m=[],E=!0,A=!1;try{for(p=p.call(u);!(E=(l=p.next()).done)&&(m.push(l.value),!s||m.length!==s);E=!0);}catch(R){A=!0,h=R}finally{try{E||p.return==null||p.return()}finally{if(A)throw h}}return m}}(i,o)||function(u,s){if(!!u){if(typeof u=="string")return tu(u,s);var p=Object.prototype.toString.call(u).slice(8,-1);if(p==="Object"&&u.constructor&&(p=u.constructor.name),p==="Map"||p==="Set")return Array.from(u);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return tu(u,s)}}(i,o)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function tu(i,o){(o==null||o>i.length)&&(o=i.length);for(var u=0,s=new Array(o);u<o;u++)s[u]=i[u];return s}function Yi(i,o,u,s){u&&Object.defineProperty(i,o,{enumerable:u.enumerable,configurable:u.configurable,writable:u.writable,value:u.initializer?u.initializer.call(s):void 0})}function ip(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function Ma(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}function Bi(i,o,u,s,p){var l={};return Object.keys(s).forEach(function(h){l[h]=s[h]}),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=u.slice().reverse().reduce(function(h,m){return m(i,o,h)||h},l),p&&l.initializer!==void 0&&(l.value=l.initializer?l.initializer.call(p):void 0,l.initializer=void 0),l.initializer===void 0&&(Object.defineProperty(i,o,l),l=null),l}(function(i){i[i.DEFAULT=0]="DEFAULT",i[i.INCREASE=1]="INCREASE"})(Zn||(Zn={}));var ed={false:[-1/0,-1/0,1/0,1/0],true:[0,0,0,0],vertical:[-1/0,0,1/0,0],horizontal:[0,-1/0,0,1/0]},td=(no=function(){function i(s,p){(function(m,E){if(!(m instanceof E))throw new TypeError("Cannot call a class as a function")})(this,i),Ma(this,"MINI_SCALE_SIZE",.2),Ma(this,"MAX_SCALE_SIZE",16),Yi(this,"SCALE_X",Jl,this),Yi(this,"SKEW_Y",Ql,this),Yi(this,"SKEW_X",Vc,this),Yi(this,"SCALE_Y",ci,this),Yi(this,"TRANSLATE_X",rl,this),Yi(this,"TRANSLATE_Y",Hs,this),Yi(this,"ZOOM_SIZE",Vi,this),Ma(this,"eventCenter",void 0),Ma(this,"translateLimitMinX",void 0),Ma(this,"translateLimitMinY",void 0),Ma(this,"translateLimitMaxX",void 0),Ma(this,"translateLimitMaxY",void 0),this.eventCenter=s;var l=p.stopMoveGraph,h=l!==void 0&&l;this.updateTranslateLimits(h)}var o,u;return o=i,u=[{key:"setZoomMiniSize",value:function(s){this.MINI_SCALE_SIZE=s}},{key:"setZoomMaxSize",value:function(s){this.MAX_SCALE_SIZE=s}},{key:"HtmlPointToCanvasPoint",value:function(s){var p=Ru(s,2),l=p[0],h=p[1];return[(l-this.TRANSLATE_X)/this.SCALE_X,(h-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(s){var p=Ru(s,2),l=p[0],h=p[1];return[l*this.SCALE_X+this.TRANSLATE_X,h*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(s,p,l){var h=Ru(s,2),m=h[0],E=h[1];return[m+p/this.SCALE_X,E+l/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(s,p){return[s/this.SCALE_X,p/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var s=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(s,")")}}},{key:"zoom",value:function(){var s=arguments.length>0&&arguments[0]!==void 0&&arguments[0],p=arguments.length>1?arguments[1]:void 0,l=this.SCALE_X,h=this.SCALE_Y;return s===!0?(l+=this.ZOOM_SIZE,h+=this.ZOOM_SIZE):s===!1?(l-=this.ZOOM_SIZE,h-=this.ZOOM_SIZE):typeof s=="number"&&(l=s,h=s),l<this.MINI_SCALE_SIZE||l>this.MAX_SCALE_SIZE||(p&&(this.TRANSLATE_X-=(l-this.SCALE_X)*p[0],this.TRANSLATE_Y-=(h-this.SCALE_Y)*p[1]),this.SCALE_X=l,this.SCALE_Y=h,this.emitGraphTransform("zoom")),"".concat(100*this.SCALE_X,"%")}},{key:"emitGraphTransform",value:function(s){this.eventCenter.emit(gr.GRAPH_TRANSFORM,{type:s,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(s,p){this.TRANSLATE_X+s<=this.translateLimitMaxX&&this.TRANSLATE_X+s>=this.translateLimitMinX&&(this.TRANSLATE_X+=s),this.TRANSLATE_Y+p<=this.translateLimitMaxY&&this.TRANSLATE_Y+p>=this.translateLimitMinY&&(this.TRANSLATE_Y+=p),this.emitGraphTransform("translate")}},{key:"focusOn",value:function(s,p,l,h){var m=Ru(this.CanvasPointToHtmlPoint([s,p]),2),E=l/2-m[0],A=h/2-m[1];this.TRANSLATE_X+=E,this.TRANSLATE_Y+=A,this.emitGraphTransform("focusOn")}},{key:"updateTranslateLimits",value:function(s){var p=Ru(Array.isArray(s)&&s.length===4?s:ed[s.toString()],4);this.translateLimitMinX=p[0],this.translateLimitMinY=p[1],this.translateLimitMaxX=p[2],this.translateLimitMaxY=p[3]}}],u&&ip(o.prototype,u),i}(),Jl=Bi(no.prototype,"SCALE_X",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Ql=Bi(no.prototype,"SKEW_Y",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Vc=Bi(no.prototype,"SKEW_X",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ci=Bi(no.prototype,"SCALE_Y",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),rl=Bi(no.prototype,"TRANSLATE_X",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Hs=Bi(no.prototype,"TRANSLATE_Y",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Vi=Bi(no.prototype,"ZOOM_SIZE",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),Bi(no.prototype,"zoom",[f.k],Object.getOwnPropertyDescriptor(no.prototype,"zoom"),no.prototype),Bi(no.prototype,"resetZoom",[f.k],Object.getOwnPropertyDescriptor(no.prototype,"resetZoom"),no.prototype),Bi(no.prototype,"translate",[f.k],Object.getOwnPropertyDescriptor(no.prototype,"translate"),no.prototype),Bi(no.prototype,"focusOn",[f.k],Object.getOwnPropertyDescriptor(no.prototype,"focusOn"),no.prototype),no),nl=function(i,o){for(var u=-1,s=i==null?0:i.length;++u<s&&o(i[u],u,i)!==!1;);return i},ap=function(i,o){return i&&ja(o,Ya(o),i)},up=function(i){var o=[];if(i!=null)for(var u in Object(i))o.push(u);return o},sp=Object.prototype.hasOwnProperty,rd=function(i){if(!pn(i))return up(i);var o=na(i),u=[];for(var s in i)(s!="constructor"||!o&&sp.call(i,s))&&u.push(s);return u},Xs=function(i){return _o(i)?Un(i,!0):rd(i)},nd=function(i,o){return i&&ja(o,Xs(o),i)},Yc=n(107),an=function(i,o){var u=-1,s=i.length;for(o||(o=Array(s));++u<s;)o[u]=i[u];return o},Nh=function(i,o){return ja(i,Jo(i),o)},od=Di(Object.getPrototypeOf,Object),ju=Object.getOwnPropertySymbols?function(i){for(var o=[];i;)Oi(o,Jo(i)),i=od(i);return o}:Ic,Kc=function(i,o){return ja(i,ju(i),o)},Mh=function(i){return Xf(i,Xs,ju)},Ch=Object.prototype.hasOwnProperty,Ki=function(i){var o=i.length,u=new i.constructor(o);return o&&typeof i[0]=="string"&&Ch.call(i,"index")&&(u.index=i.index,u.input=i.input),u},id=function(i){var o=new i.constructor(i.byteLength);return new Ho(o).set(new Ho(i)),o},ol=function(i,o){var u=o?id(i.buffer):i.buffer;return new i.constructor(u,i.byteOffset,i.byteLength)},il=/\w*$/,cp=function(i){var o=new i.constructor(i.source,il.exec(i));return o.lastIndex=i.lastIndex,o},ad=rn?rn.prototype:void 0,Ai=ad?ad.valueOf:void 0,Nu=function(i){return Ai?Object(Ai.call(i)):{}},al=function(i,o){var u=o?id(i.buffer):i.buffer;return new i.constructor(u,i.byteOffset,i.length)},cs=function(i,o,u){var s=i.constructor;switch(o){case"[object ArrayBuffer]":return id(i);case"[object Boolean]":case"[object Date]":return new s(+i);case"[object DataView]":return ol(i,u);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return al(i,u);case"[object Map]":case"[object Set]":return new s;case"[object Number]":case"[object String]":return new s(i);case"[object RegExp]":return cp(i);case"[object Symbol]":return Nu(i)}},qc=Object.create,fp=function(){function i(){}return function(o){if(!pn(o))return{};if(qc)return qc(o);i.prototype=o;var u=new i;return i.prototype=void 0,u}}(),Zc=function(i){return typeof i.constructor!="function"||na(i)?{}:fp(od(i))},ul=function(i){return _n(i)&&w(i)=="[object Map]"},sl=Bo.a&&Bo.a.isMap,cl=sl?Hi(sl):ul,Mu=function(i){return _n(i)&&w(i)=="[object Set]"},lp=Bo.a&&Bo.a.isSet,Cu=lp?Hi(lp):Mu,ud="[object Arguments]",sd="[object Function]",fs="[object Object]",$n={};$n[ud]=$n["[object Array]"]=$n["[object ArrayBuffer]"]=$n["[object DataView]"]=$n["[object Boolean]"]=$n["[object Date]"]=$n["[object Float32Array]"]=$n["[object Float64Array]"]=$n["[object Int8Array]"]=$n["[object Int16Array]"]=$n["[object Int32Array]"]=$n["[object Map]"]=$n["[object Number]"]=$n["[object Object]"]=$n["[object RegExp]"]=$n["[object Set]"]=$n["[object String]"]=$n["[object Symbol]"]=$n["[object Uint8Array]"]=$n["[object Uint8ClampedArray]"]=$n["[object Uint16Array]"]=$n["[object Uint32Array]"]=!0,$n["[object Error]"]=$n[sd]=$n["[object WeakMap]"]=!1;var Jc=function i(o,u,s,p,l,h){var m,E=1&u,A=2&u,R=4&u;if(s&&(m=l?s(o,p,l,h):s(o)),m!==void 0)return m;if(!pn(o))return o;var L=Dn(o);if(L){if(m=Ki(o),!E)return an(o,m)}else{var F=w(o),ne=F==sd||F=="[object GeneratorFunction]";if(Object(ii.a)(o))return Object(Yc.a)(o,E);if(F==fs||F==ud||ne&&!l){if(m=A||ne?{}:Zc(o),!E)return A?Kc(o,nd(m,o)):Nh(o,ap(m,o))}else{if(!$n[F])return l?o:{};m=cs(o,F,E)}}h||(h=new Ci);var ye=h.get(o);if(ye)return ye;h.set(o,m),Cu(o)?o.forEach(function(Ue){m.add(i(Ue,u,s,Ue,o,h))}):cl(o)&&o.forEach(function(Ue,ze){m.set(ze,i(Ue,u,s,ze,o,h))});var we=L?void 0:(R?A?Mh:oa:A?Xs:Ya)(o);return nl(we||o,function(Ue,ze){we&&(Ue=o[ze=Ue]),Us(m,ze,i(Ue,u,s,ze,o,h))}),m},Jn=function(i){return Jc(i,5)},ru=function(i,o,u){(u!==void 0&&!V(i[o],u)||u===void 0&&!(o in i))&&Gs(i,o,u)},Go=function(i){return _n(i)&&_o(i)},Ca=Function.prototype,nu=Object.prototype,Iu=Ca.toString,ls=nu.hasOwnProperty,fl=Iu.call(Object),ll=function(i){if(!_n(i)||Nn(i)!="[object Object]")return!1;var o=od(i);if(o===null)return!0;var u=ls.call(o,"constructor")&&o.constructor;return typeof u=="function"&&u instanceof u&&Iu.call(u)==fl},Ia=function(i,o){if((o!=="constructor"||typeof i[o]!="function")&&o!="__proto__")return i[o]},ds=function(i){return ja(i,Xs(i))},dl=function(i,o,u,s,p,l,h){var m=Ia(i,u),E=Ia(o,u),A=h.get(E);if(A)ru(i,u,A);else{var R=l?l(m,E,u+"",i,o,h):void 0,L=R===void 0;if(L){var F=Dn(E),ne=!F&&Object(ii.a)(E),ye=!F&&!ne&&Va(E);R=E,F||ne||ye?Dn(m)?R=m:Go(m)?R=an(m):ne?(L=!1,R=Object(Yc.a)(E,!0)):ye?(L=!1,R=al(E,!0)):R=[]:ll(E)||ra(E)?(R=m,ra(m)?R=ds(m):pn(m)&&!ta(m)||(R=Zc(E))):L=!1}L&&(h.set(E,R),p(R,E,s,l,h),h.delete(E)),ru(i,u,R)}},Qc=function i(o,u,s,p,l){o!==u&&Kf(u,function(h,m){if(l||(l=new Ci),pn(h))dl(o,u,m,s,i,p,l);else{var E=p?p(Ia(o,m),h,m+"",o,u,l):void 0;E===void 0&&(E=h),ru(o,m,E)}},Xs)},Du=tp(function(i,o,u){Qc(i,o,u)}),cd={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"lf_animate_dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"},rotateControl:{stroke:"#000",fill:"#fff",strokeWidth:1.5}},Ws=function(i){var o=Jn(cd);return i&&(o=Du(o,i)),o};n(82),n(166);function pl(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}var ef=function(){function i(){var s,p,l;(function(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")})(this,i),l={},(p="_events")in(s=this)?Object.defineProperty(s,p,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[p]=l}var o,u;return o=i,(u=[{key:"on",value:function(s,p,l){var h=this;return s==null||s.split(",").forEach(function(m){m=m.trim(),h._events[m]||(h._events[m]=[]),h._events[m].push({callback:p,once:!!l})}),this}},{key:"once",value:function(s,p){var l=this;s==null||s.split(",").forEach(function(h){return h=h.trim(),l.on(h,p,!0)})}},{key:"emit",value:function(s,p){var l=this;s==null||s.split(",").forEach(function(h){var m=l._events[h]||[],E=l._events["*"]||[],A=function(R){for(var L=R.length,F=0;F<L;F++)if(R[F]){var ne=R[F],ye=ne.callback;ne.once&&(R.splice(F,1),R.length===0&&delete l._events[h],L--,F--),ye.apply(l,[p])}};A(m),A(E)})}},{key:"off",value:function(s,p){var l=this;return s||(this._events={}),s.split(",").forEach(function(h){if(p){for(var m=l._events[h]||[],E=m.length,A=0;A<E;A++)m[A].callback===p&&(m.splice(A,1),E--,A--);m.length===0&&delete l._events[h]}else delete l._events[h]}),this}},{key:"getEvents",value:function(){return this._events}}])&&pl(o.prototype,u),i}();function Da(i,o){return o*Math.round(i/o)||i}function Vs(i,o){return i%o}function tf(i,o){return function(u){if(Array.isArray(u))return u}(i)||function(u,s){var p=u==null?null:typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(p!=null){var l,h,m=[],E=!0,A=!1;try{for(p=p.call(u);!(E=(l=p.next()).done)&&(m.push(l.value),!s||m.length!==s);E=!0);}catch(R){A=!0,h=R}finally{try{E||p.return==null||p.return()}finally{if(A)throw h}}return m}}(i,o)||function(u,s){if(!!u){if(typeof u=="string")return rf(u,s);var p=Object.prototype.toString.call(u).slice(8,-1);if(p==="Object"&&u.constructor&&(p=u.constructor.name),p==="Map"||p==="Set")return Array.from(u);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return rf(u,s)}}(i,o)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function rf(i,o){(o==null||o>i.length)&&(o=i.length);for(var u=0,s=new Array(o);u<o;u++)s[u]=i[u];return s}var hl=function(i,o,u){var s=tf(i,2),p=s[0],l=s[1],h=tf(o,2),m=h[0],E=h[1],A=tf(u,2),R=A[0],L=A[1];return p>m&&p<R&&l>E&&l<L},vl=function(i,o){var u=!1;switch(o.multipleSelectKey){case"meta":u=i.metaKey;break;case"alt":u=i.altKey;break;case"shift":u=i.shiftKey;break;case"ctrl":u=i.ctrlKey;break;default:u=!1}return u};n(167),n(126),n(83),n(29),n(12),n(13),n(14),n(47);var la=function(i){return function(o,u,s){var p=Object(o);if(!_o(o)){var l=Uc(u);o=Ya(o),u=function(m){return l(p[m],m,p)}}var h=i(o,u,s);return h>-1?p[l?o[h]:h]:void 0}},fd=function(i,o,u,s){for(var p=i.length,l=u+(s?1:-1);s?l--:++l<p;)if(o(i[l],l,i))return l;return-1},ld=/\s/,dd=function(i){for(var o=i.length;o--&&ld.test(i.charAt(o)););return o},yl=/^\s+/,ka=function(i){return i&&i.slice(0,dd(i)+1).replace(yl,"")},nf=/^[-+]0x[0-9a-f]+$/i,gl=/^0b[01]+$/i,ml=/^0o[0-7]+$/i,Ys=parseInt,ou=function(i){if(typeof i=="number")return i;if(Zr(i))return NaN;if(pn(i)){var o=typeof i.valueOf=="function"?i.valueOf():i;i=pn(o)?o+"":o}if(typeof i!="string")return i===0?i:+i;i=ka(i);var u=gl.test(i);return u||ml.test(i)?Ys(i.slice(2),u?2:8):nf.test(i)?NaN:+i},Dr=1/0,Ks=function(i){return i?(i=ou(i))===Dr||i===-1/0?17976931348623157e292*(i<0?-1:1):i==i?i:0:i===0?i:0},of=function(i){var o=Ks(i),u=o%1;return o==o?u?o-u:o:0},da=Math.max,qs,Zs=la(function(i,o,u){var s=i==null?0:i.length;if(!s)return-1;var p=u==null?0:of(u);return p<0&&(p=da(s+p,0)),fd(i,Uc(o),p)}),oo=new Uint8Array(16);function Js(){if(!qs&&!(qs=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return qs(oo)}for(var ku=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,af=function(i){return typeof i=="string"&&ku.test(i)},kn=[],yo=0;yo<256;++yo)kn.push((yo+256).toString(16).substr(1));var iu=function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,u=(kn[i[o+0]]+kn[i[o+1]]+kn[i[o+2]]+kn[i[o+3]]+"-"+kn[i[o+4]]+kn[i[o+5]]+"-"+kn[i[o+6]]+kn[i[o+7]]+"-"+kn[i[o+8]]+kn[i[o+9]]+"-"+kn[i[o+10]]+kn[i[o+11]]+kn[i[o+12]]+kn[i[o+13]]+kn[i[o+14]]+kn[i[o+15]]).toLowerCase();if(!af(u))throw TypeError("Stringified UUID is invalid");return u},pa=function(i,o,u){var s=(i=i||{}).random||(i.rng||Js)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,o){u=u||0;for(var p=0;p<16;++p)o[u+p]=s[p];return o}return iu(s)},ha=function(){return pa()},Lu=function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",u=i.nodes.reduce(function(s,p){return s[p.id]=o+pa(),p.id=s[p.id],s},{});return i.edges.forEach(function(s){s.id=o+pa(),s.sourceNodeId=u[s.sourceNodeId],s.targetNodeId=u[s.targetNodeId]}),i},La=(n(105),n(127),n(207),function(i,o,u){var s=i.x,p=i.y,l=o.x,h=o.y,m=u.x,E=u.y,A=(E-h)/(m-l),R=h-A*l;return s>=l&&s<=m&&p>=h&&p<=E&&Math.abs(p-A*s+R)<Number.EPSILON});function Qs(i){return Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Qs(i)}function uf(i,o){var u=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);o&&(s=s.filter(function(p){return Object.getOwnPropertyDescriptor(i,p).enumerable})),u.push.apply(u,s)}return u}function Fu(i){for(var o=1;o<arguments.length;o++){var u=arguments[o]!=null?arguments[o]:{};o%2?uf(Object(u),!0).forEach(function(s){ec(i,s,u[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(u)):uf(Object(u)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(u,s))})}return i}function ec(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}var _t,pd,ps,sf,bl,hd,Fa,vd,va,Bu,_l,dp,pp,hp,yd,gd,md,bd,vp,yp,gp,fi=function(i){return i.anchors},hs=function(i,o){for(var u,s=o.nodes,p=s.length-1;p>=0;p--){var l=s[p];if(El(i,l)){var h=l.getTargetAnchor(i);if(h){var m={node:l,anchorIndex:h.index,anchor:h.anchor};u&&!cf(l,u.node,o)||(u=m)}}}return u},cf=function(i,o,u){return i.zIndex>o.zIndex||u.nodesMap[i.id].index>u.nodesMap[o.id].index},Ti=function(i,o,u,s){return Math.hypot(i-u,o-s)},qi=function(i,o){var u=!1,s=li(o);return i.x>=s.minX-0&&i.x<=s.maxX+0&&i.y>=s.minY-0&&i.y<=s.maxY+0&&(u=!0),u},El=function(i,o){var u=!1,s=li(o);return i.x>=s.minX-5&&i.x<=s.maxX+5&&i.y>=s.minY-5&&i.y<=s.maxY+5&&(u=!0),u},li=function(i){var o=i.x,u=i.y,s=i.width,p=i.height;return{minX:o-s/2,minY:u-p/2,maxX:o+s/2,maxY:u+p/2,x:o,y:u,width:s,height:p,centerX:o,centerY:u}},ff=function(i,o,u){var s,p=function(h){var m=h,E=m.x,A=m.y,R=m.width,L=m.height,F=m.radius;return[{x:E-R/2+F,y:A-L/2+F,r:F},{x:E+R/2-F,y:A-L/2+F,r:F},{x:E-R/2+F,y:A+L/2-F,r:F},{x:E+R/2-F,y:A+L/2-F,r:F}]}(u),l=Number.MAX_SAFE_INTEGER;return p.forEach(function(h){var m=Ti(i.x,i.y,h.x,h.y);m<l&&(l=m,s=h)}),vs(i,o,s)},vs=function(i,o,u){var s,p=u,l=p.x,h=p.y,m=p.r;if(o===Bn.HORIZONTAL){var E=l-Math.sqrt(m*m-(i.y-h)*(i.y-h)),A=l+Math.sqrt(m*m-(i.y-h)*(i.y-h));s={x:Math.abs(E-i.x)<Math.abs(A-i.x)?E:A,y:i.y}}else if(o===Bn.VERTICAL){var R=h-Math.sqrt(m*m-(i.x-l)*(i.x-l)),L=h+Math.sqrt(m*m-(i.x-l)*(i.x-l)),F=Math.abs(R-i.y)<Math.abs(L-i.y)?R:L;s={x:i.x,y:F}}return s},tc=function(i,o){var u=o,s=!1,p=u.x-u.width/2+u.radius,l=u.x+u.width/2-u.radius,h=u.y-u.height/2+u.radius,m=u.y+u.height/2-u.radius,E=u.x,A=u.y,R=u.width,L=u.height;return i.y===A+L/2||i.y===A-L/2?s=i.x>p&&i.x<l:i.x!==E+R/2&&i.x!==E-R/2||(s=i.y>h&&i.y<m),s},lf=function(i,o,u){var s,p=u,l=p.x,h=p.y,m=p.rx,E=p.ry;if(o===Bn.HORIZONTAL){var A=l-Math.sqrt(m*m-(i.y-h)*(i.y-h)*m*m/(E*E)),R=l+Math.sqrt(m*m-(i.y-h)*(i.y-h)*m*m/(E*E));s={x:Math.abs(A-i.x)<Math.abs(R-i.x)?A:R,y:i.y}}else if(o===Bn.VERTICAL){var L=h-Math.sqrt(E*E-(i.x-l)*(i.x-l)*E*E/(m*m)),F=h+Math.sqrt(E*E-(i.x-l)*(i.x-l)*E*E/(m*m)),ne=Math.abs(L-i.y)<Math.abs(F-i.y)?L:F;s={x:i.x,y:ne}}return s},df=function(i,o,u){for(var s,p=u.pointsPosition,l=Number.MAX_SAFE_INTEGER,h=[],m=0;m<p.length;m++)h.push({start:p[m],end:p[(m+1)%p.length]});return h.forEach(function(E){var A=E.start,R=E.end,L=A,F=R;A.x>R.x&&(L=R,F=A);var ne={x:i.x,y:i.y};if(L.x===F.x&&o===Bn.HORIZONTAL&&(ne={x:L.x,y:i.y}),L.y===F.y&&o===Bn.VERTICAL&&(ne={x:i.x,y:L.y}),L.x!==F.x&&L.y!==F.y){var ye=(F.y-L.y)/(F.x-L.x),we=(L.x*F.y-F.x*L.y)/(L.x-F.x);o===Bn.HORIZONTAL?ne={x:(i.y-we)/ye,y:i.y}:o===Bn.VERTICAL&&(ne={x:i.x,y:ye*i.x+we})}if(La(ne,A,R)){var Ue=Ti(ne.x,ne.y,i.x,i.y);Ue<l&&(l=Ue,s=ne)}}),s},rc=function(i,o,u,s){var p=i.x,l=i.y;return o.x>i.x?p=i.x+u/2:o.x<i.x&&(p=i.x-u/2),o.y>i.y?l=i.y+s/2:o.y<i.y&&(l=i.y-s/2),{x:p,y:l}},nc=function(i){var o=i.rows,u=i.style,s=i.rowsLength,p=i.className,l=document.createElement("div");l.style.fontSize=u.fontSize,l.style.width=u.width,l.className=p,l.style.lineHeight=u.lineHeight,l.style.padding=u.padding,u.fontFamily&&(l.style.fontFamily=u.fontFamily),s>1?o.forEach(function(m){var E=document.createElement("div");E.textContent=m,l.appendChild(E)}):l.textContent=o,document.body.appendChild(l);var h=l.clientHeight;return document.body.removeChild(l),h},ys=function(i){var o=i.rows,u=i.rowsLength,s=i.fontSize,p=0;return o&&o.forEach(function(l){var h=Ir(l);p=h>p?h:p}),{width:Math.ceil(p/2)*s+s/4,height:u*(s+2)+s/4}},au=function(i){return Qs(i)!=="object"?{isAllPass:!!i,msg:i?"":"\u4E0D\u5141\u8BB8\u8FDE\u63A5"}:i},Po=function(i){try{return JSON.parse(JSON.stringify(i))}catch{return i}},pf=1e3,hf=999,uu=function(){return++pf};function _d(i,o){var u=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);o&&(s=s.filter(function(p){return Object.getOwnPropertyDescriptor(i,p).enumerable})),u.push.apply(u,s)}return u}function di(i){for(var o=1;o<arguments.length;o++){var u=arguments[o]!=null?arguments[o]:{};o%2?_d(Object(u),!0).forEach(function(s){Zi(i,s,u[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(u)):_d(Object(u)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(u,s))})}return i}function Ro(i,o,u,s){u&&Object.defineProperty(i,o,{enumerable:u.enumerable,configurable:u.configurable,writable:u.writable,value:u.initializer?u.initializer.call(s):void 0})}function mp(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function Zi(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}function Or(i,o,u,s,p){var l={};return Object.keys(s).forEach(function(h){l[h]=s[h]}),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=u.slice().reverse().reduce(function(h,m){return m(i,o,h)||h},l),p&&l.initializer!==void 0&&(l.value=l.initializer?l.initializer.call(p):void 0,l.initializer=void 0),l.initializer===void 0&&(Object.defineProperty(i,o,l),l=null),l}var Ol=(_t=function(){function i(s,p){(function(l,h){if(!(l instanceof h))throw new TypeError("Cannot call a class as a function")})(this,i),Zi(this,"id",""),Ro(this,"type",pd,this),Ro(this,"sourceNodeId",ps,this),Ro(this,"targetNodeId",sf,this),Ro(this,"startPoint",bl,this),Ro(this,"endPoint",hd,this),Ro(this,"text",Fa,this),Ro(this,"properties",vd,this),Ro(this,"points",va,this),Ro(this,"pointsList",Bu,this),Ro(this,"isSelected",_l,this),Ro(this,"isHovered",dp,this),Ro(this,"isHitable",pp,this),Ro(this,"draggable",hp,this),Ro(this,"visible",yd,this),Zi(this,"virtual",!1),Ro(this,"isAnimation",gd,this),Ro(this,"isShowAdjustPoint",md,this),Zi(this,"graphModel",void 0),Ro(this,"zIndex",bd,this),Zi(this,"BaseType",Fn.EDGE),Zi(this,"modelType",on.EDGE),Ro(this,"state",vp,this),Zi(this,"additionStateData",void 0),Zi(this,"sourceAnchorId",""),Zi(this,"targetAnchorId",""),Zi(this,"menu",void 0),Zi(this,"customTextPosition",!1),Ro(this,"style",yp,this),Ro(this,"arrowConfig",gp,this),this.graphModel=p,this.initEdgeData(s),this.setAttributes()}var o,u;return o=i,u=[{key:"initEdgeData",value:function(s){if(s.properties||(s.properties={}),!s.id){var p=this.graphModel.idGenerator,l=p&&p(s.type),h=this.createId();s.id=h||l||ha()}this.arrowConfig.markerEnd="url(#marker-end-".concat(s.id,")"),this.arrowConfig.markerStart="url(#marker-start-".concat(s.id,")");var m=this.graphModel.editConfigModel.adjustEdgeStartAndEnd;this.isShowAdjustPoint=m,ei(this,oe(s)),this.graphModel.overlapMode===Zn.INCREASE&&(this.zIndex=s.zIndex||uu()),this.setAnchors(),this.initPoints(),this.formatText(s)}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return di(di({},this.graphModel.theme.baseEdge),this.style)}},{key:"getAdjustPointStyle",value:function(){return di({},this.graphModel.theme.edgeAdjust)}},{key:"getTextStyle",value:function(){var s=this.graphModel.theme.edgeText;return Jn(s)}},{key:"getEdgeAnimationStyle",value:function(){var s=this.graphModel.theme.edgeAnimation;return Jn(s)}},{key:"getArrowStyle",value:function(){var s=this.getEdgeStyle(),p=this.getEdgeAnimationStyle(),l=this.graphModel.theme.arrow,h=this.isAnimation?p.stroke:s.stroke;return di(di({},s),{},{fill:h,stroke:h},l)}},{key:"getOutlineStyle",value:function(){var s=this.graphModel.theme.outline;return Jn(s)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var s,p;return(s=this.graphModel)===null||s===void 0||(p=s.nodesMap[this.sourceNodeId])===null||p===void 0?void 0:p.model}},{key:"targetNode",get:function(){var s,p;return(s=this.graphModel)===null||s===void 0||(p=s.nodesMap[this.targetNodeId])===null||p===void 0?void 0:p.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(s,p,l){var h,m,E=fi(s);return l&&(h=Zs(E,function(A){return A.id===l}))||E.forEach(function(A){var R=Xe(A,p);(m===void 0||R<m)&&(m=R,h=A)}),h}},{key:"getEndAnchor",value:function(s,p){var l,h,m=this,E=fi(s);return p&&(l=Zs(E,function(A){return A.id===p}))||E.forEach(function(A){var R=Xe(A,m.startPoint);(h===void 0||R<h)&&(h=R,l=A)}),l}},{key:"getProperties",value:function(){return Object(f.I)(this.properties)}},{key:"getData",value:function(){var s=this.text,p=s.x,l=s.y,h=s.value,m={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(f.I)(this.properties)};return h&&(m.text={x:p,y:l,value:h}),this.graphModel.overlapMode===Zn.INCREASE&&(m.zIndex=this.zIndex),m}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(s,p){this.properties[s]=Po(p),this.setAttributes()}},{key:"deleteProperty",value:function(s){delete this.properties[s],this.setAttributes()}},{key:"setProperties",value:function(s){this.properties=di(di({},Object(f.I)(this.properties)),Po(s)),this.setAttributes()}},{key:"changeEdgeId",value:function(s){var p=this.arrowConfig,l=p.markerEnd,h=p.markerStart;h&&h==="url(#marker-start-".concat(this.id,")")&&(this.arrowConfig.markerStart="url(#marker-start-".concat(s,")")),l&&l==="url(#marker-end-".concat(this.id,")")&&(this.arrowConfig.markerEnd="url(#marker-end-".concat(s,")")),this.id=s}},{key:"setStyle",value:function(s,p){this.style=di(di({},this.style),{},Zi({},s,Po(p)))}},{key:"setStyles",value:function(s){this.style=di(di({},this.style),Po(s))}},{key:"updateStyles",value:function(s){this.style=di({},Po(s))}},{key:"formatText",value:function(s){var p=this.textPosition,l=p.x,h=p.y;s.text&&typeof s.text!="string"?Object.prototype.toString.call(s.text)==="[object Object]"&&(this.text={x:s.text.x||l,y:s.text.y||h,value:s.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:s.text||"",x:l,y:h,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var s=this.textPosition,p=s.x,l=s.y;this.text.x=p,this.text.y=l}},{key:"moveText",value:function(s,p){if(this.text){var l=this.text,h=l.x,m=l.y,E=l.value,A=l.draggable,R=l.editable;this.text={value:E,draggable:A,x:h+s,y:m+p,editable:R}}}},{key:"setText",value:function(s){s&&ei(this.text,s)}},{key:"updateText",value:function(s){this.text=di(di({},Object(f.I)(this.text)),{},{value:s})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var s=this.getBeginAnchor(this.sourceNode,this.targetNode,this.sourceAnchorId);if(!s)throw new Error("\u65E0\u6CD5\u83B7\u53D6beginAnchor\uFF0C\u8BF7\u68C0\u67E5anchors\u76F8\u5173\u903B\u8F91\uFF0Canchors\u4E0D\u80FD\u4E3A\u7A7A");this.startPoint||(this.startPoint={x:s.x,y:s.y}),this.sourceAnchorId||(this.sourceAnchorId=s.id)}if(!this.targetAnchorId||!this.endPoint){var p=this.getEndAnchor(this.targetNode,this.targetAnchorId);if(!p)throw new Error("\u65E0\u6CD5\u83B7\u53D6endAnchor\uFF0C\u8BF7\u68C0\u67E5anchors\u76F8\u5173\u903B\u8F91\uFF0Canchors\u4E0D\u80FD\u4E3A\u7A7A");this.endPoint||(this.endPoint={x:p.x,y:p.y}),this.targetAnchorId||(this.targetAnchorId=p.id)}}},{key:"setSelected",value:function(){var s=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=s}},{key:"setHovered",value:function(){var s=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=s}},{key:"setHitable",value:function(){var s=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=s}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(s,p){this.state=s,this.additionStateData=p}},{key:"updateStartPoint",value:function(s){this.startPoint=s}},{key:"moveStartPoint",value:function(s,p){this.startPoint.x+=s,this.startPoint.y+=p}},{key:"updateEndPoint",value:function(s){this.endPoint=s}},{key:"moveEndPoint",value:function(s,p){this.endPoint.x+=s,this.endPoint.y+=p}},{key:"setZIndex",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=s}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(s){ei(this,s)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(s){var p=s.startPoint,l=s.endPoint;this.updateStartPoint({x:p.x,y:p.y}),this.updateEndPoint({x:l.x,y:l.y})}}],u&&mp(o.prototype,u),i}(),pd=Or(_t.prototype,"type",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ps=Or(_t.prototype,"sourceNodeId",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),sf=Or(_t.prototype,"targetNodeId",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),bl=Or(_t.prototype,"startPoint",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),hd=Or(_t.prototype,"endPoint",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fa=Or(_t.prototype,"text",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),vd=Or(_t.prototype,"properties",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),va=Or(_t.prototype,"points",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Bu=Or(_t.prototype,"pointsList",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_l=Or(_t.prototype,"isSelected",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),dp=Or(_t.prototype,"isHovered",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),pp=Or(_t.prototype,"isHitable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),hp=Or(_t.prototype,"draggable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),yd=Or(_t.prototype,"visible",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),gd=Or(_t.prototype,"isAnimation",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),md=Or(_t.prototype,"isShowAdjustPoint",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),bd=Or(_t.prototype,"zIndex",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),vp=Or(_t.prototype,"state",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),yp=Or(_t.prototype,"style",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),gp=Or(_t.prototype,"arrowConfig",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:"url(#marker-start-".concat(this.id,")")}}}),Or(_t.prototype,"sourceNode",[f.m],Object.getOwnPropertyDescriptor(_t.prototype,"sourceNode"),_t.prototype),Or(_t.prototype,"targetNode",[f.m],Object.getOwnPropertyDescriptor(_t.prototype,"targetNode"),_t.prototype),Or(_t.prototype,"textPosition",[f.m],Object.getOwnPropertyDescriptor(_t.prototype,"textPosition"),_t.prototype),Or(_t.prototype,"setProperty",[f.k],Object.getOwnPropertyDescriptor(_t.prototype,"setProperty"),_t.prototype),Or(_t.prototype,"deleteProperty",[f.k],Object.getOwnPropertyDescriptor(_t.prototype,"deleteProperty"),_t.prototype),Or(_t.prototype,"setProperties",[f.k],Object.getOwnPropertyDescriptor(_t.prototype,"setProperties"),_t.prototype),Or(_t.prototype,"changeEdgeId",[f.k],Object.getOwnPropertyDescriptor(_t.prototype,"changeEdgeId"),_t.prototype),Or(_t.prototype,"setStyle",[f.k],Object.getOwnPropertyDescriptor(_t.prototype,"setStyle"),_t.prototype),Or(_t.prototype,"setStyles",[f.k],Object.getOwnPropertyDescriptor(_t.prototype,"setStyles"),_t.prototype),Or(_t.prototype,"updateStyles",[f.k],Object.getOwnPropertyDescriptor(_t.prototype,"updateStyles"),_t.prototype),Or(_t.prototype,"formatText",[f.k],Object.getOwnPropertyDescriptor(_t.prototype,"formatText"),_t.prototype),Or(_t.prototype,"resetTextPosition",[f.k],Object.getOwnPropertyDescriptor(_t.prototype,"resetTextPosition"),_t.prototype),Or(_t.prototype,"moveText",[f.k],Object.getOwnPropertyDescriptor(_t.prototype,"moveText"),_t.prototype),Or(_t.prototype,"setText",[f.k],Object.getOwnPropertyDescriptor(_t.prototype,"setText"),_t.prototype),Or(_t.prototype,"updateText",[f.k],Object.getOwnPropertyDescriptor(_t.prototype,"updateText"),_t.prototype),Or(_t.prototype,"setAnchors",[f.k],Object.getOwnPropertyDescriptor(_t.prototype,"setAnchors"),_t.prototype),Or(_t.prototype,"setSelected",[f.k],Object.getOwnPropertyDescriptor(_t.prototype,"setSelected"),_t.prototype),Or(_t.prototype,"setHovered",[f.k],Object.getOwnPropertyDescriptor(_t.prototype,"setHovered"),_t.prototype),Or(_t.prototype,"setHitable",[f.k],Object.getOwnPropertyDescriptor(_t.prototype,"setHitable"),_t.prototype),Or(_t.prototype,"openEdgeAnimation",[f.k],Object.getOwnPropertyDescriptor(_t.prototype,"openEdgeAnimation"),_t.prototype),Or(_t.prototype,"closeEdgeAnimation",[f.k],Object.getOwnPropertyDescriptor(_t.prototype,"closeEdgeAnimation"),_t.prototype),Or(_t.prototype,"setElementState",[f.k],Object.getOwnPropertyDescriptor(_t.prototype,"setElementState"),_t.prototype),Or(_t.prototype,"updateStartPoint",[f.k],Object.getOwnPropertyDescriptor(_t.prototype,"updateStartPoint"),_t.prototype),Or(_t.prototype,"moveStartPoint",[f.k],Object.getOwnPropertyDescriptor(_t.prototype,"moveStartPoint"),_t.prototype),Or(_t.prototype,"updateEndPoint",[f.k],Object.getOwnPropertyDescriptor(_t.prototype,"updateEndPoint"),_t.prototype),Or(_t.prototype,"moveEndPoint",[f.k],Object.getOwnPropertyDescriptor(_t.prototype,"moveEndPoint"),_t.prototype),Or(_t.prototype,"setZIndex",[f.k],Object.getOwnPropertyDescriptor(_t.prototype,"setZIndex"),_t.prototype),Or(_t.prototype,"initPoints",[f.k],Object.getOwnPropertyDescriptor(_t.prototype,"initPoints"),_t.prototype),Or(_t.prototype,"updateAttributes",[f.k],Object.getOwnPropertyDescriptor(_t.prototype,"updateAttributes"),_t.prototype),Or(_t.prototype,"getAdjustStart",[f.k],Object.getOwnPropertyDescriptor(_t.prototype,"getAdjustStart"),_t.prototype),Or(_t.prototype,"getAdjustEnd",[f.k],Object.getOwnPropertyDescriptor(_t.prototype,"getAdjustEnd"),_t.prototype),Or(_t.prototype,"updateAfterAdjustStartAndEnd",[f.k],Object.getOwnPropertyDescriptor(_t.prototype,"updateAfterAdjustStartAndEnd"),_t.prototype),_t),gs=Ol;function wl(i){return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},wl(i)}function bp(i,o){var u=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);o&&(s=s.filter(function(p){return Object.getOwnPropertyDescriptor(i,p).enumerable})),u.push.apply(u,s)}return u}function oc(i){for(var o=1;o<arguments.length;o++){var u=arguments[o]!=null?arguments[o]:{};o%2?bp(Object(u),!0).forEach(function(s){pi(i,s,u[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(u)):bp(Object(u)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(u,s))})}return i}function _p(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function ya(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function ic(){return ic=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(i,o,u){var s=ms(i,o);if(s){var p=Object.getOwnPropertyDescriptor(s,o);return p.get?p.get.call(arguments.length<3?i:u):p.value}},ic.apply(this,arguments)}function ms(i,o){for(;!Object.prototype.hasOwnProperty.call(i,o)&&(i=Ba(i))!==null;);return i}function ga(i,o){return ga=Object.setPrototypeOf||function(u,s){return u.__proto__=s,u},ga(i,o)}function Ep(i){var o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,s=Ba(i);if(o){var p=Ba(this).constructor;u=Reflect.construct(s,arguments,p)}else u=s.apply(this,arguments);return Ed(this,u)}}function Ed(i,o){if(o&&(wl(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gu(i)}function Gu(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function Ba(i){return Ba=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},Ba(i)}function pi(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}var Sr,io,ti=function(i){(function(l,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(h&&h.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),h&&ga(l,h)})(p,i);var o,u,s=Ep(p);function p(){var l;_p(this,p);for(var h=arguments.length,m=new Array(h),E=0;E<h;E++)m[E]=arguments[E];return pi(Gu(l=s.call.apply(s,[this].concat(m))),"modelType",on.LINE_EDGE),l}return o=p,(u=[{key:"getEdgeStyle",value:function(){var l=this.graphModel.theme.line;return oc(oc({},ic(Ba(p.prototype),"getEdgeStyle",this).call(this)),Jn(l))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&ya(o.prototype,u),p}(gs);function Pi(i){return Pi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Pi(i)}function Ih(i,o){return function(u){if(Array.isArray(u))return u}(i)||function(u,s){var p=u==null?null:typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(p!=null){var l,h,m=[],E=!0,A=!1;try{for(p=p.call(u);!(E=(l=p.next()).done)&&(m.push(l.value),!s||m.length!==s);E=!0);}catch(R){A=!0,h=R}finally{try{E||p.return==null||p.return()}finally{if(A)throw h}}return m}}(i,o)||function(u,s){if(!!u){if(typeof u=="string")return Op(u,s);var p=Object.prototype.toString.call(u).slice(8,-1);if(p==="Object"&&u.constructor&&(p=u.constructor.name),p==="Map"||p==="Set")return Array.from(u);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return Op(u,s)}}(i,o)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Op(i,o){(o==null||o>i.length)&&(o=i.length);for(var u=0,s=new Array(o);u<o;u++)s[u]=i[u];return s}function Uu(i,o){var u=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);o&&(s=s.filter(function(p){return Object.getOwnPropertyDescriptor(i,p).enumerable})),u.push.apply(u,s)}return u}function en(i){for(var o=1;o<arguments.length;o++){var u=arguments[o]!=null?arguments[o]:{};o%2?Uu(Object(u),!0).forEach(function(s){ao(i,s,u[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(u)):Uu(Object(u)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(u,s))})}return i}function wp(i,o,u,s){u&&Object.defineProperty(i,o,{enumerable:u.enumerable,configurable:u.configurable,writable:u.writable,value:u.initializer?u.initializer.call(s):void 0})}function Ri(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function jo(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function Ji(){return Ji=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(i,o,u){var s=Dh(i,o);if(s){var p=Object.getOwnPropertyDescriptor(s,o);return p.get?p.get.call(arguments.length<3?i:u):p.value}},Ji.apply(this,arguments)}function Dh(i,o){for(;!Object.prototype.hasOwnProperty.call(i,o)&&(i=Cn(i))!==null;);return i}function vf(i,o){return vf=Object.setPrototypeOf||function(u,s){return u.__proto__=s,u},vf(i,o)}function Ga(i){var o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,s=Cn(i);if(o){var p=Cn(this).constructor;u=Reflect.construct(s,arguments,p)}else u=s.apply(this,arguments);return Od(this,u)}}function Od(i,o){if(o&&(Pi(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return su(i)}function su(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function Cn(i){return Cn=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},Cn(i)}function ao(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}function Wo(i,o,u,s,p){var l={};return Object.keys(s).forEach(function(h){l[h]=s[h]}),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=u.slice().reverse().reduce(function(h,m){return m(i,o,h)||h},l),p&&l.initializer!==void 0&&(l.value=l.initializer?l.initializer.call(p):void 0,l.initializer=void 0),l.initializer===void 0&&(Object.defineProperty(i,o,l),l=null),l}var yf=(Sr=function(i){(function(l,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(h&&h.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),h&&vf(l,h)})(p,i);var o,u,s=Ga(p);function p(){var l;Ri(this,p);for(var h=arguments.length,m=new Array(h),E=0;E<h;E++)m[E]=arguments[E];return ao(su(l=s.call.apply(s,[this].concat(m))),"modelType",on.POLYLINE_EDGE),ao(su(l),"draggingPointList",void 0),wp(su(l),"dbClickPosition",io,su(l)),l}return o=p,(u=[{key:"initEdgeData",value:function(l){this.offset=30,Ji(Cn(p.prototype),"initEdgeData",this).call(this,l)}},{key:"getEdgeStyle",value:function(){var l=this.graphModel.theme.polyline;return en(en({},Ji(Cn(p.prototype),"getEdgeStyle",this).call(this)),Jn(l))}},{key:"getTextPosition",value:function(){var l,h=(l=this.text)===null||l===void 0?void 0:l.value;if(this.dbClickPosition&&!h){var m=this.dbClickPosition;return{x:m.x,y:m.y}}var E=Yn(this.points),A=Ih(Eo(E),2),R=A[0],L=A[1];return{x:(R.x+L.x)/2,y:(R.y+L.y)/2}}},{key:"getAfterAnchor",value:function(l,h,m){var E,A;return m.forEach(function(R){var L;l===Bn.HORIZONTAL?L=Math.abs(h.y-R.y):l===Bn.VERTICAL&&(L=Math.abs(h.x-R.x)),(!A||A>L)&&(A=L,E=R)}),E}},{key:"getCrossPoint",value:function(l,h,m){var E;return l===Bn.HORIZONTAL?E={x:m.x,y:h.y}:l===Bn.VERTICAL&&(E={x:h.x,y:m.y}),E}},{key:"removeCrossPoints",value:function(l,h,m){var E=m.map(function(ze){return ze});if(l===1){var A=E[l],R=E[h],L=E[l-1];if(In(L,A,this.sourceNode)){if(so(A,R,this.sourceNode)){var F=mo(A,R,this.sourceNode);F&&(E[l]=F,E.splice(l-1,1),l--,h--)}}else this.sourceNode.anchors.forEach(function(ze){(ze.x===L.x&&ze.x===A.x||ze.y===L.y&&ze.y===A.y)&&Ti(ze.x,ze.y,A.x,A.y)<Ti(L.x,L.y,A.x,A.y)&&(E[l-1]=ze)})}if(h===m.length-2){var ne=E[l],ye=E[h],we=E[h+1];if(In(ye,we,this.targetNode)){if(so(ne,ye,this.targetNode)){var Ue=mo(ne,ye,this.targetNode);Ue&&(E[h]=Ue,E.splice(h+1,1))}}else this.targetNode.anchors.forEach(function(ze){(ze.x===we.x&&ze.x===ye.x||ze.y===we.y&&ze.y===ye.y)&&Ti(ze.x,ze.y,ye.x,ye.y)<Ti(we.x,we.y,ye.x,ye.y)&&(E[h+1]=ze)})}return E}},{key:"getDraggingPoints",value:function(l,h,m,E,A){var R=A.map(function(ne){return ne}),L=this.getAfterAnchor(l,m,E),F=this.getCrossPoint(l,m,L);return h==="start"?(R.unshift(F),R.unshift(L)):(R.push(F),R.push(L)),R}},{key:"updateCrossPoints",value:function(l){var h=l.map(function(Tt){return Tt}),m=l[0],E=l[1],A=l[h.length-2],R=l[h.length-1],L=this.sourceNode,F=this.targetNode,ne=L.modelType,ye=F.modelType,we=Qn(m,E),Ue=h[0];switch(ne){case on.RECT_NODE:L.radius!==0&&(tc(m,L)||(Ue=ff(m,we,L)));break;case on.CIRCLE_NODE:Ue=vs(m,we,L);break;case on.ELLIPSE_NODE:Ue=lf(m,we,L);break;case on.DIAMOND_NODE:case on.POLYGON_NODE:Ue=df(m,we,L)}Ue&&(h[0]=Ue);var ze=Qn(A,R),ot=h[h.length-1];switch(ye){case on.RECT_NODE:F.radius!==0&&(tc(R,F)||(ot=ff(R,ze,F)));break;case on.CIRCLE_NODE:ot=vs(R,ze,F);break;case on.ELLIPSE_NODE:ot=lf(R,ze,F);break;case on.DIAMOND_NODE:case on.POLYGON_NODE:ot=df(R,ze,F)}return ot&&(h[h.length-1]=ot),h}},{key:"getData",value:function(){var l=Ji(Cn(p.prototype),"getData",this).call(this),h=this.pointsList.map(function(m){return{x:m.x,y:m.y}});return Object.assign({},l,{pointsList:h})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(l){return"".concat(l.x,",").concat(l.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var l=Yr({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=l,this.points=l.map(function(h){return"".concat(h.x,",").concat(h.y)}).join(" ")}},{key:"updateStartPoint",value:function(l){this.startPoint=Object.assign({},l),this.updatePoints()}},{key:"moveStartPoint",value:function(l,h){this.startPoint.x+=l,this.startPoint.y+=h,this.updatePoints()}},{key:"updateEndPoint",value:function(l){this.endPoint=Object.assign({},l),this.updatePoints()}},{key:"moveEndPoint",value:function(l,h){this.endPoint.x+=l,this.endPoint.y+=h,this.updatePoints()}},{key:"updatePointsList",value:function(l,h){this.pointsList.forEach(function(A){A.x+=l,A.y+=h});var m=this.pointsList[0];this.startPoint=Object.assign({},m);var E=this.pointsList[this.pointsList.length-1];this.endPoint=Object.assign({},E),this.initPoints()}},{key:"dragAppendStart",value:function(){this.draggingPointList=this.pointsList.map(function(l){return l})}},{key:"dragAppendSimple",value:function(l,h){this.isDragging=!0;var m=l.start,E=l.end,A=l.startIndex,R=l.endIndex,L=l.direction,F=this.pointsList,ne=F;return L===Bn.HORIZONTAL?(F[A]={x:m.x,y:m.y+h.y},F[R]={x:E.x,y:E.y+h.y},ne=this.pointsList.map(function(ye){return ye})):L===Bn.VERTICAL&&(F[A]={x:m.x+h.x,y:m.y},F[R]={x:E.x+h.x,y:E.y},ne=this.pointsList.map(function(ye){return ye})),this.updatePointsAfterDrag(ne),this.draggingPointList=ne,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},F[A]),end:Object.assign({},F[R]),startIndex:A,endIndex:R,direction:L}}},{key:"dragAppend",value:function(l,h){this.isDragging=!0;var m=l.start,E=l.end,A=l.startIndex,R=l.endIndex,L=l.direction,F=this.pointsList;if(L===Bn.HORIZONTAL){F[A]={x:m.x,y:m.y+h.y},F[R]={x:E.x,y:E.y+h.y};var ne=this.pointsList.map(function(Zt){return Zt});if(A!==0&&R!==this.pointsList.length-1&&(ne=this.removeCrossPoints(A,R,ne)),A===0){var ye={x:m.x,y:m.y+h.y};if(!qi(ye,this.sourceNode)){var we=this.sourceNode.anchors;ne=this.getDraggingPoints(L,"start",ye,we,ne)}}if(R===this.pointsList.length-1){var Ue={x:E.x,y:E.y+h.y};if(!qi(Ue,this.targetNode)){var ze=this.targetNode.anchors;ne=this.getDraggingPoints(L,"end",Ue,ze,ne)}}this.updatePointsAfterDrag(ne),this.draggingPointList=ne}else if(L===Bn.VERTICAL){F[A]={x:m.x+h.x,y:m.y},F[R]={x:E.x+h.x,y:E.y};var ot=this.pointsList.map(function(Zt){return Zt});if(A!==0&&R!==this.pointsList.length-1&&(ot=this.removeCrossPoints(A,R,ot)),A===0){var Tt={x:m.x+h.x,y:m.y};if(!qi(Tt,this.sourceNode)){var er=this.sourceNode.anchors;ot=this.getDraggingPoints(L,"start",Tt,er,ot)}}if(R===this.pointsList.length-1){var Qt={x:E.x+h.x,y:E.y};if(!qi(Qt,this.targetNode)){var Rr=this.targetNode.anchors;ot=this.getDraggingPoints(L,"end",Qt,Rr,ot)}}this.updatePointsAfterDrag(ot),this.draggingPointList=ot}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},F[A]),end:Object.assign({},F[R]),startIndex:A,endIndex:R,direction:L}}},{key:"dragAppendEnd",value:function(){if(this.draggingPointList){var l=go(Yn(this.points));this.pointsList=l.map(function(E){return E}),this.draggingPointList=[];var h=l[0];this.startPoint=Object.assign({},h);var m=l[l.length-1];this.endPoint=Object.assign({},m)}this.isDragging=!1}},{key:"updatePointsAfterDrag",value:function(l){var h=this.updateCrossPoints(l);this.points=h.map(function(m){return"".concat(m.x,",").concat(m.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var l=this.pointsList;return l[l.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(l){var h=l.startPoint,m=l.endPoint,E=l.sourceNode,A=l.targetNode,R=Yr({x:h.x,y:h.y},{x:m.x,y:m.y},E,A,this.offset||0);this.pointsList=R,this.initPoints()}}])&&jo(o.prototype,u),p}(gs),io=Wo(Sr.prototype,"dbClickPosition",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wo(Sr.prototype,"initPoints",[f.k],Object.getOwnPropertyDescriptor(Sr.prototype,"initPoints"),Sr.prototype),Wo(Sr.prototype,"updatePoints",[f.k],Object.getOwnPropertyDescriptor(Sr.prototype,"updatePoints"),Sr.prototype),Wo(Sr.prototype,"updateStartPoint",[f.k],Object.getOwnPropertyDescriptor(Sr.prototype,"updateStartPoint"),Sr.prototype),Wo(Sr.prototype,"moveStartPoint",[f.k],Object.getOwnPropertyDescriptor(Sr.prototype,"moveStartPoint"),Sr.prototype),Wo(Sr.prototype,"updateEndPoint",[f.k],Object.getOwnPropertyDescriptor(Sr.prototype,"updateEndPoint"),Sr.prototype),Wo(Sr.prototype,"moveEndPoint",[f.k],Object.getOwnPropertyDescriptor(Sr.prototype,"moveEndPoint"),Sr.prototype),Wo(Sr.prototype,"updatePointsList",[f.k],Object.getOwnPropertyDescriptor(Sr.prototype,"updatePointsList"),Sr.prototype),Wo(Sr.prototype,"dragAppendStart",[f.k],Object.getOwnPropertyDescriptor(Sr.prototype,"dragAppendStart"),Sr.prototype),Wo(Sr.prototype,"dragAppendSimple",[f.k],Object.getOwnPropertyDescriptor(Sr.prototype,"dragAppendSimple"),Sr.prototype),Wo(Sr.prototype,"dragAppend",[f.k],Object.getOwnPropertyDescriptor(Sr.prototype,"dragAppend"),Sr.prototype),Wo(Sr.prototype,"dragAppendEnd",[f.k],Object.getOwnPropertyDescriptor(Sr.prototype,"dragAppendEnd"),Sr.prototype),Wo(Sr.prototype,"updatePointsAfterDrag",[f.k],Object.getOwnPropertyDescriptor(Sr.prototype,"updatePointsAfterDrag"),Sr.prototype),Wo(Sr.prototype,"getAdjustStart",[f.k],Object.getOwnPropertyDescriptor(Sr.prototype,"getAdjustStart"),Sr.prototype),Wo(Sr.prototype,"getAdjustEnd",[f.k],Object.getOwnPropertyDescriptor(Sr.prototype,"getAdjustEnd"),Sr.prototype),Wo(Sr.prototype,"updateAfterAdjustStartAndEnd",[f.k],Object.getOwnPropertyDescriptor(Sr.prototype,"updateAfterAdjustStartAndEnd"),Sr.prototype),Sr),N=function(i){var o=i.start,u=i.end,s=i.offset,p=i.verticalLength,l=i.type,h={leftX:0,leftY:0,rightX:0,rightY:0},m=Math.atan((u.y-o.y)/(u.x-o.x)),E=Math.atan(s/p),A=Math.sqrt(p*p+s*s);return l==="start"?u.x>=o.x?(h.leftX=o.x+A*Math.sin(m+E),h.leftY=o.y-A*Math.cos(m+E),h.rightX=o.x-A*Math.sin(m-E),h.rightY=o.y+A*Math.cos(m-E)):(h.leftX=o.x-A*Math.sin(m+E),h.leftY=o.y+A*Math.cos(m+E),h.rightX=o.x+A*Math.sin(m-E),h.rightY=o.y-A*Math.cos(m-E)):l==="end"&&(u.x>=o.x?(h.leftX=u.x+A*Math.sin(m-E),h.leftY=u.y-A*Math.cos(m-E),h.rightX=u.x-A*Math.sin(m+E),h.rightY=u.y+A*Math.cos(m+E)):(h.leftX=u.x-A*Math.sin(m-E),h.leftY=u.y+A*Math.cos(m-E),h.rightX=u.x+A*Math.sin(m+E),h.rightY=u.y-A*Math.cos(m+E))),h},Y={x:1,y:0,z:0};function se(i,o,u,s,p){for(var l=function(ye){if(ye<0||ye>1)throw new RangeError('The value range of parameter "t" is [0,1]');return{x:i.x*Math.pow(1-ye,3)+3*o.x*ye*Math.pow(1-ye,2)+3*u.x*Math.pow(ye,2)*(1-ye)+s.x*Math.pow(ye,3),y:i.y*Math.pow(1-ye,3)+3*o.y*ye*Math.pow(1-ye,2)+3*u.y*Math.pow(ye,2)*(1-ye)+s.y*Math.pow(ye,3)}},h=0,m=2,E=s.x,A=s.y,R=s;h<p&&m<50;){var L=R=l(1-m/100),F=L.x,ne=L.y;h=Ti(E,A,F,ne),m++}return R}function He(i){var o=Math.hypot(i.x,i.y);return{x:i.x/o,y:i.y/o,z:0}}function tt(i){return s=function(l,h){return l.x*h.y-l.y*h.x}(o=Y,u=i),p=Math.acos(function(l,h){var m=[l.x,l.y,l.z];return[h.x,h.y,h.z].reduce(function(E,A,R){return E+A*m[R]})}(He(o),He(u))),s>=0?p:-p;var o,u,s,p}function Ge(i){return i*(180/Math.PI)}function Je(i,o){var u=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);o&&(s=s.filter(function(p){return Object.getOwnPropertyDescriptor(i,p).enumerable})),u.push.apply(u,s)}return u}function mt(i){for(var o=1;o<arguments.length;o++){var u=arguments[o]!=null?arguments[o]:{};o%2?Je(Object(u),!0).forEach(function(s){wt(i,s,u[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(u)):Je(Object(u)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(u,s))})}return i}function wt(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}function Et(i){return function(o){if(Array.isArray(o))return bt(o)}(i)||function(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}(i)||jt(i)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Qe(i){return Qe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Qe(i)}function Mt(i,o){return function(u){if(Array.isArray(u))return u}(i)||function(u,s){var p=u==null?null:typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(p!=null){var l,h,m=[],E=!0,A=!1;try{for(p=p.call(u);!(E=(l=p.next()).done)&&(m.push(l.value),!s||m.length!==s);E=!0);}catch(R){A=!0,h=R}finally{try{E||p.return==null||p.return()}finally{if(A)throw h}}return m}}(i,o)||jt(i,o)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function jt(i,o){if(i){if(typeof i=="string")return bt(i,o);var u=Object.prototype.toString.call(i).slice(8,-1);return u==="Object"&&i.constructor&&(u=i.constructor.name),u==="Map"||u==="Set"?Array.from(i):u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)?bt(i,o):void 0}}function bt(i,o){(o==null||o>i.length)&&(o=i.length);for(var u=0,s=new Array(o);u<o;u++)s[u]=i[u];return s}var ct=function(i,o){var u;switch(i.type){case"line":default:u=new ti(i,o);break;case"polyline":u=new yf(i,o)}return u},Ie=function(i,o){return 2*Math.abs(i.centerX-o.centerX)<i.width+o.width&&2*Math.abs(i.centerY-o.centerY)<i.height+o.height},qe=function(i){var o=[],u={};return i.forEach(function(s){var p="".concat(s.x,"-").concat(s.y);s.id=p,u[p]=s}),Object.keys(u).forEach(function(s){o.push(u[s])}),o},St=function(i,o){var u=[i,{x:i.x,y:o.y},o];return qe(u)},Bt=function(i,o){return i.width===0&&i.height===0?i:{centerX:i.centerX,centerY:i.centerY,minX:i.minX-o,minY:i.minY-o,maxX:i.maxX+o,maxY:i.maxY+o,height:i.height+2*o,width:i.width+2*o}},pt=function(i,o){var u=Math.abs(i.x-o.centerX),s=Math.abs(i.y-o.centerY);return u/o.width>s/o.height?Bn.HORIZONTAL:Bn.VERTICAL},Gt=function(i,o,u){return pt(u,o)===Bn.HORIZONTAL?{x:u.x>i.centerX?i.maxX:i.minX,y:u.y}:{x:u.x,y:u.y>i.centerY?i.maxY:i.minY}},vt=function(i,o){var u=Math.min(i.minX,o.minX),s=Math.min(i.minY,o.minY),p=Math.max(i.maxX,o.maxX),l=Math.max(i.maxY,o.maxY);return{centerX:(u+p)/2,centerY:(s+l)/2,minX:u,minY:s,maxX:p,maxY:l,height:l-s,width:p-u}},Ct=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],o=arguments.length>1?arguments[1]:void 0,u=[],s=[];i.forEach(function(R){u.push(R.x),s.push(R.y)});var p=Math.min.apply(Math,u),l=Math.max.apply(Math,u),h=Math.min.apply(Math,s),m=Math.max.apply(Math,s),E=l-p,A=m-h;return o&&(E+=o,A+=o),{centerX:(p+l)/2,centerY:(h+m)/2,maxX:l,maxY:m,minX:p,minY:h,x:(p+l)/2,y:(h+m)/2,height:A,width:E}},ft=function(i){var o=i.minX,u=i.minY,s=i.maxX,p=i.maxY;return[{x:o,y:u},{x:s,y:u},{x:s,y:p},{x:o,y:p}]},Dt=function(i,o){var u=i.x,s=i.y;return u<o.minX||u>o.maxX||s<o.minY||s>o.maxY},pr=function(i,o){return o<i.minX||o>i.maxX?[]:[{x:o,y:i.minY},{x:o,y:i.maxY}]},Tr=function(i,o){return o<i.minY||o>i.maxY?[]:[{x:i.minX,y:o},{x:i.maxX,y:o}]},xt=function(i,o){return pr(i,o.x).concat(Tr(i,o.y))},yt=function(i,o){return Math.abs(i.x-o.x)+Math.abs(i.y-o.y)},dt=function(i,o){var u=0;return o.forEach(function(s){s&&(i.x===s.x&&(u+=-2),i.y===s.y&&(u+=-2))}),u},br=function(i,o,u,s,p){return yt(i,o)+yt(i,u)+dt(i,[o,u,s,p])},Fr=function i(o,u,s,p,l){l||(l=0),o.unshift(u[p]),s[p]&&s[p]!==p&&l<=100&&i(o,u,s,s[p],l+1)},qt=function(i,o){var u=i.indexOf(o);u>-1&&i.splice(u,1)},kr=function(i,o,u,s){var p=o.x-i.x,l=o.y-i.y,h=s.x-u.x,m=s.y-u.y,E=(-l*(i.x-u.x)+p*(i.y-u.y))/(-h*l+p*m),A=(h*(i.y-u.y)-m*(i.x-u.x))/(-h*l+p*m);return E>=0&&E<=1&&A>=0&&A<=1},Ar=function(i,o,u){if(u.width===0&&u.height===0)return!1;var s=Mt(ft(u),4),p=s[0],l=s[1],h=s[2],m=s[3];return kr(i,o,p,l)||kr(i,o,p,m)||kr(i,o,l,h)||kr(i,o,h,m)},Ur=function(i,o,u,s){var p=[];return i.forEach(function(l){l!==o&&(l.x!==o.x&&l.y!==o.y||Ar(l,o,u)||Ar(l,o,s)||p.push(l))}),qe(p)},tn=function(i,o,u,s,p,l,h){var m=[],E=[o],A={},R={},L={};R[o.id]=0,L[o.id]=br(o,u,o);var F={};i.forEach(function(we){F[we.id]=we});for(var ne=function(){var we=void 0,Ue=1/0;if(E.forEach(function(ot){L[ot.id]<Ue&&(Ue=L[ot.id],we=ot)}),we===u){var ze=[];return Fr(ze,F,A,u.id),{v:ze}}qt(E,we),m.push(we),Ur(i,we,s,p).forEach(function(ot){if(m.indexOf(ot)===-1){E.indexOf(ot)===-1&&E.push(ot);var Tt=L[we.id]+yt(we,ot);R[ot.id]&&Tt>=R[ot.id]||(A[ot.id]=we.id,R[ot.id]=Tt,L[ot.id]=R[ot.id]+br(ot,u,o,l,h))}})};E.length;){var ye=ne();if(Qe(ye)==="object")return ye.v}return[o,u]},uo=function(i){return li(i)},go=function(i){for(var o=1;o<i.length-1;){var u=i[o-1],s=i[o],p=i[o+1];u.x===s.x&&s.x===p.x||u.y===s.y&&s.y===p.y?i.splice(o,1):o++}return i},Yr=function(i,o,u,s,p){var l=uo(u),h=uo(s),m=Bt(l,p),E=Bt(h,p),A=Gt(m,l,i),R=Gt(E,h,o);if(Ie(m,E)){var L=No(i,o,A,R);return[i,A].concat(Et(L),[R,o])}var F=Ct([A,R]),ne=vt(m,F),ye=vt(E,F),we=[];we=(we=we.concat(ft(ne))).concat(ft(ye));var Ue={x:(i.x+o.x)/2,y:(i.y+o.y)/2};[F,ne,ye].forEach(function(ot){we=we.concat(xt(ot,Ue).filter(function(Tt){return Dt(Tt,m)&&Dt(Tt,E)}))}),[{x:A.x,y:R.y},{x:R.x,y:A.y}].forEach(function(ot){Dt(ot,m)&&Dt(ot,E)&&we.push(ot)}),we.unshift(A),we.push(R),we=qe(we);var ze=tn(we,A,R,l,h,i,o);return ze.unshift(i),ze.push(o),ze.length>2&&(ze=go(ze)),qe(ze)},Eo=function(i){var o;if(i.length===1)o=[i[0],i[0]];else if(i.length>=2){for(var u=i[0],s=i[1],p=Ti(u.x,u.y,s.x,s.y),l=1;l<i.length-1;l++){var h=i[l],m=i[l+1],E=Ti(h.x,h.y,m.x,m.y);E>p&&(p=E,u=h,s=m)}o=[u,s]}return o},In=function(i,o,u){var s=qi(i,u),p=qi(o,u);return s&&p},so=function(i,o,u){var s=qi(i,u),p=qi(o,u);return!(s&&p)&&(s||p)},mo=function(i,o,u){for(var s,p,l=li(u),h=ft(l),m=0;m<h.length;m++)kr(i,o,h[m],h[(m+1)%h.length])&&(p=[h[m],h[(m+1)%h.length]]);return p&&(s=function(E,A,R,L){var F=(A.y-E.y)*(L.x-R.x)-(E.x-A.x)*(R.y-L.y);if(F===0)return!1;var ne=((A.x-E.x)*(L.x-R.x)*(R.y-E.y)+(A.y-E.y)*(L.x-R.x)*E.x-(L.y-R.y)*(A.x-E.x)*R.x)/F,ye=-((A.y-E.y)*(L.y-R.y)*(R.x-E.x)+(A.x-E.x)*(L.y-R.y)*E.y-(L.x-R.x)*(A.y-E.y)*R.y)/F;return(ne-E.x)*(ne-A.x)<=0&&(ye-E.y)*(ye-A.y)<=0&&(ne-R.x)*(ne-L.x)<=0&&(ye-R.y)*(ye-L.y)<=0&&{x:ne,y:ye}}(i,o,p[0],p[1])),s},Qn=function(i,o){var u;return i.x===o.x?u=Bn.VERTICAL:i.y===o.y&&(u=Bn.HORIZONTAL),u},Yn=function(i){var o=i.split(" "),u=[];return o&&o.forEach(function(s){var p=Mt(s.split(","),2),l=p[0],h=p[1];u.push({x:Number(l),y:Number(h)})}),u},No=function(i,o,u,s){var p=[];if(Qn(i,u)===Qn(o,s))i.y===u.y?(p.push({x:u.x,y:(u.y+s.y)/2}),p.push({x:s.x,y:(u.y+s.y)/2})):(p.push({x:(u.x+s.x)/2,y:u.y}),p.push({x:(u.x+s.x)/2,y:s.y}));else{var l={x:u.x,y:s.y},h=La(l,i,u),m=La(l,o,s);if(h||m)l={x:s.x,y:u.y};else{var E=eo(l,i,u),A=eo(l,o,s);E&&A&&(l={x:s.x,y:u.y})}p.push(l)}return p},eo=function(i,o,u){return i.x===o.x&&i.x===u.x||i.y===o.y&&i.y===u.y},Ir=function(i){if(!i)return 0;for(var o=0,u=0;u<i.length;u++){var s=i.charCodeAt(u);i.match(/[A-Z]/)?o+=1.5:o+=s>=1&&s<=126||s>=65376&&s<=65439?1:2}return o},Lo=null,ln=function(i,o){Lo||(Lo=document.createElement("canvas"));var u=Lo.getContext("2d");return u.font=o,u.measureText(i).width},mr=function(i){var o,u=i.start,s=i.end;if(u.x===s.x&&u.y===s.y)o="";else{var p={start:u,end:s,offset:10,verticalLength:5},l=N(mt(mt({},p),{},{type:"start"})),h=N(mt(mt({},p),{},{type:"end"}));o="M".concat(l.leftX," ").concat(l.leftY,` 
    L`).concat(l.rightX," ").concat(l.rightY,` 
    L`).concat(h.rightX," ").concat(h.rightY,`
    L`).concat(h.leftX," ").concat(h.leftY," z")}return{d:o,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}},Kr=function(i){var o=i.start,u=i.end,s=i.sourceNode,p=i.targetNode,l=i.offset,h=li(s),m=li(p),E=Bt(h,l),A=Bt(m,l);return{sNext:Gt(E,h,o),ePre:Gt(A,m,u)}},Pr=function(i){var o=i.replace(/M/g,"").replace(/C/g,",").split(",");return[Gn(o[0]),Gn(o[1]),Gn(o[2]),Gn(o[3])]},Gn=function(i){var o=Mt(i.replace(/(^\s*)/g,"").split(" "),2);return{x:+o[0],y:+o[1]}},Qi=function(i,o){var u=Mt(i,4);return[se(u[0],u[1],u[2],u[3],o),i[3]]},cu=function(i,o){for(var u,s=i.x,p=i.y,l=Yn(o),h=Number.MAX_SAFE_INTEGER,m=[],E=0;E<l.length;E++)m.push({start:l[E],end:l[(E+1)%l.length]});if(m.forEach(function(F){var ne=F.start,ye=F.end;if(ne.x===ye.x){var we={x:ne.x,y:p};if(La(we,ne,ye)){var Ue=Math.abs(ne.x-s);Ue<h&&(h=Ue,u=we)}}else if(ne.y===ye.y){var ze={x:s,y:ne.y};if(La(ze,ne,ye)){var ot=Math.abs(ne.y-p);ot<h&&(h=ot,u=ze)}}}),!u){var A=m[0],R=A.start,L=A.end;u={x:R.x+(L.x-R.x)/2,y:R.y+(L.y-R.y)/2}}return u},oe=function(i){return fa(i,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},Xe=function(i,o){return Math.sqrt(Math.pow(i.x-o.x,2)+Math.pow(i.y-o.y,2))};function Be(i,o){return typeof o!="function"?function(u,s,p){return Object.assign({type:i.edgeType},p)}:function(u,s,p){var l=o(u,s,p);return l?typeof l=="string"?Object.assign({},p,{type:l}):Object.assign({type:l},p):{type:i.edgeType}}}n(208);var $t=function(){};function Jr(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function q(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}var U=function(){function i(s){var p=this,l=s.onDragStart,h=l===void 0?$t:l,m=s.onDragging,E=m===void 0?$t:m,A=s.onDragEnd,R=A===void 0?$t:A,L=s.eventType,F=L===void 0?"":L,ne=s.eventCenter,ye=ne===void 0?null:ne,we=s.step,Ue=we===void 0?1:we,ze=s.isStopPropagation,ot=ze===void 0||ze,Tt=s.model,er=Tt===void 0?null:Tt,Qt=s.data,Rr=Qt===void 0?null:Qt;(function(Zt,_r){if(!(Zt instanceof _r))throw new TypeError("Cannot call a class as a function")})(this,i),q(this,"onDragStart",void 0),q(this,"onDragging",void 0),q(this,"onDragEnd",void 0),q(this,"step",void 0),q(this,"isStopPropagation",void 0),q(this,"isDragging",!1),q(this,"isStartDragging",!1),q(this,"startX",0),q(this,"startY",0),q(this,"sumDeltaX",0),q(this,"sumDeltaY",0),q(this,"eventType",void 0),q(this,"eventCenter",void 0),q(this,"model",void 0),q(this,"data",void 0),q(this,"startTime",void 0),q(this,"handleMouseDown",function(Zt){var _r,ur,hn,On=(_r=window)===null||_r===void 0?void 0:_r.document;if(Zt.button===0){p.isStopPropagation&&Zt.stopPropagation(),p.isStartDragging=!0,p.startX=Zt.clientX,p.startY=Zt.clientY,On.addEventListener("mousemove",p.handleMouseMove,!1),On.addEventListener("mouseup",p.handleMouseUp,!1);var Vr=(ur=p.model)===null||ur===void 0?void 0:ur.getData();(hn=p.eventCenter)===null||hn===void 0||hn.emit(gr["".concat(p.eventType,"_MOUSEDOWN")],{e:Zt,data:p.data||Vr}),p.startTime=new Date().getTime()}}),q(this,"handleMouseMove",function(Zt){if(p.isStopPropagation&&Zt.stopPropagation(),p.isStartDragging&&(p.sumDeltaX+=Zt.clientX-p.startX,p.sumDeltaY+=Zt.clientY-p.startY,p.startX=Zt.clientX,p.startY=Zt.clientY,p.step<=1||Math.abs(p.sumDeltaX)>p.step||Math.abs(p.sumDeltaY)>p.step)){var _r,ur=p.sumDeltaX%p.step,hn=p.sumDeltaY%p.step,On=p.sumDeltaX-ur,Vr=p.sumDeltaY-hn;p.sumDeltaX=ur,p.sumDeltaY=hn;var Rn,Uo=(_r=p.model)===null||_r===void 0?void 0:_r.getData();p.isDragging||((Rn=p.eventCenter)===null||Rn===void 0||Rn.emit(gr["".concat(p.eventType,"_DRAGSTART")],{e:Zt,data:p.data||Uo}),p.onDragStart({event:Zt})),p.isDragging=!0,Promise.resolve().then(function(){var zo,Gi;p.onDragging({deltaX:On,deltaY:Vr,event:Zt}),(zo=p.eventCenter)===null||zo===void 0||zo.emit(gr["".concat(p.eventType,"_MOUSEMOVE")],{e:Zt,data:p.data||Uo}),(Gi=p.eventCenter)===null||Gi===void 0||Gi.emit(gr["".concat(p.eventType,"_DRAG")],{e:Zt,data:p.data||Uo})})}}),q(this,"handleMouseUp",function(Zt){var _r=window.document;p.isStartDragging=!1,p.isStopPropagation&&Zt.stopPropagation(),Promise.resolve().then(function(){var ur,hn,On;_r.removeEventListener("mousemove",p.handleMouseMove,!1),_r.removeEventListener("mouseup",p.handleMouseUp,!1);var Vr=(ur=p.model)===null||ur===void 0?void 0:ur.getData();(hn=p.eventCenter)===null||hn===void 0||hn.emit(gr["".concat(p.eventType,"_MOUSEUP")],{e:Zt,data:p.data||Vr}),p.isDragging&&(p.isDragging=!1,p.onDragEnd({event:Zt}),(On=p.eventCenter)===null||On===void 0||On.emit(gr["".concat(p.eventType,"_DROP")],{e:Zt,data:p.data||Vr}))})}),q(this,"cancelDrag",function(){var Zt,_r=(Zt=window)===null||Zt===void 0?void 0:Zt.document;_r.removeEventListener("mousemove",p.handleMouseMove,!1),_r.removeEventListener("mouseup",p.handleMouseUp,!1),p.onDragEnd({event:null}),p.isDragging=!1}),this.onDragStart=h,this.onDragging=E,this.onDragEnd=R,this.step=Ue,this.isStopPropagation=ot,this.eventType=F,this.eventCenter=ye,this.model=er,this.data=Rr}var o,u;return o=i,(u=[{key:"setStep",value:function(s){this.step=s}},{key:"setModel",value:function(s){this.model=s}}])&&Jr(o.prototype,u),i}();function ge(i){return ge=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},ge(i)}function Me(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function De(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function Ee(i,o,u){return o&&De(i.prototype,o),u&&De(i,u),i}function me(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),o&&d(i,o)}function Pe(i){var o=Fe();return function(){var u,s=g(i);if(o){var p=g(this).constructor;u=Reflect.construct(s,arguments,p)}else u=s.apply(this,arguments);return Q(this,u)}}function Q(i,o){if(o&&(ge(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return he(i)}function he(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function Z(i){var o=typeof Map=="function"?new Map:void 0;return Z=function(u){if(u===null||(s=u,Function.toString.call(s).indexOf("[native code]")===-1))return u;var s;if(typeof u!="function")throw new TypeError("Super expression must either be null or a function");if(o!==void 0){if(o.has(u))return o.get(u);o.set(u,p)}function p(){return je(u,arguments,g(this).constructor)}return p.prototype=Object.create(u.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),d(p,u)},Z(i)}function je(i,o,u){return je=Fe()?Reflect.construct:function(s,p,l){var h=[null];h.push.apply(h,p);var m=new(Function.bind.apply(s,h));return l&&d(m,l.prototype),m},je.apply(null,arguments)}function Fe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function d(i,o){return d=Object.setPrototypeOf||function(u,s){return u.__proto__=s,u},d(i,o)}function g(i){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},g(i)}function _(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}function T(i,o){return i instanceof B&&o instanceof B}var D=function(i){me(u,i);var o=Pe(u);function u(s,p,l){var h;return Me(this,u),_(he(h=o.call(this,3)),"x",void 0),_(he(h),"y",void 0),_(he(h),"z",void 0),h[0]=s,h[1]=p,h[2]=l,h.x=s,h.y=p,h.z=l,Object.setPrototypeOf(he(h),u.prototype),h}return Ee(u,[{key:"add",value:function(s){if(T(this,s))return new B(this.x+s.x,this.y+s.y);var p=this.z+s.z;return new te((this.x+s.x)/p,(this.y+s.y)/p)}},{key:"subtract",value:function(s){if(T(this,s))return new B(this.x-s.x,this.y-s.y);var p=this.z-s.z;return p===0?new B(this.x-s.x,this.y-s.y):new te((this.x-s.x)/p,(this.y-s.y)/p)}}]),u}(Z(Array)),B=function(i){me(u,i);var o=Pe(u);function u(s,p,l){var h;return Me(this,u),h=o.call(this,s,p,l!=null?l:0),Object.setPrototypeOf(he(h),u.prototype),h}return Ee(u,[{key:"toString",value:function(){return"Vector"}},{key:"dot",value:function(s){var p=this;return s.reduce(function(l,h,m){return l+h*p[m]})}},{key:"cross",value:function(s){return new u(this.y*s.z-this.z*s.y,this.z*s.x-this.x*s.z,this.x*s.y-this.y*s.x)}},{key:"getLength",value:function(){return Math.hypot(this.x,this.y)}},{key:"normalize",value:function(){var s=this.getLength();return new u(this.x/s,this.y/s)}},{key:"crossZ",value:function(s){return this.x*s.y-this.y*s.x}},{key:"angle",value:function(s){var p=this.crossZ(s),l=Math.acos(this.normalize().dot(s.normalize()));return p>=0?l:-l}}]),u}(D),te=function(i){me(u,i);var o=Pe(u);function u(s,p){var l;return Me(this,u),l=o.call(this,s,p,1),Object.setPrototypeOf(he(l),u.prototype),l}return Ee(u,[{key:"toString",value:function(){return"Point"}}]),u}(D);n(67),n(218);function le(i){return le=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},le(i)}function Re(i,o){return function(u){if(Array.isArray(u))return u}(i)||function(u,s){var p=u==null?null:typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(p!=null){var l,h,m=[],E=!0,A=!1;try{for(p=p.call(u);!(E=(l=p.next()).done)&&(m.push(l.value),!s||m.length!==s);E=!0);}catch(R){A=!0,h=R}finally{try{E||p.return==null||p.return()}finally{if(A)throw h}}return m}}(i,o)||ut(i,o)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function rt(i){return function(o){if(Array.isArray(o))return Nt(o)}(i)||function(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}(i)||ut(i)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ut(i,o){if(i){if(typeof i=="string")return Nt(i,o);var u=Object.prototype.toString.call(i).slice(8,-1);return u==="Object"&&i.constructor&&(u=i.constructor.name),u==="Map"||u==="Set"?Array.from(i):u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)?Nt(i,o):void 0}}function Nt(i,o){(o==null||o>i.length)&&(o=i.length);for(var u=0,s=new Array(o);u<o;u++)s[u]=i[u];return s}function dr(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function cr(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function Mr(i,o,u){return o&&cr(i.prototype,o),u&&cr(i,u),i}function gt(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),o&&xr(i,o)}function Ut(i){var o=mn();return function(){var u,s=Lr(i);if(o){var p=Lr(this).constructor;u=Reflect.construct(s,arguments,p)}else u=s.apply(this,arguments);return qr(this,u)}}function qr(i,o){if(o&&(le(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nr(i)}function nr(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function Hr(i){var o=typeof Map=="function"?new Map:void 0;return Hr=function(u){if(u===null||(s=u,Function.toString.call(s).indexOf("[native code]")===-1))return u;var s;if(typeof u!="function")throw new TypeError("Super expression must either be null or a function");if(o!==void 0){if(o.has(u))return o.get(u);o.set(u,p)}function p(){return zr(u,arguments,Lr(this).constructor)}return p.prototype=Object.create(u.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),xr(p,u)},Hr(i)}function zr(i,o,u){return zr=mn()?Reflect.construct:function(s,p,l){var h=[null];h.push.apply(h,p);var m=new(Function.bind.apply(s,h));return l&&xr(m,l.prototype),m},zr.apply(null,arguments)}function mn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function xr(i,o){return xr=Object.setPrototypeOf||function(u,s){return u.__proto__=s,u},xr(i,o)}function Lr(i){return Lr=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},Lr(i)}function Oo(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}var Ve,fu,Vo,zu,bs,xl,wd,gf,ac,kh,Lh,xd,xp,uc=function(i){gt(u,i);var o=Ut(u);function u(){var s;dr(this,u);for(var p=arguments.length,l=new Array(p),h=0;h<p;h++)l[h]=arguments[h];return Oo(nr(s=o.call(this,l.length)),"rows",void 0),Oo(nr(s),"columns",void 0),s.fill(new Array(3)),l.forEach(function(m,E){s[E]=m}),s.columns=l[0].length,s.rows=l.length,Object.setPrototypeOf(nr(s),u.prototype),s}return Mr(u,[{key:"getRow",value:function(s){return this[s]}},{key:"getColumn",value:function(s){return rt(this.map(function(p){return p[s]}))}},{key:"transpose",value:function(){for(var s=[],p=0;p<this.columns;p++)s.push(this.getColumn(p));return zr(u,s)}},{key:"cross",value:function(s){var p=new Array(this.rows).fill("").map(function(){return[]});if(this.columns===s.rows)for(var l=0;l<this.rows;l++)for(var h=this.getRow(l),m=function(A){var R=s.getColumn(A);p[l][A]=h.reduce(function(L,F,ne){return L+F*R[ne]},0)},E=0;E<s.columns;E++)m(E);return zr(u,rt(p))}},{key:"to2D",value:function(){return this.map(function(s){return[s[0],s[1]]})}},{key:"toPoints",value:function(){return this.map(function(s){return new te(s[0],s[1])})}},{key:"toString",value:function(){var s=Re(this[0],2),p=s[0],l=s[1],h=Re(this[1],2),m=h[0],E=h[1],A=Re(this[2],2),R=A[0],L=A[1];return"matrix(".concat(p," ").concat(l," ").concat(m," ").concat(E," ").concat(R," ").concat(L,")")}},{key:"translate",value:function(s,p){return this.cross(new sc(s,p))}},{key:"rotate",value:function(s){return this.cross(new Sd(s))}},{key:"scale",value:function(s,p){return this.cross(new Fh(s,p))}}]),u}(Hr(Array)),Sd=function(i){gt(u,i);var o=Ut(u);function u(s){var p;return dr(this,u),p=o.call(this,new B(+Math.cos(s).toFixed(2),+Math.sin(s).toFixed(2),0),new B(-Math.sin(s).toFixed(2),+Math.cos(s).toFixed(2),0),new B(0,0,1)),Object.setPrototypeOf(nr(p),u.prototype),p}return Mr(u,[{key:"inverse",value:function(){return this.transpose()}}]),u}(uc),Fh=function(i){gt(u,i);var o=Ut(u);function u(s,p){var l;return dr(this,u),Oo(nr(l=o.call(this,new B(s,0,0),new B(0,p,0),new B(0,0,1))),"sx",void 0),Oo(nr(l),"sy",void 0),l.sx=s,l.sy=p,Object.setPrototypeOf(nr(l),u.prototype),l}return Mr(u,[{key:"inverse",value:function(){return new u(1/this.sx,1/this.sy)}}]),u}(uc),sc=function(i){gt(u,i);var o=Ut(u);function u(s,p){var l;return dr(this,u),Oo(nr(l=o.call(this,new B(1,0,0),new B(0,1,0),new B(s,p,1))),"tx",void 0),Oo(nr(l),"ty",void 0),l.tx=s,l.ty=p,Object.setPrototypeOf(nr(l),u.prototype),l}return Mr(u,[{key:"inverse",value:function(){return new u(-this.tx,-this.ty)}}]),u}(uc),Ad={node:!1,edge:!1},BR={node:!0,edge:!0};function w1(i,o){var u=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);o&&(s=s.filter(function(p){return Object.getOwnPropertyDescriptor(i,p).enumerable})),u.push.apply(u,s)}return u}function Rv(i){for(var o=1;o<arguments.length;o++){var u=arguments[o]!=null?arguments[o]:{};o%2?w1(Object(u),!0).forEach(function(s){_s(i,s,u[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(u)):w1(Object(u)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(u,s))})}return i}function Sp(i,o){return function(u){if(Array.isArray(u))return u}(i)||function(u,s){var p=u==null?null:typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(p!=null){var l,h,m=[],E=!0,A=!1;try{for(p=p.call(u);!(E=(l=p.next()).done)&&(m.push(l.value),!s||m.length!==s);E=!0);}catch(R){A=!0,h=R}finally{try{E||p.return==null||p.return()}finally{if(A)throw h}}return m}}(i,o)||x1(i,o)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ap(i){return function(o){if(Array.isArray(o))return Fg(o)}(i)||function(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}(i)||x1(i)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function x1(i,o){if(i){if(typeof i=="string")return Fg(i,o);var u=Object.prototype.toString.call(i).slice(8,-1);return u==="Object"&&i.constructor&&(u=i.constructor.name),u==="Map"||u==="Set"?Array.from(i):u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)?Fg(i,o):void 0}}function Fg(i,o){(o==null||o>i.length)&&(o=i.length);for(var u=0,s=new Array(o);u<o;u++)s[u]=i[u];return s}function jv(i){return jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},jv(i)}function $u(i,o,u,s){u&&Object.defineProperty(i,o,{enumerable:u.enumerable,configurable:u.configurable,writable:u.writable,value:u.initializer?u.initializer.call(s):void 0})}function GR(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function _s(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}function Cr(i,o,u,s,p){var l={};return Object.keys(s).forEach(function(h){l[h]=s[h]}),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=u.slice().reverse().reduce(function(h,m){return m(i,o,h)||h},l),p&&l.initializer!==void 0&&(l.value=l.initializer?l.initializer.call(p):void 0,l.initializer=void 0),l.initializer===void 0&&(Object.defineProperty(i,o,l),l=null),l}var S1,A1=200,T1=(Ve=function(){function i(s){(function(ne,ye){if(!(ne instanceof ye))throw new TypeError("Cannot call a class as a function")})(this,i),_s(this,"rootEl",void 0),$u(this,"width",fu,this),$u(this,"height",Vo,this),_s(this,"theme",void 0),_s(this,"eventCenter",void 0),_s(this,"modelMap",new Map),_s(this,"topElement",void 0),_s(this,"animation",void 0),_s(this,"idGenerator",void 0),_s(this,"edgeGenerator",void 0),_s(this,"nodeMoveRules",[]),_s(this,"customTrajectory",void 0),$u(this,"edgeType",zu,this),$u(this,"nodes",bs,this),$u(this,"edges",xl,this),$u(this,"overlapMode",wd,this),$u(this,"background",gf,this),$u(this,"transformModel",ac,this),$u(this,"editConfigModel",kh,this),$u(this,"gridSize",Lh,this),$u(this,"partial",xd,this),$u(this,"fakerNode",xp,this);var p,l=s.container,h=s.background,m=h===void 0?{}:h,E=s.grid,A=s.idGenerator,R=s.edgeGenerator,L=s.animation,F=s.customTrajectory;this.background=m,jv(E)==="object"&&(this.gridSize=E.size),this.rootEl=l,this.editConfigModel=new tl(s),this.eventCenter=new ef,this.transformModel=new td(this.eventCenter,s),this.theme=Ws(s.style),this.edgeType=s.edgeType||"polyline",this.width=s.width,this.height=s.height,this.animation=(p=L)&&typeof p!="boolean"?Du(Jn(Ad),p):Jn(p===!0?BR:Ad),this.partial=s.partial,this.overlapMode=s.overlapMode||0,this.idGenerator=A,this.customTrajectory=F,this.edgeGenerator=Be(this,R),this.width=s.width||this.rootEl.getBoundingClientRect().width,this.height=s.height||this.rootEl.getBoundingClientRect().height,this.flowId=ha()}var o,u;return o=i,u=[{key:"nodesMap",get:function(){return this.nodes.reduce(function(s,p,l){return s[p.id]={index:l,model:p},s},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(s,p,l){return s[p.id]={index:l,model:p},s},{})}},{key:"modelsMap",get:function(){return[].concat(Ap(this.nodes),Ap(this.edges)).reduce(function(s,p){return s[p.id]=p,s},{})}},{key:"sortElements",get:function(){var s=[];this.nodes.forEach(function(A){return s.push(A)}),this.edges.forEach(function(A){return s.push(A)}),s=s.sort(function(A,R){return A.zIndex-R.zIndex});for(var p=[],l=[-200,-200],h=[this.width+A1,this.height+A1],m=0;m<s.length;m++){var E=s[m];E.visible&&(!this.partial||E.isSelected||this.isElementInArea(E,l,h,!1,!1))&&p.push(E)}return p}},{key:"textEditElement",get:function(){var s=this.nodes.find(function(l){return l.state===Pn.TEXT_EDIT}),p=this.edges.find(function(l){return l.state===Pn.TEXT_EDIT});return s||p}},{key:"selectElements",get:function(){var s=new Map;return this.nodes.forEach(function(p){p.isSelected&&s.set(p.id,p)}),this.edges.forEach(function(p){p.isSelected&&s.set(p.id,p)}),s}},{key:"selectNodes",get:function(){var s=[];return this.nodes.forEach(function(p){p.isSelected&&s.push(p)}),s}},{key:"getAreaElement",value:function(s,p){var l=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],h=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],m=arguments.length>4&&arguments[4]!==void 0&&arguments[4],E=[],A=[];this.nodes.forEach(function(F){return A.push(F)}),this.edges.forEach(function(F){return A.push(F)});for(var R=0;R<A.length;R++){var L=A[R];m&&!L.visible||!this.isElementInArea(L,s,p,l,h)||E.push(L)}return E}},{key:"getModel",value:function(s){return this.modelMap.get(s)}},{key:"getNodeModelById",value:function(s){var p;return this.fakerNode&&s===this.fakerNode.id?this.fakerNode:(p=this.nodesMap[s])===null||p===void 0?void 0:p.model}},{key:"getPointByClient",value:function(s){var p=s.x,l=s.y,h=this.rootEl.getBoundingClientRect(),m={x:p-h.left,y:l-h.top},E=Sp(this.transformModel.HtmlPointToCanvasPoint([m.x,m.y]),2);return{domOverlayPosition:m,canvasOverlayPosition:{x:E[0],y:E[1]}}}},{key:"isElementInArea",value:function(s,p,l){var h=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],m=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];if(s.BaseType===Fn.NODE){for(var E=li(s=s),A=E.minX,R=E.minY,L=E.maxX,F=E.maxY,ne=[{x:A,y:R},{x:L,y:R},{x:L,y:F},{x:A,y:F}],ye=m,we=0;we<ne.length;we++){var Ue=ne[we],ze=Ue.x,ot=Ue.y,Tt=this.transformModel.CanvasPointToHtmlPoint([ze,ot]),er=Sp(Tt,2);if(ze=er[0],ot=er[1],hl([ze,ot],p,l)!==m){ye=!m;break}}return ye}if(s.BaseType===Fn.EDGE){var Qt=s=s,Rr=Qt.startPoint,Zt=Qt.endPoint,_r=this.transformModel.CanvasPointToHtmlPoint([Rr.x,Rr.y]),ur=this.transformModel.CanvasPointToHtmlPoint([Zt.x,Zt.y]),hn=hl(_r,p,l),On=hl(ur,p,l);return h?hn&&On:hn||On}return!1}},{key:"graphDataToModel",value:function(s){var p=this;if(this.width&&this.height||this.resize(),!s)return this.nodes=[],void(this.edges=[]);s.nodes?this.nodes=qf(s.nodes,function(l){return p.getModelAfterSnapToGrid(l)}):this.nodes=[],s.edges?this.edges=qf(s.edges,function(l){var h=p.getModel(l.type);if(!h)throw new Error("\u627E\u4E0D\u5230".concat(l.type,"\u5BF9\u5E94\u7684\u8FB9\u3002"));return new h(l,p)}):this.edges=[]}},{key:"modelToGraphData",value:function(){var s=[];this.edges.forEach(function(l){var h=l.getData();h&&!l.virtual&&s.push(h)});var p=[];return this.nodes.forEach(function(l){var h=l.getData();h&&!l.virtual&&p.push(h)}),{nodes:p,edges:s}}},{key:"modelToHistoryData",value:function(){for(var s=!1,p=[],l=0;l<this.nodes.length;l++){var h=this.nodes[l];if(h.isDragging){s=!0;break}p.push(h.getHistoryData())}if(s)return!1;for(var m=!1,E=[],A=0;A<this.edges.length;A++){var R=this.edges[A];if(R.isDragging){m=!0;break}E.push(R.getHistoryData())}return!m&&{nodes:p,edges:E}}},{key:"getEdgeModelById",value:function(s){var p;return(p=this.edgesMap[s])===null||p===void 0?void 0:p.model}},{key:"getElement",value:function(s){return this.modelsMap[s]}},{key:"getNodeEdges",value:function(s){for(var p=[],l=0;l<this.edges.length;l++){var h=this.edges[l],m=this.edges[l].sourceNodeId===s,E=this.edges[l].targetNodeId===s;(m||E)&&p.push(h)}return p}},{key:"getSelectElements",value:function(){var s=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],p=this.selectElements,l={nodes:[],edges:[]};return p.forEach(function(h){if(h.BaseType===Fn.NODE&&l.nodes.push(h.getData()),h.BaseType===Fn.EDGE){var m=h.getData(),E=p.get(m.sourceNodeId)&&p.get(m.targetNodeId);(s||E)&&l.edges.push(m)}}),l}},{key:"updateAttributes",value:function(s,p){this.getElement(s).updateAttributes(p)}},{key:"changeNodeId",value:function(s,p){return p||(p=ha()),this.nodesMap[p]?"":this.nodesMap[s]?(this.edges.forEach(function(l){l.sourceNodeId===s&&(l.sourceNodeId=p),l.targetNodeId===s&&(l.targetNodeId=p)}),this.nodesMap[s].model.id=p,this.nodesMap[p]=this.nodesMap[s],p):""}},{key:"changeEdgeId",value:function(s,p){return p||(p=ha()),this.edgesMap[p]?"":this.edgesMap[s]?(this.edges.forEach(function(l){l.id===s&&l.changeEdgeId(p)}),p):""}},{key:"setFakerNode",value:function(s){this.fakerNode=s}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(s,p){return this.modelMap.set(s,p)}},{key:"toFront",value:function(s){var p,l,h,m=((p=this.nodesMap[s])===null||p===void 0?void 0:p.model)||((l=this.edgesMap[s])===null||l===void 0?void 0:l.model);m&&(this.overlapMode===Zn.DEFAULT&&((h=this.topElement)===null||h===void 0||h.setZIndex(),m.setZIndex(9999),this.topElement=m),this.overlapMode===Zn.INCREASE&&this.setElementZIndex(s,"top"))}},{key:"setElementZIndex",value:function(s,p){var l,h,m,E=((l=this.nodesMap[s])===null||l===void 0?void 0:l.model)||((h=this.edgesMap[s])===null||h===void 0?void 0:h.model);E&&(typeof p=="number"&&(m=p),p==="top"&&(m=uu()),p==="bottom"&&(m=--hf),E.setZIndex(m))}},{key:"deleteNode",value:function(s){var p=this.nodesMap[s].model.getData();this.deleteEdgeBySource(s),this.deleteEdgeByTarget(s),this.nodes.splice(this.nodesMap[s].index,1),this.eventCenter.emit(gr.NODE_DELETE,{data:p})}},{key:"addNode",value:function(s){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gr.NODE_ADD,l=arguments.length>2?arguments[2]:void 0,h=Po(s);h.id&&this.nodesMap[s.id]&&delete h.id;var m=this.getModelAfterSnapToGrid(h);this.nodes.push(m);var E=m.getData(),A={data:E};return l&&(A.e=l),this.eventCenter.emit(p,A),m}},{key:"getModelAfterSnapToGrid",value:function(s){var p=this.getModel(s.type);if(!p)throw new Error("\u627E\u4E0D\u5230".concat(s.type,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var l=s.x,h=s.y;return l&&h&&(s.x=Da(l,this.gridSize),s.y=Da(h,this.gridSize),jv(s.text)==="object"&&(s.text.x+=s.x-l,s.text.y+=s.y-h)),new p(s,this)}},{key:"cloneNode",value:function(s){var p=this.getNodeModelById(s),l=p.getData();l.x+=30,l.y+=30,delete l.id,l.text&&(l.text.x+=30,l.text.y+=30);var h=this.addNode(l);return h.setSelected(!0),p.setSelected(!1),h.getData()}},{key:"moveNode",value:function(s,p,l){var h=arguments.length>3&&arguments[3]!==void 0&&arguments[3],m=this.nodesMap[s];if(m){var E=m.model,A=E.getMoveDistance(p,l,h),R=Sp(A,2);p=R[0],l=R[1],this.moveEdge(s,p,l)}}},{key:"moveNode2Coordinate",value:function(s,p,l){var h=arguments.length>3&&arguments[3]!==void 0&&arguments[3],m=this.nodesMap[s];if(m){var E=m.model,A=E.x,R=E.y,L=p-A,F=l-R;this.moveNode(s,L,F,h)}}},{key:"editText",value:function(s){this.setElementStateById(s,Pn.TEXT_EDIT)}},{key:"addEdge",value:function(s){var p=Po(s),l=p.type;l||(l=this.edgeType),p.id&&this.edgesMap[p.id]&&delete p.id;var h=this.getModel(l);if(!h)throw new Error("\u627E\u4E0D\u5230".concat(l,"\u5BF9\u5E94\u7684\u8FB9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8FB9\u3002"));var m=new h(Rv(Rv({},p),{},{type:l}),this),E=m.getData();return this.edges.push(m),this.eventCenter.emit(gr.EDGE_ADD,{data:E}),m}},{key:"moveEdge",value:function(s,p,l){for(var h=0;h<this.edges.length;h++){var m=this.edges[h],E=m.textPosition,A=E.x,R=E.y,L=this.edges[h].sourceNodeId===s,F=this.edges[h].targetNodeId===s;L&&m.moveStartPoint(p,l),F&&m.moveEndPoint(p,l),(L||F)&&this.handleEdgeTextMove(m,A,R)}}},{key:"handleEdgeTextMove",value:function(s,p,l){var h;if(s.customTextPosition===!0)s.resetTextPosition();else if(s.modelType===on.POLYLINE_EDGE&&(h=s.text)!==null&&h!==void 0&&h.value){var m=s.text,E=cu(m,s.points);s.moveText(E.x-m.x,E.y-m.y)}else{var A=s.textPosition,R=A.x,L=A.y;s.moveText(R-p,L-l)}}},{key:"deleteEdgeBySourceAndTarget",value:function(s,p){for(var l=0;l<this.edges.length;l++)if(this.edges[l].sourceNodeId===s&&this.edges[l].targetNodeId===p){var h=this.edges[l].getData();this.edges.splice(l,1),l--,this.eventCenter.emit(gr.EDGE_DELETE,{data:h})}}},{key:"deleteEdgeById",value:function(s){if(this.edgesMap[s]){var p=this.edgesMap[s].index,l=this.edgesMap[s].model.getData();this.edges.splice(p,1),this.eventCenter.emit(gr.EDGE_DELETE,{data:l})}}},{key:"deleteEdgeBySource",value:function(s){for(var p=0;p<this.edges.length;p++)if(this.edges[p].sourceNodeId===s){var l=this.edges[p].getData();this.edges.splice(p,1),p--,this.eventCenter.emit(gr.EDGE_DELETE,{data:l})}}},{key:"deleteEdgeByTarget",value:function(s){for(var p=0;p<this.edges.length;p++)if(this.edges[p].targetNodeId===s){var l=this.edges[p].getData();this.edges.splice(p,1),p--,this.eventCenter.emit(gr.EDGE_DELETE,{data:l})}}},{key:"setElementStateById",value:function(s,p,l){this.nodes.forEach(function(h){h.id===s?h.setElementState(p,l):h.setElementState(Pn.DEFAULT)}),this.edges.forEach(function(h){h.id===s?h.setElementState(p,l):h.setElementState(Pn.DEFAULT)})}},{key:"updateText",value:function(s,p){this.nodes.forEach(function(l){l.id===s&&l.updateText(p)}),this.edges.forEach(function(l){l.id===s&&l.updateText(p)})}},{key:"selectNodeById",value:function(s){var p,l=arguments.length>1&&arguments[1]!==void 0&&arguments[1];l||this.clearSelectElements();var h=(p=this.nodesMap[s])===null||p===void 0?void 0:p.model;h==null||h.setSelected(!0)}},{key:"selectEdgeById",value:function(s){var p,l=arguments.length>1&&arguments[1]!==void 0&&arguments[1];l||this.clearSelectElements();var h=(p=this.edgesMap[s])===null||p===void 0?void 0:p.model;h==null||h.setSelected(!0)}},{key:"selectElementById",value:function(s){var p=arguments.length>1&&arguments[1]!==void 0&&arguments[1];p||this.clearSelectElements();var l=this.getElement(s);l==null||l.setSelected(!0)}},{key:"clearSelectElements",value:function(){var s;this.selectElements.forEach(function(p){p==null||p.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===Zn.DEFAULT&&((s=this.topElement)===null||s===void 0||s.setZIndex())}},{key:"moveNodes",value:function(s,p,l){for(var h=this,m=arguments.length>3&&arguments[3]!==void 0&&arguments[3],E=s.reduce(function(Qt,Rr){var Zt=h.nodesMap[Rr].model.getMoveDistance(p,l,m);return Qt[Rr]=Zt,Qt},{}),A=0;A<this.edges.length;A++){var R=this.edges[A],L=R.textPosition,F=L.x,ne=L.y,ye=E[R.sourceNodeId],we=E[R.targetNodeId],Ue=void 0,ze=void 0;if(ye&&we&&R.modelType===on.POLYLINE_EDGE){var ot=Sp(ye,2);Ue=ot[0],ze=ot[1],R.updatePointsList(Ue,ze)}else{if(ye){var Tt=Sp(ye,2);Ue=Tt[0],ze=Tt[1],R.moveStartPoint(Ue,ze)}if(we){var er=Sp(we,2);Ue=er[0],ze=er[1],R.moveEndPoint(Ue,ze)}}(ye||we)&&this.handleEdgeTextMove(R,F,ne)}}},{key:"addNodeMoveRules",value:function(s){this.nodeMoveRules.includes(s)||this.nodeMoveRules.push(s)}},{key:"setDefaultEdgeType",value:function(s){this.edgeType=s}},{key:"changeNodeType",value:function(s,p){var l=this.getNodeModelById(s);if(l){var h=l.getData();h.type=p;var m=this.getModel(p);if(!m)throw new Error("\u627E\u4E0D\u5230".concat(p,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var E=new m(h,this);this.nodes.splice(this.nodesMap[s].index,1,E),this.getNodeEdges(s).forEach(function(A){if(A.sourceNodeId===s){var R=rc(E,A.startPoint,E.width,E.height);A.updateStartPoint(R)}if(A.targetNodeId===s){var L=rc(E,A.endPoint,E.width,E.height);A.updateEndPoint(L)}})}}},{key:"changeEdgeType",value:function(s,p){var l=this.getEdgeModelById(s);if(l&&l.type!==p){var h=l.getData();h.type=p;var m=this.getModel(p);if(!m)throw new Error("\u627E\u4E0D\u5230".concat(p,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));delete h.pointsList;var E=new m(h,this);this.edges.splice(this.edgesMap[s].index,1,E)}}},{key:"getNodeIncomingEdge",value:function(s){var p=[];return this.edges.forEach(function(l){l.targetNodeId===s&&p.push(l)}),p}},{key:"getNodeOutgoingEdge",value:function(s){var p=[];return this.edges.forEach(function(l){l.sourceNodeId===s&&p.push(l)}),p}},{key:"getAnchorIncomingEdge",value:function(s){var p=[];return this.edges.forEach(function(l){l.targetAnchorId===s&&p.push(l)}),p}},{key:"getAnchorOutcomingEdge",value:function(s){var p=[];return this.edges.forEach(function(l){l.sourceAnchorId===s&&p.push(l)}),p}},{key:"getNodeIncomingNode",value:function(s){var p=this,l=[];return this.edges.forEach(function(h){h.targetNodeId===s&&l.push(p.nodesMap[h.sourceNodeId].model)}),l}},{key:"getNodeOutgoingNode",value:function(s){var p=this,l=[];return this.edges.forEach(function(h){h.sourceNodeId===s&&l.push(p.nodesMap[h.targetNodeId].model)}),l}},{key:"setTheme",value:function(s){this.theme=Ws(Rv(Rv({},this.theme),s))}},{key:"resize",value:function(s,p){this.width=s||this.rootEl.getBoundingClientRect().width,this.height=p||this.rootEl.getBoundingClientRect().height,!this.width||this.height}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var s=this.nodes,p=[],l=[];s.forEach(function(L){var F=L.x,ne=L.y,ye=L.width,we=L.height,Ue=L.getNodeStyle().strokeWidth,ze=Ue===void 0?0:Ue,ot=F+ye/2+ze,Tt=F-ye/2-ze,er=ne+we/2+ze,Qt=ne-we/2-ze;p=p.concat([ot,Tt].filter(function(Rr){return!Number.isNaN(Rr)})),l=l.concat([er,Qt].filter(function(Rr){return!Number.isNaN(Rr)}))});var h=Math.min.apply(Math,Ap(p)),m=Math.max.apply(Math,Ap(p)),E=Math.min.apply(Math,Ap(l)),A=m-h||0,R=Math.max.apply(Math,Ap(l))-E||0;return{virtualRectWidth:A,virtualRectHeight:R,virtualRectCenterPositionX:h+A/2,virtualRectCenterPositionY:E+R/2}}},{key:"translateCenter",value:function(){var s=this.nodes,p=this.width,l=this.height,h=this.rootEl,m=this.transformModel;if(s.length){var E=p||h.clientWidth,A=l||h.clientHeight,R=this.getVirtualRectSize(),L=R.virtualRectCenterPositionX,F=R.virtualRectCenterPositionY;m.focusOn(L,F,E,A)}}},{key:"fitView",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,l=this.nodes,h=this.width,m=this.height,E=this.rootEl,A=this.transformModel;if(l.length){var R=h||E.clientWidth,L=m||E.clientHeight,F=this.getVirtualRectSize(),ne=F.virtualRectWidth,ye=F.virtualRectHeight,we=F.virtualRectCenterPositionX,Ue=F.virtualRectCenterPositionY,ze=(ne+p)/R,ot=(ye+s)/L,Tt=0;Tt=1/Math.max(ze,ot);var er=[R/2,L/2];A.zoom(Tt,er),A.focusOn(we,Ue,R,L)}}},{key:"openEdgeAnimation",value:function(s){this.getEdgeModelById(s).openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(s){this.getEdgeModelById(s).closeEdgeAnimation()}}],u&&GR(o.prototype,u),i}(),fu=Cr(Ve.prototype,"width",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vo=Cr(Ve.prototype,"height",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zu=Cr(Ve.prototype,"edgeType",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bs=Cr(Ve.prototype,"nodes",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),xl=Cr(Ve.prototype,"edges",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),wd=Cr(Ve.prototype,"overlapMode",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Zn.DEFAULT}}),gf=Cr(Ve.prototype,"background",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ac=Cr(Ve.prototype,"transformModel",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kh=Cr(Ve.prototype,"editConfigModel",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lh=Cr(Ve.prototype,"gridSize",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),xd=Cr(Ve.prototype,"partial",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),xp=Cr(Ve.prototype,"fakerNode",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cr(Ve.prototype,"nodesMap",[f.m],Object.getOwnPropertyDescriptor(Ve.prototype,"nodesMap"),Ve.prototype),Cr(Ve.prototype,"edgesMap",[f.m],Object.getOwnPropertyDescriptor(Ve.prototype,"edgesMap"),Ve.prototype),Cr(Ve.prototype,"modelsMap",[f.m],Object.getOwnPropertyDescriptor(Ve.prototype,"modelsMap"),Ve.prototype),Cr(Ve.prototype,"sortElements",[f.m],Object.getOwnPropertyDescriptor(Ve.prototype,"sortElements"),Ve.prototype),Cr(Ve.prototype,"textEditElement",[f.m],Object.getOwnPropertyDescriptor(Ve.prototype,"textEditElement"),Ve.prototype),Cr(Ve.prototype,"selectElements",[f.m],Object.getOwnPropertyDescriptor(Ve.prototype,"selectElements"),Ve.prototype),Cr(Ve.prototype,"selectNodes",[f.m],Object.getOwnPropertyDescriptor(Ve.prototype,"selectNodes"),Ve.prototype),Cr(Ve.prototype,"setFakerNode",[f.k],Object.getOwnPropertyDescriptor(Ve.prototype,"setFakerNode"),Ve.prototype),Cr(Ve.prototype,"removeFakerNode",[f.k],Object.getOwnPropertyDescriptor(Ve.prototype,"removeFakerNode"),Ve.prototype),Cr(Ve.prototype,"setModel",[f.k],Object.getOwnPropertyDescriptor(Ve.prototype,"setModel"),Ve.prototype),Cr(Ve.prototype,"toFront",[f.k],Object.getOwnPropertyDescriptor(Ve.prototype,"toFront"),Ve.prototype),Cr(Ve.prototype,"setElementZIndex",[f.k],Object.getOwnPropertyDescriptor(Ve.prototype,"setElementZIndex"),Ve.prototype),Cr(Ve.prototype,"deleteNode",[f.k],Object.getOwnPropertyDescriptor(Ve.prototype,"deleteNode"),Ve.prototype),Cr(Ve.prototype,"addNode",[f.k],Object.getOwnPropertyDescriptor(Ve.prototype,"addNode"),Ve.prototype),Cr(Ve.prototype,"cloneNode",[f.k],Object.getOwnPropertyDescriptor(Ve.prototype,"cloneNode"),Ve.prototype),Cr(Ve.prototype,"moveNode",[f.k],Object.getOwnPropertyDescriptor(Ve.prototype,"moveNode"),Ve.prototype),Cr(Ve.prototype,"moveNode2Coordinate",[f.k],Object.getOwnPropertyDescriptor(Ve.prototype,"moveNode2Coordinate"),Ve.prototype),Cr(Ve.prototype,"editText",[f.k],Object.getOwnPropertyDescriptor(Ve.prototype,"editText"),Ve.prototype),Cr(Ve.prototype,"addEdge",[f.k],Object.getOwnPropertyDescriptor(Ve.prototype,"addEdge"),Ve.prototype),Cr(Ve.prototype,"moveEdge",[f.k],Object.getOwnPropertyDescriptor(Ve.prototype,"moveEdge"),Ve.prototype),Cr(Ve.prototype,"deleteEdgeBySourceAndTarget",[f.k],Object.getOwnPropertyDescriptor(Ve.prototype,"deleteEdgeBySourceAndTarget"),Ve.prototype),Cr(Ve.prototype,"deleteEdgeById",[f.k],Object.getOwnPropertyDescriptor(Ve.prototype,"deleteEdgeById"),Ve.prototype),Cr(Ve.prototype,"deleteEdgeBySource",[f.k],Object.getOwnPropertyDescriptor(Ve.prototype,"deleteEdgeBySource"),Ve.prototype),Cr(Ve.prototype,"deleteEdgeByTarget",[f.k],Object.getOwnPropertyDescriptor(Ve.prototype,"deleteEdgeByTarget"),Ve.prototype),Cr(Ve.prototype,"setElementStateById",[f.k],Object.getOwnPropertyDescriptor(Ve.prototype,"setElementStateById"),Ve.prototype),Cr(Ve.prototype,"updateText",[f.k],Object.getOwnPropertyDescriptor(Ve.prototype,"updateText"),Ve.prototype),Cr(Ve.prototype,"selectNodeById",[f.k],Object.getOwnPropertyDescriptor(Ve.prototype,"selectNodeById"),Ve.prototype),Cr(Ve.prototype,"selectEdgeById",[f.k],Object.getOwnPropertyDescriptor(Ve.prototype,"selectEdgeById"),Ve.prototype),Cr(Ve.prototype,"selectElementById",[f.k],Object.getOwnPropertyDescriptor(Ve.prototype,"selectElementById"),Ve.prototype),Cr(Ve.prototype,"clearSelectElements",[f.k],Object.getOwnPropertyDescriptor(Ve.prototype,"clearSelectElements"),Ve.prototype),Cr(Ve.prototype,"moveNodes",[f.k],Object.getOwnPropertyDescriptor(Ve.prototype,"moveNodes"),Ve.prototype),Cr(Ve.prototype,"setDefaultEdgeType",[f.k],Object.getOwnPropertyDescriptor(Ve.prototype,"setDefaultEdgeType"),Ve.prototype),Cr(Ve.prototype,"changeNodeType",[f.k],Object.getOwnPropertyDescriptor(Ve.prototype,"changeNodeType"),Ve.prototype),Cr(Ve.prototype,"changeEdgeType",[f.k],Object.getOwnPropertyDescriptor(Ve.prototype,"changeEdgeType"),Ve.prototype),Cr(Ve.prototype,"getNodeIncomingEdge",[f.k],Object.getOwnPropertyDescriptor(Ve.prototype,"getNodeIncomingEdge"),Ve.prototype),Cr(Ve.prototype,"getNodeOutgoingEdge",[f.k],Object.getOwnPropertyDescriptor(Ve.prototype,"getNodeOutgoingEdge"),Ve.prototype),Cr(Ve.prototype,"getAnchorIncomingEdge",[f.k],Object.getOwnPropertyDescriptor(Ve.prototype,"getAnchorIncomingEdge"),Ve.prototype),Cr(Ve.prototype,"getAnchorOutcomingEdge",[f.k],Object.getOwnPropertyDescriptor(Ve.prototype,"getAnchorOutcomingEdge"),Ve.prototype),Cr(Ve.prototype,"getNodeIncomingNode",[f.k],Object.getOwnPropertyDescriptor(Ve.prototype,"getNodeIncomingNode"),Ve.prototype),Cr(Ve.prototype,"getNodeOutgoingNode",[f.k],Object.getOwnPropertyDescriptor(Ve.prototype,"getNodeOutgoingNode"),Ve.prototype),Cr(Ve.prototype,"setTheme",[f.k],Object.getOwnPropertyDescriptor(Ve.prototype,"setTheme"),Ve.prototype),Cr(Ve.prototype,"resize",[f.k],Object.getOwnPropertyDescriptor(Ve.prototype,"resize"),Ve.prototype),Cr(Ve.prototype,"clearData",[f.k],Object.getOwnPropertyDescriptor(Ve.prototype,"clearData"),Ve.prototype),Cr(Ve.prototype,"translateCenter",[f.k],Object.getOwnPropertyDescriptor(Ve.prototype,"translateCenter"),Ve.prototype),Cr(Ve.prototype,"fitView",[f.k],Object.getOwnPropertyDescriptor(Ve.prototype,"fitView"),Ve.prototype),Cr(Ve.prototype,"openEdgeAnimation",[f.k],Object.getOwnPropertyDescriptor(Ve.prototype,"openEdgeAnimation"),Ve.prototype),Cr(Ve.prototype,"closeEdgeAnimation",[f.k],Object.getOwnPropertyDescriptor(Ve.prototype,"closeEdgeAnimation"),Ve.prototype),Ve),UR=T1;function Bg(i){return Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Bg(i)}function Gg(){return Gg=Object.assign||function(i){for(var o=1;o<arguments.length;o++){var u=arguments[o];for(var s in u)Object.prototype.hasOwnProperty.call(u,s)&&(i[s]=u[s])}return i},Gg.apply(this,arguments)}function zR(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function Ug(i,o){return Ug=Object.setPrototypeOf||function(u,s){return u.__proto__=s,u},Ug(i,o)}function $R(i){var o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,s=Nv(i);if(o){var p=Nv(this).constructor;u=Reflect.construct(s,arguments,p)}else u=s.apply(this,arguments);return HR(this,u)}}function HR(i,o){if(o&&(Bg(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cc(i)}function cc(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function Nv(i){return Nv=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},Nv(i)}function mf(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}var P1,XR=xs(S1=function(i){(function(l,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(h&&h.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),h&&Ug(l,h)})(p,i);var o,u,s=$R(p);function p(l){var h;(function(R,L){if(!(R instanceof L))throw new TypeError("Cannot call a class as a function")})(this,p),mf(cc(h=s.call(this)),"stepDrag",void 0),mf(cc(h),"stepScrollX",0),mf(cc(h),"stepScrollY",0),mf(cc(h),"onDragging",function(R){var L=R.deltaX,F=R.deltaY;h.setState({isDragging:!0});var ne=h.props.graphModel,ye=ne.transformModel;ne.editConfigModel.stopMoveGraph!==!0&&ye.translate(L,F)}),mf(cc(h),"onDragEnd",function(){h.setState({isDragging:!1})}),mf(cc(h),"zoomHandler",function(R){var L=h.props,F=L.graphModel,ne=F.editConfigModel,ye=F.transformModel,we=F.gridSize,Ue=L.graphModel,ze=R.deltaX,ot=R.deltaY;if(ne.stopScrollGraph||R.ctrlKey===!0){if(!ne.stopZoomGraph){R.preventDefault();var Tt=Ue.getPointByClient({x:R.clientX,y:R.clientY}).canvasOverlayPosition,er=Tt.x,Qt=Tt.y;ye.zoom(R.deltaY<0,[er,Qt])}}else{if(R.preventDefault(),h.stepScrollX+=ze,h.stepScrollY+=ot,Math.abs(h.stepScrollX)>=we){var Rr=h.stepScrollX%we,Zt=h.stepScrollX-Rr;ye.translate(-Zt*ye.SCALE_X,0),h.stepScrollX=Rr}if(Math.abs(h.stepScrollY)>=we){var _r=h.stepScrollY%we,ur=h.stepScrollY-_r;ye.translate(0,-ur*ye.SCALE_Y),h.stepScrollY=_r}}}),mf(cc(h),"clickHandler",function(R){if(R.target.getAttribute("name")==="canvas-overlay"){var L=h.props.graphModel;L.selectElements.size>0&&L.clearSelectElements(),L.eventCenter.emit(gr.BLANK_CLICK,{e:R})}}),mf(cc(h),"handleContextMenu",function(R){if(R.target.getAttribute("name")==="canvas-overlay"){R.preventDefault();var L=h.props.graphModel,F=L.getPointByClient({x:R.clientX,y:R.clientY});L.eventCenter.emit(gr.BLANK_CONTEXTMENU,{e:R,position:F})}}),mf(cc(h),"mouseDownHandler",function(R){var L=h.props.graphModel,F=L.eventCenter,ne=L.editConfigModel,ye=L.transformModel.SCALE_X,we=L.gridSize,Ue=R.target,ze=!ne.adjustEdge&&!ne.adjustNodePosition;(Ue.getAttribute("name")==="canvas-overlay"||ze)&&(ne.stopMoveGraph!==!0?(h.stepDrag.setStep(we*ye),h.stepDrag.handleMouseDown(R)):F.emit(gr.BLANK_MOUSEDOWN,{e:R}),h.clickHandler(R))});var m=l.graphModel,E=m.gridSize,A=m.eventCenter;return h.stepDrag=new U({onDragging:h.onDragging,onDragEnd:h.onDragEnd,step:E,eventType:"BLANK",isStopPropagation:!1,eventCenter:A,model:null}),h.state={isDragging:!1},h}return o=p,(u=[{key:"render",value:function(){var l=this.props.graphModel.transformModel.getTransformStyle().transform,h=this.props,m=h.children,E=h.dnd,A=this.state.isDragging;return Object(Ne.g)("svg",Gg({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:A?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},E.eventMap()),Object(Ne.g)("g",{transform:l},m))}}])&&zR(o.prototype,u),p}(Ne.a))||S1;function zg(i){return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},zg(i)}function WR(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function VR(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function $g(i,o){return $g=Object.setPrototypeOf||function(u,s){return u.__proto__=s,u},$g(i,o)}function YR(i){var o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,s=Mv(i);if(o){var p=Mv(this).constructor;u=Reflect.construct(s,arguments,p)}else u=s.apply(this,arguments);return KR(this,u)}}function KR(i,o){if(o&&(zg(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(i)}function Mv(i){return Mv=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},Mv(i)}var qR=xs(P1=function(i){(function(l,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(h&&h.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),h&&$g(l,h)})(p,i);var o,u,s=YR(p);function p(){return WR(this,p),s.apply(this,arguments)}return o=p,(u=[{key:"componentDidMount",value:function(){this.triggerToolRender()}},{key:"componentDidUpdate",value:function(){this.triggerToolRender()}},{key:"getTools",value:function(){var l=this.props,h=l.tool,m=l.graphModel,E=h.getTools().map(function(A){return Object(Ne.g)(A,{graphModel:m,logicFlow:h.instance})});return h.components=E,E}},{key:"triggerToolRender",value:function(){var l=this.props,h=l.tool,m=l.graphModel,E=document.querySelector("#ToolOverlay_".concat(m.flowId)),A=h.getInstance();A.components.forEach(function(R){return R(A,E)}),A.components=[]}},{key:"render",value:function(){var l=this.props.graphModel;return Object(Ne.g)("div",{className:"lf-tool-overlay",id:"ToolOverlay_".concat(l.flowId)},this.getTools())}}])&&VR(o.prototype,u),p}(Ne.a))||P1;function Hg(i){return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Hg(i)}function ZR(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function JR(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function Xg(i,o){return Xg=Object.setPrototypeOf||function(u,s){return u.__proto__=s,u},Xg(i,o)}function QR(i){var o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,s=Cv(i);if(o){var p=Cv(this).constructor;u=Reflect.construct(s,arguments,p)}else u=s.apply(this,arguments);return ej(this,u)}}function ej(i,o){if(o&&(Hg(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(i)}function Cv(i){return Cv=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},Cv(i)}var R1,tj=function(i){(function(l,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(h&&h.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),h&&Xg(l,h)})(p,i);var o,u,s=QR(p);function p(){return ZR(this,p),s.apply(this,arguments)}return o=p,(u=[{key:"render",value:function(){var l=this.props.background;return Object(Ne.g)("div",{className:"lf-background"},Object(Ne.g)("div",{style:l,className:"lf-background-area"}))}}])&&JR(o.prototype,u),p}(Ne.a);function Wg(i){return Wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Wg(i)}function rj(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function nj(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function Vg(i,o){return Vg=Object.setPrototypeOf||function(u,s){return u.__proto__=s,u},Vg(i,o)}function oj(i){var o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,s=Iv(i);if(o){var p=Iv(this).constructor;u=Reflect.construct(s,arguments,p)}else u=s.apply(this,arguments);return ij(this,u)}}function ij(i,o){if(o&&(Wg(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j1(i)}function j1(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function Iv(i){return Iv=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},Iv(i)}function aj(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}var N1=xs(R1=function(i){(function(l,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(h&&h.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),h&&Vg(l,h)})(p,i);var o,u,s=oj(p);function p(){var l;rj(this,p);for(var h=arguments.length,m=new Array(h),E=0;E<h;E++)m[E]=arguments[E];return aj(j1(l=s.call.apply(s,[this].concat(m))),"id",ha()),l}return o=p,(u=[{key:"renderDot",value:function(){var l=this.props,h=l.config,m=h.color,E=h.thickness,A=E===void 0?2:E,R=l.size,L=l.visible,F=Math.min(Math.max(2,A),R/2),ne=1;return L||(ne=0),Object(Ne.g)("rect",{width:F,height:F,rx:F/2,ry:F/2,fill:m,opacity:ne})}},{key:"renderMesh",value:function(){var l=this.props,h=l.config,m=h.color,E=h.thickness,A=E===void 0?1:E,R=l.size,L=l.visible,F=Math.min(Math.max(1,A),R/2),ne="M ".concat(R," 0 H0 M0 0 V0 ").concat(R),ye=1;return L||(ye=0),Object(Ne.g)("path",{d:ne,stroke:m,strokeWidth:F,opacity:ye})}},{key:"render",value:function(){var l=this.props,h=l.type,m=l.size,E=l.graphModel.transformModel,A=[E.SCALE_X,E.SKEW_Y,E.SKEW_X,E.SCALE_Y,E.TRANSLATE_X,E.TRANSLATE_Y].join(","),R="matrix(".concat(A,")");return Object(Ne.g)("div",{className:"lf-grid"},Object(Ne.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(Ne.g)("defs",null,Object(Ne.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:R,x:"0",y:"0",width:m,height:m},h==="dot"&&this.renderDot(),h==="mesh"&&this.renderMesh())),Object(Ne.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&nj(o.prototype,u),p}(Ne.a))||R1;N1.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},n(53);function Yg(i){return Yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Yg(i)}function uj(i,o){return function(u){if(Array.isArray(u))return u}(i)||function(u,s){var p=u==null?null:typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(p!=null){var l,h,m=[],E=!0,A=!1;try{for(p=p.call(u);!(E=(l=p.next()).done)&&(m.push(l.value),!s||m.length!==s);E=!0);}catch(R){A=!0,h=R}finally{try{E||p.return==null||p.return()}finally{if(A)throw h}}return m}}(i,o)||function(u,s){if(!!u){if(typeof u=="string")return M1(u,s);var p=Object.prototype.toString.call(u).slice(8,-1);if(p==="Object"&&u.constructor&&(p=u.constructor.name),p==="Map"||p==="Set")return Array.from(u);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return M1(u,s)}}(i,o)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function M1(i,o){(o==null||o>i.length)&&(o=i.length);for(var u=0,s=new Array(o);u<o;u++)s[u]=i[u];return s}var C1,Tp=function(i){var o={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(i).forEach(function(u){var s=uj(u,2),p=s[0],l=s[1];(p==="style"||Yg(l)!=="object")&&(o[p]=l)}),Object(Ne.g)("line",o)};function Kg(i){return Kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Kg(i)}function I1(i,o){var u=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);o&&(s=s.filter(function(p){return Object.getOwnPropertyDescriptor(i,p).enumerable})),u.push.apply(u,s)}return u}function Dv(i){for(var o=1;o<arguments.length;o++){var u=arguments[o]!=null?arguments[o]:{};o%2?I1(Object(u),!0).forEach(function(s){sj(i,s,u[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(u)):I1(Object(u)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(u,s))})}return i}function sj(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}function cj(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function fj(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function qg(i,o){return qg=Object.setPrototypeOf||function(u,s){return u.__proto__=s,u},qg(i,o)}function lj(i){var o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,s=kv(i);if(o){var p=kv(this).constructor;u=Reflect.construct(s,arguments,p)}else u=s.apply(this,arguments);return dj(this,u)}}function dj(i,o){if(o&&(Kg(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(i)}function kv(i){return kv=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},kv(i)}var D1,pj=xs(C1=function(i){(function(l,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(h&&h.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),h&&qg(l,h)})(p,i);var o,u,s=lj(p);function p(){return cj(this,p),s.apply(this,arguments)}return o=p,(u=[{key:"render",value:function(){var l=this.props.snaplineModel,h=l.position,m=l.isShowHorizontal,E=l.isShowVertical,A=l.getStyle(),R=h.x,L=R===void 0?0:R,F=h.y,ne=F===void 0?0:F,ye=Dv(Dv({x1:-1e5,y1:ne,x2:1e5,y2:ne},A),{},{stroke:m?A.stroke:"none"}),we=Dv(Dv({x1:L,y1:-1e5,x2:L,y2:1e5},A),{},{stroke:E?A.stroke:"none"});return Object(Ne.g)("g",{className:"lf-snapline"},Object(Ne.g)(Tp,ye),Object(Ne.g)(Tp,we))}}])&&fj(o.prototype,u),p}(Ne.a))||C1;function Zg(i){return Zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Zg(i)}function hj(i,o){return function(u){if(Array.isArray(u))return u}(i)||function(u,s){var p=u==null?null:typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(p!=null){var l,h,m=[],E=!0,A=!1;try{for(p=p.call(u);!(E=(l=p.next()).done)&&(m.push(l.value),!s||m.length!==s);E=!0);}catch(R){A=!0,h=R}finally{try{E||p.return==null||p.return()}finally{if(A)throw h}}return m}}(i,o)||function(u,s){if(!!u){if(typeof u=="string")return k1(u,s);var p=Object.prototype.toString.call(u).slice(8,-1);if(p==="Object"&&u.constructor&&(p=u.constructor.name),p==="Map"||p==="Set")return Array.from(u);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return k1(u,s)}}(i,o)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function k1(i,o){(o==null||o>i.length)&&(o=i.length);for(var u=0,s=new Array(o);u<o;u++)s[u]=i[u];return s}function Sl(i){var o=i.x,u=i.y,s=i.width,p=i.height,l=i.className,h=i.radius,m=o-s/2,E=u-p/2,A={};return Object.entries(i).forEach(function(R){var L=hj(R,2),F=L[0],ne=L[1];Zg(ne)!=="object"&&(A[F]=ne)}),A.className=l?"lf-basic-shape ".concat(l):"lf-basic-shape",h&&(A.rx=h,A.ry=h),A.x=m,A.y=E,Object(Ne.g)("rect",A)}function Jg(i){return Jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Jg(i)}function Pp(){return Pp=Object.assign||function(i){for(var o=1;o<arguments.length;o++){var u=arguments[o];for(var s in u)Object.prototype.hasOwnProperty.call(u,s)&&(i[s]=u[s])}return i},Pp.apply(this,arguments)}function L1(i,o){var u=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);o&&(s=s.filter(function(p){return Object.getOwnPropertyDescriptor(i,p).enumerable})),u.push.apply(u,s)}return u}function F1(i){for(var o=1;o<arguments.length;o++){var u=arguments[o]!=null?arguments[o]:{};o%2?L1(Object(u),!0).forEach(function(s){vj(i,s,u[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(u)):L1(Object(u)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(u,s))})}return i}function vj(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}function yj(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function gj(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function Qg(i,o){return Qg=Object.setPrototypeOf||function(u,s){return u.__proto__=s,u},Qg(i,o)}function mj(i){var o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,s=Lv(i);if(o){var p=Lv(this).constructor;u=Reflect.construct(s,arguments,p)}else u=s.apply(this,arguments);return bj(this,u)}}function bj(i,o){if(o&&(Jg(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(i)}function Lv(i){return Lv=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},Lv(i)}Sl.defaultProps={className:"",radius:""};var B1,_j=xs(D1=function(i){(function(l,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(h&&h.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),h&&Qg(l,h)})(p,i);var o,u,s=mj(p);function p(){return yj(this,p),s.apply(this,arguments)}return o=p,(u=[{key:"getNodesOutline",value:function(){var l=this.props.graphModel,h=l.nodes,m=l.editConfigModel,E=m.hoverOutline,A=m.nodeSelectedOutline,R=[];return h.forEach(function(L){if(L.isHovered||L.isSelected){var F=L.isHovered,ne=L.isSelected,ye=L.x,we=L.y,Ue=L.width,ze=L.height;if(A&&ne||E&&F){var ot=L.getOutlineStyle(),Tt={};if(Object.keys(ot).forEach(function(Qt){Qt!=="hover"&&(Tt[Qt]=ot[Qt])}),F){var er=ot.hover;Tt=F1(F1({},Tt),er)}R.push(Object(Ne.g)(Sl,Pp({transform:L.transform,className:"lf-outline-node",x:ye,y:we,width:Ue+10,height:ze+10},Tt)))}}}),R}},{key:"getEdgeOutline",value:function(){for(var l=this.props.graphModel,h=l.edges,m=l.editConfigModel,E=m.edgeSelectedOutline,A=m.hoverOutline,R=[],L=0;L<h.length;L++){var F=h[L];(E&&F.isSelected||A&&F.isHovered)&&(F.modelType===on.LINE_EDGE?R.push(this.getLineOutline(F)):F.modelType===on.POLYLINE_EDGE?R.push(this.getPolylineOutline(F)):F.modelType===on.BEZIER_EDGE&&R.push(this.getBezierOutline(F)))}return R}},{key:"getLineOutline",value:function(l){var h=l.startPoint,m=l.endPoint,E=(h.x+m.x)/2,A=(h.y+m.y)/2,R=Math.abs(h.x-m.x)+10,L=Math.abs(h.y-m.y)+10,F=l.getOutlineStyle();return Object(Ne.g)(Sl,Pp({className:"lf-outline-edge",x:E,y:A,width:R,height:L},F))}},{key:"getPolylineOutline",value:function(l){var h=l.points,m=Yn(h),E=Ct(m,8),A=E.x,R=E.y,L=E.width,F=E.height,ne=l.getOutlineStyle();return Object(Ne.g)(Sl,Pp({className:"lf-outline",x:A,y:R,width:L,height:F},ne))}},{key:"getBezierOutline",value:function(l){var h=l.path,m=Pr(h),E=Ct(m,8),A=E.x,R=E.y,L=E.width,F=E.height,ne=l.getOutlineStyle();return Object(Ne.g)(Sl,Pp({className:"lf-outline",x:A,y:R,width:L,height:F},ne))}},{key:"render",value:function(){return Object(Ne.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}])&&gj(o.prototype,u),p}(Ne.a))||D1;function em(i){return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},em(i)}function Ej(i,o){return function(u){if(Array.isArray(u))return u}(i)||function(u,s){var p=u==null?null:typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(p!=null){var l,h,m=[],E=!0,A=!1;try{for(p=p.call(u);!(E=(l=p.next()).done)&&(m.push(l.value),!s||m.length!==s);E=!0);}catch(R){A=!0,h=R}finally{try{E||p.return==null||p.return()}finally{if(A)throw h}}return m}}(i,o)||function(u,s){if(!!u){if(typeof u=="string")return G1(u,s);var p=Object.prototype.toString.call(u).slice(8,-1);if(p==="Object"&&u.constructor&&(p=u.constructor.name),p==="Map"||p==="Set")return Array.from(u);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return G1(u,s)}}(i,o)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function G1(i,o){(o==null||o>i.length)&&(o=i.length);for(var u=0,s=new Array(o);u<o;u++)s[u]=i[u];return s}function Rp(i){var o=i.x,u=o===void 0?0:o,s=i.y,p=s===void 0?0:s,l=i.r,h=l===void 0?4:l,m=i.className,E={cx:u,cy:p,r:h,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(i).forEach(function(A){var R=Ej(A,2),L=R[0],F=R[1];em(F)!=="object"&&(E[L]=F)}),E.className=m?"lf-basic-shape ".concat(m):"lf-basic-shape",Object(Ne.g)("circle",E)}function tm(i){return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},tm(i)}function Oj(i,o){return function(u){if(Array.isArray(u))return u}(i)||function(u,s){var p=u==null?null:typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(p!=null){var l,h,m=[],E=!0,A=!1;try{for(p=p.call(u);!(E=(l=p.next()).done)&&(m.push(l.value),!s||m.length!==s);E=!0);}catch(R){A=!0,h=R}finally{try{E||p.return==null||p.return()}finally{if(A)throw h}}return m}}(i,o)||function(u,s){if(!!u){if(typeof u=="string")return U1(u,s);var p=Object.prototype.toString.call(u).slice(8,-1);if(p==="Object"&&u.constructor&&(p=u.constructor.name),p==="Map"||p==="Set")return Array.from(u);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return U1(u,s)}}(i,o)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function U1(i,o){(o==null||o>i.length)&&(o=i.length);for(var u=0,s=new Array(o);u<o;u++)s[u]=i[u];return s}function Bh(){return Bh=Object.assign||function(i){for(var o=1;o<arguments.length;o++){var u=arguments[o];for(var s in u)Object.prototype.hasOwnProperty.call(u,s)&&(i[s]=u[s])}return i},Bh.apply(this,arguments)}function z1(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function $1(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function H1(i,o,u){return o&&$1(i.prototype,o),u&&$1(i,u),i}function X1(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),o&&rm(i,o)}function rm(i,o){return rm=Object.setPrototypeOf||function(u,s){return u.__proto__=s,u},rm(i,o)}function W1(i){var o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,s=Bv(i);if(o){var p=Bv(this).constructor;u=Reflect.construct(s,arguments,p)}else u=s.apply(this,arguments);return wj(this,u)}}function wj(i,o){if(o&&(tm(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fv(i)}function Fv(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function Bv(i){return Bv=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},Bv(i)}function nm(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}var V1,Y1=function(i){X1(u,i);var o=W1(u);function u(){var s;return z1(this,u),nm(Fv(s=o.call(this)),"dragHandler",void 0),nm(Fv(s),"onDragging",function(p){var l=p.event,h=s.props,m=h.graphModel,E=h.bezierModel,A=h.type,R=m.getPointByClient({x:l.clientX,y:l.clientY}).canvasOverlayPosition,L=R.x,F=R.y;E.updateAdjustAnchor({x:L,y:F},A),m.eventCenter.emit(gr.EDGE_ADJUST,{data:E.getData()})}),nm(Fv(s),"onDragEnd",function(){s.props.bezierModel.isDragging=!1}),s.dragHandler=new U({onDragging:s.onDragging,onDragEnd:s.onDragEnd}),s}return H1(u,[{key:"render",value:function(){var s=this,p=this.props.position,l=p.x,h=p.y,m=this.props.bezierModel.getEdgeStyle().adjustAnchor;return Object(Ne.g)(Rp,Bh({className:"lf-bezier-adjust-anchor",x:l,y:h},m,{onMouseDown:function(E){s.dragHandler.handleMouseDown(E)}}))}}]),u}(Ne.a),xj=xs(B1=function(i){X1(u,i);var o=W1(u);function u(){return z1(this,u),o.apply(this,arguments)}return H1(u,[{key:"getBezierAdjust",value:function(s,p){var l=s.path,h=s.id,m=Oj(Pr(l),4),E=m[0],A=m[1],R=m[2],L=m[3],F=s.getEdgeStyle().adjustLine,ne=[];return ne.push(Object(Ne.g)(Tp,Bh({x1:E.x,y1:E.y,x2:A.x,y2:A.y},F))),ne.push(Object(Ne.g)(Y1,{position:A,bezierModel:s,graphModel:p,key:"".concat(h,"_ePre"),type:"sNext"})),ne.push(Object(Ne.g)(Tp,Bh({x1:L.x,y1:L.y,x2:R.x,y2:R.y},F))),ne.push(Object(Ne.g)(Y1,{position:R,bezierModel:s,graphModel:p,key:"".concat(h,"_sNext"),type:"ePre"})),ne}},{key:"selectedBezierEdge",value:function(){for(var s=this.props.graphModel,p=s.edges,l=[],h=0;h<p.length;h++){var m=p[h];m.isSelected&&m.modelType===on.BEZIER_EDGE&&m.draggable&&l.push(this.getBezierAdjust(m,s))}return l}},{key:"render",value:function(){return Object(Ne.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),u}(Ne.a))||B1;function om(i){return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},om(i)}function Sj(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function Aj(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function im(i,o){return im=Object.setPrototypeOf||function(u,s){return u.__proto__=s,u},im(i,o)}function Tj(i){var o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,s=Gv(i);if(o){var p=Gv(this).constructor;u=Reflect.construct(s,arguments,p)}else u=s.apply(this,arguments);return Pj(this,u)}}function Pj(i,o){if(o&&(om(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(i)}function Gv(i){return Gv=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},Gv(i)}var K1,Rj=xs(V1=function(i){(function(l,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(h&&h.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),h&&im(l,h)})(p,i);var o,u,s=Tj(p);function p(){return Sj(this,p),s.apply(this,arguments)}return o=p,(u=[{key:"render",value:function(){var l=this.props.graphModel.transformModel.getTransformStyle().transform,h=this.props.children;return Object(Ne.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(Ne.g)("g",{transform:l},h))}}])&&Aj(o.prototype,u),p}(Ne.a))||V1;function am(i){return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},am(i)}function um(){return um=Object.assign||function(i){for(var o=1;o<arguments.length;o++){var u=arguments[o];for(var s in u)Object.prototype.hasOwnProperty.call(u,s)&&(i[s]=u[s])}return i},um.apply(this,arguments)}function jj(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function Nj(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function sm(i,o){return sm=Object.setPrototypeOf||function(u,s){return u.__proto__=s,u},sm(i,o)}function Mj(i){var o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,s=Uv(i);if(o){var p=Uv(this).constructor;u=Reflect.construct(s,arguments,p)}else u=s.apply(this,arguments);return Cj(this,u)}}function Cj(i,o){if(o&&(am(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(i)}function Uv(i){return Uv=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},Uv(i)}var Ij=xs(K1=function(i){(function(l,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(h&&h.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),h&&sm(l,h)})(p,i);var o,u,s=Mj(p);function p(){return jj(this,p),s.apply(this,arguments)}return o=p,u=[{key:"getComponent",value:function(l,h){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",E=this.props.getView,A=E(l.type);return Object(Ne.g)(A,{key:l.id,model:l,graphModel:h,overlay:m})}},{key:"render",value:function(){var l=this,h=this.props,m=h.graphModel,E=h.tool,A=h.options,R=h.dnd,L=h.snaplineModel,F={};A.width&&(F.width="".concat(m.width,"px")),A.height&&(F.height="".concat(m.height,"px"));var ne=A.grid,ye=m.fakerNode,we=m.editConfigModel.adjustEdge;return Object(Ne.g)("div",{className:"lf-graph","flow-id":m.flowId,style:F},Object(Ne.g)(XR,{graphModel:m,dnd:R},Object(Ne.g)("g",{className:"lf-base"},qf(m.sortElements,function(Ue){return l.getComponent(Ue,m)})),ye?this.getComponent(ye,m):""),Object(Ne.g)(Rj,{graphModel:m},Object(Ne.g)(_j,{graphModel:m}),we?Object(Ne.g)(xj,{graphModel:m}):"",A.snapline!==!1?Object(Ne.g)(pj,{snaplineModel:L}):""),Object(Ne.g)(qR,{graphModel:m,tool:E}),A.background&&Object(Ne.g)(tj,{background:A.background}),A.grid&&Object(Ne.g)(N1,um({},ne,{graphModel:m})))}}],u&&Nj(o.prototype,u),p}(Ne.a))||K1,Dj=Ij;function q1(i,o){var u=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);o&&(s=s.filter(function(p){return Object.getOwnPropertyDescriptor(i,p).enumerable})),u.push.apply(u,s)}return u}function zv(i){for(var o=1;o<arguments.length;o++){var u=arguments[o]!=null?arguments[o]:{};o%2?q1(Object(u),!0).forEach(function(s){bf(i,s,u[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(u)):q1(Object(u)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(u,s))})}return i}function kj(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function bf(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}var Lj=function(){function i(s){var p=this;(function(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")})(this,i),bf(this,"nodeConfig",void 0),bf(this,"lf",void 0),bf(this,"fakerNode",void 0),bf(this,"stopDrag",function(){p.nodeConfig=null,window.document.removeEventListener("mouseup",p.stopDrag)}),bf(this,"dragEnter",function(h){p.nodeConfig&&!p.fakerNode&&(p.fakerNode=p.lf.createFakerNode(zv(zv({},p.nodeConfig),p.clientToLocalPoint({x:h.clientX,y:h.clientY}))))}),bf(this,"onDragOver",function(h){if(h.preventDefault(),p.fakerNode){var m=p.clientToLocalPoint({x:h.clientX,y:h.clientY}),E=m.x,A=m.y;p.fakerNode.moveTo(E,A);var R=p.fakerNode.getData();p.lf.setNodeSnapLine(R),p.lf.graphModel.eventCenter.emit(gr.NODE_DND_DRAG,{data:R})}return!1}),bf(this,"onDragLeave",function(){p.fakerNode&&(p.lf.removeNodeSnapLine(),p.lf.graphModel.removeFakerNode(),p.fakerNode=null)}),bf(this,"onDrop",function(h){p.lf.graphModel&&h&&p.nodeConfig&&(p.lf.addNode(zv(zv({},p.nodeConfig),p.clientToLocalPoint({x:h.clientX,y:h.clientY})),gr.NODE_DND_ADD,h),h.preventDefault(),h.stopPropagation(),p.nodeConfig=null,p.lf.removeNodeSnapLine(),p.lf.graphModel.removeFakerNode(),p.fakerNode=null)});var l=s.lf;this.lf=l}var o,u;return o=i,(u=[{key:"clientToLocalPoint",value:function(s){var p=s.x,l=s.y,h=os(this.lf.options,["grid","size"]),m=this.lf.graphModel.getPointByClient({x:p,y:l}).canvasOverlayPosition,E=m.x,A=m.y;return{x:Da(E,h),y:Da(A,h)}}},{key:"startDrag",value:function(s){var p=this.lf.graphModel.editConfigModel;p!=null&&p.isSilentMode||(this.nodeConfig=s,window.document.addEventListener("mouseup",this.stopDrag))}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&kj(o.prototype,u),i}();function Z1(i){var o=i.container,u=i.grid,s=i.width,p=i.height;if(!o)throw new Error("\u8BF7\u68C0\u67E5 container \u53C2\u6570\u662F\u5426\u6709\u6548");if(typeof s=="string"||typeof p=="string")throw new Error("width\u6216height\u4E0D\u652F\u6301\u4F20\u5165\u5B57\u7B26\u4E32\uFF0C\u8BF7\u4F20\u6570\u5B57");return u&&(i.grid=Du({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},u)),Du({},Q1,i)}var Ln,J1,Q1={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function cm(i){return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},cm(i)}function fm(i,o){return function(u){if(Array.isArray(u))return u}(i)||function(u,s){var p=u==null?null:typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(p!=null){var l,h,m=[],E=!0,A=!1;try{for(p=p.call(u);!(E=(l=p.next()).done)&&(m.push(l.value),!s||m.length!==s);E=!0);}catch(R){A=!0,h=R}finally{try{E||p.return==null||p.return()}finally{if(A)throw h}}return m}}(i,o)||function(u,s){if(!!u){if(typeof u=="string")return eE(u,s);var p=Object.prototype.toString.call(u).slice(8,-1);if(p==="Object"&&u.constructor&&(p=u.constructor.name),p==="Map"||p==="Set")return Array.from(u);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return eE(u,s)}}(i,o)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function eE(i,o){(o==null||o>i.length)&&(o=i.length);for(var u=0,s=new Array(o);u<o;u++)s[u]=i[u];return s}function tE(i,o){var u=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);o&&(s=s.filter(function(p){return Object.getOwnPropertyDescriptor(i,p).enumerable})),u.push.apply(u,s)}return u}function $v(i){for(var o=1;o<arguments.length;o++){var u=arguments[o]!=null?arguments[o]:{};o%2?tE(Object(u),!0).forEach(function(s){rE(i,s,u[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(u)):tE(Object(u)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(u,s))})}return i}function Fj(i,o,u,s){u&&Object.defineProperty(i,o,{enumerable:u.enumerable,configurable:u.configurable,writable:u.writable,value:u.initializer?u.initializer.call(s):void 0})}function Bj(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function Gj(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function Gh(){return Gh=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(i,o,u){var s=Uj(i,o);if(s){var p=Object.getOwnPropertyDescriptor(s,o);return p.get?p.get.call(arguments.length<3?i:u):p.value}},Gh.apply(this,arguments)}function Uj(i,o){for(;!Object.prototype.hasOwnProperty.call(i,o)&&(i=Al(i))!==null;);return i}function lm(i,o){return lm=Object.setPrototypeOf||function(u,s){return u.__proto__=s,u},lm(i,o)}function zj(i){var o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,s=Al(i);if(o){var p=Al(this).constructor;u=Reflect.construct(s,arguments,p)}else u=s.apply(this,arguments);return $j(this,u)}}function $j(i,o){if(o&&(cm(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hv(i)}function Hv(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function Al(i){return Al=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},Al(i)}function rE(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}function Es(i,o,u,s,p){var l={};return Object.keys(s).forEach(function(h){l[h]=s[h]}),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=u.slice().reverse().reduce(function(h,m){return m(i,o,h)||h},l),p&&l.initializer!==void 0&&(l.value=l.initializer?l.initializer.call(p):void 0,l.initializer=void 0),l.initializer===void 0&&(Object.defineProperty(i,o,l),l=null),l}var dm=(Ln=function(i){(function(l,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(h&&h.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),h&&lm(l,h)})(p,i);var o,u,s=zj(p);function p(){var l;Bj(this,p);for(var h=arguments.length,m=new Array(h),E=0;E<h;E++)m[E]=arguments[E];return rE(Hv(l=s.call.apply(s,[this].concat(m))),"modelType",on.BEZIER_EDGE),Fj(Hv(l),"path",J1,Hv(l)),l}return o=p,(u=[{key:"initEdgeData",value:function(l){this.offset=100,Gh(Al(p.prototype),"initEdgeData",this).call(this,l)}},{key:"getEdgeStyle",value:function(){var l=this.graphModel.theme.bezier;return $v($v({},Gh(Al(p.prototype),"getEdgeStyle",this).call(this)),Jn(l))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var l=0,h=0;return this.pointsList.forEach(function(m){var E=m.x,A=m.y;l+=E,h+=A}),{x:l/this.pointsList.length,y:h/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var l=Gh(Al(p.prototype),"getData",this).call(this),h=this.pointsList.map(function(m){return{x:m.x,y:m.y}});return $v($v({},l),{},{pointsList:h})}},{key:"getControls",value:function(){var l=this.startPoint,h=this.endPoint;return Kr({start:l,end:h,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(l){var h=fm(l,4),m=h[0],E=h[1],A=h[2],R=h[3];return"M ".concat(m.x," ").concat(m.y,`
    C `).concat(E.x," ").concat(E.y,`,
    `).concat(A.x," ").concat(A.y,`,
    `).concat(R.x," ").concat(R.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var l=this.getControls(),h=l.sNext,m=l.ePre;this.updatePath(h,m)}},{key:"updatePath",value:function(l,h){l=Jn(l),h=Jn(h);var m={x:this.startPoint.x,y:this.startPoint.y},E={x:this.endPoint.x,y:this.endPoint.y};if(!l||!h){var A=this.getControls();l=A.sNext,h=A.ePre}this.pointsList=[m,l,h,E],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(l){this.startPoint=Object.assign({},l),this.updatePoints()}},{key:"updateEndPoint",value:function(l){this.endPoint=Object.assign({},l),this.updatePoints()}},{key:"moveStartPoint",value:function(l,h){this.startPoint.x+=l,this.startPoint.y+=h;var m=fm(this.pointsList,3),E=m[1],A=m[2];E.x+=l,E.y+=h,this.updatePath(E,A)}},{key:"moveEndPoint",value:function(l,h){this.endPoint.x+=l,this.endPoint.y+=h;var m=fm(this.pointsList,3),E=m[1],A=m[2];A.x+=l,A.y+=h,this.updatePath(E,A)}},{key:"updateAdjustAnchor",value:function(l,h){h==="sNext"?this.pointsList[1]=l:h==="ePre"&&(this.pointsList[2]=l),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var l=this.pointsList;return l[l.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(l){var h=l.startPoint,m=l.endPoint,E=l.sourceNode,A=l.targetNode,R=Kr({start:h,end:m,sourceNode:E,targetNode:A,offset:this.offset}),L=R.sNext,F=R.ePre;this.pointsList=[h,L,F,m],this.initPoints()}}])&&Gj(o.prototype,u),p}(gs),J1=Es(Ln.prototype,"path",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Es(Ln.prototype,"initPoints",[f.k],Object.getOwnPropertyDescriptor(Ln.prototype,"initPoints"),Ln.prototype),Es(Ln.prototype,"updatePoints",[f.k],Object.getOwnPropertyDescriptor(Ln.prototype,"updatePoints"),Ln.prototype),Es(Ln.prototype,"updateStartPoint",[f.k],Object.getOwnPropertyDescriptor(Ln.prototype,"updateStartPoint"),Ln.prototype),Es(Ln.prototype,"updateEndPoint",[f.k],Object.getOwnPropertyDescriptor(Ln.prototype,"updateEndPoint"),Ln.prototype),Es(Ln.prototype,"moveStartPoint",[f.k],Object.getOwnPropertyDescriptor(Ln.prototype,"moveStartPoint"),Ln.prototype),Es(Ln.prototype,"moveEndPoint",[f.k],Object.getOwnPropertyDescriptor(Ln.prototype,"moveEndPoint"),Ln.prototype),Es(Ln.prototype,"updateAdjustAnchor",[f.k],Object.getOwnPropertyDescriptor(Ln.prototype,"updateAdjustAnchor"),Ln.prototype),Es(Ln.prototype,"getAdjustStart",[f.k],Object.getOwnPropertyDescriptor(Ln.prototype,"getAdjustStart"),Ln.prototype),Es(Ln.prototype,"getAdjustEnd",[f.k],Object.getOwnPropertyDescriptor(Ln.prototype,"getAdjustEnd"),Ln.prototype),Es(Ln.prototype,"updateAfterAdjustStartAndEnd",[f.k],Object.getOwnPropertyDescriptor(Ln.prototype,"updateAfterAdjustStartAndEnd"),Ln.prototype),Ln),Ht,nE,oE,iE,aE,uE,sE,cE,fE,lE,dE,pE,hE,vE,yE,gE,mE,bE,_E,EE,OE,wE,xE,Hj=function(i){return i==null};function Xj(i,o){return function(u){if(Array.isArray(u))return u}(i)||function(u,s){var p=u==null?null:typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(p!=null){var l,h,m=[],E=!0,A=!1;try{for(p=p.call(u);!(E=(l=p.next()).done)&&(m.push(l.value),!s||m.length!==s);E=!0);}catch(R){A=!0,h=R}finally{try{E||p.return==null||p.return()}finally{if(A)throw h}}return m}}(i,o)||SE(i,o)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function pm(i){return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},pm(i)}function SE(i,o){if(i){if(typeof i=="string")return AE(i,o);var u=Object.prototype.toString.call(i).slice(8,-1);return u==="Object"&&i.constructor&&(u=i.constructor.name),u==="Map"||u==="Set"?Array.from(i):u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)?AE(i,o):void 0}}function AE(i,o){(o==null||o>i.length)&&(o=i.length);for(var u=0,s=new Array(o);u<o;u++)s[u]=i[u];return s}function TE(i,o){var u=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);o&&(s=s.filter(function(p){return Object.getOwnPropertyDescriptor(i,p).enumerable})),u.push.apply(u,s)}return u}function ma(i){for(var o=1;o<arguments.length;o++){var u=arguments[o]!=null?arguments[o]:{};o%2?TE(Object(u),!0).forEach(function(s){Ua(i,s,u[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(u)):TE(Object(u)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(u,s))})}return i}function Yo(i,o,u,s){u&&Object.defineProperty(i,o,{enumerable:u.enumerable,configurable:u.configurable,writable:u.writable,value:u.initializer?u.initializer.call(s):void 0})}function Wj(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function Ua(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}function un(i,o,u,s,p){var l={};return Object.keys(s).forEach(function(h){l[h]=s[h]}),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=u.slice().reverse().reduce(function(h,m){return m(i,o,h)||h},l),p&&l.initializer!==void 0&&(l.value=l.initializer?l.initializer.call(p):void 0,l.initializer=void 0),l.initializer===void 0&&(Object.defineProperty(i,o,l),l=null),l}var _f,PE,Ef=(Ht=function(){function i(s,p){(function(l,h){if(!(l instanceof h))throw new TypeError("Cannot call a class as a function")})(this,i),Ua(this,"id",""),Yo(this,"type",nE,this),Yo(this,"x",oE,this),Yo(this,"y",iE,this),Yo(this,"text",aE,this),Yo(this,"properties",uE,this),Yo(this,"_width",sE,this),Yo(this,"_height",cE,this),Yo(this,"anchorsOffset",fE,this),Yo(this,"isSelected",lE,this),Yo(this,"isHovered",dE,this),Yo(this,"isShowAnchor",pE,this),Yo(this,"isDragging",hE,this),Yo(this,"isHitable",vE,this),Yo(this,"draggable",yE,this),Yo(this,"visible",gE,this),Yo(this,"enableRotate",mE,this),Ua(this,"virtual",!1),Ua(this,"graphModel",void 0),Yo(this,"zIndex",bE,this),Yo(this,"state",_E,this),Yo(this,"autoToFront",EE,this),Yo(this,"style",OE,this),Yo(this,"transform",wE,this),Yo(this,"_rotate",xE,this),Ua(this,"BaseType",Fn.NODE),Ua(this,"modelType",on.NODE),Ua(this,"additionStateData",void 0),Ua(this,"targetRules",[]),Ua(this,"sourceRules",[]),Ua(this,"moveRules",[]),Ua(this,"hasSetTargetRules",!1),Ua(this,"hasSetSourceRules",!1),this.graphModel=p,this.initNodeData(s),this.setAttributes()}var o,u;return o=i,u=[{key:"width",get:function(){return this._width},set:function(s){this._width=s}},{key:"height",get:function(){return this._height},set:function(s){this._height=s}},{key:"rotate",get:function(){return this._rotate},set:function(s){this._rotate=s;var p=this.x,l=p===void 0?0:p,h=this.y,m=h===void 0?0:h;this.transform=new sc(-l,-m).rotate(s).translate(l,m).toString()}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(s){if(s.properties||(s.properties={}),!s.id){var p=this.graphModel.idGenerator,l=p&&p(s.type),h=this.createId();s.id=h||l||ha()}this.formatText(s),ei(this,function(m){return fa(m,["id","type","x","y","text","properties","virtual","rotate"])}(s)),this.graphModel.overlapMode===Zn.INCREASE&&(this.zIndex=s.zIndex||uu())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(s){s.text||(s.text={value:"",x:s.x,y:s.y,draggable:!1,editable:!0}),s.text&&typeof s.text=="string"?s.text={value:s.text,x:s.x,y:s.y,draggable:!1,editable:!0}:s.text&&s.text.editable===void 0&&(s.text.editable=!0)}},{key:"getData",value:function(){var s=this.text,p=s.x,l=s.y,h=s.value,m=this.properties;Object(f.x)(m)&&(m=Object(f.I)(m));var E={id:this.id,type:this.type,x:this.x,y:this.y,properties:m};return this.rotate&&(E.rotate=this.rotate),this.graphModel.overlapMode===Zn.INCREASE&&(E.zIndex=this.zIndex),h&&(E.text={x:p,y:l,value:h}),E}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(f.I)(this.properties)}},{key:"getOuterGAttributes",value:function(){return{className:""}}},{key:"getNodeStyle",value:function(){return ma(ma({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){var s=this.graphModel.theme.nodeText;return Jn(s)}},{key:"getRotateControlStyle",value:function(){var s=this.graphModel.theme.rotateControl;return Jn(s)}},{key:"getAnchorStyle",value:function(s){var p=this.graphModel.theme.anchor;return Jn(p)}},{key:"getAnchorLineStyle",value:function(s){var p=this.graphModel.theme.anchorLine;return Jn(p)}},{key:"getOutlineStyle",value:function(){var s=this.graphModel.theme.outline;return Jn(s)}},{key:"isAllowConnectedAsSource",value:function(s,p,l,h){var m=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var E,A=!0,R=0;R<m.length;R++){var L=m[R];if(!L.validate.call(this,this,s,p,l,h)){A=!1,E=L.message;break}}return{isAllPass:A,msg:E}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(s,p,l,h){var m=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var E,A=!0,R=0;R<m.length;R++){var L=m[R];if(!L.validate.call(this,s,this,p,l,h)){A=!1,E=L.message;break}}return{isAllPass:A,msg:E}}},{key:"isAllowMoveNode",value:function(s,p){var l,h=!0,m=!0,E=function(L,F){var ne=typeof Symbol<"u"&&L[Symbol.iterator]||L["@@iterator"];if(!ne){if(Array.isArray(L)||(ne=SE(L))||F&&L&&typeof L.length=="number"){ne&&(L=ne);var ye=0,we=function(){};return{s:we,n:function(){return ye>=L.length?{done:!0}:{done:!1,value:L[ye++]}},e:function(Tt){throw Tt},f:we}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ue,ze=!0,ot=!1;return{s:function(){ne=ne.call(L)},n:function(){var Tt=ne.next();return ze=Tt.done,Tt},e:function(Tt){ot=!0,Ue=Tt},f:function(){try{ze||ne.return==null||ne.return()}finally{if(ot)throw Ue}}}}(this.moveRules.concat(this.graphModel.nodeMoveRules));try{for(E.s();!(l=E.n()).done;){var A=(0,l.value)(this,s,p);if(!A)return!1;if(pm(A)==="object"){var R=A;if(R.x===!1&&R.y===!1)return!1;h=h&&R.x,m=m&&R.y}}}catch(L){E.e(L)}finally{E.f()}return{x:h,y:m}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var s=this.anchorsOffset,p=this.id,l=this.x,h=this.y;return s&&s.length>0?s.map(function(m,E){return m.length?(m=m,{id:"".concat(p,"_").concat(E),x:l+m[0],y:h+m[1]}):ma(ma({},m=m),{},{x:l+m.x,y:h+m.y,id:m.id||"".concat(p,"_").concat(E)})}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getTargetAnchor",value:function(s){return function(p,l){for(var h,m=fi(l),E=Number.MAX_SAFE_INTEGER,A=0;A<m.length;A++){var R=Ti(p.x,p.y,m[A].x,m[A].y);R<E&&(E=R,h={index:A,anchor:Fu(Fu({},m[A]),{},{x:m[A].x,y:m[A].y,id:m[A].id})})}return h}(s,this)}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){var s=this.getAnchorsByOffset(),p=this.x,l=this.y,h=this.rotate;return s.forEach(function(m){var E=m.x,A=m.y,R=Xj(new uc([E,A,1]).translate(-p,-l).rotate(h).translate(p,l)[0],2),L=R[0],F=R[1];m.x=L,m.y=F}),s}},{key:"getAnchorInfo",value:function(s){if(!Hj(s))for(var p=0;p<this.anchors.length;p++){var l=this.anchors[p];if(l.id===s)return l}}},{key:"addNodeMoveRules",value:function(s){this.moveRules.includes(s)||this.moveRules.push(s)}},{key:"move",value:function(s,p){var l=arguments.length>2&&arguments[2]!==void 0&&arguments[2],h=!1,m=!1;if(l)h=!0,m=!0;else{var E=this.isAllowMoveNode(s,p);typeof E=="boolean"?(h=E,m=E):(h=E.x,m=E.y)}if(h){var A=this.x+s;this.x=A,this.text&&this.moveText(s,0)}if(m){var R=this.y+p;this.y=R,this.text&&this.moveText(0,p)}return h||m}},{key:"getMoveDistance",value:function(s,p){var l=arguments.length>2&&arguments[2]!==void 0&&arguments[2],h=!1,m=!1,E=0,A=0;if(l)h=!0,m=!0;else{var R=this.isAllowMoveNode(s,p);typeof R=="boolean"?(h=R,m=R):(h=R.x,m=R.y)}if(h&&s){var L=this.x+s;this.x=L,this.text&&this.moveText(s,0),E=s}if(m&&p){var F=this.y+p;this.y=F,this.text&&this.moveText(0,p),A=p}return[E,A]}},{key:"moveTo",value:function(s,p){var l=arguments.length>2&&arguments[2]!==void 0&&arguments[2],h=s-this.x,m=p-this.y;return!(!l&&!this.isAllowMoveNode(h,m)||(this.text&&this.text&&this.moveText(h,m),this.x=s,this.y=p,0))}},{key:"moveText",value:function(s,p){var l=this.text,h=l.x,m=l.y,E=l.value,A=l.draggable,R=l.editable;this.text={value:E,editable:R,draggable:A,x:h+s,y:m+p}}},{key:"updateText",value:function(s){this.text=ma(ma({},Object(f.I)(this.text)),{},{value:s})}},{key:"setSelected",value:function(){var s=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=s}},{key:"setHovered",value:function(){var s=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=s,this.setIsShowAnchor(s)}},{key:"setIsShowAnchor",value:function(){var s=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isShowAnchor=s}},{key:"setEnableRotate",value:function(){var s=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.enableRotate=s}},{key:"setHitable",value:function(){var s=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=s}},{key:"setElementState",value:function(s,p){this.state=s,this.additionStateData=p}},{key:"setProperty",value:function(s,p){this.properties=ma(ma({},Object(f.I)(this.properties)),{},Ua({},s,Po(p))),this.setAttributes()}},{key:"setProperties",value:function(s){this.properties=ma(ma({},Object(f.I)(this.properties)),Po(s)),this.setAttributes()}},{key:"deleteProperty",value:function(s){delete this.properties[s],this.setAttributes()}},{key:"setStyle",value:function(s,p){this.style=ma(ma({},this.style),{},Ua({},s,Po(p)))}},{key:"setStyles",value:function(s){this.style=ma(ma({},this.style),Po(s))}},{key:"updateStyles",value:function(s){this.style=ma({},Po(s))}},{key:"setZIndex",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=s}},{key:"updateAttributes",value:function(s){ei(this,s)}}],u&&Wj(o.prototype,u),i}(),nE=un(Ht.prototype,"type",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),oE=un(Ht.prototype,"x",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),iE=un(Ht.prototype,"y",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),aE=un(Ht.prototype,"text",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),uE=un(Ht.prototype,"properties",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),sE=un(Ht.prototype,"_width",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),cE=un(Ht.prototype,"_height",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),fE=un(Ht.prototype,"anchorsOffset",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),lE=un(Ht.prototype,"isSelected",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),dE=un(Ht.prototype,"isHovered",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),pE=un(Ht.prototype,"isShowAnchor",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),hE=un(Ht.prototype,"isDragging",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),vE=un(Ht.prototype,"isHitable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),yE=un(Ht.prototype,"draggable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),gE=un(Ht.prototype,"visible",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),mE=un(Ht.prototype,"enableRotate",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),bE=un(Ht.prototype,"zIndex",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),_E=un(Ht.prototype,"state",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),EE=un(Ht.prototype,"autoToFront",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),OE=un(Ht.prototype,"style",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),wE=un(Ht.prototype,"transform",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xE=un(Ht.prototype,"_rotate",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),un(Ht.prototype,"incoming",[f.m],Object.getOwnPropertyDescriptor(Ht.prototype,"incoming"),Ht.prototype),un(Ht.prototype,"outgoing",[f.m],Object.getOwnPropertyDescriptor(Ht.prototype,"outgoing"),Ht.prototype),un(Ht.prototype,"addNodeMoveRules",[f.k],Object.getOwnPropertyDescriptor(Ht.prototype,"addNodeMoveRules"),Ht.prototype),un(Ht.prototype,"move",[f.k],Object.getOwnPropertyDescriptor(Ht.prototype,"move"),Ht.prototype),un(Ht.prototype,"getMoveDistance",[f.k],Object.getOwnPropertyDescriptor(Ht.prototype,"getMoveDistance"),Ht.prototype),un(Ht.prototype,"moveTo",[f.k],Object.getOwnPropertyDescriptor(Ht.prototype,"moveTo"),Ht.prototype),un(Ht.prototype,"moveText",[f.k],Object.getOwnPropertyDescriptor(Ht.prototype,"moveText"),Ht.prototype),un(Ht.prototype,"updateText",[f.k],Object.getOwnPropertyDescriptor(Ht.prototype,"updateText"),Ht.prototype),un(Ht.prototype,"setSelected",[f.k],Object.getOwnPropertyDescriptor(Ht.prototype,"setSelected"),Ht.prototype),un(Ht.prototype,"setHovered",[f.k],Object.getOwnPropertyDescriptor(Ht.prototype,"setHovered"),Ht.prototype),un(Ht.prototype,"setIsShowAnchor",[f.k],Object.getOwnPropertyDescriptor(Ht.prototype,"setIsShowAnchor"),Ht.prototype),un(Ht.prototype,"setEnableRotate",[f.k],Object.getOwnPropertyDescriptor(Ht.prototype,"setEnableRotate"),Ht.prototype),un(Ht.prototype,"setHitable",[f.k],Object.getOwnPropertyDescriptor(Ht.prototype,"setHitable"),Ht.prototype),un(Ht.prototype,"setElementState",[f.k],Object.getOwnPropertyDescriptor(Ht.prototype,"setElementState"),Ht.prototype),un(Ht.prototype,"setProperty",[f.k],Object.getOwnPropertyDescriptor(Ht.prototype,"setProperty"),Ht.prototype),un(Ht.prototype,"setProperties",[f.k],Object.getOwnPropertyDescriptor(Ht.prototype,"setProperties"),Ht.prototype),un(Ht.prototype,"deleteProperty",[f.k],Object.getOwnPropertyDescriptor(Ht.prototype,"deleteProperty"),Ht.prototype),un(Ht.prototype,"setStyle",[f.k],Object.getOwnPropertyDescriptor(Ht.prototype,"setStyle"),Ht.prototype),un(Ht.prototype,"setStyles",[f.k],Object.getOwnPropertyDescriptor(Ht.prototype,"setStyles"),Ht.prototype),un(Ht.prototype,"updateStyles",[f.k],Object.getOwnPropertyDescriptor(Ht.prototype,"updateStyles"),Ht.prototype),un(Ht.prototype,"setZIndex",[f.k],Object.getOwnPropertyDescriptor(Ht.prototype,"setZIndex"),Ht.prototype),un(Ht.prototype,"updateAttributes",[f.k],Object.getOwnPropertyDescriptor(Ht.prototype,"updateAttributes"),Ht.prototype),Ht);function hm(i){return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},hm(i)}function RE(i,o){var u=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);o&&(s=s.filter(function(p){return Object.getOwnPropertyDescriptor(i,p).enumerable})),u.push.apply(u,s)}return u}function jE(i){for(var o=1;o<arguments.length;o++){var u=arguments[o]!=null?arguments[o]:{};o%2?RE(Object(u),!0).forEach(function(s){NE(i,s,u[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(u)):RE(Object(u)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(u,s))})}return i}function Vj(i,o,u,s){u&&Object.defineProperty(i,o,{enumerable:u.enumerable,configurable:u.configurable,writable:u.writable,value:u.initializer?u.initializer.call(s):void 0})}function Yj(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function Kj(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function vm(){return vm=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(i,o,u){var s=qj(i,o);if(s){var p=Object.getOwnPropertyDescriptor(s,o);return p.get?p.get.call(arguments.length<3?i:u):p.value}},vm.apply(this,arguments)}function qj(i,o){for(;!Object.prototype.hasOwnProperty.call(i,o)&&(i=jp(i))!==null;);return i}function ym(i,o){return ym=Object.setPrototypeOf||function(u,s){return u.__proto__=s,u},ym(i,o)}function Zj(i){var o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,s=jp(i);if(o){var p=jp(this).constructor;u=Reflect.construct(s,arguments,p)}else u=s.apply(this,arguments);return Jj(this,u)}}function Jj(i,o){if(o&&(hm(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xv(i)}function Xv(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function jp(i){return jp=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},jp(i)}function NE(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}function gm(i,o,u,s,p){var l={};return Object.keys(s).forEach(function(h){l[h]=s[h]}),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=u.slice().reverse().reduce(function(h,m){return m(i,o,h)||h},l),p&&l.initializer!==void 0&&(l.value=l.initializer?l.initializer.call(p):void 0,l.initializer=void 0),l.initializer===void 0&&(Object.defineProperty(i,o,l),l=null),l}var ea,ME,CE,mm=(_f=function(i){(function(l,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(h&&h.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),h&&ym(l,h)})(p,i);var o,u,s=Zj(p);function p(){var l;Yj(this,p);for(var h=arguments.length,m=new Array(h),E=0;E<h;E++)m[E]=arguments[E];return NE(Xv(l=s.call.apply(s,[this].concat(m))),"modelType",on.CIRCLE_NODE),Vj(Xv(l),"r",PE,Xv(l)),l}return o=p,(u=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"getNodeStyle",value:function(){var l=vm(jp(p.prototype),"getNodeStyle",this).call(this),h=this.graphModel.theme.circle;return jE(jE({},l),Jn(h))}},{key:"getDefaultAnchor",value:function(){var l=this.x,h=this.y,m=this.r;return[{x:l,y:h-m,id:"".concat(this.id,"_0")},{x:l+m,y:h,id:"".concat(this.id,"_1")},{x:l,y:h+m,id:"".concat(this.id,"_2")},{x:l-m,y:h,id:"".concat(this.id,"_3")}]}}])&&Kj(o.prototype,u),p}(Ef),PE=gm(_f.prototype,"r",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),gm(_f.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(_f.prototype,"width"),_f.prototype),gm(_f.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(_f.prototype,"height"),_f.prototype),_f);n(129);function bm(i){return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},bm(i)}function _m(i,o){return function(u){if(Array.isArray(u))return u}(i)||function(u,s){var p=u==null?null:typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(p!=null){var l,h,m=[],E=!0,A=!1;try{for(p=p.call(u);!(E=(l=p.next()).done)&&(m.push(l.value),!s||m.length!==s);E=!0);}catch(R){A=!0,h=R}finally{try{E||p.return==null||p.return()}finally{if(A)throw h}}return m}}(i,o)||function(u,s){if(!!u){if(typeof u=="string")return IE(u,s);var p=Object.prototype.toString.call(u).slice(8,-1);if(p==="Object"&&u.constructor&&(p=u.constructor.name),p==="Map"||p==="Set")return Array.from(u);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return IE(u,s)}}(i,o)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function IE(i,o){(o==null||o>i.length)&&(o=i.length);for(var u=0,s=new Array(o);u<o;u++)s[u]=i[u];return s}function DE(i,o){var u=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);o&&(s=s.filter(function(p){return Object.getOwnPropertyDescriptor(i,p).enumerable})),u.push.apply(u,s)}return u}function kE(i){for(var o=1;o<arguments.length;o++){var u=arguments[o]!=null?arguments[o]:{};o%2?DE(Object(u),!0).forEach(function(s){FE(i,s,u[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(u)):DE(Object(u)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(u,s))})}return i}function LE(i,o,u,s){u&&Object.defineProperty(i,o,{enumerable:u.enumerable,configurable:u.configurable,writable:u.writable,value:u.initializer?u.initializer.call(s):void 0})}function Qj(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function eN(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function Em(){return Em=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(i,o,u){var s=tN(i,o);if(s){var p=Object.getOwnPropertyDescriptor(s,o);return p.get?p.get.call(arguments.length<3?i:u):p.value}},Em.apply(this,arguments)}function tN(i,o){for(;!Object.prototype.hasOwnProperty.call(i,o)&&(i=Mp(i))!==null;);return i}function Om(i,o){return Om=Object.setPrototypeOf||function(u,s){return u.__proto__=s,u},Om(i,o)}function rN(i){var o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,s=Mp(i);if(o){var p=Mp(this).constructor;u=Reflect.construct(s,arguments,p)}else u=s.apply(this,arguments);return nN(this,u)}}function nN(i,o){if(o&&(bm(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Np(i)}function Np(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function Mp(i){return Mp=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},Mp(i)}function FE(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}function Cp(i,o,u,s,p){var l={};return Object.keys(s).forEach(function(h){l[h]=s[h]}),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=u.slice().reverse().reduce(function(h,m){return m(i,o,h)||h},l),p&&l.initializer!==void 0&&(l.value=l.initializer?l.initializer.call(p):void 0,l.initializer=void 0),l.initializer===void 0&&(Object.defineProperty(i,o,l),l=null),l}var fc,BE,GE,wm=(ea=function(i){(function(l,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(h&&h.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),h&&Om(l,h)})(p,i);var o,u,s=rN(p);function p(){var l;Qj(this,p);for(var h=arguments.length,m=new Array(h),E=0;E<h;E++)m[E]=arguments[E];return FE(Np(l=s.call.apply(s,[this].concat(m))),"modelType",on.DIAMOND_NODE),LE(Np(l),"rx",ME,Np(l)),LE(Np(l),"ry",CE,Np(l)),l}return o=p,(u=[{key:"getNodeStyle",value:function(){var l=Em(Mp(p.prototype),"getNodeStyle",this).call(this),h=this.graphModel.theme.diamond;return kE(kE({},l),Jn(h))}},{key:"points",get:function(){var l=this.x,h=this.y,m=this.rx,E=this.ry;return[[l,h-E],[l+m,h],[l,h+E],[l-m,h]]}},{key:"pointsPosition",get:function(){return this.points.map(function(l){return{x:l[0],y:l[1]}})}},{key:"width",get:function(){var l=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(m){var E=_m(m,1)[0];E<l&&(l=E),E>h&&(h=E)}),h-l}},{key:"height",get:function(){var l=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(m){var E=_m(m,2)[1];E<l&&(l=E),E>h&&(h=E)}),h-l}},{key:"getDefaultAnchor",value:function(){var l=this;return this.points.map(function(h,m){var E=_m(h,2);return{x:E[0],y:E[1],id:"".concat(l.id,"_").concat(m)}})}}])&&eN(o.prototype,u),p}(Ef),ME=Cp(ea.prototype,"rx",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),CE=Cp(ea.prototype,"ry",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Cp(ea.prototype,"points",[f.m],Object.getOwnPropertyDescriptor(ea.prototype,"points"),ea.prototype),Cp(ea.prototype,"pointsPosition",[f.m],Object.getOwnPropertyDescriptor(ea.prototype,"pointsPosition"),ea.prototype),Cp(ea.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(ea.prototype,"width"),ea.prototype),Cp(ea.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(ea.prototype,"height"),ea.prototype),ea);function xm(i){return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},xm(i)}function UE(i,o){var u=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);o&&(s=s.filter(function(p){return Object.getOwnPropertyDescriptor(i,p).enumerable})),u.push.apply(u,s)}return u}function zE(i){for(var o=1;o<arguments.length;o++){var u=arguments[o]!=null?arguments[o]:{};o%2?UE(Object(u),!0).forEach(function(s){HE(i,s,u[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(u)):UE(Object(u)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(u,s))})}return i}function $E(i,o,u,s){u&&Object.defineProperty(i,o,{enumerable:u.enumerable,configurable:u.configurable,writable:u.writable,value:u.initializer?u.initializer.call(s):void 0})}function oN(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function iN(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function Sm(){return Sm=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(i,o,u){var s=aN(i,o);if(s){var p=Object.getOwnPropertyDescriptor(s,o);return p.get?p.get.call(arguments.length<3?i:u):p.value}},Sm.apply(this,arguments)}function aN(i,o){for(;!Object.prototype.hasOwnProperty.call(i,o)&&(i=Dp(i))!==null;);return i}function Am(i,o){return Am=Object.setPrototypeOf||function(u,s){return u.__proto__=s,u},Am(i,o)}function uN(i){var o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,s=Dp(i);if(o){var p=Dp(this).constructor;u=Reflect.construct(s,arguments,p)}else u=s.apply(this,arguments);return sN(this,u)}}function sN(i,o){if(o&&(xm(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ip(i)}function Ip(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function Dp(i){return Dp=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},Dp(i)}function HE(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}function Wv(i,o,u,s,p){var l={};return Object.keys(s).forEach(function(h){l[h]=s[h]}),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=u.slice().reverse().reduce(function(h,m){return m(i,o,h)||h},l),p&&l.initializer!==void 0&&(l.value=l.initializer?l.initializer.call(p):void 0,l.initializer=void 0),l.initializer===void 0&&(Object.defineProperty(i,o,l),l=null),l}var Hu,XE,Tm=(fc=function(i){(function(l,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(h&&h.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),h&&Am(l,h)})(p,i);var o,u,s=uN(p);function p(){var l;oN(this,p);for(var h=arguments.length,m=new Array(h),E=0;E<h;E++)m[E]=arguments[E];return HE(Ip(l=s.call.apply(s,[this].concat(m))),"modelType",on.ELLIPSE_NODE),$E(Ip(l),"rx",BE,Ip(l)),$E(Ip(l),"ry",GE,Ip(l)),l}return o=p,(u=[{key:"getNodeStyle",value:function(){var l=Sm(Dp(p.prototype),"getNodeStyle",this).call(this),h=this.graphModel.theme.ellipse;return zE(zE({},l),Jn(h))}},{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"getDefaultAnchor",value:function(){var l=this.x,h=this.y,m=this.rx,E=this.ry;return[{x:l,y:h-E,id:"".concat(this.id,"_0")},{x:l+m,y:h,id:"".concat(this.id,"_1")},{x:l,y:h+E,id:"".concat(this.id,"_2")},{x:l-m,y:h,id:"".concat(this.id,"_3")}]}}])&&iN(o.prototype,u),p}(Ef),BE=Wv(fc.prototype,"rx",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),GE=Wv(fc.prototype,"ry",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),Wv(fc.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(fc.prototype,"width"),fc.prototype),Wv(fc.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(fc.prototype,"height"),fc.prototype),fc);function Pm(i){return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Pm(i)}function Rm(i,o){return function(u){if(Array.isArray(u))return u}(i)||function(u,s){var p=u==null?null:typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(p!=null){var l,h,m=[],E=!0,A=!1;try{for(p=p.call(u);!(E=(l=p.next()).done)&&(m.push(l.value),!s||m.length!==s);E=!0);}catch(R){A=!0,h=R}finally{try{E||p.return==null||p.return()}finally{if(A)throw h}}return m}}(i,o)||function(u,s){if(!!u){if(typeof u=="string")return WE(u,s);var p=Object.prototype.toString.call(u).slice(8,-1);if(p==="Object"&&u.constructor&&(p=u.constructor.name),p==="Map"||p==="Set")return Array.from(u);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return WE(u,s)}}(i,o)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function WE(i,o){(o==null||o>i.length)&&(o=i.length);for(var u=0,s=new Array(o);u<o;u++)s[u]=i[u];return s}function VE(i,o){var u=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);o&&(s=s.filter(function(p){return Object.getOwnPropertyDescriptor(i,p).enumerable})),u.push.apply(u,s)}return u}function YE(i){for(var o=1;o<arguments.length;o++){var u=arguments[o]!=null?arguments[o]:{};o%2?VE(Object(u),!0).forEach(function(s){KE(i,s,u[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(u)):VE(Object(u)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(u,s))})}return i}function cN(i,o,u,s){u&&Object.defineProperty(i,o,{enumerable:u.enumerable,configurable:u.configurable,writable:u.writable,value:u.initializer?u.initializer.call(s):void 0})}function fN(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function lN(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function jm(){return jm=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(i,o,u){var s=dN(i,o);if(s){var p=Object.getOwnPropertyDescriptor(s,o);return p.get?p.get.call(arguments.length<3?i:u):p.value}},jm.apply(this,arguments)}function dN(i,o){for(;!Object.prototype.hasOwnProperty.call(i,o)&&(i=kp(i))!==null;);return i}function Nm(i,o){return Nm=Object.setPrototypeOf||function(u,s){return u.__proto__=s,u},Nm(i,o)}function pN(i){var o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,s=kp(i);if(o){var p=kp(this).constructor;u=Reflect.construct(s,arguments,p)}else u=s.apply(this,arguments);return hN(this,u)}}function hN(i,o){if(o&&(Pm(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vv(i)}function Vv(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function kp(i){return kp=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},kp(i)}function KE(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}function Yv(i,o,u,s,p){var l={};return Object.keys(s).forEach(function(h){l[h]=s[h]}),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=u.slice().reverse().reduce(function(h,m){return m(i,o,h)||h},l),p&&l.initializer!==void 0&&(l.value=l.initializer?l.initializer.call(p):void 0,l.initializer=void 0),l.initializer===void 0&&(Object.defineProperty(i,o,l),l=null),l}var Mm,qE,Cm=(Hu=function(i){(function(l,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(h&&h.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),h&&Nm(l,h)})(p,i);var o,u,s=pN(p);function p(){var l;fN(this,p);for(var h=arguments.length,m=new Array(h),E=0;E<h;E++)m[E]=arguments[E];return KE(Vv(l=s.call.apply(s,[this].concat(m))),"modelType",on.POLYGON_NODE),cN(Vv(l),"points",XE,Vv(l)),l}return o=p,(u=[{key:"getNodeStyle",value:function(){var l=jm(kp(p.prototype),"getNodeStyle",this).call(this),h=this.graphModel.theme.polygon;return YE(YE({},l),Jn(h))}},{key:"pointsPosition",get:function(){var l=this.x,h=this.y,m=this.width,E=this.height;return this.points.map(function(A){return{x:A[0]+l-m/2,y:A[1]+h-E/2}})}},{key:"width",get:function(){var l=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(m){var E=Rm(m,1)[0];E<l&&(l=E),E>h&&(h=E)}),h-l}},{key:"height",get:function(){var l=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(m){var E=Rm(m,2)[1];E<l&&(l=E),E>h&&(h=E)}),h-l}},{key:"getDefaultAnchor",value:function(){var l=this,h=this.x,m=this.y,E=this.width,A=this.height;return this.points.map(function(R,L){var F=Rm(R,2),ne=F[0],ye=F[1];return{x:h+ne-E/2,y:m+ye-A/2,id:"".concat(l.id,"_").concat(L)}})}}])&&lN(o.prototype,u),p}(Ef),XE=Yv(Hu.prototype,"points",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),Yv(Hu.prototype,"pointsPosition",[f.m],Object.getOwnPropertyDescriptor(Hu.prototype,"pointsPosition"),Hu.prototype),Yv(Hu.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(Hu.prototype,"width"),Hu.prototype),Yv(Hu.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(Hu.prototype,"height"),Hu.prototype),Hu);function Im(i){return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Im(i)}function ZE(i,o){var u=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);o&&(s=s.filter(function(p){return Object.getOwnPropertyDescriptor(i,p).enumerable})),u.push.apply(u,s)}return u}function JE(i){for(var o=1;o<arguments.length;o++){var u=arguments[o]!=null?arguments[o]:{};o%2?ZE(Object(u),!0).forEach(function(s){QE(i,s,u[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(u)):ZE(Object(u)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(u,s))})}return i}function vN(i,o,u,s){u&&Object.defineProperty(i,o,{enumerable:u.enumerable,configurable:u.configurable,writable:u.writable,value:u.initializer?u.initializer.call(s):void 0})}function yN(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function gN(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function Dm(){return Dm=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(i,o,u){var s=mN(i,o);if(s){var p=Object.getOwnPropertyDescriptor(s,o);return p.get?p.get.call(arguments.length<3?i:u):p.value}},Dm.apply(this,arguments)}function mN(i,o){for(;!Object.prototype.hasOwnProperty.call(i,o)&&(i=Lp(i))!==null;);return i}function km(i,o){return km=Object.setPrototypeOf||function(u,s){return u.__proto__=s,u},km(i,o)}function bN(i){var o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,s=Lp(i);if(o){var p=Lp(this).constructor;u=Reflect.construct(s,arguments,p)}else u=s.apply(this,arguments);return _N(this,u)}}function _N(i,o){if(o&&(Im(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kv(i)}function Kv(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function Lp(i){return Lp=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},Lp(i)}function QE(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}var Tl,Lm=(Mm=function(i){(function(l,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(h&&h.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),h&&km(l,h)})(p,i);var o,u,s=bN(p);function p(){var l;yN(this,p);for(var h=arguments.length,m=new Array(h),E=0;E<h;E++)m[E]=arguments[E];return QE(Kv(l=s.call.apply(s,[this].concat(m))),"modelType",on.RECT_NODE),vN(Kv(l),"radius",qE,Kv(l)),l}return o=p,(u=[{key:"getDefaultAnchor",value:function(){var l=this.x,h=this.y,m=this.width,E=this.height;return[{x:l,y:h-E/2,id:"".concat(this.id,"_0")},{x:l+m/2,y:h,id:"".concat(this.id,"_1")},{x:l,y:h+E/2,id:"".concat(this.id,"_2")},{x:l-m/2,y:h,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var l=Dm(Lp(p.prototype),"getNodeStyle",this).call(this),h=this.graphModel.theme.rect;return JE(JE({},l),Jn(h))}}])&&gN(o.prototype,u),p}(Ef),qE=function(i,o,u,s,p){var l={};return Object.keys(s).forEach(function(h){l[h]=s[h]}),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=u.slice().reverse().reduce(function(h,m){return m(i,o,h)||h},l),p&&l.initializer!==void 0&&(l.value=l.initializer?l.initializer.call(p):void 0,l.initializer=void 0),l.initializer===void 0&&(Object.defineProperty(i,o,l),l=null),l}(Mm.prototype,"radius",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Mm);function Fm(i){return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Fm(i)}function eO(i,o){var u=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);o&&(s=s.filter(function(p){return Object.getOwnPropertyDescriptor(i,p).enumerable})),u.push.apply(u,s)}return u}function tO(i){for(var o=1;o<arguments.length;o++){var u=arguments[o]!=null?arguments[o]:{};o%2?eO(Object(u),!0).forEach(function(s){nO(i,s,u[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(u)):eO(Object(u)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(u,s))})}return i}function EN(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function ON(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function Bm(){return Bm=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(i,o,u){var s=wN(i,o);if(s){var p=Object.getOwnPropertyDescriptor(s,o);return p.get?p.get.call(arguments.length<3?i:u):p.value}},Bm.apply(this,arguments)}function wN(i,o){for(;!Object.prototype.hasOwnProperty.call(i,o)&&(i=Fp(i))!==null;);return i}function Gm(i,o){return Gm=Object.setPrototypeOf||function(u,s){return u.__proto__=s,u},Gm(i,o)}function xN(i){var o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,s=Fp(i);if(o){var p=Fp(this).constructor;u=Reflect.construct(s,arguments,p)}else u=s.apply(this,arguments);return SN(this,u)}}function SN(i,o){if(o&&(Fm(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rO(i)}function rO(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function Fp(i){return Fp=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},Fp(i)}function nO(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}function oO(i,o,u,s,p){var l={};return Object.keys(s).forEach(function(h){l[h]=s[h]}),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=u.slice().reverse().reduce(function(h,m){return m(i,o,h)||h},l),p&&l.initializer!==void 0&&(l.value=l.initializer?l.initializer.call(p):void 0,l.initializer=void 0),l.initializer===void 0&&(Object.defineProperty(i,o,l),l=null),l}var Um=(Tl=function(i){(function(l,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(h&&h.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),h&&Gm(l,h)})(p,i);var o,u,s=xN(p);function p(){var l;EN(this,p);for(var h=arguments.length,m=new Array(h),E=0;E<h;E++)m[E]=arguments[E];return nO(rO(l=s.call.apply(s,[this].concat(m))),"modelType",on.TEXT_NODE),l}return o=p,(u=[{key:"getTextStyle",value:function(){var l=Bm(Fp(p.prototype),"getTextStyle",this).call(this),h=this.graphModel.theme.text;return tO(tO({},l),Jn(h))}},{key:"width",get:function(){var l=String(this.text.value).split(/[\r\n]/g),h=this.getTextStyle().fontSize;return ys({rows:l,fontSize:h,rowsLength:l.length}).width}},{key:"height",get:function(){var l=String(this.text.value).split(/[\r\n]/g),h=this.getTextStyle().fontSize;return ys({rows:l,fontSize:h,rowsLength:l.length}).height}}])&&ON(o.prototype,u),p}(Ef),oO(Tl.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(Tl.prototype,"width"),Tl.prototype),oO(Tl.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(Tl.prototype,"height"),Tl.prototype),Tl);function zm(i){return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},zm(i)}function AN(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function TN(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function $m(i,o){return $m=Object.setPrototypeOf||function(u,s){return u.__proto__=s,u},$m(i,o)}function PN(i){var o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,s=qv(i);if(o){var p=qv(this).constructor;u=Reflect.construct(s,arguments,p)}else u=s.apply(this,arguments);return RN(this,u)}}function RN(i,o){if(o&&(zm(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iO(i)}function iO(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function qv(i){return qv=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},qv(i)}function jN(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}var Os,aO,uO,sO,Hm=function(i){(function(l,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(h&&h.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),h&&$m(l,h)})(p,i);var o,u,s=PN(p);function p(){var l;AN(this,p);for(var h=arguments.length,m=new Array(h),E=0;E<h;E++)m[E]=arguments[E];return jN(iO(l=s.call.apply(s,[this].concat(m))),"modelType",on.HTML_NODE),l}return o=p,(u=[{key:"getDefaultAnchor",value:function(){var l=this.x,h=this.y,m=this.width,E=this.height;return[{x:l,y:h-E/2,id:"".concat(this.id,"_0")},{x:l+m/2,y:h,id:"".concat(this.id,"_1")},{x:l,y:h+E/2,id:"".concat(this.id,"_2")},{x:l-m/2,y:h,id:"".concat(this.id,"_3")}]}}])&&TN(o.prototype,u),p}(Ef);function cO(i,o){var u=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);o&&(s=s.filter(function(p){return Object.getOwnPropertyDescriptor(i,p).enumerable})),u.push.apply(u,s)}return u}function Xm(i,o,u,s){u&&Object.defineProperty(i,o,{enumerable:u.enumerable,configurable:u.configurable,writable:u.writable,value:u.initializer?u.initializer.call(s):void 0})}function NN(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function fO(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}function Uh(i,o,u,s,p){var l={};return Object.keys(s).forEach(function(h){l[h]=s[h]}),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=u.slice().reverse().reduce(function(h,m){return m(i,o,h)||h},l),p&&l.initializer!==void 0&&(l.value=l.initializer?l.initializer.call(p):void 0,l.initializer=void 0),l.initializer===void 0&&(Object.defineProperty(i,o,l),l=null),l}var lO=(Os=function(){function i(s){(function(p,l){if(!(p instanceof l))throw new TypeError("Cannot call a class as a function")})(this,i),fO(this,"graphModel",void 0),Xm(this,"isShowHorizontal",aO,this),Xm(this,"isShowVertical",uO,this),Xm(this,"position",sO,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=s}var o,u;return o=i,u=[{key:"getStyle",value:function(){return function(s){for(var p=1;p<arguments.length;p++){var l=arguments[p]!=null?arguments[p]:{};p%2?cO(Object(l),!0).forEach(function(h){fO(s,h,l[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(l)):cO(Object(l)).forEach(function(h){Object.defineProperty(s,h,Object.getOwnPropertyDescriptor(l,h))})}return s}({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(s,p){for(var l=s.x,h=s.y,m=!1,E=!1,A=0;A<p.length;A++){var R=p[A];if(R.id!==s.id&&(l===R.x&&(m=!0),h===R.y&&(E=!0),m&&E))break}return{isShowVertical:m,isShowHorizontal:E,position:{x:l,y:h}}}},{key:"getHorizontalSnapline",value:function(s,p){var l,h,m=!1,E=s.id;if(E){var A=this.graphModel.fakerNode;if(A&&A.id===E)h=li(A);else{var R=this.graphModel.getNodeModelById(E);h=li(R)}}for(var L=0;L<p.length;L++){var F=p[L];if(F.id!==s.id){var ne=li(F);if(ne.minY===h.minY||ne.maxY===h.minY){m=!0,l=h.minY;break}if(ne.minY===h.maxY||ne.maxY===h.maxY){m=!0,l=h.maxY;break}}}return ei({isShowHorizontal:m,position:{y:l}})}},{key:"getVerticalSnapline",value:function(s,p){var l,h,m=!1,E=s.id;if(E){var A=this.graphModel.fakerNode;if(A&&A.id===E)h=li(A);else{var R=this.graphModel.getNodeModelById(E);h=li(R)}}for(var L=0;L<p.length;L++){var F=p[L];if(F.id!==s.id){var ne=li(F);if(ne.minX===h.minX||ne.maxX===h.minX){m=!0,l=h.minX;break}if(ne.minX===h.maxX||ne.maxX===h.maxX){m=!0,l=h.maxX;break}}}return ei({isShowVertical:m,position:{x:l}})}},{key:"getSnapLinePosition",value:function(s,p){var l=this.getCenterSnapLine(s,p),h=l.isShowHorizontal,m=l.isShowVertical;if(!h){var E=this.getHorizontalSnapline(s,p);E.isShowHorizontal&&(l.isShowHorizontal=E.isShowHorizontal,l.position.y=E.position.y)}if(!m){var A=this.getVerticalSnapline(s,p);A.isShowVertical&&(l.isShowVertical=A.isShowVertical,l.position.x=A.position.x)}return l}},{key:"setSnaplineInfo",value:function(s){var p=s.isShowHorizontal,l=s.isShowVertical,h=s.position;this.position=h,this.isShowHorizontal=p,this.isShowVertical=l}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(s){var p=this.graphModel.nodes,l=this.getSnapLinePosition(s,p);this.setSnaplineInfo(l)}}],u&&NN(o.prototype,u),i}(),aO=Uh(Os.prototype,"isShowHorizontal",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uO=Uh(Os.prototype,"isShowVertical",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sO=Uh(Os.prototype,"position",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Uh(Os.prototype,"clearSnapline",[f.k],Object.getOwnPropertyDescriptor(Os.prototype,"clearSnapline"),Os.prototype),Uh(Os.prototype,"setNodeSnapLine",[f.k],Object.getOwnPropertyDescriptor(Os.prototype,"setNodeSnapLine"),Os.prototype),Os),zh=new Map,dO=function(i){var o=ha(),u=window.requestAnimationFrame(function s(){if(i(),zh.get(o)){var p=window.requestAnimationFrame(s);zh.set(o,p)}});return zh.set(o,u),o},Zv=function(i){var o=zh.get(i);o&&(window.cancelAnimationFrame(o),zh.delete(i))};function Wm(i){return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Wm(i)}function $h(){return $h=Object.assign||function(i){for(var o=1;o<arguments.length;o++){var u=arguments[o];for(var s in u)Object.prototype.hasOwnProperty.call(u,s)&&(i[s]=u[s])}return i},$h.apply(this,arguments)}function pO(i,o){var u=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);o&&(s=s.filter(function(p){return Object.getOwnPropertyDescriptor(i,p).enumerable})),u.push.apply(u,s)}return u}function Hh(i){for(var o=1;o<arguments.length;o++){var u=arguments[o]!=null?arguments[o]:{};o%2?pO(Object(u),!0).forEach(function(s){dc(i,s,u[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(u)):pO(Object(u)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(u,s))})}return i}function MN(i,o){return function(u){if(Array.isArray(u))return u}(i)||function(u,s){var p=u==null?null:typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(p!=null){var l,h,m=[],E=!0,A=!1;try{for(p=p.call(u);!(E=(l=p.next()).done)&&(m.push(l.value),!s||m.length!==s);E=!0);}catch(R){A=!0,h=R}finally{try{E||p.return==null||p.return()}finally{if(A)throw h}}return m}}(i,o)||function(u,s){if(!!u){if(typeof u=="string")return hO(u,s);var p=Object.prototype.toString.call(u).slice(8,-1);if(p==="Object"&&u.constructor&&(p=u.constructor.name),p==="Map"||p==="Set")return Array.from(u);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return hO(u,s)}}(i,o)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function hO(i,o){(o==null||o>i.length)&&(o=i.length);for(var u=0,s=new Array(o);u<o;u++)s[u]=i[u];return s}function CN(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function Vm(i,o){return Vm=Object.setPrototypeOf||function(u,s){return u.__proto__=s,u},Vm(i,o)}function IN(i){var o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,s=Jv(i);if(o){var p=Jv(this).constructor;u=Reflect.construct(s,arguments,p)}else u=s.apply(this,arguments);return DN(this,u)}}function DN(i,o){if(o&&(Wm(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lc(i)}function lc(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function Jv(i){return Jv=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},Jv(i)}function dc(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}var kN=function(i){(function(l,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(h&&h.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),h&&Vm(l,h)})(p,i);var o,u,s=IN(p);function p(){var l;return function(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}(this,p),dc(lc(l=s.call(this)),"preTargetNode",void 0),dc(lc(l),"sourceRuleResults",void 0),dc(lc(l),"targetRuleResults",void 0),dc(lc(l),"dragHandler",void 0),dc(lc(l),"t",void 0),dc(lc(l),"onDragStart",function(h){var m=h.event,E=l.props,A=E.anchorData,R=E.nodeModel,L=E.graphModel;L.overlapMode,L.selectNodeById(R.id),R.autoToFront&&L.toFront(R.id),L.eventCenter.emit(gr.ANCHOR_DRAGSTART,{data:A,e:m,nodeModel:R}),l.setState({startX:A.x,startY:A.y,endX:A.x,endY:A.y})}),dc(lc(l),"onDragging",function(h){var m=h.event,E=l.props,A=E.graphModel,R=E.nodeModel,L=E.anchorData,F=A.transformModel,ne=A.eventCenter,ye=A.width,we=A.height,Ue=A.editConfigModel,ze=Ue.autoExpand,ot=Ue.stopMoveGraph,Tt=m.clientX,er=m.clientY,Qt=A.getPointByClient({x:Tt,y:er}),Rr=Qt.domOverlayPosition,Zt=Rr.x,_r=Rr.y,ur=Qt.canvasOverlayPosition,hn=ur.x,On=ur.y;l.t&&Zv(l.t);var Vr=[];Zt<10?Vr=[10,0]:Zt+10>ye?Vr=[-10,0]:_r<10?Vr=[0,10]:_r+10>we&&(Vr=[0,-10]),l.setState({endX:hn,endY:On,dragging:!0}),l.moveAnchorEnd(hn,On),Vr.length>0&&!ot&&ze&&(l.t=dO(function(){var Rn=MN(Vr,2),Uo=Rn[0],zo=Rn[1];F.translate(Uo,zo);var Gi=l.state,pu=Gi.endX,hu=Gi.endY;l.setState({endX:pu-Uo,endY:hu-zo}),l.moveAnchorEnd(pu-Uo,hu-zo)})),ne.emit(gr.ANCHOR_DRAG,{data:L,e:m,nodeModel:R})}),dc(lc(l),"onDragEnd",function(h){var m=h.event;l.t&&Zv(l.t);var E=l.checkEnd(m);l.setState({startX:0,startY:0,endX:0,endY:0,dragging:!1}),l.sourceRuleResults.clear(),l.targetRuleResults.clear();var A=l.props,R=A.graphModel,L=A.nodeModel,F=A.anchorData;R.eventCenter.emit(gr.ANCHOR_DRAGEND,{data:F,e:m,nodeModel:L,edgeModel:E})}),dc(lc(l),"checkEnd",function(h){var m=l.props,E=m.graphModel,A=m.nodeModel,R=m.anchorData,L=R.x,F=R.y,ne=R.id,ye=(E.edgeType,l.state),we=ye.endX,Ue=ye.endY,ze=ye.dragging,ot=hs({x:we,y:Ue},E);if(l.preTargetNode&&l.preTargetNode.state!==Pn.DEFAULT&&l.preTargetNode.setElementState(Pn.DEFAULT),ze&&ot&&ot.node){var Tt=ot.node,er=ot.anchor.id,Qt="".concat(A.id,"_").concat(Tt.id,"_").concat(er,"_").concat(ne),Rr=l.sourceRuleResults.get(Qt)||{},Zt=Rr.isAllPass,_r=Rr.msg,ur=l.targetRuleResults.get(Qt)||{},hn=ur.isAllPass,On=ur.msg;if(Zt&&hn){Tt.setElementState(Pn.DEFAULT);var Vr=E.edgeGenerator(A.getData(),E.getNodeModelById(ot.node.id).getData()),Rn=E.addEdge(Hh(Hh({},Vr),{},{sourceNodeId:A.id,sourceAnchorId:ne,startPoint:{x:L,y:F},targetNodeId:ot.node.id,targetAnchorId:ot.anchor.id,endPoint:{x:ot.anchor.x,y:ot.anchor.y}})),Uo=l.props.anchorData;return E.eventCenter.emit(gr.ANCHOR_DROP,{data:Uo,e:h,nodeModel:A,edgeModel:Rn}),Rn}var zo=Tt.getData();return E.eventCenter.emit(gr.CONNECTION_NOT_ALLOWED,{data:zo,msg:On||_r||"\u4E0D\u5141\u8BB8\u6DFB\u52A0\u8FDE\u7EBF"}),null}}),l.sourceRuleResults=new Map,l.targetRuleResults=new Map,l.state={startX:0,startY:0,endX:0,endY:0,dragging:!1},l.dragHandler=new U({onDragStart:l.onDragStart,onDragging:l.onDragging,onDragEnd:l.onDragEnd}),l}return o=p,(u=[{key:"getAnchorShape",value:function(){var l=this.props,h=l.anchorData,m=l.style,E=l.node.getAnchorShape(h);if(E)return E;var A=h.x,R=h.y,L=Hh(Hh({},m),m.hover);return Object(Ne.g)("g",null,Object(Ne.g)(Rp,$h({className:"lf-node-anchor-hover"},L,{x:A,y:R})),Object(Ne.g)(Rp,$h({className:"lf-node-anchor"},m,{x:A,y:R})))}},{key:"customTrajectory",get:function(){return this.props.graphModel.customTrajectory}},{key:"relateEdges",get:function(){var l=this.props,h=l.graphModel,m=h.getAnchorIncomingEdge,E=h.getAnchorOutcomingEdge,A=l.anchorData.id;return{incomingEdgeList:m(A),outcomingEdgeList:E(A)}}},{key:"moveAnchorEnd",value:function(l,h){var m=this.props,E=m.graphModel,A=m.nodeModel,R=m.anchorData,L=hs({x:l,y:h},E);if(L){var F=L.node,ne=L.anchor.id;if(this.preTargetNode&&this.preTargetNode!==L.node&&this.preTargetNode.setElementState(Pn.DEFAULT),R.id===ne)return;this.preTargetNode=F;var ye="".concat(A.id,"_").concat(F.id,"_").concat(ne,"_").concat(R.id);if(!this.targetRuleResults.has(ye)){var we=L.anchor,Ue=A.isAllowConnectedAsSource(F,R,we),ze=F.isAllowConnectedAsTarget(A,R,we);this.sourceRuleResults.set(ye,au(Ue)),this.targetRuleResults.set(ye,au(ze))}var ot=this.sourceRuleResults.get(ye).isAllPass,Tt=this.targetRuleResults.get(ye).isAllPass;ot&&Tt?F.setElementState(Pn.ALLOW_CONNECT):F.setElementState(Pn.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==Pn.DEFAULT&&this.preTargetNode.setElementState(Pn.DEFAULT)}},{key:"isShowLine",value:function(){var l=this.state,h=l.startX,m=l.startY,E=l.endX,A=l.endY;return Ti(h,m,E,A)>10}},{key:"render",value:function(){var l=this,h=this.state,m=h.startX,E=h.startY,A=h.endX,R=h.endY,L=this.props,F=L.anchorData.edgeAddable,ne=L.edgeStyle;return Object(Ne.g)("g",{className:"lf-anchor"},Object(Ne.g)("g",{onMouseDown:function(ye){F!==!1&&l.dragHandler.handleMouseDown(ye)}},this.getAnchorShape()),this.isShowLine()&&(this.customTrajectory?this.customTrajectory(Hh({sourcePoint:{x:m,y:E},targetPoint:{x:A,y:R}},ne)):Object(Ne.g)(Tp,$h({x1:m,y1:E,x2:A,y2:R},ne,{"pointer-events":"none"}))))}}])&&CN(o.prototype,u),p}(Ne.a);function vO(i,o){var u=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);o&&(s=s.filter(function(p){return Object.getOwnPropertyDescriptor(i,p).enumerable})),u.push.apply(u,s)}return u}function LN(i){for(var o=1;o<arguments.length;o++){var u=arguments[o]!=null?arguments[o]:{};o%2?vO(Object(u),!0).forEach(function(s){FN(i,s,u[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(u)):vO(Object(u)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(u,s))})}return i}function FN(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}function Ym(i){return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Ym(i)}function BN(i,o){return function(u){if(Array.isArray(u))return u}(i)||function(u,s){var p=u==null?null:typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(p!=null){var l,h,m=[],E=!0,A=!1;try{for(p=p.call(u);!(E=(l=p.next()).done)&&(m.push(l.value),!s||m.length!==s);E=!0);}catch(R){A=!0,h=R}finally{try{E||p.return==null||p.return()}finally{if(A)throw h}}return m}}(i,o)||function(u,s){if(!!u){if(typeof u=="string")return yO(u,s);var p=Object.prototype.toString.call(u).slice(8,-1);if(p==="Object"&&u.constructor&&(p=u.constructor.name),p==="Map"||p==="Set")return Array.from(u);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return yO(u,s)}}(i,o)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function yO(i,o){(o==null||o>i.length)&&(o=i.length);for(var u=0,s=new Array(o);u<o;u++)s[u]=i[u];return s}function gO(i){var o=i.x,u=o===void 0?0:o,s=i.y,p=s===void 0?0:s,l=i.value,h=i.fontSize,m=i.fill,E=m===void 0?"currentColor":m,A=i.overflowMode,R=A===void 0?"default":A,L=i.textWidth,F=L===void 0?"":L,ne=i.model,ye={textAnchor:"middle","dominant-baseline":"middle",x:u,y:p,fill:E};if(Object.entries(i).forEach(function(er){var Qt=BN(er,2),Rr=Qt[0],Zt=Qt[1];Ym(Zt)!=="object"&&(ye[Rr]=Zt)}),l){var we=String(l).split(/[\r\n]/g),Ue=we.length;if(R!=="default"){var ze=ne.BaseType,ot=ne.modelType;if(ze===Fn.NODE&&ot!==on.TEXT_NODE||ze===Fn.EDGE&&F)return function(er){var Qt=er.value,Rr=er.fontSize,Zt=er.model,_r=er.fontFamily,ur=_r===void 0?"":_r,hn=er.lineHeight,On=er.wrapPadding,Vr=On===void 0?"0, 0":On,Rn=er.overflowMode,Uo=er.x,zo=er.y,Gi=Zt.width,pu=Zt.textHeight,hu=er.textWidth||Gi,vc=String(Qt).split(/[\r\n]/g),Nd=vc.length,wy=nc({rows:vc,style:{fontSize:"".concat(Rr,"px"),width:"".concat(hu,"px"),fontFamily:ur,lineHeight:hn,padding:Vr},rowsLength:Nd,className:"lf-get-text-height"}),Md=Zt.height>wy?Zt.height:wy;pu&&(Md=pu);var jl=Rn==="ellipsis";return jl&&(Md=Rr+2),Object(Ne.g)("g",null,Object(Ne.g)("foreignObject",{width:hu,height:Md,x:Uo-hu/2,y:zo-Md/2},Object(Ne.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:Md,width:hu,padding:Vr}},Object(Ne.g)("div",{className:jl?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",title:jl?vc.join(""):"",style:LN({},er)},vc.map(function(Nl){return Object(Ne.g)("div",{className:"lf-node-text--auto-wrap-inner"},Nl)})))))}(i)}if(Ue>1){var Tt=we.map(function(er,Qt){var Rr=(Qt-(Ue-1)/2)*(h+2);return Object(Ne.g)("tspan",{className:"lf-text-tspan",x:u,y:p+Rr},er)});return Object(Ne.g)("text",ye,Tt)}return Object(Ne.g)("text",ye,l)}}function Km(i){return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Km(i)}function qm(){return qm=Object.assign||function(i){for(var o=1;o<arguments.length;o++){var u=arguments[o];for(var s in u)Object.prototype.hasOwnProperty.call(u,s)&&(i[s]=u[s])}return i},qm.apply(this,arguments)}function GN(i,o){return function(u){if(Array.isArray(u))return u}(i)||function(u,s){var p=u==null?null:typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(p!=null){var l,h,m=[],E=!0,A=!1;try{for(p=p.call(u);!(E=(l=p.next()).done)&&(m.push(l.value),!s||m.length!==s);E=!0);}catch(R){A=!0,h=R}finally{try{E||p.return==null||p.return()}finally{if(A)throw h}}return m}}(i,o)||function(u,s){if(!!u){if(typeof u=="string")return mO(u,s);var p=Object.prototype.toString.call(u).slice(8,-1);if(p==="Object"&&u.constructor&&(p=u.constructor.name),p==="Map"||p==="Set")return Array.from(u);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return mO(u,s)}}(i,o)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function mO(i,o){(o==null||o>i.length)&&(o=i.length);for(var u=0,s=new Array(o);u<o;u++)s[u]=i[u];return s}function UN(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function Zm(i,o){return Zm=Object.setPrototypeOf||function(u,s){return u.__proto__=s,u},Zm(i,o)}function zN(i){var o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,s=Qv(i);if(o){var p=Qv(this).constructor;u=Reflect.construct(s,arguments,p)}else u=s.apply(this,arguments);return $N(this,u)}}function $N(i,o){if(o&&(Km(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pl(i)}function Pl(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function Qv(i){return Qv=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},Qv(i)}function Td(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}var bO=function(i){(function(l,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(h&&h.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),h&&Zm(l,h)})(p,i);var o,u,s=zN(p);function p(l){var h;(function(E,A){if(!(E instanceof A))throw new TypeError("Cannot call a class as a function")})(this,p),Td(Pl(h=s.call(this)),"dragHandler",void 0),Td(Pl(h),"sumDeltaX",0),Td(Pl(h),"sumDeltaY",0),Td(Pl(h),"stepDrag",void 0),Td(Pl(h),"onDragging",function(E){var A=E.deltaX,R=E.deltaY,L=h.props,F=L.model,ne=GN(L.graphModel.transformModel.fixDeltaXY(A,R),2),ye=ne[0],we=ne[1];F.moveText(ye,we)}),Td(Pl(h),"dblClickHandler",function(){h.props.editable&&h.props.model.setElementState(Pn.TEXT_EDIT)}),Td(Pl(h),"mouseDownHandle",function(E){var A=h.props,R=A.draggable,L=A.model,F=A.graphModel.editConfigModel.nodeTextDraggable;(R||F)&&(h.stepDrag.model=L,h.stepDrag.handleMouseDown(E))}),l.model;var m=l.draggable;return h.stepDrag=new U({onDragging:h.onDragging,step:1,isStopPropagation:m}),h}return o=p,(u=[{key:"getShape",value:function(){var l=this.props,h=l.model,m=l.graphModel,E=h.text,A=m.editConfigModel,R=E.value,L=E.x,F=E.y,ne=E.editable,ye=E.draggable,we={x:L,y:F,className:"",value:R};ne?we.className="lf-element-text":ye||A.nodeTextDraggable?we.className="lf-text-draggable":we.className="lf-text-disabled";var Ue=h.getTextStyle();return Object(Ne.g)(gO,qm({},we,Ue,{model:h}))}},{key:"render",value:function(){if(this.props.model.text)return Object(Ne.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&UN(o.prototype,u),p}(Ne.a),HN=os(window,"navigator.userAgent","").match(/MSIE|Trident/)!==null,_O=n(130);function Jm(i){return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Jm(i)}function Qm(){return Qm=Object.assign||function(i){for(var o=1;o<arguments.length;o++){var u=arguments[o];for(var s in u)Object.prototype.hasOwnProperty.call(u,s)&&(i[s]=u[s])}return i},Qm.apply(this,arguments)}function XN(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function e0(i,o){return e0=Object.setPrototypeOf||function(u,s){return u.__proto__=s,u},e0(i,o)}function WN(i){var o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,s=ey(i);if(o){var p=ey(this).constructor;u=Reflect.construct(s,arguments,p)}else u=s.apply(this,arguments);return VN(this,u)}}function VN(i,o){if(o&&(Jm(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bp(i)}function Bp(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function ey(i){return ey=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},ey(i)}function Xh(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}var YN=function(i){(function(l,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(h&&h.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),h&&e0(l,h)})(p,i);var o,u,s=WN(p);function p(l){var h;return function(m,E){if(!(m instanceof E))throw new TypeError("Cannot call a class as a function")}(this,p),Xh(Bp(h=s.call(this,l)),"style",{}),Xh(Bp(h),"defaultAngle",void 0),Xh(Bp(h),"normal",void 0),Xh(Bp(h),"stepperDrag",void 0),Xh(Bp(h),"onDragging",function(m){var E,A=m.event,R=h.props,L=R.graphModel,F=R.nodeModel,ne=R.eventCenter,ye=L.selectNodes,we=F.x,Ue=F.y,ze=A.clientX,ot=A.clientY,Tt=L.getPointByClient({x:ze,y:ot}).canvasOverlayPosition,er=Tt.x,Qt=Tt.y,Rr=new B(er-we,Qt-Ue),Zt=((E=h.normal)===null||E===void 0?void 0:E.angle(Rr))-h.defaultAngle,_r=new sc(-we,-Ue).rotate(Zt).translate(we,Ue).toString();F.transform=_r,F.rotate=Zt;var ur=Object(_O.map)(ye,function(On){return On.id});ur.indexOf(F.id)===-1&&(ur=[F.id]);var hn=Object(_O.reduce)(ur,function(On,Vr){var Rn=L.getNodeModelById(Vr);return On[Vr]=Rn==null?void 0:Rn.getMoveDistance(0,0,!1),On},{});ur.forEach(function(On){L.getNodeEdges(On).forEach(function(Vr){if(hn[Vr.sourceNodeId]){var Rn=L.getNodeModelById(Vr.sourceNodeId).anchors.find(function(zo){return zo.id===Vr.sourceAnchorId});Vr.updateStartPoint(Rn)}if(hn[Vr.targetNodeId]){var Uo=L.getNodeModelById(Vr.targetNodeId).anchors.find(function(zo){return zo.id===Vr.targetAnchorId});Vr.updateEndPoint(Uo)}})}),ne.emit(gr.NODE_ROTATE,{e:A,nodeModel:F})}),h.style=l.style,h.stepperDrag=new U({onDragging:h.onDragging}),h}return o=p,(u=[{key:"render",value:function(){var l=this,h=this.props.nodeModel,m=h.x,E=h.y,A=m+h.width/2+20,R=E-h.height/2-20;return this.normal=new B(1,0),this.defaultAngle=this.normal.angle(new B(A-m,R-E)),h.defaultAngle=this.defaultAngle,Object(Ne.g)("g",{className:"lf-rotate-control"},Object(Ne.g)("g",{onMouseDown:function(L){l.stepperDrag.handleMouseDown(L)}},Object(Ne.g)(Rp,Qm({},this.style,{cx:A,cy:R}))))}}])&&XN(o.prototype,u),p}(Ne.a);function t0(i){return t0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},t0(i)}var KN=["className"];function ty(){return ty=Object.assign||function(i){for(var o=1;o<arguments.length;o++){var u=arguments[o];for(var s in u)Object.prototype.hasOwnProperty.call(u,s)&&(i[s]=u[s])}return i},ty.apply(this,arguments)}function qN(i,o){if(i==null)return{};var u,s,p=function(h,m){if(h==null)return{};var E,A,R={},L=Object.keys(h);for(A=0;A<L.length;A++)E=L[A],m.indexOf(E)>=0||(R[E]=h[E]);return R}(i,o);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);for(s=0;s<l.length;s++)u=l[s],o.indexOf(u)>=0||Object.prototype.propertyIsEnumerable.call(i,u)&&(p[u]=i[u])}return p}function ry(i,o){return function(u){if(Array.isArray(u))return u}(i)||function(u,s){var p=u==null?null:typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(p!=null){var l,h,m=[],E=!0,A=!1;try{for(p=p.call(u);!(E=(l=p.next()).done)&&(m.push(l.value),!s||m.length!==s);E=!0);}catch(R){A=!0,h=R}finally{try{E||p.return==null||p.return()}finally{if(A)throw h}}return m}}(i,o)||function(u,s){if(!!u){if(typeof u=="string")return EO(u,s);var p=Object.prototype.toString.call(u).slice(8,-1);if(p==="Object"&&u.constructor&&(p=u.constructor.name),p==="Map"||p==="Set")return Array.from(u);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return EO(u,s)}}(i,o)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function EO(i,o){(o==null||o>i.length)&&(o=i.length);for(var u=0,s=new Array(o);u<o;u++)s[u]=i[u];return s}function OO(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function r0(i,o){return r0=Object.setPrototypeOf||function(u,s){return u.__proto__=s,u},r0(i,o)}function ZN(i){var o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,s=ny(i);if(o){var p=ny(this).constructor;u=Reflect.construct(s,arguments,p)}else u=s.apply(this,arguments);return JN(this,u)}}function JN(i,o){if(o&&(t0(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mi(i)}function mi(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function ny(i){return ny=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},ny(i)}function ji(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}var Of=function(i){(function(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),m&&r0(h,m)})(l,i);var o,u,s,p=ZN(l);function l(h){var m;(function(F,ne){if(!(F instanceof ne))throw new TypeError("Cannot call a class as a function")})(this,l),ji(mi(m=p.call(this)),"t",void 0),ji(mi(m),"moveOffset",void 0),ji(mi(m),"stepDrag",void 0),ji(mi(m),"contextMenuTime",void 0),ji(mi(m),"mouseUpDrag",void 0),ji(mi(m),"startTime",void 0),ji(mi(m),"clickTimer",void 0),ji(mi(m),"modelDisposer",void 0),ji(mi(m),"onDragStart",function(F){var ne=F.event,ye=ne.clientX,we=ne.clientY,Ue=m.props,ze=Ue.model,ot=Ue.graphModel.getPointByClient({x:ye,y:we}).canvasOverlayPosition,Tt=ot.x,er=ot.y;m.moveOffset={x:ze.x-Tt,y:ze.y-er}}),ji(mi(m),"onDragging",function(F){var ne=F.event,ye=m.props,we=ye.model,Ue=ye.graphModel,ze=Ue.editConfigModel,ot=ze.stopMoveGraph,Tt=ze.autoExpand,er=Ue.transformModel,Qt=Ue.selectNodes,Rr=Ue.width,Zt=Ue.height,_r=Ue.gridSize;we.isDragging=!0;var ur=ne.clientX,hn=ne.clientY,On=Ue.getPointByClient({x:ur,y:hn}).canvasOverlayPosition,Vr=On.x,Rn=On.y,Uo=ry(er.CanvasPointToHtmlPoint([Vr,Rn]),2),zo=Uo[0],Gi=Uo[1];if(Vr+=m.moveOffset.x,Rn+=m.moveOffset.y,Vr=Da(Vr,_r),Rn=Da(Rn,_r),Rr&&Zt){if(!Tt||ot||!(zo<0||Gi<0||zo>Rr||Gi>Zt)){var pu=ry(er.CanvasPointToHtmlPoint([Vr-we.width/2,Rn-we.height/2]),2),hu=pu[0],vc=pu[1],Nd=ry(er.CanvasPointToHtmlPoint([Vr+we.width/2,Rn+we.height/2]),2),wy=Nd[0],Md=Nd[1],jl=Math.max(_r,20),Nl=[];hu<0?Nl=[jl,0]:wy>Ue.width?Nl=[-jl,0]:vc<0?Nl=[0,jl]:Md>Ue.height&&(Nl=[0,-jl]),m.t&&Zv(m.t);var DM=new sc(-Vr,-Rn).rotate(we.rotate).translate(Vr,Rn).toString();we.transform=DM;var xy=Qt.map(function(Sy){return Sy.id});xy.indexOf(we.id)===-1&&(xy=[we.id]),Nl.length>0&&!ot&&Tt?m.t=dO(function(){var Sy=ry(Nl,2),rw=Sy[0],nw=Sy[1];er.translate(rw,nw);var kM=-rw/er.SCALE_X,LM=-nw/er.SCALE_X;Ue.moveNodes(xy,kM,LM)}):Ue.moveNodes(xy,Vr-we.x,Rn-we.y)}}else Ue.moveNode2Coordinate(we.id,Vr,Rn)}),ji(mi(m),"onDragEnd",function(){m.t&&Zv(m.t),m.props.model.isDragging=!1}),ji(mi(m),"handleMouseUp",function(){var F=m.props.model;m.mouseUpDrag=F.isDragging}),ji(mi(m),"handleClick",function(F){var ne=m.mouseUpDrag===!1;if(m.startTime){var ye=m.props,we=ye.model,Ue=ye.graphModel;if(ne){var ze={data:we.getData(),e:F,position:Ue.getPointByClient({x:F.clientX,y:F.clientY}),isSelected:!1,isMultiple:!1},ot=F.button===2,Tt=F.detail===2;if(!ot){var er=Ue.editConfigModel,Qt=vl(F,er);ze.isMultiple=Qt,we.isSelected&&!Tt&&Qt?(ze.isSelected=!1,we.setSelected(!1)):(Ue.selectNodeById(we.id,Qt),ze.isSelected=!0,m.toFront()),Tt?(er.nodeTextEdit&&we.text.editable&&(we.setSelected(!1),Ue.setElementStateById(we.id,Pn.TEXT_EDIT)),Ue.eventCenter.emit(gr.NODE_DBCLICK,ze)):(Ue.eventCenter.emit(gr.ELEMENT_CLICK,ze),Ue.eventCenter.emit(gr.NODE_CLICK,ze))}}}}),ji(mi(m),"handleContextMenu",function(F){F.preventDefault();var ne=m.props,ye=ne.model,we=ne.graphModel,Ue=ye.getData(),ze=we.getPointByClient({x:F.clientX,y:F.clientY});we.setElementStateById(ye.id,Pn.SHOW_MENU,ze.domOverlayPosition),ye.isSelected||we.selectNodeById(ye.id),we.eventCenter.emit(gr.NODE_CONTEXTMENU,{data:Ue,e:F,position:ze}),m.toFront()}),ji(mi(m),"handleMouseDown",function(F){var ne=m.props,ye=ne.model,we=ne.graphModel;m.startTime=new Date().getTime(),we.editConfigModel.adjustNodePosition&&ye.draggable&&m.stepDrag&&m.stepDrag.handleMouseDown(F)}),ji(mi(m),"setHoverON",function(F){var ne=m.props,ye=ne.model,we=ne.graphModel;if(!ye.isHovered){var Ue=ye.getData();ye.setHovered(!0),we.eventCenter.emit(gr.NODE_MOUSEENTER,{data:Ue,e:F})}}),ji(mi(m),"setHoverOFF",function(F){var ne=m.props,ye=ne.model,we=ne.graphModel,Ue=ye.getData();ye.isHovered&&(ye.setHovered(!1),we.eventCenter.emit(gr.NODE_MOUSELEAVE,{data:Ue,e:F}))}),ji(mi(m),"onMouseOut",function(F){HN&&m.setHoverOFF(F)});var E=h.graphModel,A=E.gridSize,R=E.eventCenter,L=h.model;return m.stepDrag=new U({onDragStart:m.onDragStart,onDragging:m.onDragging,onDragEnd:m.onDragEnd,step:A,eventType:"NODE",isStopPropagation:!1,eventCenter:R,model:L}),m.modelDisposer=Object(f.F)(function(){return m.props},function(F){F&&F.model&&m.stepDrag.setModel(F.model)}),m}return o=l,s=[{key:"getModel",value:function(h){return h}}],(u=[{key:"componentWillUnmount",value:function(){this.modelDisposer&&this.modelDisposer()}},{key:"getAnchorShape",value:function(h){return null}},{key:"getAnchors",value:function(){var h=this,m=this.props,E=m.model,A=m.graphModel,R=E.isSelected,L=E.isHitable,F=E.isDragging,ne=E.isShowAnchor;return L&&(R||ne)&&!F?qf(E.anchors,function(ye,we){var Ue=E.getAnchorLineStyle(ye),ze=E.getAnchorStyle(ye);return Object(Ne.g)(kN,{anchorData:ye,node:h,style:ze,edgeStyle:Ue,anchorIndex:we,nodeModel:E,graphModel:A,setHoverOFF:h.setHoverOFF})}):[]}},{key:"getRotateControl",value:function(){var h=this.props,m=h.model,E=h.graphModel,A=m.isSelected,R=m.isHitable,L=m.enableRotate,F=m.isHovered,ne=m.getRotateControlStyle().style;if(R&&(A||F)&&L)return Object(Ne.g)(YN,{graphModel:E,nodeModel:m,eventCenter:E.eventCenter,style:ne})}},{key:"getText",value:function(){var h=this.props,m=h.model,E=h.graphModel;if(m.state===Pn.TEXT_EDIT)return"";if(m.text){var A=E.editConfigModel,R=!1;return(m.text.draggable||A.nodeTextDraggable)&&(R=!0),Object(Ne.g)(bO,{editable:A.nodeTextEdit&&m.text.editable,model:m,graphModel:E,draggable:R})}}},{key:"getStateClassName",value:function(){var h=this.props.model,m=h.state,E=h.isDragging,A=h.isSelected,R="lf-node";switch(m){case Pn.ALLOW_CONNECT:R+=" lf-node-allow";break;case Pn.NOT_ALLOW_CONNECT:R+=" lf-node-not-allow";break;default:R+=" lf-node-default"}return E&&(R+=" lf-isDragging"),A&&(R+=" lf-node-selected"),R}},{key:"toFront",value:function(){var h=this.props,m=h.model,E=h.graphModel;m.autoToFront&&E.toFront(m.id)}},{key:"render",value:function(){var h,m=this.props,E=m.model,A=m.graphModel,R=A.editConfigModel,L=R.hideAnchors,F=R.adjustNodePosition,ne=R.allowRotation,ye=A.gridSize,we=A.transformModel.SCALE_X,Ue=E.isHitable,ze=E.draggable,ot=E.transform,Tt=E.getOuterGAttributes(),er=Tt.className,Qt=er===void 0?"":er,Rr=qN(Tt,KN),Zt=Object(Ne.g)("g",{className:"lf-node-content"},Object(Ne.g)("g",{transform:ot},this.getShape(),this.getText(),ne&&this.getRotateControl()),!L&&this.getAnchors());return Ue?(F&&ze&&this.stepDrag.setStep(ye*we),h=Object(Ne.g)("g",ty({className:"".concat(this.getStateClassName()," ").concat(Qt),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onClick:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},Rr),Zt)):h=Object(Ne.g)("g",ty({className:"".concat(this.getStateClassName()," ").concat(Qt)},Rr),Zt),h}}])&&OO(o.prototype,u),s&&OO(o,s),l}(Ne.a);function n0(i){return n0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},n0(i)}function o0(){return o0=Object.assign||function(i){for(var o=1;o<arguments.length;o++){var u=arguments[o];for(var s in u)Object.prototype.hasOwnProperty.call(u,s)&&(i[s]=u[s])}return i},o0.apply(this,arguments)}function QN(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function e2(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function i0(i,o){return i0=Object.setPrototypeOf||function(u,s){return u.__proto__=s,u},i0(i,o)}function t2(i){var o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,s=oy(i);if(o){var p=oy(this).constructor;u=Reflect.construct(s,arguments,p)}else u=s.apply(this,arguments);return r2(this,u)}}function r2(i,o){if(o&&(n0(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(i)}function oy(i){return oy=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},oy(i)}var a0=function(i){(function(l,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(h&&h.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),h&&i0(l,h)})(p,i);var o,u,s=t2(p);function p(){return QN(this,p),s.apply(this,arguments)}return o=p,(u=[{key:"getShape",value:function(){var l=this.props.model,h=l.getNodeStyle();return Object(Ne.g)(Sl,o0({},h,{x:l.x,y:l.y,width:l.width,height:l.height,radius:l.radius}))}}])&&e2(o.prototype,u),p}(Of);function u0(i){return u0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},u0(i)}function s0(){return s0=Object.assign||function(i){for(var o=1;o<arguments.length;o++){var u=arguments[o];for(var s in u)Object.prototype.hasOwnProperty.call(u,s)&&(i[s]=u[s])}return i},s0.apply(this,arguments)}function n2(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function o2(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function c0(i,o){return c0=Object.setPrototypeOf||function(u,s){return u.__proto__=s,u},c0(i,o)}function i2(i){var o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,s=iy(i);if(o){var p=iy(this).constructor;u=Reflect.construct(s,arguments,p)}else u=s.apply(this,arguments);return a2(this,u)}}function a2(i,o){if(o&&(u0(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(i)}function iy(i){return iy=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},iy(i)}var f0=function(i){(function(l,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(h&&h.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),h&&c0(l,h)})(p,i);var o,u,s=i2(p);function p(){return n2(this,p),s.apply(this,arguments)}return o=p,(u=[{key:"getShape",value:function(){var l=this.props.model,h=l.x,m=l.y,E=l.r,A=l.getNodeStyle();return Object(Ne.g)(Rp,s0({},A,{x:h,y:m,r:E}))}}])&&o2(o.prototype,u),p}(Of);function l0(i){return l0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},l0(i)}function u2(i,o){return function(u){if(Array.isArray(u))return u}(i)||function(u,s){var p=u==null?null:typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(p!=null){var l,h,m=[],E=!0,A=!1;try{for(p=p.call(u);!(E=(l=p.next()).done)&&(m.push(l.value),!s||m.length!==s);E=!0);}catch(R){A=!0,h=R}finally{try{E||p.return==null||p.return()}finally{if(A)throw h}}return m}}(i,o)||function(u,s){if(!!u){if(typeof u=="string")return wO(u,s);var p=Object.prototype.toString.call(u).slice(8,-1);if(p==="Object"&&u.constructor&&(p=u.constructor.name),p==="Map"||p==="Set")return Array.from(u);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return wO(u,s)}}(i,o)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function wO(i,o){(o==null||o>i.length)&&(o=i.length);for(var u=0,s=new Array(o);u<o;u++)s[u]=i[u];return s}function xO(i){var o=i.points,u=i.className,s={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(i).forEach(function(p){var l=u2(p,2),h=l[0],m=l[1];l0(m)!=="object"&&(s[h]=m)}),s.className=u?"lf-basic-shape ".concat(u):"lf-basic-shape",s.points=o.map(function(p){return p.join(",")}).join(" "),Object(Ne.g)("polygon",s)}function d0(i){return d0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},d0(i)}function p0(){return p0=Object.assign||function(i){for(var o=1;o<arguments.length;o++){var u=arguments[o];for(var s in u)Object.prototype.hasOwnProperty.call(u,s)&&(i[s]=u[s])}return i},p0.apply(this,arguments)}function s2(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function c2(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function h0(i,o){return h0=Object.setPrototypeOf||function(u,s){return u.__proto__=s,u},h0(i,o)}function f2(i){var o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,s=ay(i);if(o){var p=ay(this).constructor;u=Reflect.construct(s,arguments,p)}else u=s.apply(this,arguments);return l2(this,u)}}function l2(i,o){if(o&&(d0(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(i)}function ay(i){return ay=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},ay(i)}var v0=function(i){(function(l,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(h&&h.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),h&&h0(l,h)})(p,i);var o,u,s=f2(p);function p(){return s2(this,p),s.apply(this,arguments)}return o=p,(u=[{key:"getShape",value:function(){var l=this.props.model,h=l.x,m=l.y,E=l.width,A=l.height,R=l.points,L=l.getNodeStyle(),F={transform:"matrix(1 0 0 1 ".concat(h-E/2," ").concat(m-A/2,")")};return Object(Ne.g)("g",F,Object(Ne.g)(xO,p0({},L,{points:R,x:h,y:m})))}}])&&c2(o.prototype,u),p}(Of);function y0(i){return y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},y0(i)}function g0(){return g0=Object.assign||function(i){for(var o=1;o<arguments.length;o++){var u=arguments[o];for(var s in u)Object.prototype.hasOwnProperty.call(u,s)&&(i[s]=u[s])}return i},g0.apply(this,arguments)}function d2(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function p2(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function m0(i,o){return m0=Object.setPrototypeOf||function(u,s){return u.__proto__=s,u},m0(i,o)}function h2(i){var o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,s=uy(i);if(o){var p=uy(this).constructor;u=Reflect.construct(s,arguments,p)}else u=s.apply(this,arguments);return v2(this,u)}}function v2(i,o){if(o&&(y0(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(i)}function uy(i){return uy=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},uy(i)}var b0=function(i){(function(l,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(h&&h.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),h&&m0(l,h)})(p,i);var o,u,s=h2(p);function p(){return d2(this,p),s.apply(this,arguments)}return o=p,(u=[{key:"getShape",value:function(){var l=this.props.model,h=l.getNodeStyle();return Object(Ne.g)("g",null,Object(Ne.g)(xO,g0({},h,{points:l.points,x:l.x,y:l.y})))}}])&&p2(o.prototype,u),p}(Of);function _0(i){return _0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_0(i)}function y2(i,o){return function(u){if(Array.isArray(u))return u}(i)||function(u,s){var p=u==null?null:typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(p!=null){var l,h,m=[],E=!0,A=!1;try{for(p=p.call(u);!(E=(l=p.next()).done)&&(m.push(l.value),!s||m.length!==s);E=!0);}catch(R){A=!0,h=R}finally{try{E||p.return==null||p.return()}finally{if(A)throw h}}return m}}(i,o)||function(u,s){if(!!u){if(typeof u=="string")return SO(u,s);var p=Object.prototype.toString.call(u).slice(8,-1);if(p==="Object"&&u.constructor&&(p=u.constructor.name),p==="Map"||p==="Set")return Array.from(u);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return SO(u,s)}}(i,o)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function SO(i,o){(o==null||o>i.length)&&(o=i.length);for(var u=0,s=new Array(o);u<o;u++)s[u]=i[u];return s}function g2(i){var o=i.x,u=o===void 0?0:o,s=i.y,p=s===void 0?0:s,l=i.rx,h=l===void 0?4:l,m=i.ry,E=m===void 0?4:m,A=i.className,R={cx:u,cy:p,rx:h,ry:E,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(i).forEach(function(L){var F=y2(L,2),ne=F[0],ye=F[1];_0(ye)!=="object"&&(R[ne]=ye)}),R.className=A?"lf-basic-shape ".concat(A):"lf-basic-shape",Object(Ne.g)("ellipse",R)}function E0(i){return E0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},E0(i)}function O0(){return O0=Object.assign||function(i){for(var o=1;o<arguments.length;o++){var u=arguments[o];for(var s in u)Object.prototype.hasOwnProperty.call(u,s)&&(i[s]=u[s])}return i},O0.apply(this,arguments)}function m2(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function b2(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function w0(i,o){return w0=Object.setPrototypeOf||function(u,s){return u.__proto__=s,u},w0(i,o)}function _2(i){var o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,s=sy(i);if(o){var p=sy(this).constructor;u=Reflect.construct(s,arguments,p)}else u=s.apply(this,arguments);return E2(this,u)}}function E2(i,o){if(o&&(E0(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(i)}function sy(i){return sy=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},sy(i)}var x0=function(i){(function(l,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(h&&h.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),h&&w0(l,h)})(p,i);var o,u,s=_2(p);function p(){return m2(this,p),s.apply(this,arguments)}return o=p,(u=[{key:"getShape",value:function(){var l=this.props.model,h=l.getNodeStyle();return Object(Ne.g)(g2,O0({},h,{x:l.x,y:l.y,rx:l.rx,ry:l.ry}))}}])&&b2(o.prototype,u),p}(Of);function S0(i){return S0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},S0(i)}function AO(i,o){var u=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);o&&(s=s.filter(function(p){return Object.getOwnPropertyDescriptor(i,p).enumerable})),u.push.apply(u,s)}return u}function TO(i){for(var o=1;o<arguments.length;o++){var u=arguments[o]!=null?arguments[o]:{};o%2?AO(Object(u),!0).forEach(function(s){O2(i,s,u[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(u)):AO(Object(u)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(u,s))})}return i}function O2(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}function w2(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function x2(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function A0(i,o){return A0=Object.setPrototypeOf||function(u,s){return u.__proto__=s,u},A0(i,o)}function S2(i){var o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,s=cy(i);if(o){var p=cy(this).constructor;u=Reflect.construct(s,arguments,p)}else u=s.apply(this,arguments);return A2(this,u)}}function A2(i,o){if(o&&(S0(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(i)}function cy(i){return cy=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},cy(i)}var T0=function(i){(function(l,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(h&&h.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),h&&A0(l,h)})(p,i);var o,u,s=S2(p);function p(){return w2(this,p),s.apply(this,arguments)}return o=p,(u=[{key:"getBackground",value:function(){var l=this.props.model,h=l.getTextStyle(),m=l.width,E=l.height,A=l.x,R=l.y,L=TO(TO({},h.background),{},{x:A,y:R-1,width:m,height:E});return Object(Ne.g)(Sl,L)}},{key:"getShape",value:function(){return Object(Ne.g)("g",null,this.getBackground())}}])&&x2(o.prototype,u),p}(Of);function P0(i){return P0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},P0(i)}function R0(){return R0=Object.assign||function(i){for(var o=1;o<arguments.length;o++){var u=arguments[o];for(var s in u)Object.prototype.hasOwnProperty.call(u,s)&&(i[s]=u[s])}return i},R0.apply(this,arguments)}function T2(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function P2(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function j0(i,o){return j0=Object.setPrototypeOf||function(u,s){return u.__proto__=s,u},j0(i,o)}function R2(i){var o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,s=fy(i);if(o){var p=fy(this).constructor;u=Reflect.construct(s,arguments,p)}else u=s.apply(this,arguments);return j2(this,u)}}function j2(i,o){if(o&&(P0(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wh(i)}function Wh(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function fy(i){return fy=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},fy(i)}function ly(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}var N0=function(i){(function(l,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(h&&h.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),h&&j0(l,h)})(p,i);var o,u,s=R2(p);function p(){var l;T2(this,p);for(var h=arguments.length,m=new Array(h),E=0;E<h;E++)m[E]=arguments[E];return ly(Wh(l=s.call.apply(s,[this].concat(m))),"ref",void 0),ly(Wh(l),"currentProperties",void 0),ly(Wh(l),"preProperties",void 0),ly(Wh(l),"setRef",function(A){l.ref=A}),l}return o=p,(u=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(l){l.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currentProperties)return this.preProperties=this.currentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var l=this.props.model,h=l.x,m=l.y,E=l.height,A=l.width,R=l.getNodeStyle();return this.currentProperties=JSON.stringify(l.properties),Object(Ne.g)("foreignObject",R0({},R,{x:h-A/2,y:m-E/2,width:A,height:E,ref:this.setRef}))}}])&&P2(o.prototype,u),p}(Of);function M0(i){return M0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},M0(i)}function C0(){return C0=Object.assign||function(i){for(var o=1;o<arguments.length;o++){var u=arguments[o];for(var s in u)Object.prototype.hasOwnProperty.call(u,s)&&(i[s]=u[s])}return i},C0.apply(this,arguments)}function PO(i,o){var u=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);o&&(s=s.filter(function(p){return Object.getOwnPropertyDescriptor(i,p).enumerable})),u.push.apply(u,s)}return u}function Pd(i){for(var o=1;o<arguments.length;o++){var u=arguments[o]!=null?arguments[o]:{};o%2?PO(Object(u),!0).forEach(function(s){k0(i,s,u[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(u)):PO(Object(u)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(u,s))})}return i}function N2(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function I0(i,o){return I0=Object.setPrototypeOf||function(u,s){return u.__proto__=s,u},I0(i,o)}function M2(i){var o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,s=dy(i);if(o){var p=dy(this).constructor;u=Reflect.construct(s,arguments,p)}else u=s.apply(this,arguments);return C2(this,u)}}function C2(i,o){if(o&&(M0(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D0(i)}function D0(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function dy(i){return dy=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},dy(i)}function k0(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}var I2=function(i){(function(l,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(h&&h.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),h&&I0(l,h)})(p,i);var o,u,s=M2(p);function p(l){var h;return function(m,E){if(!(m instanceof E))throw new TypeError("Cannot call a class as a function")}(this,p),k0(D0(h=s.call(this,l)),"setHoverON",function(){h.setState({isHovered:!0})}),k0(D0(h),"setHoverOFF",function(){h.setState({isHovered:!1})}),h.state={isHovered:!1},h}return o=p,(u=[{key:"getBackground",value:function(){var l=this.props.model,h=l.getTextStyle(),m=l.text,E=l.width,A=h.background||{};if(this.state.isHovered&&h.hover&&h.hover.background&&(A=Pd(Pd({},A),h.hover.background)),m&&m.value&&A.fill!=="transparent"){var R,L=h.fontSize,F=h.overflowMode,ne=h.lineHeight,ye=h.wrapPadding,we=h.textWidth,Ue=m.value,ze=m.x,ot=m.y,Tt=String(Ue).split(/[\r\n]/g),er=Tt.length;if(F==="autoWrap"&&we){var Qt=nc({rows:Tt,style:{fontSize:"".concat(L,"px"),width:"".concat(we,"px"),lineHeight:ne,padding:ye},rowsLength:er,className:"lf-get-text-height"});R=Pd(Pd({},A),{},{x:ze-1,y:ot-1,width:we,height:Qt})}else{Tt&&Tt.forEach(function(hn){Ir(hn)});var Rr=ys({rows:Tt,fontSize:L,rowsLength:er}),Zt=Rr.width,_r=Rr.height;if(F==="ellipsis"&&(Zt=we||E,_r=L+2),typeof A.wrapPadding=="string"){var ur=A.wrapPadding.split(",").filter(function(hn){return hn.trim()}).map(function(hn){return parseFloat(hn.trim())});ur.length>0&&ur.length<=4&&(ur.length===1?ur=[ur[0],ur[0],ur[0],ur[0]]:ur.length===2?ur=[ur[0],ur[1],ur[0],ur[1]]:ur.length===3&&(ur=[ur[0],ur[1],ur[2],ur[1]]),Zt+=ur[1]+ur[3],_r+=ur[0]+ur[2],ze+=(ur[1]-ur[3])/2,ot+=(ur[2]-ur[0])/2)}R=Pd(Pd({},A),{},{x:ze-1,y:ot-1,width:Zt,height:_r})}return Object(Ne.g)(Sl,R)}}},{key:"getShape",value:function(){var l=this.props.model,h=l.text,m=h.value,E=h.x,A=h.y;if(m){var R=Pd({x:E,y:A,className:"lf-element-text",value:m},l.getTextStyle());return Object(Ne.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackground(),Object(Ne.g)(gO,C0({},R,{model:l})))}}}])&&N2(o.prototype,u),p}(bO);function L0(i){return L0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},L0(i)}var pc,D2=["text","sourceAnchorId","targetAnchorId"];function RO(i,o){var u=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);o&&(s=s.filter(function(p){return Object.getOwnPropertyDescriptor(i,p).enumerable})),u.push.apply(u,s)}return u}function wf(i){for(var o=1;o<arguments.length;o++){var u=arguments[o]!=null?arguments[o]:{};o%2?RO(Object(u),!0).forEach(function(s){du(i,s,u[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(u)):RO(Object(u)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(u,s))})}return i}function k2(i,o){if(i==null)return{};var u,s,p=function(h,m){if(h==null)return{};var E,A,R={},L=Object.keys(h);for(A=0;A<L.length;A++)E=L[A],m.indexOf(E)>=0||(R[E]=h[E]);return R}(i,o);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);for(s=0;s<l.length;s++)u=l[s],o.indexOf(u)>=0||Object.prototype.propertyIsEnumerable.call(i,u)&&(p[u]=i[u])}return p}function L2(i,o){return function(u){if(Array.isArray(u))return u}(i)||function(u,s){var p=u==null?null:typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(p!=null){var l,h,m=[],E=!0,A=!1;try{for(p=p.call(u);!(E=(l=p.next()).done)&&(m.push(l.value),!s||m.length!==s);E=!0);}catch(R){A=!0,h=R}finally{try{E||p.return==null||p.return()}finally{if(A)throw h}}return m}}(i,o)||function(u,s){if(!!u){if(typeof u=="string")return jO(u,s);var p=Object.prototype.toString.call(u).slice(8,-1);if(p==="Object"&&u.constructor&&(p=u.constructor.name),p==="Map"||p==="Set")return Array.from(u);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return jO(u,s)}}(i,o)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function jO(i,o){(o==null||o>i.length)&&(o=i.length);for(var u=0,s=new Array(o);u<o;u++)s[u]=i[u];return s}function F2(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function F0(i,o){return F0=Object.setPrototypeOf||function(u,s){return u.__proto__=s,u},F0(i,o)}function B2(i){var o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,s=py(i);if(o){var p=py(this).constructor;u=Reflect.construct(s,arguments,p)}else u=s.apply(this,arguments);return G2(this,u)}}function G2(i,o){if(o&&(L0(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lu(i)}function lu(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function py(i){return py=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},py(i)}function du(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}(function(i){i.SOURCE="SOURCE",i.TARGET="TARGET"})(pc||(pc={}));var NO=function(i){(function(l,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(h&&h.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),h&&F0(l,h)})(p,i);var o,u,s=B2(p);function p(l){var h;(function(R,L){if(!(R instanceof L))throw new TypeError("Cannot call a class as a function")})(this,p),du(lu(h=s.call(this)),"stepDragData",void 0),du(lu(h),"stepDrag",void 0),du(lu(h),"oldEdge",void 0),du(lu(h),"preTargetNode",void 0),du(lu(h),"targetRuleResults",void 0),du(lu(h),"sourceRuleResults",void 0),du(lu(h),"handleMouseDown",function(R){h.stepDrag&&h.stepDrag.handleMouseDown(R)}),du(lu(h),"onDragStart",function(){var R=h.props,L=R.x,F=R.y,ne=R.edgeModel,ye=ne.startPoint,we=ne.endPoint,Ue=ne.pointsList;h.oldEdge={startPoint:ye,endPoint:we,pointsList:Ue},h.setState({endX:L,endY:F,dragging:!0})}),du(lu(h),"onDragging",function(R){var L=R.deltaX,F=R.deltaY,ne=h.state,ye=ne.endX,we=ne.endY,Ue=h.props,ze=Ue.graphModel,ot=Ue.type,Tt=ze.transformModel,er=ze.editConfigModel,Qt=L2(Tt.moveCanvasPointByHtml([ye,we],L,F),2),Rr=Qt[0],Zt=Qt[1];h.setState({endX:Rr,endY:Zt,dragging:!0});var _r=h.props.edgeModel,ur=hs({x:ye,y:we},ze);if(ur&&ur.node&&h.isAllowAdjust(ur).pass){var hn,On=_r.startPoint,Vr=_r.endPoint,Rn=_r.sourceNode,Uo=_r.targetNode;ot===pc.SOURCE?hn={startPoint:{x:ur.anchor.x,y:ur.anchor.y},endPoint:{x:Vr.x,y:Vr.y},sourceNode:ur.node,targetNode:Uo}:ot===pc.TARGET&&(hn={startPoint:{x:On.x,y:On.y},endPoint:{x:ur.anchor.x,y:ur.anchor.y},sourceNode:Rn,targetNode:ur.node}),_r.updateAfterAdjustStartAndEnd(hn)}else ot===pc.SOURCE?_r.updateStartPoint({x:Rr,y:Zt}):ot===pc.TARGET&&_r.updateEndPoint({x:Rr,y:Zt});_r.text.value&&er.adjustEdge&&_r.setText(Object.assign({},_r.text,_r.textPosition))}),du(lu(h),"onDragEnd",function(R){var L=R.event;try{var F;h.setState({dragging:!1});var ne=h.props,ye=ne.graphModel,we=ne.edgeModel,Ue=ne.type,ze=h.state,ot=ze.endX,Tt=ze.endY,er=ze.dragging,Qt=hs({x:ot,y:Tt},ye);if(!er)return;var Rr,Zt=!1;if(Qt&&Qt.node){var _r=h.isAllowAdjust(Qt),ur=_r.pass,hn=_r.msg,On=_r.newTargetNode;if(ur){var Vr=we.getData(),Rn=Vr.text,Uo=Vr.sourceAnchorId,zo=Uo===void 0?"":Uo,Gi=Vr.targetAnchorId;Rr=wf(wf({sourceAnchorId:zo,targetAnchorId:Gi===void 0?"":Gi},k2(Vr,D2)),{},{text:(Rn==null?void 0:Rn.value)||""}),Ue===pc.SOURCE?(Rr=wf(wf({},ye.edgeGenerator(ye.getNodeModelById(Qt.node.id).getData(),ye.getNodeModelById(we.targetNodeId).getData(),Rr)),{},{sourceNodeId:Qt.node.id,sourceAnchorId:Qt.anchor.id,startPoint:{x:Qt.anchor.x,y:Qt.anchor.y},targetNodeId:we.targetNodeId,endPoint:wf({},we.endPoint)}),we.sourceNodeId===Qt.node.id&&we.sourceAnchorId===Qt.anchor.id&&(Zt=!0)):Ue===pc.TARGET&&(Rr=wf(wf({},ye.edgeGenerator(ye.getNodeModelById(we.sourceNodeId).getData(),ye.getNodeModelById(Qt.node.id).getData(),Rr)),{},{sourceNodeId:we.sourceNodeId,startPoint:wf({},we.startPoint),targetNodeId:Qt.node.id,targetAnchorId:Qt.anchor.id,endPoint:{x:Qt.anchor.x,y:Qt.anchor.y}}),we.targetNodeId===Qt.node.id&&we.targetAnchorId===Qt.anchor.id&&(Zt=!0))}else{Zt=!0;var pu=On.getData();ye.eventCenter.emit(gr.CONNECTION_NOT_ALLOWED,{data:pu,msg:hn})}}else Zt=!0;if(Zt)h.recoveryEdge();else{var hu=we.getData();ye.deleteEdgeById(we.id);var vc=ye.addEdge(wf({},Rr));ye.eventCenter.emit(gr.EDGE_EXCHANGE_NODE,{data:{newEdge:vc.getData(),oldEdge:hu}})}(F=h.preTargetNode)===null||F===void 0||F.setElementState(Pn.DEFAULT)}finally{h.props.graphModel.eventCenter.emit(gr.ADJUST_POINT_DRAGEND,{e:L,data:h.stepDragData})}}),du(lu(h),"recoveryEdge",function(){var R=h.props.edgeModel,L=h.oldEdge,F=L.startPoint,ne=L.endPoint,ye=L.pointsList;R.updateStartPoint(F),R.updateEndPoint(ne),R.modelType!==on.LINE_EDGE&&(R.pointsList=ye,R.initPoints())}),du(lu(h),"getAdjustPointStyle",function(){var R=h.props,L=R.graphModel.theme;return R.edgeModel,L.edgeAdjust}),h.state={dragging:!1,endX:0,endY:0},h.targetRuleResults=new Map,h.sourceRuleResults=new Map;var m=l.type,E=l.edgeModel,A=l.graphModel.eventCenter;return h.stepDragData={type:m,edgeData:E.getData()},h.stepDrag=new U({onDragStart:h.onDragStart,onDragging:h.onDragging,onDragEnd:h.onDragEnd,eventType:"ADJUST_POINT",isStopPropagation:!1,eventCenter:A,data:h.stepDragData}),h}return o=p,(u=[{key:"isAllowAdjust",value:function(l){var h=this.props,m=h.edgeModel,E=m.id,A=m.sourceNode,R=m.targetNode,L=m.sourceAnchorId,F=m.targetAnchorId,ne=h.type,ye=null,we=null,Ue=null,ze=null;if(ne===pc.SOURCE?(ye=l.node,we=R,Ue=l.anchor,ze=R.getAnchorInfo(F)):(ye=A,we=l.node,ze=l.anchor,Ue=A.getAnchorInfo(L)),this.preTargetNode&&this.preTargetNode!==l.node&&this.preTargetNode.setElementState(Pn.DEFAULT),this.preTargetNode=l.node,ze.id===Ue.id)return{pass:!1,msg:"",newTargetNode:we};var ot="".concat(ye.id,"_").concat(we.id,"_").concat(Ue.id,"_").concat(ze.id);if(!this.targetRuleResults.has(ot)){var Tt=ye.isAllowConnectedAsSource(we,Ue,ze,E),er=we.isAllowConnectedAsTarget(ye,Ue,ze,E);this.sourceRuleResults.set(ot,au(Tt)),this.targetRuleResults.set(ot,au(er))}var Qt=this.sourceRuleResults.get(ot),Rr=Qt.isAllPass,Zt=Qt.msg,_r=this.targetRuleResults.get(ot),ur=_r.isAllPass,hn=_r.msg,On=Rr&&ur?Pn.ALLOW_CONNECT:Pn.NOT_ALLOW_CONNECT;return ne===pc.SOURCE?ye.setElementState(On):we.setElementState(On),{pass:Rr&&ur,msg:hn||Zt,newTargetNode:we}}},{key:"render",value:function(){var l=this.props,h=l.x,m=l.y,E=l.getAdjustPointShape,A=l.edgeModel,R=this.state.dragging;return Object(Ne.g)("g",{pointerEvents:R?"none":"",onMouseDown:this.handleMouseDown},R?"":E(h,m,A))}}])&&F2(o.prototype,u),p}(Ne.a);function B0(i){return B0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},B0(i)}function Vh(){return Vh=Object.assign||function(i){for(var o=1;o<arguments.length;o++){var u=arguments[o];for(var s in u)Object.prototype.hasOwnProperty.call(u,s)&&(i[s]=u[s])}return i},Vh.apply(this,arguments)}function U2(i,o){return function(u){if(Array.isArray(u))return u}(i)||function(u,s){var p=u==null?null:typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(p!=null){var l,h,m=[],E=!0,A=!1;try{for(p=p.call(u);!(E=(l=p.next()).done)&&(m.push(l.value),!s||m.length!==s);E=!0);}catch(R){A=!0,h=R}finally{try{E||p.return==null||p.return()}finally{if(A)throw h}}return m}}(i,o)||function(u,s){if(!!u){if(typeof u=="string")return MO(u,s);var p=Object.prototype.toString.call(u).slice(8,-1);if(p==="Object"&&u.constructor&&(p=u.constructor.name),p==="Map"||p==="Set")return Array.from(u);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return MO(u,s)}}(i,o)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function MO(i,o){(o==null||o>i.length)&&(o=i.length);for(var u=0,s=new Array(o);u<o;u++)s[u]=i[u];return s}function z2(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function $2(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function G0(i,o){return G0=Object.setPrototypeOf||function(u,s){return u.__proto__=s,u},G0(i,o)}function H2(i){var o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,s=hy(i);if(o){var p=hy(this).constructor;u=Reflect.construct(s,arguments,p)}else u=s.apply(this,arguments);return X2(this,u)}}function X2(i,o){if(o&&(B0(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ws(i)}function ws(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function hy(i){return hy=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},hy(i)}function hc(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}var Yh=function(i){(function(l,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(h&&h.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),h&&G0(l,h)})(p,i);var o,u,s=H2(p);function p(){var l;z2(this,p);for(var h=arguments.length,m=new Array(h),E=0;E<h;E++)m[E]=arguments[E];return hc(ws(l=s.call.apply(s,[this].concat(m))),"startTime",void 0),hc(ws(l),"contextMenuTime",void 0),hc(ws(l),"clickTimer",void 0),hc(ws(l),"textRef",Object(Ne.f)()),hc(ws(l),"handleHover",function(A,R){var L=l.props,F=L.model,ne=L.graphModel.eventCenter;F.setHovered(A);var ye=A?gr.EDGE_MOUSEENTER:gr.EDGE_MOUSELEAVE,we=F.getData();ne.emit(ye,{data:we,e:R})}),hc(ws(l),"setHoverON",function(A){l.props.model.isHovered||(l.textRef&&l.textRef.current&&l.textRef.current.setHoverON(),l.handleHover(!0,A))}),hc(ws(l),"setHoverOFF",function(A){l.props.model.isHovered&&(l.textRef&&l.textRef.current&&l.textRef.current.setHoverOFF(),l.handleHover(!1,A))}),hc(ws(l),"handleContextMenu",function(A){A.preventDefault(),l.contextMenuTime=new Date().getTime(),l.clickTimer&&clearTimeout(l.clickTimer);var R=l.props,L=R.model,F=R.graphModel,ne=F.getPointByClient({x:A.clientX,y:A.clientY});F.setElementStateById(L.id,Pn.SHOW_MENU,ne.domOverlayPosition),l.toFront(),L.isSelected||F.selectEdgeById(L.id);var ye=L==null?void 0:L.getData();F.eventCenter.emit(gr.EDGE_CONTEXTMENU,{data:ye,e:A,position:ne})}),hc(ws(l),"handleMouseDown",function(A){A.stopPropagation(),l.startTime=new Date().getTime()}),hc(ws(l),"handleMouseUp",function(A){if(l.startTime&&!(new Date().getTime()-l.startTime>200||A.button===2)){var R=A.detail===2,L=l.props,F=L.model,ne=L.graphModel,ye=F==null?void 0:F.getData(),we=ne.getPointByClient({x:A.clientX,y:A.clientY});if(R){var Ue=ne.editConfigModel,ze=ne.textEditElement;if(ze&&ze.id===F.id&&ne.setElementStateById(F.id,Pn.DEFAULT),Ue.edgeTextEdit&&F.text.editable&&ne.setElementStateById(F.id,Pn.TEXT_EDIT),F.modelType===on.POLYLINE_EDGE){var ot=F,Tt=ne.getPointByClient({x:A.x,y:A.y}).canvasOverlayPosition,er=Tt.x,Qt=Tt.y,Rr=cu({x:er,y:Qt},ot.points);ot.dbClickPosition=Rr}ne.eventCenter.emit(gr.EDGE_DBCLICK,{data:ye,e:A,position:we})}else ne.eventCenter.emit(gr.ELEMENT_CLICK,{data:ye,e:A,position:we}),ne.eventCenter.emit(gr.EDGE_CLICK,{data:ye,e:A,position:we});var Zt=ne.editConfigModel;ne.selectEdgeById(F.id,vl(A,Zt)),l.toFront()}}),l}return o=p,(u=[{key:"getShape",value:function(){return Object(Ne.g)("g",null,this.getEdge())}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var l=this.props,h=l.model,m=l.graphModel;if(h.state===Pn.TEXT_EDIT)return null;var E=!1,A=m.editConfigModel;return(h.text.draggable||A.edgeTextDraggable)&&(E=!0),Object(Ne.g)(I2,{ref:this.textRef,editable:A.edgeTextEdit&&h.text.editable,model:h,graphModel:m,draggable:E})}},{key:"getArrowInfo",value:function(){var l=this.props.model,h=l.startPoint,m=l.endPoint,E=l.isSelected;return{start:h,end:m,hover:this.state.hover,isSelected:E}}},{key:"getLastTwoPoints",value:function(){var l=this.props.model;return[l.startPoint,l.endPoint]}},{key:"getArrowStyle",value:function(){return null}},{key:"getArrow",value:function(){var l=this.props.model,h=l.id,m=l.getArrowStyle(),E=m.refY,A=E===void 0?0:E,R=m.refX,L=R===void 0?2:R,F=U2(this.getLastTwoPoints(),2),ne=F[0],ye=F[1],we="auto";return ne!==null&&ye!==null&&(we=Ge(tt({x:ye.x-ne.x,y:ye.y-ne.y,z:0}))),Object(Ne.g)("g",null,Object(Ne.g)("defs",null,Object(Ne.g)("marker",{id:"marker-start-".concat(h),refX:-L,refY:A,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getStartArrow()),Object(Ne.g)("marker",{id:"marker-end-".concat(h),refX:L,refY:A,overflow:"visible",orient:we,markerUnits:"userSpaceOnUse"},this.getEndArrow())))}},{key:"getStartArrow",value:function(){var l=this.props.model.getArrowStyle();return l.stroke,l.strokeWidth,l.offset,l.verticalLength,Object(Ne.g)("path",null)}},{key:"getEndArrow",value:function(){var l=this.props.model.getArrowStyle(),h=l.stroke,m=l.strokeWidth,E=l.offset,A=l.verticalLength;return Object(Ne.g)("path",{stroke:h,fill:h,strokeWidth:m,transform:"rotate(180)",d:"M 0 0 L ".concat(E," -").concat(A," L ").concat(E," ").concat(A," Z")})}},{key:"getAdjustPointShape",value:function(l,h,m){var E=m.getAdjustPointStyle();return Object(Ne.g)(Rp,Vh({className:"lf-edge-adjust-point"},E,{x:l,y:h}))}},{key:"getAdjustPoints",value:function(){var l=this.props,h=l.model,m=l.graphModel,E=h.getAdjustStart(),A=h.getAdjustEnd();return Object(Ne.g)("g",null,Object(Ne.g)(NO,Vh({type:"SOURCE"},E,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:h,graphModel:m})),Object(Ne.g)(NO,Vh({type:"TARGET"},A,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:h,graphModel:m})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(Ne.g)("g",null)}},{key:"getAppend",value:function(){return Object(Ne.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"getEdge",value:function(){return null}},{key:"toFront",value:function(){var l=this.props,h=l.graphModel,m=l.model;h.toFront(m.id)}},{key:"render",value:function(){var l=this.props,h=l.model,m=h.isSelected,E=h.isHitable,A=h.isShowAdjustPoint;return l.graphModel.animation,Object(Ne.g)("g",null,Object(Ne.g)("g",{className:["lf-edge",!E&&"pointer-none",m&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),this.getText(),this.getArrow()),A&&m?this.getAdjustPoints():"")}}])&&$2(o.prototype,u),p}(Ne.a);function U0(i){return U0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},U0(i)}function W2(i,o){return function(u){if(Array.isArray(u))return u}(i)||function(u,s){var p=u==null?null:typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(p!=null){var l,h,m=[],E=!0,A=!1;try{for(p=p.call(u);!(E=(l=p.next()).done)&&(m.push(l.value),!s||m.length!==s);E=!0);}catch(R){A=!0,h=R}finally{try{E||p.return==null||p.return()}finally{if(A)throw h}}return m}}(i,o)||function(u,s){if(!!u){if(typeof u=="string")return CO(u,s);var p=Object.prototype.toString.call(u).slice(8,-1);if(p==="Object"&&u.constructor&&(p=u.constructor.name),p==="Map"||p==="Set")return Array.from(u);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return CO(u,s)}}(i,o)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function CO(i,o){(o==null||o>i.length)&&(o=i.length);for(var u=0,s=new Array(o);u<o;u++)s[u]=i[u];return s}var Kh=function(i){var o={d:""};return Object.entries(i).forEach(function(u){var s=W2(u,2),p=s[0],l=s[1],h=U0(l);p!=="style"&&h==="object"||(o[p]=l)}),Object(Ne.g)("path",o)};function z0(i){return z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},z0(i)}function $0(){return $0=Object.assign||function(i){for(var o=1;o<arguments.length;o++){var u=arguments[o];for(var s in u)Object.prototype.hasOwnProperty.call(u,s)&&(i[s]=u[s])}return i},$0.apply(this,arguments)}function V2(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function Y2(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function H0(i,o){return H0=Object.setPrototypeOf||function(u,s){return u.__proto__=s,u},H0(i,o)}function K2(i){var o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,s=vy(i);if(o){var p=vy(this).constructor;u=Reflect.construct(s,arguments,p)}else u=s.apply(this,arguments);return q2(this,u)}}function q2(i,o){if(o&&(z0(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(i)}function vy(i){return vy=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},vy(i)}var X0=function(i){(function(l,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(h&&h.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),h&&H0(l,h)})(p,i);var o,u,s=K2(p);function p(){return V2(this,p),s.apply(this,arguments)}return o=p,(u=[{key:"getEdge",value:function(){var l=this.props.model,h=l.startPoint,m=l.endPoint,E=l.isAnimation,A=l.arrowConfig,R=l.getEdgeStyle(),L=l.getEdgeAnimationStyle(),F=L.strokeDasharray,ne=L.stroke,ye=L.strokeDashoffset,we=L.animationName,Ue=L.animationDuration,ze=L.animationIterationCount,ot=L.animationTimingFunction,Tt=L.animationDirection;return Object(Ne.g)(Tp,$0({},R,{x1:h.x,y1:h.y,x2:m.x,y2:m.y},A,E?{strokeDasharray:F,stroke:ne,style:{strokeDashoffset:ye,animationName:we,animationDuration:Ue,animationIterationCount:ze,animationTimingFunction:ot,animationDirection:Tt}}:{}))}},{key:"getAppendWidth",value:function(){var l=this.props.model,h=l.startPoint,m=l.endPoint,E=mr({start:h,end:m}),A=E.d,R=E.strokeWidth,L=E.fill,F=E.strokeDasharray,ne=E.stroke;return Object(Ne.g)(Kh,{d:A,fill:L,strokeWidth:R,stroke:ne,strokeDasharray:F})}}])&&Y2(o.prototype,u),p}(Yh);function W0(i){return W0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},W0(i)}function Z2(i,o){return function(u){if(Array.isArray(u))return u}(i)||function(u,s){var p=u==null?null:typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(p!=null){var l,h,m=[],E=!0,A=!1;try{for(p=p.call(u);!(E=(l=p.next()).done)&&(m.push(l.value),!s||m.length!==s);E=!0);}catch(R){A=!0,h=R}finally{try{E||p.return==null||p.return()}finally{if(A)throw h}}return m}}(i,o)||function(u,s){if(!!u){if(typeof u=="string")return IO(u,s);var p=Object.prototype.toString.call(u).slice(8,-1);if(p==="Object"&&u.constructor&&(p=u.constructor.name),p==="Map"||p==="Set")return Array.from(u);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return IO(u,s)}}(i,o)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function IO(i,o){(o==null||o>i.length)&&(o=i.length);for(var u=0,s=new Array(o);u<o;u++)s[u]=i[u];return s}var J2=function(i){var o={points:"",fill:"none"};return Object.entries(i).forEach(function(u){var s=Z2(u,2),p=s[0],l=s[1];(p==="style"||W0(l)!=="object")&&(o[p]=l)}),Object(Ne.g)("polyline",o)};function V0(i){return V0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},V0(i)}function DO(i,o){var u=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);o&&(s=s.filter(function(p){return Object.getOwnPropertyDescriptor(i,p).enumerable})),u.push.apply(u,s)}return u}function yy(i){for(var o=1;o<arguments.length;o++){var u=arguments[o]!=null?arguments[o]:{};o%2?DO(Object(u),!0).forEach(function(s){Sf(i,s,u[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(u)):DO(Object(u)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(u,s))})}return i}function Y0(){return Y0=Object.assign||function(i){for(var o=1;o<arguments.length;o++){var u=arguments[o];for(var s in u)Object.prototype.hasOwnProperty.call(u,s)&&(i[s]=u[s])}return i},Y0.apply(this,arguments)}function Q2(i,o){return function(u){if(Array.isArray(u))return u}(i)||function(u,s){var p=u==null?null:typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(p!=null){var l,h,m=[],E=!0,A=!1;try{for(p=p.call(u);!(E=(l=p.next()).done)&&(m.push(l.value),!s||m.length!==s);E=!0);}catch(R){A=!0,h=R}finally{try{E||p.return==null||p.return()}finally{if(A)throw h}}return m}}(i,o)||function(u,s){if(!!u){if(typeof u=="string")return kO(u,s);var p=Object.prototype.toString.call(u).slice(8,-1);if(p==="Object"&&u.constructor&&(p=u.constructor.name),p==="Map"||p==="Set")return Array.from(u);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return kO(u,s)}}(i,o)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function kO(i,o){(o==null||o>i.length)&&(o=i.length);for(var u=0,s=new Array(o);u<o;u++)s[u]=i[u];return s}function eM(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function K0(i,o){return K0=Object.setPrototypeOf||function(u,s){return u.__proto__=s,u},K0(i,o)}function tM(i){var o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,s=gy(i);if(o){var p=gy(this).constructor;u=Reflect.construct(s,arguments,p)}else u=s.apply(this,arguments);return rM(this,u)}}function rM(i,o){if(o&&(V0(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xf(i)}function xf(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function gy(i){return gy=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},gy(i)}function Sf(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}var q0=function(i){(function(l,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(h&&h.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),h&&K0(l,h)})(p,i);var o,u,s=tM(p);function p(){var l;return function(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}(this,p),Sf(xf(l=s.call(this)),"drag",void 0),Sf(xf(l),"isDragging",void 0),Sf(xf(l),"isShowAdjustPointTemp",void 0),Sf(xf(l),"appendInfo",void 0),Sf(xf(l),"onDragStart",function(){var h=l.props.model;h.dragAppendStart(),l.isShowAdjustPointTemp=h.isShowAdjustPoint,h.isShowAdjustPoint=!1}),Sf(xf(l),"onDragging",function(h){var m=h.deltaX,E=h.deltaY,A=l.props,R=A.model,L=A.graphModel;l.isDragging=!0;var F=L.transformModel,ne=L.editConfigModel,ye=Q2(F.fixDeltaXY(m,E),2),we=ye[0],Ue=ye[1],ze=R,ot=ne.adjustEdgeMiddle;l.appendInfo=ot?ze.dragAppendSimple(l.appendInfo,{x:we,y:Ue}):ze.dragAppend(l.appendInfo,{x:we,y:Ue})}),Sf(xf(l),"onDragEnd",function(){var h=l.props,m=h.model,E=h.graphModel.eventCenter,A=m;A.dragAppendEnd(),l.isDragging=!1,A.isShowAdjustPoint=l.isShowAdjustPointTemp,l.appendInfo=void 0,E.emit(gr.EDGE_ADJUST,{data:A.getData()})}),Sf(xf(l),"beforeDragStart",function(h,m){m.dragAble&&l.drag.handleMouseDown(h),l.appendInfo=m}),l.drag=new U({onDragStart:l.onDragStart,onDragging:l.onDragging,onDragEnd:l.onDragEnd,isStopPropagation:!1}),l}return o=p,(u=[{key:"getEdge",value:function(){var l=this.props.model,h=l.points,m=l.isAnimation,E=l.arrowConfig,A=l.getEdgeStyle(),R=l.getEdgeAnimationStyle(),L=R.strokeDasharray,F=R.stroke,ne=R.strokeDashoffset,ye=R.animationName,we=R.animationDuration,Ue=R.animationIterationCount,ze=R.animationTimingFunction,ot=R.animationDirection;return Object(Ne.g)(J2,Y0({points:h},A,E,m?{strokeDasharray:L,stroke:F,style:{strokeDashoffset:ne,animationName:ye,animationDuration:we,animationIterationCount:Ue,animationTimingFunction:ze,animationDirection:ot}}:{}))}},{key:"getArrowInfo",value:function(){var l=this.props.model,h=l.points,m=l.isSelected,E={start:null,end:null,hover:this.state.hover,isSelected:m},A=Yn(h);return A.length>=2&&(E.start=A[A.length-2],E.end=A[A.length-1]),E}},{key:"getLastTwoPoints",value:function(){var l=this.props.model.points,h=Yn(l);return h.length>=2?[h[h.length-2],h[h.length-1]]:[null,null]}},{key:"getAppendAttributes",value:function(l){var h,m=l.start,E=l.end;if(m.x===E.x&&m.y===E.y)h="";else{var A={start:m,end:E,offset:10,verticalLength:5},R=N(yy(yy({},A),{},{type:"start"})),L=N(yy(yy({},A),{},{type:"end"}));h="M".concat(R.leftX," ").concat(R.leftY,` 
      L`).concat(R.rightX," ").concat(R.rightY,` 
      L`).concat(L.rightX," ").concat(L.rightY,`
      L`).concat(L.leftX," ").concat(L.leftY," z")}return{d:h,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(l){var h=this.getAppendAttributes(l),m=h.d,E=h.strokeWidth,A=h.fill,R=h.strokeDasharray,L=h.stroke;return Object(Ne.g)(Kh,{d:m,fill:A,strokeWidth:E,stroke:L,strokeDasharray:R})}},{key:"getAppendWidth",value:function(){for(var l=this,h=this.props,m=h.model,E=h.graphModel,A=m.pointsList,R=m.draggable,L=[],F=A.length,ne=function(we){var Ue="lf-polyline-append",ze={start:{x:A[we].x,y:A[we].y},end:{x:A[we+1].x,y:A[we+1].y},startIndex:we,endIndex:we+1,direction:"",dragAble:!0},ot=Object(Ne.g)("g",{className:Ue},l.getAppendShape(ze)),Tt=E.editConfigModel,er=Tt.adjustEdge,Qt=Tt.adjustEdgeMiddle;if(er&&R){var Rr=ze.startIndex,Zt=ze.endIndex,_r=Qt&&(Rr===0||Zt===F-1);ze.dragAble=!_r,ze.start.x===ze.end.x?(ze.dragAble&&(Ue+="-ew-resize"),ze.direction=Bn.VERTICAL):ze.start.y===ze.end.y&&(ze.dragAble&&(Ue+="-ns-resize"),ze.direction=Bn.HORIZONTAL),ot=Object(Ne.g)("g",{className:l.isDragging?"lf-dragging":"lf-drag-able",onMouseDown:function(ur){return l.beforeDragStart(ur,ze)}},Object(Ne.g)("g",{className:Ue},l.getAppendShape(ze)))}L.push(ot)},ye=0;ye<F-1;ye++)ne(ye);return Object(Ne.g)("g",null,L)}}])&&eM(o.prototype,u),p}(Yh);function Z0(i){return Z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Z0(i)}function nM(i,o){return function(u){if(Array.isArray(u))return u}(i)||function(u,s){var p=u==null?null:typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(p!=null){var l,h,m=[],E=!0,A=!1;try{for(p=p.call(u);!(E=(l=p.next()).done)&&(m.push(l.value),!s||m.length!==s);E=!0);}catch(R){A=!0,h=R}finally{try{E||p.return==null||p.return()}finally{if(A)throw h}}return m}}(i,o)||function(u,s){if(!!u){if(typeof u=="string")return LO(u,s);var p=Object.prototype.toString.call(u).slice(8,-1);if(p==="Object"&&u.constructor&&(p=u.constructor.name),p==="Map"||p==="Set")return Array.from(u);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return LO(u,s)}}(i,o)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function LO(i,o){(o==null||o>i.length)&&(o=i.length);for(var u=0,s=new Array(o);u<o;u++)s[u]=i[u];return s}function J0(){return J0=Object.assign||function(i){for(var o=1;o<arguments.length;o++){var u=arguments[o];for(var s in u)Object.prototype.hasOwnProperty.call(u,s)&&(i[s]=u[s])}return i},J0.apply(this,arguments)}function oM(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function iM(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function Q0(i,o){return Q0=Object.setPrototypeOf||function(u,s){return u.__proto__=s,u},Q0(i,o)}function aM(i){var o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,s=my(i);if(o){var p=my(this).constructor;u=Reflect.construct(s,arguments,p)}else u=s.apply(this,arguments);return uM(this,u)}}function uM(i,o){if(o&&(Z0(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(i)}function my(i){return my=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},my(i)}var eb=function(i){(function(l,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(h&&h.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),h&&Q0(l,h)})(p,i);var o,u,s=aM(p);function p(){return oM(this,p),s.apply(this,arguments)}return o=p,(u=[{key:"getEdge",value:function(){var l=this.props.model,h=l.getEdgeStyle(),m=l.path,E=l.isAnimation,A=l.arrowConfig,R=l.getEdgeAnimationStyle(),L=R.strokeDasharray,F=R.stroke,ne=R.strokeDashoffset,ye=R.animationName,we=R.animationDuration,Ue=R.animationIterationCount,ze=R.animationTimingFunction,ot=R.animationDirection;return Object(Ne.g)(Kh,J0({d:m},h,A,E?{strokeDasharray:L,stroke:F,style:{strokeDashoffset:ne,animationName:ye,animationDuration:we,animationIterationCount:Ue,animationTimingFunction:ze,animationDirection:ot}}:{}))}},{key:"getAppendWidth",value:function(){var l=this.props.model.path;return Object(Ne.g)(Kh,{d:l,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var l=this.props.model,h=this.state.hover,m=l.isSelected,E=l.getArrowStyle().offset,A=l.pointsList.map(function(L){return{x:L.x,y:L.y}}),R=nM(Qi(A,E),2);return{start:R[0],end:R[1],hover:h,isSelected:m}}},{key:"getLastTwoPoints",value:function(){var l=this.props.model,h=l.getArrowStyle().offset,m=l.pointsList.map(function(E){return{x:E.x,y:E.y}});return Qi(m,h)}}])&&iM(o.prototype,u),p}(Yh);function tb(i){return tb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},tb(i)}function FO(i,o){var u=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);o&&(s=s.filter(function(p){return Object.getOwnPropertyDescriptor(i,p).enumerable})),u.push.apply(u,s)}return u}function sM(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}function cM(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function fM(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function rb(i,o){return rb=Object.setPrototypeOf||function(u,s){return u.__proto__=s,u},rb(i,o)}function lM(i){var o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,s=by(i);if(o){var p=by(this).constructor;u=Reflect.construct(s,arguments,p)}else u=s.apply(this,arguments);return dM(this,u)}}function dM(i,o){if(o&&(tb(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(i)}function by(i){return by=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},by(i)}var pM=function(i){(function(l,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(h&&h.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),h&&rb(l,h)})(p,i);var o,u,s=lM(p);function p(){return cM(this,p),s.apply(this,arguments)}return o=p,u=[{key:"getArrowAttributes",value:function(){var l=this.props,h=l.arrowInfo,m=l.style,E=h.start,A=h.end,R={start:E,end:A,offset:m.offset,verticalLength:m.verticalLength,type:"end"},L=N(R),F=L.leftX,ne=L.leftY,ye=L.rightX,we=L.rightY;return function(Ue){for(var ze=1;ze<arguments.length;ze++){var ot=arguments[ze]!=null?arguments[ze]:{};ze%2?FO(Object(ot),!0).forEach(function(Tt){sM(Ue,Tt,ot[Tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ue,Object.getOwnPropertyDescriptors(ot)):FO(Object(ot)).forEach(function(Tt){Object.defineProperty(Ue,Tt,Object.getOwnPropertyDescriptor(ot,Tt))})}return Ue}({d:"M".concat(F," ").concat(ne," L").concat(A.x," ").concat(A.y," L").concat(ye," ").concat(we," z")},m)}},{key:"getShape",value:function(){var l=this.getArrowAttributes(),h=l.d,m=l.strokeWidth,E=l.stroke,A=l.fill;return Object(Ne.g)(Kh,{d:h,fill:A,strokeWidth:m,stroke:E})}},{key:"render",value:function(){return Object(Ne.g)("g",{className:"lf-arrow"},this.getShape())}}],u&&fM(o.prototype,u),p}(Ne.a),BO=function(i,o){return nt(i,o)},hM=function(i){var o=i==null?0:i.length;return o?i[o-1]:void 0},nb=function(){return yr.a.Date.now()},vM=Math.max,yM=Math.min,gM=function(i,o,u){var s,p,l,h,m,E,A=0,R=!1,L=!1,F=!0;if(typeof i!="function")throw new TypeError("Expected a function");function ne(Tt){var er=s,Qt=p;return s=p=void 0,A=Tt,h=i.apply(Qt,er)}function ye(Tt){return A=Tt,m=setTimeout(Ue,o),R?ne(Tt):h}function we(Tt){var er=Tt-E;return E===void 0||er>=o||er<0||L&&Tt-A>=l}function Ue(){var Tt=nb();if(we(Tt))return ze(Tt);m=setTimeout(Ue,function(er){var Qt=o-(er-E);return L?yM(Qt,l-(er-A)):Qt}(Tt))}function ze(Tt){return m=void 0,F&&s?ne(Tt):(s=p=void 0,h)}function ot(){var Tt=nb(),er=we(Tt);if(s=arguments,p=this,E=Tt,er){if(m===void 0)return ye(E);if(L)return clearTimeout(m),m=setTimeout(Ue,o),ne(E)}return m===void 0&&(m=setTimeout(Ue,o)),h}return o=ou(o)||0,pn(u)&&(R=!!u.leading,l=(L="maxWait"in u)?vM(ou(u.maxWait)||0,o):l,F="trailing"in u?!!u.trailing:F),ot.cancel=function(){m!==void 0&&clearTimeout(m),A=0,s=E=p=m=void 0},ot.flush=function(){return m===void 0?h:ze(nb())},ot},mM=n(172);function bM(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function Rl(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}var GO,UO,zO,_M=function(){function i(s){(function(p,l){if(!(p instanceof l))throw new TypeError("Cannot call a class as a function")})(this,i),Rl(this,"undos",[]),Rl(this,"redos",[]),Rl(this,"callbacks",[]),Rl(this,"stopWatch",null),Rl(this,"curData",null),Rl(this,"maxSize",50),Rl(this,"waitTime",100),Rl(this,"eventCenter",void 0),this.eventCenter=s}var o,u;return o=i,(u=[{key:"add",value:function(s){BO(hM(this.undos),s)||(this.undos.push(s),BO(this.curData,s)||(this.redos=[]),this.eventCenter.emit(gr.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var s=this.undos.pop();this.redos.push(s);var p=this.undos.pop();return this.curData=Jn(p),p}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var s=this.redos.pop();return this.curData=Jn(s),s}}},{key:"watch",value:function(s){var p=this;this.stopWatch&&this.stopWatch(),this.undos.push(s.modelToGraphData()),this.stopWatch=Object(mM.a)(s,gM(function(){var l=s.modelToHistoryData();l&&p.add(l)},this.waitTime))}}])&&bM(o.prototype,u),i}();function ob(i){return ob=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},ob(i)}function EM(i,o){return function(u){if(Array.isArray(u))return u}(i)||function(u,s){var p=u==null?null:typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(p!=null){var l,h,m=[],E=!0,A=!1;try{for(p=p.call(u);!(E=(l=p.next()).done)&&(m.push(l.value),!s||m.length!==s);E=!0);}catch(R){A=!0,h=R}finally{try{E||p.return==null||p.return()}finally{if(A)throw h}}return m}}(i,o)||function(u,s){if(!!u){if(typeof u=="string")return $O(u,s);var p=Object.prototype.toString.call(u).slice(8,-1);if(p==="Object"&&u.constructor&&(p=u.constructor.name),p==="Map"||p==="Set")return Array.from(u);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return $O(u,s)}}(i,o)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $O(i,o){(o==null||o>i.length)&&(o=i.length);for(var u=0,s=new Array(o);u<o;u++)s[u]=i[u];return s}function HO(i,o){var u=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);o&&(s=s.filter(function(p){return Object.getOwnPropertyDescriptor(i,p).enumerable})),u.push.apply(u,s)}return u}function Rd(i){for(var o=1;o<arguments.length;o++){var u=arguments[o]!=null?arguments[o]:{};o%2?HO(Object(u),!0).forEach(function(s){jd(i,s,u[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(u)):HO(Object(u)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(u,s))})}return i}function XO(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function ib(i,o){return ib=Object.setPrototypeOf||function(u,s){return u.__proto__=s,u},ib(i,o)}function OM(i){var o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,s=_y(i);if(o){var p=_y(this).constructor;u=Reflect.construct(s,arguments,p)}else u=s.apply(this,arguments);return wM(this,u)}}function wM(i,o){if(o&&(ob(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gp(i)}function Gp(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _y(i){return _y=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},_y(i)}function jd(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}var WO,VO,YO,ab=xs((zO=UO=function(i){(function(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),m&&ib(h,m)})(l,i);var o,u,s,p=OM(l);function l(){var h;return function(m,E){if(!(m instanceof E))throw new TypeError("Cannot call a class as a function")}(this,l),jd(Gp(h=p.call(this)),"ref",Object(Ne.f)()),jd(Gp(h),"__prevText",{type:"",text:"",id:""}),jd(Gp(h),"keyupHandler",function(m){var E=h.props.graphModel.textEditElement;m.key==="Enter"&&m.altKey&&E.setElementState(0)}),jd(Gp(h),"inputHandler",function(m){var E=m.target.innerText,A=h.props.graphModel.textEditElement;h.__prevText={type:A.type,text:E.replace(/(\r\n)+$|(\n)+$/,""),id:A.id}}),jd(Gp(h),"keydownHandler",function(m){m.stopPropagation()}),h.state={style:{left:0,top:0}},h}return o=l,s=[{key:"getDerivedStateFromProps",value:function(h){var m,E=h.graphModel,A=E.transformModel,R=E.theme,L=R.inputText,F=E.textEditElement;if(F){var ne;if((ne=F.text)===null||ne===void 0||!ne.value)if(F.BaseType===Fn.EDGE){var ye=(F=F).text,we=F.textPosition,Ue=we.x,ze=we.y;ye.x=Ue,ye.y=ze,F.setText(ye)}else F=F;var ot={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(F.BaseType===Fn.EDGE){var Tt=R.edgeText,er=Tt.overflowMode,Qt=Tt.lineHeight,Rr=Tt.wrapPadding,Zt=Tt.textWidth;Zt&&er==="autoWrap"&&(m=Rd(Rd({},ot),{},{width:Zt,minWidth:Zt,lineHeight:Qt,padding:Rr}))}else if(F.BaseType===Fn.NODE){var _r=R.nodeText,ur=_r.overflowMode,hn=_r.lineHeight,On=_r.wrapPadding,Vr=_r.textWidth,Rn=F,Uo=Rn.width,zo=Rn.modelType,Gi=Rn.textWidth||Vr||Uo;(zo!==on.TEXT_NODE&&ur==="autoWrap"||zo===on.TEXT_NODE&&Vr)&&(m=Rd(Rd({},ot),{},{width:Gi,minWidth:Gi,lineHeight:hn,padding:On}))}var pu=F.text,hu=pu.x,vc=pu.y,Nd=EM(A.CanvasPointToHtmlPoint([hu,vc]),2);return{style:Rd(Rd({left:Nd[0],top:Nd[1]},m),L)}}}}],(u=[{key:"componentDidUpdate",value:function(){var h=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var m=this.__prevText,E=m.text,A=m.id;h.updateText(A,E),h.eventCenter.emit(gr.TEXT_UPDATE,Rd({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(h){if(window.getSelection!==void 0&&document.createRange!==void 0){var m=document.createRange();m.selectNodeContents(h),m.collapse(!1);var E=window.getSelection();E.removeAllRanges(),E.addRange(m)}}},{key:"render",value:function(){var h,m=this.props.graphModel.textEditElement,E=this.state.style;return m?Object(Ne.g)("div",{contentEditable:!0,className:"lf-text-input",style:E,ref:this.ref,key:m.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onKeyPress:this.keydownHandler,onInput:this.inputHandler},(h=m.text)===null||h===void 0?void 0:h.value):null}}])&&XO(o.prototype,u),s&&XO(o,s),l}(Ne.a),jd(UO,"toolName","textEdit"),GO=zO))||GO,xM=function(i){return i.modelType===on.LINE_EDGE?function(o){var u=o.startPoint,s=o.endPoint,p=(u.x+s.x)/2,l=(u.y+s.y)/2,h=Math.abs(u.x-s.x)+10,m=Math.abs(u.y-s.y)+10;return{x:p-h/2,y:l-m/2,x1:p+h/2,y1:l+m/2}}(i):i.modelType===on.POLYLINE_EDGE?function(o){var u=o.points,s=Yn(u),p=Ct(s,8),l=p.x,h=p.y,m=p.width,E=p.height;return{x:l-m/2,y:h-E/2,x1:l+m/2,y1:h+E/2}}(i):i.modelType===on.BEZIER_EDGE?function(o){var u=o.path,s=Pr(u),p=Ct(s,8),l=p.x,h=p.y,m=p.width,E=p.height;return{x:l-m/2,y:h-E/2,x1:l+m/2,y1:h+E/2}}(i):void 0};function ub(i){return ub=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},ub(i)}function KO(i,o){return function(u){if(Array.isArray(u))return u}(i)||function(u,s){var p=u==null?null:typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(p!=null){var l,h,m=[],E=!0,A=!1;try{for(p=p.call(u);!(E=(l=p.next()).done)&&(m.push(l.value),!s||m.length!==s);E=!0);}catch(R){A=!0,h=R}finally{try{E||p.return==null||p.return()}finally{if(A)throw h}}return m}}(i,o)||qO(i,o)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function SM(i){return function(o){if(Array.isArray(o))return sb(o)}(i)||function(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}(i)||qO(i)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function qO(i,o){if(i){if(typeof i=="string")return sb(i,o);var u=Object.prototype.toString.call(i).slice(8,-1);return u==="Object"&&i.constructor&&(u=i.constructor.name),u==="Map"||u==="Set"?Array.from(i):u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)?sb(i,o):void 0}}function sb(i,o){(o==null||o>i.length)&&(o=i.length);for(var u=0,s=new Array(o);u<o;u++)s[u]=i[u];return s}function AM(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function cb(i,o){return cb=Object.setPrototypeOf||function(u,s){return u.__proto__=s,u},cb(i,o)}function TM(i){var o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,s=Ey(i);if(o){var p=Ey(this).constructor;u=Reflect.construct(s,arguments,p)}else u=s.apply(this,arguments);return PM(this,u)}}function PM(i,o){if(o&&(ub(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Up(i)}function Up(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function Ey(i){return Ey=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},Ey(i)}function zp(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}var fb=xs((YO=VO=function(i){(function(l,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(h&&h.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),h&&cb(l,h)})(p,i);var o,u,s=TM(p);function p(l){var h;(function(R,L){if(!(R instanceof L))throw new TypeError("Cannot call a class as a function")})(this,p),zp(Up(h=s.call(this)),"stepDrag",void 0),zp(Up(h),"handleMouseDown",function(R){h.stepDrag.handleMouseDown(R)}),zp(Up(h),"handleWheelEvent",function(R){var L,F;R.preventDefault();var ne=R.deltaX,ye=R.deltaY,we=R.clientX,Ue=R.clientY,ze=R.ctrlKey,ot=new WheelEvent("wheel",{deltaX:ne,deltaY:ye,clientX:we,clientY:Ue,ctrlKey:ze});(L=h.props.logicFlow.container)===null||L===void 0||(F=L.querySelector('.lf-canvas-overlay[name="canvas-overlay"]'))===null||F===void 0||F.dispatchEvent(ot)}),zp(Up(h),"onDragging",function(R){var L=R.deltaX,F=R.deltaY,ne=h.props.graphModel,ye=ne.getSelectElements(!0);ne.moveNodes(ye.nodes.map(function(we){return we.id}),L,F)}),zp(Up(h),"handleContextMenu",function(R){R.preventDefault();var L=h.props,F=L.graphModel,ne=L.graphModel,ye=ne.eventCenter,we=ne.selectElements,Ue=F.getPointByClient({x:R.clientX,y:R.clientY}),ze={nodes:[],edges:[]};SM(we.values()).forEach(function(ot){ot.BaseType===Fn.NODE&&ze.nodes.push(ot.getData()),ot.BaseType===Fn.EDGE&&ze.edges.push(ot.getData())}),ye.emit(gr.SELECTION_CONTEXTMENU,{data:ze,e:R,position:Ue})});var m=l.graphModel,E=m.gridSize,A=m.eventCenter;return h.stepDrag=new U({onDragging:h.onDragging,step:E,eventType:"SELECTION",eventCenter:A}),h}return o=p,(u=[{key:"render",value:function(){var l=this.props.graphModel,h=l.selectElements,m=l.transformModel;if(!(h.size<=1)){var E=Number.MAX_SAFE_INTEGER,A=Number.MAX_SAFE_INTEGER,R=Number.MIN_SAFE_INTEGER,L=Number.MIN_SAFE_INTEGER;h.forEach(function(we){var Ue={x:0,y:0,x1:0,y1:0};we.BaseType===Fn.NODE&&(Ue=function(ze){var ot=ze.x,Tt=ze.y,er=ze.width,Qt=ze.height;return{x:ot-er/2,y:Tt-Qt/2,x1:ot+er/2,y1:Tt+Qt/2}}(we)),we.BaseType===Fn.EDGE&&(Ue=xM(we)),E=Math.min(E,Ue.x),A=Math.min(A,Ue.y),R=Math.max(R,Ue.x1),L=Math.max(L,Ue.y1)});var F=KO(m.CanvasPointToHtmlPoint([E,A]),2);E=F[0],A=F[1];var ne=KO(m.CanvasPointToHtmlPoint([R,L]),2);R=ne[0],L=ne[1];var ye={left:"".concat(E-10,"px"),top:"".concat(A-10,"px"),width:"".concat(R-E+20,"px"),height:"".concat(L-A+20,"px")};return Object(Ne.g)("div",{className:"lf-multiple-select",style:ye,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu,onWheel:this.handleWheelEvent})}}}])&&AM(o.prototype,u),p}(Ne.a),zp(VO,"toolName","multipleSelect"),WO=YO))||WO;function RM(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function Oy(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}var jM=function(){function i(s){(function(l,h){if(!(l instanceof h))throw new TypeError("Cannot call a class as a function")})(this,i),Oy(this,"tools",void 0),Oy(this,"components",void 0),Oy(this,"toolMap",new Map),Oy(this,"instance",void 0),this.instance=s,this.isDisabledTool(ab.toolName)||this.registerTool(ab.toolName,ab),this.isDisabledTool(fb.toolName)||this.registerTool(fb.toolName,fb);var p=s.graphModel;p.eventCenter.on("".concat(gr.GRAPH_TRANSFORM,",").concat(gr.NODE_CLICK,",").concat(gr.BLANK_CLICK," "),function(){var l=p.textEditElement,h=p.editConfigModel,m=h.edgeTextEdit,E=h.nodeTextEdit;(m||E)&&l&&p.textEditElement.setElementState(Pn.DEFAULT)})}var o,u;return o=i,(u=[{key:"isDisabledTool",value:function(s){return this.instance.options.disabledTools.indexOf(s)!==-1}},{key:"registerTool",value:function(s,p){this.toolMap.set(s,p)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&RM(o.prototype,u),i}(),NM=n(173),MM=n.n(NM);function CM(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function lb(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}var ZO=function(){function i(s){(function(l,h){if(!(l instanceof h))throw new TypeError("Cannot call a class as a function")})(this,i),lb(this,"mousetrap",void 0),lb(this,"options",void 0),lb(this,"target",void 0),s.keyboard||(s.keyboard={enabled:!1}),this.options=s;var p=s.lf;this.target=p.container,this.mousetrap=new MM.a(this.target),s.keyboard.enabled&&!p.options.isSilentMode&&this.enable(!0)}var o,u;return o=i,(u=[{key:"initShortcuts",value:function(){var s=this,p=this.options.keyboard.shortcuts;if(p)if(Dn(p))p.forEach(function(E){var A=E.keys,R=E.callback,L=E.action;return s.on(A,R,L)});else{var l=p.keys,h=p.callback,m=p.action;this.on(l,h,m)}}},{key:"on",value:function(s,p,l){this.mousetrap.bind(this.getKeys(s),p,l)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(s,p){this.mousetrap.unbind(this.getKeys(s),p)}},{key:"enable",value:function(s){(this.disabled||s)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(s){var p=this;return(Array.isArray(s)?s:[s]).map(function(l){return p.formatKey(l)})}},{key:"formatKey",value:function(s){return s.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&CM(o.prototype,u),i}(),IM=ZO,Af=null;function JO(i,o){return i.x+=o,i.y+=o,i.text&&(i.text.x+=o,i.text.y+=o),i}function QO(i,o){return i.startPoint&&(i.startPoint.x+=o,i.startPoint.y+=o),i.endPoint&&(i.endPoint.x+=o,i.endPoint.y+=o),i.pointsList&&i.pointsList.length>0&&i.pointsList.forEach(function(u){u.x+=o,u.y+=o}),i.text&&(i.text.x+=o,i.text.y+=o),i}var $p=40,db=40;function pb(i){return pb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},pb(i)}function ew(i,o){var u=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);o&&(s=s.filter(function(p){return Object.getOwnPropertyDescriptor(i,p).enumerable})),u.push.apply(u,s)}return u}function qh(i){for(var o=1;o<arguments.length;o++){var u=arguments[o]!=null?arguments[o]:{};o%2?ew(Object(u),!0).forEach(function(s){Fo(i,s,u[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(u)):ew(Object(u)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(u,s))})}return i}function tw(i,o){for(var u=0;u<o.length;u++){var s=o[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function Fo(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}var hb=Symbol("plugin register by Logicflow.use"),vb=function(){function i(p){var l,h,m=this;(function(E,A){if(!(E instanceof A))throw new TypeError("Cannot call a class as a function")})(this,i),Fo(this,"container",void 0),Fo(this,"width",void 0),Fo(this,"height",void 0),Fo(this,"graphModel",void 0),Fo(this,"history",void 0),Fo(this,"viewMap",new Map),Fo(this,"tool",void 0),Fo(this,"keyboard",void 0),Fo(this,"dnd",void 0),Fo(this,"options",void 0),Fo(this,"snaplineModel",void 0),Fo(this,"components",[]),Fo(this,"plugins",void 0),Fo(this,"extension",{}),Fo(this,"adapterIn",void 0),Fo(this,"adapterOut",void 0),Fo(this,"getView",function(E){return m.viewMap.get(E)}),p=Z1(p),this.options=p,this.container=this.initContainer(p.container),this.plugins=p.plugins,this.graphModel=new UR(qh({},p)),this.tool=new jM(this),this.history=new _M(this.graphModel.eventCenter),this.dnd=new Lj({lf:this}),this.keyboard=new IM({lf:this,keyboard:p.keyboard}),p.snapline!==!1&&(this.snaplineModel=new lO(this.graphModel),l=this.graphModel.eventCenter,h=this.snaplineModel,l.on("node:mousemove",function(E){var A=E.data;h.setNodeSnapLine(A)}),l.on("node:mouseup",function(){h.clearSnapline()})),function(E,A){var R=E.keyboard,L=R.options.keyboard;R.on(["cmd + c","ctrl + c"],function(){if(db=$p,!L.enabled||A.textEditElement)return!0;var F=E.options.guards,ne=A.getSelectElements(!1);return F&&F.beforeClone&&!F.beforeClone(ne)||ne.nodes.length===0&&ne.edges.length===0?(Af=null,!0):((Af=ne).nodes.forEach(function(ye){return JO(ye,$p)}),Af.edges.forEach(function(ye){return QO(ye,$p)}),!1)}),R.on(["cmd + v","ctrl + v"],function(){if(!L.enabled||A.textEditElement)return!0;if(Af&&(Af.nodes||Af.edges)){E.clearSelectElements();var F=E.addElements(Af,db);if(!F)return!0;F.nodes.forEach(function(ne){return E.selectElementById(ne.id,!0)}),F.edges.forEach(function(ne){return E.selectElementById(ne.id,!0)}),Af.nodes.forEach(function(ne){return JO(ne,$p)}),Af.edges.forEach(function(ne){return QO(ne,$p)}),db+=$p}return!1}),R.on(["cmd + z","ctrl + z"],function(){return!L.enabled||!!A.textEditElement||(E.undo(),!1)}),R.on(["cmd + y","ctrl + y"],function(){return!L.enabled||!!A.textEditElement||(E.redo(),!1)}),R.on(["backspace"],function(){if(!L.enabled||A.textEditElement)return!0;var F=A.getSelectElements(!0);return E.clearSelectElements(),F.edges.forEach(function(ne){return E.deleteEdge(ne.id)}),F.nodes.forEach(function(ne){return E.deleteNode(ne.id)}),!1})}(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(p.disabledPlugins)}var o,u,s;return o=i,u=[{key:"register",value:function(p,l){var h=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(typeof p=="string"){var m={BaseEdge:Yh,BaseEdgeModel:Ol,BaseNode:Of,BaseNodeModel:Ef,RectNode:a0,RectNodeModel:Lm,CircleNode:f0,CircleNodeModel:mm,PolygonNode:v0,PolygonNodeModel:Cm,TextNode:T0,TextNodeModel:Um,LineEdge:X0,LineEdgeModel:ti,DiamondNode:b0,DiamondNodeModel:wm,PolylineEdge:q0,PolylineEdgeModel:yf,BezierEdge:eb,BezierEdgeModel:dm,EllipseNode:x0,EllipseNodeModel:Tm,HtmlNode:N0,HtmlNodeModel:Hm,h:Ne.g,type:p};this.viewMap.forEach(function(F){var ne=F.extendKey;ne&&(m[ne]=F)}),this.graphModel.modelMap.forEach(function(F){var ne=F.extendKey;ne&&(m[ne]=F)});var E=l(m),A=E.view,R=E.model,L=A;h&&!L.isObervered&&(L.isObervered=!0,L=lr(L)),this.setView(p,L),this.graphModel.setModel(p,R)}else this.registerElement(p)}},{key:"registerElement",value:function(p){var l=p.view;p.isObserverView===!1||l.isObervered||(l.isObervered=!0,l=lr(l)),this.setView(p.type,l),this.graphModel.setModel(p.type,p.model)}},{key:"batchRegister",value:function(){var p=this,l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];l.forEach(function(h){p.registerElement(h)})}},{key:"defaultRegister",value:function(){this.registerElement({view:a0,model:Lm,type:"rect"}),this.registerElement({type:"circle",view:f0,model:mm}),this.registerElement({type:"polygon",view:v0,model:Cm}),this.registerElement({type:"line",view:X0,model:ti}),this.registerElement({type:"polyline",view:q0,model:yf}),this.registerElement({type:"bezier",view:eb,model:dm}),this.registerElement({type:"text",view:T0,model:Um}),this.registerElement({type:"ellipse",view:x0,model:Tm}),this.registerElement({type:"diamond",view:b0,model:wm}),this.registerElement({type:"html",view:N0,model:Hm})}},{key:"selectElementById",value:function(p){var l=arguments.length>1&&arguments[1]!==void 0&&arguments[1],h=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];this.graphModel.selectElementById(p,l),!l&&h&&this.graphModel.toFront(p)}},{key:"focusOn",value:function(p){var l=this.graphModel.transformModel,h=p.coordinate,m=p.id;if(!h){var E=this.getNodeModelById(m);E&&(h=E.getData());var A=this.getEdgeModelById(m);A&&(h=A.textPosition)}var R=h,L=R.x,F=R.y;l.focusOn(L,F,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(p){this.graphModel.setTheme(p)}},{key:"resize",value:function(p,l){this.graphModel.resize(p,l),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height}},{key:"setDefaultEdgeType",value:function(p){this.graphModel.setDefaultEdgeType(p)}},{key:"updateText",value:function(p,l){this.graphModel.updateText(p,l)}},{key:"deleteElement",value:function(p){var l,h,m,E=this.getModelById(p);return!!E&&(h=(m=(Fo(l={},Fn.NODE,this.deleteNode),Fo(l,Fn.EDGE,this.deleteEdge),l)[E.BaseType])===null||m===void 0?void 0:m.call(this,p))!==null&&h!==void 0&&h}},{key:"getModelById",value:function(p){return this.graphModel.getElement(p)}},{key:"getDataById",value:function(p){var l;return(l=this.graphModel.getElement(p))===null||l===void 0?void 0:l.getData()}},{key:"changeNodeType",value:function(p,l){this.graphModel.changeNodeType(p,l)}},{key:"changeEdgeType",value:function(p,l){this.graphModel.changeEdgeType(p,l)}},{key:"getNodeEdges",value:function(p){return this.graphModel.getNodeEdges(p)}},{key:"addNode",value:function(p){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gr.NODE_ADD,h=arguments.length>2?arguments[2]:void 0;return this.graphModel.addNode(p,l,h)}},{key:"deleteNode",value:function(p){var l=this.graphModel.getNodeModelById(p);if(!l)return!1;var h=l.getData(),m=this.options.guards,E=!m||!m.beforeDelete||m.beforeDelete(h);return E&&this.graphModel.deleteNode(p),E}},{key:"cloneNode",value:function(p){var l=this.graphModel.getNodeModelById(p).getData(),h=this.options.guards;if(!h||!h.beforeClone||h.beforeClone(l))return this.graphModel.cloneNode(p)}},{key:"changeNodeId",value:function(p,l){return this.graphModel.changeNodeId(p,l)}},{key:"getNodeModelById",value:function(p){return this.graphModel.getNodeModelById(p)}},{key:"getNodeDataById",value:function(p){var l;return(l=this.graphModel.getNodeModelById(p))===null||l===void 0?void 0:l.getData()}},{key:"addEdge",value:function(p){return this.graphModel.addEdge(p)}},{key:"deleteEdge",value:function(p){var l=this.options.guards,h=this.graphModel.edgesMap[p];if(!h)return!1;var m=h.model.getData(),E=!l||!l.beforeDelete||l.beforeDelete(m);return E&&this.graphModel.deleteEdgeById(p),E}},{key:"deleteEdgeByNodeId",value:function(p){var l=p.sourceNodeId,h=p.targetNodeId;l&&h?this.graphModel.deleteEdgeBySourceAndTarget(l,h):l?this.graphModel.deleteEdgeBySource(l):h&&this.graphModel.deleteEdgeByTarget(h)}},{key:"changeEdgeId",value:function(p,l){return this.graphModel.changeEdgeId(p,l)}},{key:"getEdgeModelById",value:function(p){var l;return(l=this.graphModel.edgesMap[p])===null||l===void 0?void 0:l.model}},{key:"getEdgeModels",value:function(p){var l=this.graphModel.edges,h=p.sourceNodeId,m=p.targetNodeId;if(h&&m){var E=[];return l.forEach(function(L){L.sourceNodeId===h&&L.targetNodeId===m&&E.push(L)}),E}if(h){var A=[];return l.forEach(function(L){L.sourceNodeId===h&&A.push(L)}),A}if(m){var R=[];return l.forEach(function(L){L.targetNodeId===m&&R.push(L)}),R}return[]}},{key:"getEdgeDataById",value:function(p){var l;return(l=this.getEdgeModelById(p))===null||l===void 0?void 0:l.getData()}},{key:"getNodeIncomingEdge",value:function(p){return this.graphModel.getNodeIncomingEdge(p)}},{key:"getNodeOutgoingEdge",value:function(p){return this.graphModel.getNodeOutgoingEdge(p)}},{key:"getNodeIncomingNode",value:function(p){return this.graphModel.getNodeIncomingNode(p)}},{key:"getNodeOutgoingNode",value:function(p){return this.graphModel.getNodeOutgoingNode(p)}},{key:"editText",value:function(p){this.graphModel.editText(p)}},{key:"setProperties",value:function(p,l){var h;(h=this.graphModel.getElement(p))===null||h===void 0||h.setProperties(Po(l))}},{key:"deleteProperty",value:function(p,l){var h;(h=this.graphModel.getElement(p))===null||h===void 0||h.deleteProperty(l)}},{key:"getProperties",value:function(p){var l;return(l=this.graphModel.getElement(p))===null||l===void 0?void 0:l.getProperties()}},{key:"toFront",value:function(p){this.graphModel.toFront(p)}},{key:"setElementZIndex",value:function(p,l){return this.graphModel.setElementZIndex(p,l)}},{key:"addElements",value:function(p){for(var l=this,h=p.nodes,m=p.edges,E={},A={nodes:[],edges:[]},R=0;R<h.length;R++){var L=h[R],F=L.id,ne=this.addNode(L);if(!ne)return;F&&(E[F]=ne.id),A.nodes.push(ne)}return m.forEach(function(ye){var we=ye.sourceNodeId,Ue=ye.targetNodeId;E[we]&&(we=E[we]),E[Ue]&&(Ue=E[Ue]);var ze=l.graphModel.addEdge(qh(qh({},ye),{},{sourceNodeId:we,targetNodeId:Ue}));A.edges.push(ze)}),A}},{key:"getAreaElement",value:function(p,l){var h=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],m=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],E=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return this.graphModel.getAreaElement(p,l,h,m,E).map(function(A){return A.getData()})}},{key:"getSelectElements",value:function(){var p=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.graphModel.getSelectElements(p)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var p=this.graphModel.modelToGraphData();if(this.adapterOut){for(var l=arguments.length,h=new Array(l),m=0;m<l;m++)h[m]=arguments[m];return this.adapterOut.apply(this,[p].concat(h))}return p}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(p){var l=this.graphModel,h=l.editConfigModel,m=l.transformModel;h.updateEditConfig(p),(p==null?void 0:p.stopMoveGraph)!==void 0&&m.updateTranslateLimits(p.stopMoveGraph),p!=null&&p.isSilentMode?this.keyboard.disable():this.keyboard.enable(!0)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(p,l){return this.graphModel.getPointByClient({x:p,y:l})}},{key:"undo",value:function(){if(this.history.undoAble()){var p=Po(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(p)}}},{key:"redo",value:function(){if(this.history.redoAble()){var p=Po(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(p)}}},{key:"zoom",value:function(p,l){return this.graphModel.transformModel.zoom(p,l)}},{key:"resetZoom",value:function(){this.graphModel.transformModel.resetZoom()}},{key:"setZoomMiniSize",value:function(p){this.graphModel.transformModel.setZoomMiniSize(p)}},{key:"setZoomMaxSize",value:function(p){this.graphModel.transformModel.setZoomMaxSize(p)}},{key:"getTransform",value:function(){var p=this.graphModel.transformModel;return{SCALE_X:p.SCALE_X,SCALE_Y:p.SCALE_Y,TRANSLATE_X:p.TRANSLATE_X,TRANSLATE_Y:p.TRANSLATE_Y}}},{key:"translate",value:function(p,l){this.graphModel.transformModel.translate(p,l)}},{key:"resetTranslate",value:function(){var p=this.graphModel.transformModel,l=p.TRANSLATE_X,h=p.TRANSLATE_Y;this.translate(-l,-h)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(p,l){l===void 0&&(l=p),this.graphModel.fitView(p,l)}},{key:"openEdgeAnimation",value:function(p){this.graphModel.openEdgeAnimation(p)}},{key:"closeEdgeAnimation",value:function(p){this.graphModel.closeEdgeAnimation(p)}},{key:"on",value:function(p,l){this.graphModel.eventCenter.on(p,l)}},{key:"off",value:function(p,l){this.graphModel.eventCenter.off(p,l)}},{key:"once",value:function(p,l){this.graphModel.eventCenter.once(p,l)}},{key:"emit",value:function(p,l){this.graphModel.eventCenter.emit(p,l)}},{key:"initContainer",value:function(p){var l=document.createElement("div");return l.style.position="relative",l.style.width="100%",l.style.height="100%",p.innerHTML="",p.appendChild(l),l}},{key:"installPlugins",value:function(){var p,l=this,h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],m=(p=this.plugins)!==null&&p!==void 0?p:i.extensions;m.forEach(function(E){var A=null,R=null;E[hb]?(A=E.extension,R=E.props):A=E;var L=A.pluginName||A.name;h.indexOf(L)===-1&&l.installPlugin(A,R)})}},{key:"installPlugin",value:function(p,l){if(pb(p)==="object"){var h=p.install,m=p.render;return h&&h.call(p,this,i),m&&this.components.push(m.bind(p)),void(this.extension[p.pluginName]=p)}var E=p,A=new E({lf:this,LogicFlow:i,options:this.options.pluginsOptions,props:l});A.render&&this.components.push(A.render.bind(A)),this.extension[E.pluginName]=A}},{key:"updateAttributes",value:function(p,l){this.graphModel.updateAttributes(p,l)}},{key:"createFakerNode",value:function(p){var l=this.graphModel.modelMap.get(p.type);if(l){var h=new l(qh(qh({},p),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(h),h}}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(p){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(p)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(p,l){this.viewMap.set(p,l)}},{key:"renderRawData",value:function(p){this.graphModel.graphDataToModel(Po(p)),this.options.history!==!1&&this.history.watch(this.graphModel),Object(Ne.j)(Object(Ne.g)(Dj,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(gr.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(p=this.adapterIn(p)),this.renderRawData(p)}}],s=[{key:"use",value:function(p,l){var h,m,E=p.pluginName;E||(E=p.name);var A=(h=this.extensions.get(E))===null||h===void 0?void 0:h.extension;A&&A.destroy&&A.destroy(),this.extensions.set(E,(Fo(m={},hb,hb),Fo(m,"extension",p),Fo(m,"props",l),m))}}],u&&tw(o.prototype,u),s&&tw(o,s),i}();function xs(i){return lr(i)}Fo(vb,"extensions",new Map),a.default=vb}])})})(Yt,Yt.exports);const AG=VC(Yt.exports);var TG=function(){function e(){globalThis._ids=this,this._ids=new Set}return e.prototype.generateId=function(){var t="xxxxxxx".replace(/[x]/g,function(r){var a=Math.random()*16|0,n=r==="x"?a:a&3|8;return n.toString(16)});return t},e.prototype.next=function(){for(var t=this.generateId();this._ids.has(t);)t=this.generateId();return this._ids.add(t),t},e}(),PG=(globalThis==null?void 0:globalThis._ids)||new TG;function Oh(){return PG.next()}var $T=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var c in n)n.hasOwnProperty(c)&&(a[c]=n[c])},e(t,r)};return function(t,r){e(t,r);function a(){this.constructor=t}t.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}();(function(e){$T(t,e);function t(r,a){var n=this;return r.id||(r.id="Event_"+Oh()),r.text||(r.text=""),r.text&&typeof r.text=="string"&&(r.text={value:r.text,x:r.x,y:r.y+40}),n=e.call(this,r,a)||this,n}return t.prototype.setAttributes=function(){this.r=18},t.prototype.getConnectedTargetRules=function(){var r=e.prototype.getConnectedTargetRules.call(this),a={message:"\u8D77\u59CB\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u7EC8\u70B9",validate:function(){return!1}};return r.push(a),r},t.extendKey="StartEventModel",t})(Yt.exports.CircleNodeModel);(function(e){$T(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.extendKey="StartEventNode",t})(Yt.exports.CircleNode);var HT=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var c in n)n.hasOwnProperty(c)&&(a[c]=n[c])},e(t,r)};return function(t,r){e(t,r);function a(){this.constructor=t}t.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}(),$y=globalThis&&globalThis.__assign||function(){return $y=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},$y.apply(this,arguments)};(function(e){HT(t,e);function t(r,a){var n=this;return r.id||(r.id="Event_"+Oh()),r.text||(r.text=""),r.text&&typeof r.text=="string"&&(r.text={value:r.text,x:r.x,y:r.y+40}),n=e.call(this,r,a)||this,n}return t.prototype.setAttributes=function(){this.r=18},t.prototype.getConnectedSourceRules=function(){var r=e.prototype.getConnectedSourceRules.call(this),a={message:"\u7ED3\u675F\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u8D77\u70B9",validate:function(){return!1}};return r.push(a),r},t.extendKey="EndEventModel",t})(Yt.exports.CircleNodeModel);(function(e){HT(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},t.prototype.getShape=function(){var r=this.props.model,a=r.getNodeStyle(),n=r.x,c=r.y,f=r.r,y=e.prototype.getShape.call(this);return Yt.exports.h("g",{},y,Yt.exports.h("circle",$y($y({},a),{cx:n,cy:c,r:f-5})))},t.extendKey="EndEventView",t})(Yt.exports.CircleNode);var XT=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var c in n)n.hasOwnProperty(c)&&(a[c]=n[c])},e(t,r)};return function(t,r){e(t,r);function a(){this.constructor=t}t.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}(),ov=globalThis&&globalThis.__assign||function(){return ov=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},ov.apply(this,arguments)};(function(e){XT(t,e);function t(r,a){var n=this;return r.id||(r.id="Gateway_"+Oh()),r.text||(r.text=""),r.text&&typeof r.text=="string"&&(r.text={value:r.text,x:r.x,y:r.y+40}),n=e.call(this,r,a)||this,n.points=[[25,0],[50,25],[25,50],[0,25]],n}return t.extendKey="ExclusiveGatewayModel",t})(Yt.exports.PolygonNodeModel);(function(e){XT(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getShape=function(){var r=this.props.model,a=r.x,n=r.y,c=r.width,f=r.height,y=r.points,v=r.getNodeStyle();return Yt.exports.h("g",{transform:"matrix(1 0 0 1 "+(a-c/2)+" "+(n-f/2)+")"},Yt.exports.h("polygon",ov(ov({},v),{x:a,y:n,points:y})),Yt.exports.h("path",ov({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},v)))},t.extendKey="ExclusiveGatewayNode",t})(Yt.exports.PolygonNode);var WT=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var c in n)n.hasOwnProperty(c)&&(a[c]=n[c])},e(t,r)};return function(t,r){e(t,r);function a(){this.constructor=t}t.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}(),Hy=globalThis&&globalThis.__assign||function(){return Hy=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Hy.apply(this,arguments)};(function(e){WT(t,e);function t(r,a){var n=this;return r.id||(r.id="Activity_"+Oh()),n=e.call(this,r,a)||this,n}return t.extendKey="UserTaskModel",t})(Yt.exports.RectNodeModel);(function(e){WT(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getLabelShape=function(){var r=this.props.model,a=r.x,n=r.y,c=r.width,f=r.height,y=r.getNodeStyle();return Yt.exports.h("svg",{x:a-c/2+5,y:n-f/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},Yt.exports.h("path",{fill:y.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},t.prototype.getShape=function(){var r=this.props.model,a=r.x,n=r.y,c=r.width,f=r.height,y=r.radius,v=r.getNodeStyle();return Yt.exports.h("g",{},[Yt.exports.h("rect",Hy(Hy({},v),{x:a-c/2,y:n-f/2,rx:y,ry:y,width:c,height:f})),this.getLabelShape()])},t.extendKey="UserTaskNode",t})(Yt.exports.RectNode);var VT=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var c in n)n.hasOwnProperty(c)&&(a[c]=n[c])},e(t,r)};return function(t,r){e(t,r);function a(){this.constructor=t}t.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}(),Kb=globalThis&&globalThis.__assign||function(){return Kb=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Kb.apply(this,arguments)};(function(e){VT(t,e);function t(r,a){var n=this;return r.id||(r.id="Activity_"+Oh()),n=e.call(this,r,a)||this,n}return t.extendKey="ServiceTaskModel",t})(Yt.exports.RectNodeModel);(function(e){VT(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getLabelShape=function(){var r=this.props.model,a=r.x,n=r.y,c=r.width,f=r.height,y=r.getNodeStyle();return Yt.exports.h("svg",{x:a-c/2+5,y:n-f/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},Yt.exports.h("path",{fill:y.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},t.prototype.getShape=function(){var r=this.props.model,a=r.x,n=r.y,c=r.width,f=r.height,y=r.radius,v=r.getNodeStyle();return Yt.exports.h("g",{},[Yt.exports.h("rect",Kb({x:a-c/2,y:n-f/2,rx:y,ry:y,width:c,height:f},v)),this.getLabelShape()])},t.extendKey="ServiceTaskNode",t})(Yt.exports.RectNode);var YT=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var c in n)n.hasOwnProperty(c)&&(a[c]=n[c])},e(t,r)};return function(t,r){e(t,r);function a(){this.constructor=t}t.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}();(function(e){YT(t,e);function t(r,a){var n=this;return r.id||(r.id="Flow_"+Oh()),n=e.call(this,r,a)||this,n}return t.extendKey="SequenceFlowModel",t})(Yt.exports.PolylineEdgeModel);(function(e){YT(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.extendKey="SequenceFlowEdge",t})(Yt.exports.PolylineEdge);var Bw={width:40,height:40},Gw={width:40,height:40},Uw={width:40,height:40},zw={width:100,height:80},$w={width:100,height:80},RG=function(){function e(){globalThis._ids=this,this._ids=new Set}return e.prototype.generateId=function(){var t="xxxxxxx".replace(/[x]/g,function(r){var a=Math.random()*16|0,n=r==="x"?a:a&3|8;return n.toString(16)});return t},e.prototype.next=function(){for(var t=this.generateId();this._ids.has(t);)t=this.generateId();return this._ids.add(t),t},e}(),jG=(globalThis==null?void 0:globalThis._ids)||new RG;function Hw(){return jG.next()}function KT(e){return Object.prototype.toString.call(e)}function NG(e){return"  ".repeat(e)}function Xy(e){var t=e;return KT(e)==="[object Object]"?(t={},Object.keys(e).forEach(function(r){var a=r;r.charAt(0)==="-"&&(a=r.substring(1)),t[a]=Xy(e[r])})):Array.isArray(e)&&(t=[],e.forEach(function(r,a){t[a]=Xy(r)})),t}function MG(e){var t=e;try{typeof t!="string"&&(t=JSON.parse(e))}catch{t=JSON.stringify(Xy(e)).replace(/"/g,"'")}return t}var Hp=`	
`;function Cy(e,t,r){var a=NG(r),n="";if(t==="#text")return Hp+a+e;if(t==="#cdata-section")return Hp+a+"<![CDATA["+e+"]]>";if(t==="#comment")return Hp+a+"<!--"+e+"-->";if((""+t).charAt(0)==="-")return" "+t.substring(1)+'="'+MG(e)+'"';if(Array.isArray(e))e.forEach(function(v){n+=Cy(v,t,r+1)});else if(KT(e)==="[object Object]"){var c=Object.keys(e),f="",y="";n+=(r===0?"":Hp+a)+"<"+t,c.forEach(function(v){v.charAt(0)==="-"?f+=Cy(e[v],v,r+1):y+=Cy(e[v],v,r+1)}),n+=f+(y!==""?">"+y+(Hp+a)+"</"+t+">":" />")}else n+=Hp+a+("<"+t+">"+e.toString()+"</"+t+">");return n}function CG(e){var t="";for(var r in e)t+=Cy(e[r],r,0);return t}var Oa=function(){};Oa.ObjTree=function(){return this};Oa.ObjTree.VERSION="0.23";Oa.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;Oa.ObjTree.prototype.attr_prefix="-";Oa.ObjTree.prototype.parseXML=function(e){var t;if(window.DOMParser){var r=new DOMParser,a=r.parseFromString(e,"application/xml");if(!a)return;t=a.documentElement}else window.ActiveXObject&&(r=new ActiveXObject("Microsoft.XMLDOM"),r.async=!1,r.loadXML(e),t=r.documentElement);if(!!t)return this.parseDOM(t)};Oa.ObjTree.prototype.parseHTTP=function(e,t,r){var a={};for(var n in t)a[n]=t[n];if(a.method||(typeof a.postBody>"u"&&typeof a.postbody>"u"&&typeof a.parameters>"u"?a.method="get":a.method="post"),r){a.asynchronous=!0;var c=this,f=r,y=a.onComplete;a.onComplete=function(O){var S;O&&O.responseXML&&O.responseXML.documentElement&&(S=c.parseDOM(O.responseXML.documentElement)),f(S,O),y&&y(O)}}else a.asynchronous=!1;var v;if(typeof HTTP<"u"&&HTTP.Request){a.uri=e;var b=new HTTP.Request(a);b&&(v=b.transport)}else if(typeof Ajax<"u"&&Ajax.Request){var b=new Ajax.Request(e,a);b&&(v=b.transport)}if(r)return v;if(v&&v.responseXML&&v.responseXML.documentElement)return this.parseDOM(v.responseXML.documentElement)};Oa.ObjTree.prototype.parseDOM=function(e){if(!!e){if(this.__force_array={},this.force_array)for(var t=0;t<this.force_array.length;t++)this.__force_array[this.force_array[t]]=1;var r=this.parseElement(e);if(this.__force_array[e.nodeName]&&(r=[r]),e.nodeType!=11){var a={};a[e.nodeName]=r,r=a}return r}};Oa.ObjTree.prototype.parseElement=function(e){if(e.nodeType!=7){if(e.nodeType==3||e.nodeType==4||e.nodeType==8){var t=e.nodeValue.match(/[^\x00-\x20]/);return t==null?void 0:e.nodeValue}var r=null,a={};if(e.attributes&&e.attributes.length){r={};for(var n=0;n<e.attributes.length;n++){var c=e.attributes[n].nodeName;if(typeof c=="string"){var f=e.attributes[n].nodeValue;try{f=JSON.parse(e.attributes[n].nodeValue.replace(/'/g,'"'))}catch{f=e.attributes[n].nodeValue}!f||(c=this.attr_prefix+c,typeof a[c]>"u"&&(a[c]=0),a[c]++,this.addNode(r,c,a[c],f))}}}if(e.childNodes&&e.childNodes.length){var y=!0;r&&(y=!1);for(var n=0;n<e.childNodes.length&&y;n++){var v=e.childNodes[n].nodeType;v==3||v==4||v==8||(y=!1)}if(y){r||(r="");for(var n=0;n<e.childNodes.length;n++)r+=e.childNodes[n].nodeValue}else{r||(r={});for(var n=0;n<e.childNodes.length;n++){var c=e.childNodes[n].nodeName;if(typeof c=="string"){var f=this.parseElement(e.childNodes[n]);!f||(typeof a[c]>"u"&&(a[c]=0),a[c]++,this.addNode(r,c,a[c],f))}}}}else r===null&&(r={});return r}};Oa.ObjTree.prototype.addNode=function(e,t,r,a){this.__force_array[t]?(r==1&&(e[t]=[]),e[t][e[t].length]=a):r==1?e[t]=a:r==2?e[t]=[e[t],a]:e[t][e[t].length]=a};Oa.ObjTree.prototype.writeXML=function(e){var t=this.hash_to_xml(null,e);return this.xmlDecl+t};Oa.ObjTree.prototype.hash_to_xml=function(e,t){var r=[],a=[];for(var n in t)if(!!t.hasOwnProperty(n)){var c=t[n];n.charAt(0)!=this.attr_prefix?typeof c>"u"||c==null?r[r.length]="<"+n+" />":typeof c=="object"&&c.constructor==Array?r[r.length]=this.array_to_xml(n,c):typeof c=="object"?r[r.length]=this.hash_to_xml(n,c):r[r.length]=this.scalar_to_xml(n,c):a[a.length]=" "+n.substring(1)+'="'+this.xml_escape(c)+'"'}var f=a.join(""),y=r.join("");return typeof e>"u"||e==null||(r.length>0?y.match(/\n/)?y="<"+e+f+`>
`+y+"</"+e+`>
`:y="<"+e+f+">"+y+"</"+e+`>
`:y="<"+e+f+` />
`),y};Oa.ObjTree.prototype.array_to_xml=function(e,t){for(var r=[],a=0;a<t.length;a++){var n=t[a];typeof n>"u"||n==null?r[r.length]="<"+e+" />":typeof n=="object"&&n.constructor==Array?r[r.length]=this.array_to_xml(e,n):typeof n=="object"?r[r.length]=this.hash_to_xml(e,n):r[r.length]=this.scalar_to_xml(e,n)}return r.join("")};Oa.ObjTree.prototype.scalar_to_xml=function(e,t){return e=="#text"?this.xml_escape(t):"<"+e+">"+this.xml_escape(t)+"</"+e+`>
`};Oa.ObjTree.prototype.xml_escape=function(e){return e.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var IG=function(e){return new Oa.ObjTree().parseXML(e)},DG=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var c in n)n.hasOwnProperty(c)&&(a[c]=n[c])},e(t,r)};return function(t,r){e(t,r);function a(){this.constructor=t}t.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}(),qb=globalThis&&globalThis.__assign||function(){return qb=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},qb.apply(this,arguments)},Og=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var a=r.call(e),n,c=[],f;try{for(;(t===void 0||t-- >0)&&!(n=a.next()).done;)c.push(n.value)}catch(y){f={error:y}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(f)throw f.error}}return c},_c;(function(e){e.START="bpmn:startEvent",e.END="bpmn:endEvent",e.GATEWAY="bpmn:exclusiveGateway",e.USER="bpmn:userTask",e.SYSTEM="bpmn:serviceTask",e.FLOW="bpmn:sequenceFlow"})(_c||(_c={}));var qT=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"],Xw=["properties","startPoint","endPoint","pointsList"];function Ww(e){var t=e?Xw.concat(e):Xw;return function(r){function a(n){var c={};return typeof n=="string"?n:Array.isArray(n)?n.map(function(f){return a(f)}):(Object.entries(n).forEach(function(f){var y=Og(f,2),v=y[0],b=y[1];typeof b!="object"?v.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(v)?c[v]=b:c["-"+v]=b:t.includes(v)?c["-"+v]=a(b):c[v]=a(b)}),c)}return a(r)}}function Wy(e){var t={};return Object.entries(e).forEach(function(r){var a=Og(r,2),n=a[0],c=a[1];n.indexOf("-")===0?t[n.substring(1)]=Xy(c):typeof c=="string"?t[n]=c:Object.prototype.toString.call(c)==="[object Object]"?t[n]=Wy(c):Array.isArray(c)?t[n]=c.map(function(f){return Wy(f)}):t[n]=c}),t}function kG(e,t,r){var a=new Map;t.nodes.forEach(function(c){var f,y={"-id":c.id};if(!((f=c.text)===null||f===void 0)&&f.value&&(y["-name"]=c.text.value),c.properties){var v=Ww(r)(c.properties);Object.assign(y,v)}a.set(c.id,y),e[c.type]?Array.isArray(e[c.type])?e[c.type].push(y):e[c.type]=[e[c.type],y]:e[c.type]=y});var n=t.edges.map(function(c){var f,y,v=a.get(c.targetNodeId);v["bpmn:incoming"]?Array.isArray(v["bpmn:incoming"])?v["bpmn:incoming"].push(c.id):v["bpmn:incoming"]=[v["bpmn:incoming"],c.id]:v["bpmn:incoming"]=c.id;var b={"-id":c.id,"-sourceRef":c.sourceNodeId,"-targetRef":c.targetNodeId};if(!((f=c.text)===null||f===void 0)&&f.value&&(b["-name"]=(y=c.text)===null||y===void 0?void 0:y.value),c.properties){var O=Ww(r)(c.properties);Object.assign(b,O)}return b});t.edges.forEach(function(c){var f=a.get(c.sourceNodeId);f["bpmn:outgoing"]?Array.isArray(f["bpmn:outgoing"])?f["bpmn:outgoing"].push(c.id):f["bpmn:outgoing"]=[f["bpmn:outgoing"],c.id]:f["bpmn:outgoing"]=c.id}),e[_c.FLOW]=n}function LG(e,t){e["bpmndi:BPMNEdge"]=t.edges.map(function(r){var a,n=r.id,c=r.pointsList.map(function(y){var v=y.x,b=y.y;return{"-x":v,"-y":b}}),f={"-id":n+"_di","-bpmnElement":n,"di:waypoint":c};return!((a=r.text)===null||a===void 0)&&a.value&&(f["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":r.text.x-r.text.value.length*10/2,"-y":r.text.y-7,"-width":r.text.value.length*10,"-height":14}}),f}),e["bpmndi:BPMNShape"]=t.nodes.map(function(r){var a,n=r.id,c=100,f=80,y=r.x,v=r.y,b=Bl.shapeConfigMap.get(r.type);b&&(c=b.width,f=b.height),y-=c/2,v-=f/2;var O={"-id":n+"_di","-bpmnElement":n,"dc:Bounds":{"-x":y,"-y":v,"-width":c,"-height":f}};return!((a=r.text)===null||a===void 0)&&a.value&&(O["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":r.text.x-r.text.value.length*10/2,"-y":r.text.y-7,"-width":r.text.value.length*10,"-height":14}}),O})}function FG(e){var t=[],r=[],a=e["bpmn:definitions"];if(a){var n=a["bpmn:process"];Object.keys(n).forEach(function(c){if(c.indexOf("bpmn:")===0){var f=n[c];if(c===_c.FLOW){var y=a["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];r=GG(f,y)}else{var v=a["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];t=t.concat(BG(f,v,c))}}})}return{nodes:t,edges:r}}function BG(e,t,r){var a=[];if(Array.isArray(e))e.forEach(function(f){var y;Array.isArray(t)?y=t.find(function(b){return b["-bpmnElement"]===f["-id"]}):y=t;var v=Vw(y,r,f);a.push(v)});else{var n=void 0;Array.isArray(t)?n=t.find(function(f){return f["-bpmnElement"]===e["-id"]}):n=t;var c=Vw(n,r,e);a.push(c)}return a}function Vw(e,t,r){var a=Number(e["dc:Bounds"]["-x"]),n=Number(e["dc:Bounds"]["-y"]),c=r["-name"],f=Bl.shapeConfigMap.get(t);f&&(a+=f.width/2,n+=f.height/2);var y;Object.entries(r).forEach(function(S){var P=Og(S,2),j=P[0],I=P[1];qT.indexOf(j)===-1&&(y||(y={}),y[j]=I)}),y&&(y=Wy(y));var v;if(c&&(v={x:a,y:n,value:c},e["bpmndi:BPMNLabel"]&&e["bpmndi:BPMNLabel"]["dc:Bounds"])){var b=e["bpmndi:BPMNLabel"]["dc:Bounds"];v.x=Number(b["-x"])+Number(b["-width"])/2,v.y=Number(b["-y"])+Number(b["-height"])/2}var O={id:e["-bpmnElement"],type:t,x:a,y:n,properties:y};return v&&(O.text=v),O}function GG(e,t){var r=[];if(Array.isArray(e))e.forEach(function(n){var c;Array.isArray(t)?c=t.find(function(f){return f["-bpmnElement"]===n["-id"]}):c=t,r.push(Yw(c,n))});else{var a=void 0;Array.isArray(t)?a=t.find(function(n){return n["-bpmnElement"]===e["-id"]}):a=t,r.push(Yw(a,e))}return r}function Yw(e,t){var r,a=t["-name"];if(a){var n=e["bpmndi:BPMNLabel"]["dc:Bounds"],c=0;a.split(`
`).forEach(function(v){c<v.length&&(c=v.length)}),r={value:a,x:Number(n["-x"])+c*10/2,y:Number(n["-y"])+7}}var f;Object.entries(t).forEach(function(v){var b=Og(v,2),O=b[0],S=b[1];qT.indexOf(O)===-1&&(f||(f={}),f[O]=S)}),f&&(f=Wy(f));var y={id:t["-id"],type:_c.FLOW,pointsList:e["di:waypoint"].map(function(v){return{x:Number(v["-x"]),y:Number(v["-y"])}}),sourceNodeId:t["-sourceRef"],targetNodeId:t["-targetRef"],properties:f};return r&&(y.text=r),y}var Bl=function(){function e(t){var r=this,a=t.lf;this.adapterOut=function(n,c){var f=qb({},r.processAttributes);kG(f,n,c);var y={"-id":"BPMNPlane_1","-bpmnElement":f["-id"]};LG(y,n);var v=r.definitionAttributes;v["bpmn:process"]=f,v["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":y};var b={"bpmn:definitions":v};return b},this.adapterIn=function(n){if(n)return FG(n)},a.adapterIn=function(n){return r.adapterIn(n)},a.adapterOut=function(n,c){return r.adapterOut(n,c)},this.processAttributes={"-isExecutable":"true","-id":"Process_"+Hw()},this.definitionAttributes={"-id":"Definitions_"+Hw(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.0"}}return e.prototype.setCustomShape=function(t,r){e.shapeConfigMap.set(t,r)},e.pluginName="bpmn-adapter",e.shapeConfigMap=new Map,e}();Bl.shapeConfigMap.set(_c.START,{width:Bw.width,height:Bw.height});Bl.shapeConfigMap.set(_c.END,{width:Gw.width,height:Gw.height});Bl.shapeConfigMap.set(_c.GATEWAY,{width:Uw.width,height:Uw.height});Bl.shapeConfigMap.set(_c.SYSTEM,{width:zw.width,height:zw.height});Bl.shapeConfigMap.set(_c.USER,{width:$w.width,height:$w.height});(function(e){DG(t,e);function t(r){var a=e.call(this,r)||this;a.adapterXmlIn=function(c){var f=IG(c);return a.adapterIn(f)},a.adapterXmlOut=function(c,f){var y=a.adapterOut(c,f);return CG(y)};var n=r.lf;return n.adapterIn=a.adapterXmlIn,n.adapterOut=a.adapterXmlOut,a}return t.pluginName="bpmnXmlAdapter",t})(Bl);var UG=function(){function e(){globalThis._ids=this,this._ids=new Set}return e.prototype.generateId=function(){var t="xxxxxxx".replace(/[x]/g,function(r){var a=Math.random()*16|0,n=r==="x"?a:a&3|8;return n.toString(16)});return t},e.prototype.next=function(){for(var t=this.generateId();this._ids.has(t);)t=this.generateId();return this._ids.add(t),t},e}(),zG=(globalThis==null?void 0:globalThis._ids)||new UG;function $G(){return zG.next()}globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var c in n)n.hasOwnProperty(c)&&(a[c]=n[c])},e(t,r)};return function(t,r){e(t,r);function a(){this.constructor=t}t.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}();var Kw=globalThis&&globalThis.__assign||function(){return Kw=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Kw.apply(this,arguments)},HG=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var a=r.call(e),n,c=[],f;try{for(;(t===void 0||t-- >0)&&!(n=a.next()).done;)c.push(n.value)}catch(y){f={error:y}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(f)throw f.error}}return c};globalThis&&globalThis.__spread;globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var c in n)n.hasOwnProperty(c)&&(a[c]=n[c])},e(t,r)};return function(t,r){e(t,r);function a(){this.constructor=t}t.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}();var qw=globalThis&&globalThis.__assign||function(){return qw=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},qw.apply(this,arguments)},XG=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var a=r.call(e),n,c=[],f;try{for(;(t===void 0||t-- >0)&&!(n=a.next()).done;)c.push(n.value)}catch(y){f={error:y}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(f)throw f.error}}return c};globalThis&&globalThis.__spread;globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var c in n)n.hasOwnProperty(c)&&(a[c]=n[c])},e(t,r)};return function(t,r){e(t,r);function a(){this.constructor=t}t.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}();var Zw=globalThis&&globalThis.__assign||function(){return Zw=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Zw.apply(this,arguments)},WG=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var a=r.call(e),n,c=[],f;try{for(;(t===void 0||t-- >0)&&!(n=a.next()).done;)c.push(n.value)}catch(y){f={error:y}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(f)throw f.error}}return c};globalThis&&globalThis.__spread;globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var c in n)n.hasOwnProperty(c)&&(a[c]=n[c])},e(t,r)};return function(t,r){e(t,r);function a(){this.constructor=t}t.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}();var Jw=globalThis&&globalThis.__assign||function(){return Jw=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Jw.apply(this,arguments)},VG=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var a=r.call(e),n,c=[],f;try{for(;(t===void 0||t-- >0)&&!(n=a.next()).done;)c.push(n.value)}catch(y){f={error:y}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(f)throw f.error}}return c};globalThis&&globalThis.__spread;globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var c in n)n.hasOwnProperty(c)&&(a[c]=n[c])},e(t,r)};return function(t,r){e(t,r);function a(){this.constructor=t}t.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}();var Qw=globalThis&&globalThis.__assign||function(){return Qw=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Qw.apply(this,arguments)},YG=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var a=r.call(e),n,c=[],f;try{for(;(t===void 0||t-- >0)&&!(n=a.next()).done;)c.push(n.value)}catch(y){f={error:y}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(f)throw f.error}}return c};globalThis&&globalThis.__spread;Yt.exports.h("circle",{cx:18,cy:18,r:11,style:"stroke-linecap: round;stroke-linejoin: round;stroke: rgb(34, 36, 42);stroke-width: 2px;fill: white"}),Yt.exports.h("path",{d:"M 18,18 l 2.25,-7.5 m -2.25,7.5 l 5.25,1.5",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2px;"}),Yt.exports.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(0,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Yt.exports.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(30,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Yt.exports.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(60,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Yt.exports.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(90,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Yt.exports.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(120,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Yt.exports.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(150,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Yt.exports.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(180,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Yt.exports.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(210,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Yt.exports.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(240,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Yt.exports.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(270,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Yt.exports.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(300,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Yt.exports.h("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(330,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"});Yt.exports.h("circle",{cx:18,cy:18,r:10,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 4px; fill: rgb(34, 36, 42);"});Yt.exports.h("circle",{cx:25,cy:25,r:13,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2.5px; fill: white;"});globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var c in n)n.hasOwnProperty(c)&&(a[c]=n[c])},e(t,r)};return function(t,r){e(t,r);function a(){this.constructor=t}t.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}();var ex=globalThis&&globalThis.__assign||function(){return ex=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},ex.apply(this,arguments)};globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var c in n)n.hasOwnProperty(c)&&(a[c]=n[c])},e(t,r)};return function(t,r){e(t,r);function a(){this.constructor=t}t.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}();var tx=globalThis&&globalThis.__assign||function(){return tx=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},tx.apply(this,arguments)},KG=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var a=r.call(e),n,c=[],f;try{for(;(t===void 0||t-- >0)&&!(n=a.next()).done;)c.push(n.value)}catch(y){f={error:y}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(f)throw f.error}}return c};globalThis&&globalThis.__spread;var Z_,Ko,ZT,Dd,rx,JT,Zb,QT,J_,Jb,Qb,e_={},eP=[],qG=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Q_=Array.isArray;function Cl(e,t){for(var r in t)e[r]=t[r];return e}function e1(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function iv(e,t,r){var a,n,c,f={};for(c in t)c=="key"?a=t[c]:c=="ref"?n=t[c]:f[c]=t[c];if(arguments.length>2&&(f.children=arguments.length>3?Z_.call(arguments,2):r),typeof e=="function"&&e.defaultProps!=null)for(c in e.defaultProps)f[c]===void 0&&(f[c]=e.defaultProps[c]);return Iy(e,f,a,n,null)}function Iy(e,t,r,a,n){var c={type:e,props:t,key:r,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:n==null?++ZT:n,__i:-1,__u:0};return n==null&&Ko.vnode!=null&&Ko.vnode(c),c}function t1(e){return e.children}function rh(e,t){this.props=e,this.context=t}function fh(e,t){if(t==null)return e.__?fh(e.__,e.__i+1):null;for(var r;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?fh(e):null}function tP(e){var t,r;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null){e.__e=e.__c.base=r.__e;break}return tP(e)}}function nx(e){(!e.__d&&(e.__d=!0)&&Dd.push(e)&&!Vy.__r++||rx!==Ko.debounceRendering)&&((rx=Ko.debounceRendering)||JT)(Vy)}function Vy(){var e,t,r,a,n,c,f,y;for(Dd.sort(Zb);e=Dd.shift();)e.__d&&(t=Dd.length,a=void 0,c=(n=(r=e).__v).__e,f=[],y=[],r.__P&&((a=Cl({},n)).__v=n.__v+1,Ko.vnode&&Ko.vnode(a),oP(r.__P,a,n,r.__n,r.__P.namespaceURI,32&n.__u?[c]:null,f,c==null?fh(n):c,!!(32&n.__u),y),a.__v=n.__v,a.__.__k[a.__i]=a,QG(f,a,y),a.__e!=c&&tP(a)),Dd.length>t&&Dd.sort(Zb));Vy.__r=0}function rP(e,t,r,a,n,c,f,y,v,b,O){var S,P,j,I,C,k,G=a&&a.__k||eP,H=t.length;for(v=ZG(r,t,G,v,H),S=0;S<H;S++)(j=r.__k[S])!=null&&(P=j.__i===-1?e_:G[j.__i]||e_,j.__i=S,k=oP(e,j,P,n,c,f,y,v,b,O),I=j.__e,j.ref&&P.ref!=j.ref&&(P.ref&&r1(P.ref,null,j),O.push(j.ref,j.__c||I,j)),C==null&&I!=null&&(C=I),4&j.__u||P.__k===j.__k?v=nP(j,v,e):typeof j.type=="function"&&k!==void 0?v=k:I&&(v=I.nextSibling),j.__u&=-7);return r.__e=C,v}function ZG(e,t,r,a,n){var c,f,y,v,b,O=r.length,S=O,P=0;for(e.__k=new Array(n),c=0;c<n;c++)(f=t[c])!=null&&typeof f!="boolean"&&typeof f!="function"?(v=c+P,(f=e.__k[c]=typeof f=="string"||typeof f=="number"||typeof f=="bigint"||f.constructor==String?Iy(null,f,null,null,null):Q_(f)?Iy(t1,{children:f},null,null,null):f.constructor===void 0&&f.__b>0?Iy(f.type,f.props,f.key,f.ref?f.ref:null,f.__v):f).__=e,f.__b=e.__b+1,y=null,(b=f.__i=JG(f,r,v,S))!==-1&&(S--,(y=r[b])&&(y.__u|=2)),y==null||y.__v===null?(b==-1&&P--,typeof f.type!="function"&&(f.__u|=4)):b!=v&&(b==v-1?P--:b==v+1?P++:(b>v?P--:P++,f.__u|=4))):e.__k[c]=null;if(S)for(c=0;c<O;c++)(y=r[c])!=null&&(2&y.__u)==0&&(y.__e==a&&(a=fh(y)),iP(y,y));return a}function nP(e,t,r){var a,n;if(typeof e.type=="function"){for(a=e.__k,n=0;a&&n<a.length;n++)a[n]&&(a[n].__=e,t=nP(a[n],t,r));return t}e.__e!=t&&(t&&e.type&&!r.contains(t)&&(t=fh(e)),r.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function JG(e,t,r,a){var n,c,f=e.key,y=e.type,v=t[r];if(v===null||v&&f==v.key&&y===v.type&&(2&v.__u)==0)return r;if(a>(v!=null&&(2&v.__u)==0?1:0))for(n=r-1,c=r+1;n>=0||c<t.length;){if(n>=0){if((v=t[n])&&(2&v.__u)==0&&f==v.key&&y===v.type)return n;n--}if(c<t.length){if((v=t[c])&&(2&v.__u)==0&&f==v.key&&y===v.type)return c;c++}}return-1}function ox(e,t,r){t[0]=="-"?e.setProperty(t,r==null?"":r):e[t]=r==null?"":typeof r!="number"||qG.test(t)?r:r+"px"}function Ty(e,t,r,a,n){var c;e:if(t=="style")if(typeof r=="string")e.style.cssText=r;else{if(typeof a=="string"&&(e.style.cssText=a=""),a)for(t in a)r&&t in r||ox(e.style,t,"");if(r)for(t in r)a&&r[t]===a[t]||ox(e.style,t,r[t])}else if(t[0]=="o"&&t[1]=="n")c=t!=(t=t.replace(QT,"$1")),t=t.toLowerCase()in e||t=="onFocusOut"||t=="onFocusIn"?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+c]=r,r?a?r.u=a.u:(r.u=J_,e.addEventListener(t,c?Qb:Jb,c)):e.removeEventListener(t,c?Qb:Jb,c);else{if(n=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=r==null?"":r;break e}catch{}typeof r=="function"||(r==null||r===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&r==1?"":r))}}function ix(e){return function(t){if(this.l){var r=this.l[t.type+e];if(t.t==null)t.t=J_++;else if(t.t<r.u)return;return r(Ko.event?Ko.event(t):t)}}}function oP(e,t,r,a,n,c,f,y,v,b){var O,S,P,j,I,C,k,G,H,ue,_e,be,ce,fe,ee,$,J,re=t.type;if(t.constructor!==void 0)return null;128&r.__u&&(v=!!(32&r.__u),c=[y=t.__e=r.__e]),(O=Ko.__b)&&O(t);e:if(typeof re=="function")try{if(G=t.props,H="prototype"in re&&re.prototype.render,ue=(O=re.contextType)&&a[O.__c],_e=O?ue?ue.props.value:O.__:a,r.__c?k=(S=t.__c=r.__c).__=S.__E:(H?t.__c=S=new re(G,_e):(t.__c=S=new rh(G,_e),S.constructor=re,S.render=tU),ue&&ue.sub(S),S.props=G,S.state||(S.state={}),S.context=_e,S.__n=a,P=S.__d=!0,S.__h=[],S._sb=[]),H&&S.__s==null&&(S.__s=S.state),H&&re.getDerivedStateFromProps!=null&&(S.__s==S.state&&(S.__s=Cl({},S.__s)),Cl(S.__s,re.getDerivedStateFromProps(G,S.__s))),j=S.props,I=S.state,S.__v=t,P)H&&re.getDerivedStateFromProps==null&&S.componentWillMount!=null&&S.componentWillMount(),H&&S.componentDidMount!=null&&S.__h.push(S.componentDidMount);else{if(H&&re.getDerivedStateFromProps==null&&G!==j&&S.componentWillReceiveProps!=null&&S.componentWillReceiveProps(G,_e),!S.__e&&(S.shouldComponentUpdate!=null&&S.shouldComponentUpdate(G,S.__s,_e)===!1||t.__v==r.__v)){for(t.__v!=r.__v&&(S.props=G,S.state=S.__s,S.__d=!1),t.__e=r.__e,t.__k=r.__k,t.__k.some(function(z){z&&(z.__=t)}),be=0;be<S._sb.length;be++)S.__h.push(S._sb[be]);S._sb=[],S.__h.length&&f.push(S);break e}S.componentWillUpdate!=null&&S.componentWillUpdate(G,S.__s,_e),H&&S.componentDidUpdate!=null&&S.__h.push(function(){S.componentDidUpdate(j,I,C)})}if(S.context=_e,S.props=G,S.__P=e,S.__e=!1,ce=Ko.__r,fe=0,H){for(S.state=S.__s,S.__d=!1,ce&&ce(t),O=S.render(S.props,S.state,S.context),ee=0;ee<S._sb.length;ee++)S.__h.push(S._sb[ee]);S._sb=[]}else do S.__d=!1,ce&&ce(t),O=S.render(S.props,S.state,S.context),S.state=S.__s;while(S.__d&&++fe<25);S.state=S.__s,S.getChildContext!=null&&(a=Cl(Cl({},a),S.getChildContext())),H&&!P&&S.getSnapshotBeforeUpdate!=null&&(C=S.getSnapshotBeforeUpdate(j,I)),y=rP(e,Q_($=O!=null&&O.type===t1&&O.key==null?O.props.children:O)?$:[$],t,r,a,n,c,f,y,v,b),S.base=t.__e,t.__u&=-161,S.__h.length&&f.push(S),k&&(S.__E=S.__=null)}catch(z){if(t.__v=null,v||c!=null)if(z.then){for(t.__u|=v?160:128;y&&y.nodeType==8&&y.nextSibling;)y=y.nextSibling;c[c.indexOf(y)]=null,t.__e=y}else for(J=c.length;J--;)e1(c[J]);else t.__e=r.__e,t.__k=r.__k;Ko.__e(z,t,r)}else c==null&&t.__v==r.__v?(t.__k=r.__k,t.__e=r.__e):y=t.__e=eU(r.__e,t,r,a,n,c,f,v,b);return(O=Ko.diffed)&&O(t),128&t.__u?void 0:y}function QG(e,t,r){for(var a=0;a<r.length;a++)r1(r[a],r[++a],r[++a]);Ko.__c&&Ko.__c(t,e),e.some(function(n){try{e=n.__h,n.__h=[],e.some(function(c){c.call(n)})}catch(c){Ko.__e(c,n.__v)}})}function eU(e,t,r,a,n,c,f,y,v){var b,O,S,P,j,I,C,k=r.props,G=t.props,H=t.type;if(H=="svg"?n="http://www.w3.org/2000/svg":H=="math"?n="http://www.w3.org/1998/Math/MathML":n||(n="http://www.w3.org/1999/xhtml"),c!=null){for(b=0;b<c.length;b++)if((j=c[b])&&"setAttribute"in j==!!H&&(H?j.localName==H:j.nodeType==3)){e=j,c[b]=null;break}}if(e==null){if(H==null)return document.createTextNode(G);e=document.createElementNS(n,H,G.is&&G),y&&(Ko.__m&&Ko.__m(t,c),y=!1),c=null}if(H===null)k===G||y&&e.data===G||(e.data=G);else{if(c=c&&Z_.call(e.childNodes),k=r.props||e_,!y&&c!=null)for(k={},b=0;b<e.attributes.length;b++)k[(j=e.attributes[b]).name]=j.value;for(b in k)if(j=k[b],b!="children"){if(b=="dangerouslySetInnerHTML")S=j;else if(!(b in G)){if(b=="value"&&"defaultValue"in G||b=="checked"&&"defaultChecked"in G)continue;Ty(e,b,null,j,n)}}for(b in G)j=G[b],b=="children"?P=j:b=="dangerouslySetInnerHTML"?O=j:b=="value"?I=j:b=="checked"?C=j:y&&typeof j!="function"||k[b]===j||Ty(e,b,j,k[b],n);if(O)y||S&&(O.__html===S.__html||O.__html===e.innerHTML)||(e.innerHTML=O.__html),t.__k=[];else if(S&&(e.innerHTML=""),rP(e,Q_(P)?P:[P],t,r,a,H=="foreignObject"?"http://www.w3.org/1999/xhtml":n,c,f,c?c[0]:r.__k&&fh(r,0),y,v),c!=null)for(b=c.length;b--;)e1(c[b]);y||(b="value",H=="progress"&&I==null?e.removeAttribute("value"):I!==void 0&&(I!==e[b]||H=="progress"&&!I||H=="option"&&I!==k[b])&&Ty(e,b,I,k[b],n),b="checked",C!==void 0&&C!==e[b]&&Ty(e,b,C,k[b],n))}return e}function r1(e,t,r){try{if(typeof e=="function"){var a=typeof e.__u=="function";a&&e.__u(),a&&t==null||(e.__u=e(t))}else e.current=t}catch(n){Ko.__e(n,r)}}function iP(e,t,r){var a,n;if(Ko.unmount&&Ko.unmount(e),(a=e.ref)&&(a.current&&a.current!==e.__e||r1(a,null,t)),(a=e.__c)!=null){if(a.componentWillUnmount)try{a.componentWillUnmount()}catch(c){Ko.__e(c,t)}a.base=a.__P=null}if(a=e.__k)for(n=0;n<a.length;n++)a[n]&&iP(a[n],t,r||typeof e.type!="function");r||e1(e.__e),e.__c=e.__=e.__e=void 0}function tU(e,t,r){return this.constructor(e,r)}Z_=eP.slice,Ko={__e:function(e,t,r,a){for(var n,c,f;t=t.__;)if((n=t.__c)&&!n.__)try{if((c=n.constructor)&&c.getDerivedStateFromError!=null&&(n.setState(c.getDerivedStateFromError(e)),f=n.__d),n.componentDidCatch!=null&&(n.componentDidCatch(e,a||{}),f=n.__d),f)return n.__E=n}catch(y){e=y}throw e}},ZT=0,rh.prototype.setState=function(e,t){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Cl({},this.state),typeof e=="function"&&(e=e(Cl({},r),this.props)),e&&Cl(r,e),e!=null&&this.__v&&(t&&this._sb.push(t),nx(this))},rh.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),nx(this))},rh.prototype.render=t1,Dd=[],JT=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Zb=function(e,t){return e.__v.__b-t.__v.__b},Vy.__r=0,QT=/(PointerCapture)$|Capture$/i,J_=0,Jb=ix(!1),Qb=ix(!0);var av=globalThis&&globalThis.__assign||function(){return av=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},av.apply(this,arguments)};function n1(e){var t=e.x,r=e.y,a=e.width,n=e.height,c=e.radius,f=e.className,y=t-a/2,v=r-n/2,b=av(av({width:10,height:10,cx:0,cy:0,rx:c||0,ry:c||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+f},e),{x:y,y:v});return Yt.exports.h("rect",av({},b))}n1.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var Qp;(function(e){e.NODE="node",e.CIRCLE_NODE="circle-node",e.POLYGON_NODE="polygon-node",e.RECT_NODE="rect-node",e.HTML_NODE="html-node",e.TEXT_NODE="text-node",e.ELLIPSE_NODE="ellipse-node",e.DIAMOND_NODE="diamond-node",e.EDGE="edge",e.LINE_EDGE="line-edge",e.POLYLINE_EDGE="polyline-edge",e.BEZIER_EDGE="bezier-edge",e.GRAPH="graph"})(Qp||(Qp={}));var rU=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var c in n)n.hasOwnProperty(c)&&(a[c]=n[c])},e(t,r)};return function(t,r){e(t,r);function a(){this.constructor=t}t.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}(),kd=globalThis&&globalThis.__assign||function(){return kd=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},kd.apply(this,arguments)},nU=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var a=r.call(e),n,c=[],f;try{for(;(t===void 0||t-- >0)&&!(n=a.next()).done;)c.push(n.value)}catch(y){f={error:y}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(f)throw f.error}}return c},oU=Yt.exports.LogicFlowUtil.StepDrag,iU=function(e){rU(t,e);function t(r){var a=e.call(this)||this;return a.updatePosition=function(n){var c=n.deltaX,f=n.deltaY,y=a.nodeModel,v=y.x,b=y.y;a.nodeModel.x=v+c/2,a.nodeModel.y=b+f/2,a.nodeModel.moveText(c/2,f/2)},a.getResize=function(n){var c=n.index,f=n.deltaX,y=n.deltaY,v=n.width,b=n.height,O=n.PCTResizeInfo,S=n.pct,P=S===void 0?1:S,j=n.freezeWidth,I=j===void 0?!1:j,C=n.freezeHeight,k=C===void 0?!1:C,G={width:v,height:b,deltaX:f,deltaY:y};if(O){var H=4,ue=0,_e=0;switch(c){case 0:_e=(f*-1-y)/H;break;case 1:_e=(f-y)/H;break;case 2:_e=(f+y)/H;break;case 3:_e=(f*-1+y)/H;break}_e!==0&&(ue=Math.round(_e/O.ResizeBasis.basisHeight*1e5)/1e3),O.ResizePCT.widthPCT=Math.max(Math.min(O.ResizePCT.widthPCT+ue,O.ScaleLimit.maxScaleLimit),O.ScaleLimit.minScaleLimit),O.ResizePCT.hightPCT=Math.max(Math.min(O.ResizePCT.hightPCT+ue,O.ScaleLimit.maxScaleLimit),O.ScaleLimit.minScaleLimit);var be=Math.round(O.ResizePCT.widthPCT*O.ResizeBasis.basisWidth/100),ce=Math.round(O.ResizePCT.hightPCT*O.ResizeBasis.basisHeight/100);switch(c){case 0:f=v-be,y=b-ce;break;case 1:f=be-v,y=b-ce;break;case 2:f=be-v,y=ce-b;break;case 3:f=v-be,y=ce-b;break}return G.width=be,G.height=ce,G.deltaX=f/P,G.deltaY=y/P,G}switch(c){case 0:G.width=I?v:v-f*P,G.height=k?b:b-y*P;break;case 1:G.width=I?v:v+f*P,G.height=k?b:b-y*P;break;case 2:G.width=I?v:v+f*P,G.height=k?b:b+y*P;break;case 3:G.width=I?v:v-f*P,G.height=k?b:b+y*P;break}return G},a.updateEdgePointByAnchors=function(){var n=a.nodeModel,c=n.id,f=n.anchors,y=a.getNodeEdges(c);y.sourceEdges.forEach(function(v){var b=f.find(function(O){return O.id===v.sourceAnchorId});v.updateStartPoint({x:b.x,y:b.y})}),y.targetEdges.forEach(function(v){var b=f.find(function(O){return O.id===v.targetAnchorId});v.updateEndPoint({x:b.x,y:b.y})})},a.updateRect=function(n){var c=n.deltaX,f=n.deltaY,y=a.nodeModel,v=y.id,b=y.x,O=y.y,S=y.width,P=y.height,j=y.radius,I=y.PCTResizeInfo,C=a.nodeModel,k=C.minWidth,G=C.minHeight,H=C.maxWidth,ue=C.maxHeight,_e=a.index,be=k===H,ce=G===ue,fe=a.getResize({index:_e,deltaX:c,deltaY:f,width:S,height:P,PCTResizeInfo:I,pct:1,freezeWidth:be,freezeHeight:ce});if(fe.width<k||fe.width>H||fe.height<G||fe.height>ue){a.dragHandler.cancelDrag();return}a.updatePosition({deltaX:be?0:fe.deltaX,deltaY:ce?0:fe.deltaY}),a.nodeModel.width=fe.width,a.nodeModel.height=fe.height,a.nodeModel.setProperties({nodeSize:{width:fe.width,height:fe.height}}),a.getNodeEdges(v);var ee={x:b,y:O,width:S,height:P,radius:j},$={x:a.nodeModel.x,y:a.nodeModel.y,width:a.nodeModel.width,height:a.nodeModel.height,radius:j};a.updateEdgePointByAnchors(),a.eventEmit({beforeNode:ee,afterNode:$})},a.updateEllipse=function(n){var c=n.deltaX,f=n.deltaY,y=a.nodeModel,v=y.id,b=y.rx,O=y.ry,S=y.x,P=y.y,j=y.PCTResizeInfo,I=a.index,C=a.nodeModel,k=C.minWidth,G=C.minHeight,H=C.maxWidth,ue=C.maxHeight,_e=k===H,be=G===ue,ce=b,fe=O,ee=a.getResize({index:I,deltaX:c,deltaY:f,width:ce,height:fe,PCTResizeInfo:j,pct:1/2,freezeWidth:_e,freezeHeight:be});if(ee.width<k/2||ee.width>H/2||ee.height<G/2||ee.height>ue/2){a.dragHandler.cancelDrag();return}a.updatePosition({deltaX:_e?0:ee.deltaX,deltaY:be?0:ee.deltaY}),a.nodeModel.rx=ee.width,a.nodeModel.ry=ee.height,a.nodeModel.setProperties({nodeSize:{rx:ee.width,ry:ee.height}}),a.getNodeEdges(v);var $={x:S,y:P},J={rx:ee.width,ry:ee.height,x:a.nodeModel.x,y:a.nodeModel.y};a.updateEdgePointByAnchors(),a.eventEmit({beforeNode:kd(kd({},$),{rx:b,ry:O}),afterNode:J})},a.updateDiamond=function(n){var c=n.deltaX,f=n.deltaY,y=a.nodeModel;y.id;var v=y.rx,b=y.ry,O=y.x,S=y.y,P=y.PCTResizeInfo,j=a.index,I=a.nodeModel,C=I.minWidth,k=I.minHeight,G=I.maxWidth,H=I.maxHeight,ue=C===G,_e=k===H,be=v,ce=b,fe=a.getResize({index:j,deltaX:c,deltaY:f,width:be,height:ce,PCTResizeInfo:P,pct:1/2,freezeWidth:ue,freezeHeight:_e});if(fe.width<C/2||fe.width>G/2||fe.height<k/2||fe.height>H/2){a.dragHandler.cancelDrag();return}a.updatePosition({deltaX:ue?0:fe.deltaX,deltaY:_e?0:fe.deltaY}),a.nodeModel.rx=fe.width,a.nodeModel.ry=fe.height,a.nodeModel.setProperties({nodeSize:{rx:fe.width,ry:fe.height}});var ee={x:O,y:S,rx:v,ry:b},$={rx:fe.width,ry:fe.height,x:a.nodeModel.x,y:a.nodeModel.y};a.updateEdgePointByAnchors(),a.eventEmit({beforeNode:ee,afterNode:$})},a.eventEmit=function(n){var c=n.beforeNode,f=n.afterNode,y=a.nodeModel,v=y.id,b=y.modelType,O=y.type,S=kd({id:v,modelType:b,type:O},c),P=kd({id:v,modelType:b,type:O},f);a.graphModel.eventCenter.emit("node:resize",{oldNodeSize:S,newNodeSize:P})},a.onDragging=function(n){var c,f=n.deltaX,y=n.deltaY,v=a.graphModel.transformModel,b=a.nodeModel.modelType;c=nU(v.fixDeltaXY(f,y),2),f=c[0],y=c[1],b===Qp.RECT_NODE||b===Qp.HTML_NODE?a.updateRect({deltaX:f,deltaY:y}):b===Qp.ELLIPSE_NODE?a.updateEllipse({deltaX:f,deltaY:y}):b===Qp.DIAMOND_NODE&&a.updateDiamond({deltaX:f,deltaY:y})},a.onDragEnd=function(){var n=a.graphModel.gridSize,c=n===void 0?1:n,f=c*Math.round(a.nodeModel.x/c),y=c*Math.round(a.nodeModel.y/c);a.nodeModel.moveTo(f,y),a.updateEdgePointByAnchors()},a.index=r.index,a.nodeModel=r.model,a.graphModel=r.graphModel,a.state={},a.dragHandler=new oU({onDragging:a.onDragging,onDragEnd:a.onDragEnd,step:1}),a}return t.prototype.getNodeEdges=function(r){for(var a=this.graphModel,n=a.edges,c=[],f=[],y=0;y<n.length;y++){var v=n[y];v.sourceNodeId===r?c.push(v):n[y].targetNodeId===r&&f.push(v)}return{sourceEdges:c,targetEdges:f}},t.prototype.render=function(){var r=this.props,a=r.x,n=r.y,c=r.index,f=r.model,y=f.getControlPointStyle();return iv("g",{className:"lf-resize-control-"+c},iv(n1,kd({className:"lf-node-control"},{x:a,y:n},y,{onMouseDown:this.dragHandler.handleMouseDown})))},t}(rh),aU=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var c in n)n.hasOwnProperty(c)&&(a[c]=n[c])},e(t,r)};return function(t,r){e(t,r);function a(){this.constructor=t}t.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}(),Yy=globalThis&&globalThis.__assign||function(){return Yy=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Yy.apply(this,arguments)},wg=function(e){aU(t,e);function t(){var r=e.call(this)||this;return r.state={},r}return t.prototype.getResizeControl=function(){var r=this.props,a=r.model,n=r.graphModel,c=a.x,f=a.y,y=a.width,v=a.height,b={minX:c-y/2,minY:f-v/2,maxX:c+y/2,maxY:f+v/2},O=b.minX,S=b.minY,P=b.maxX,j=b.maxY,I=[{x:O,y:S},{x:P,y:S},{x:P,y:j},{x:O,y:j}];return I.map(function(C,k){return iv(iU,Yy({index:k},C,{model:a,graphModel:n}))})},t.prototype.getGroupSolid=function(){var r=this.props.model,a=r.x,n=r.y,c=r.width,f=r.height,y=r.getResizeOutlineStyle();return iv(n1,Yy({fill:"none"},y,{x:a,y:n,width:c,height:f}))},t.prototype.render=function(){return iv("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},t}(rh),aP=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var c in n)n.hasOwnProperty(c)&&(a[c]=n[c])},e(t,r)};return function(t,r){e(t,r);function a(){this.constructor=t}t.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}(),uU=function(e){aP(t,e);function t(r,a){var n=e.call(this,r,a)||this,c=n.properties.nodeSize;return c&&(n.width=c.width,n.height=c.height),n}return t.prototype.initNodeData=function(r){e.prototype.initNodeData.call(this,r),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},t.prototype.getOutlineStyle=function(){var r=e.prototype.getOutlineStyle.call(this),a=this.graphModel.editConfigModel.isSilentMode;return a||(r.stroke="none",r.hover&&(r.hover.stroke="none")),r},t.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},t.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},t.prototype.resize=function(r,a){console.log(r,a)},t.prototype.enableProportionResize=function(r){if(r===void 0&&(r=!0),r){var a={widthPCT:100,hightPCT:100},n={basisWidth:this.width,basisHeight:this.height},c={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:a,ResizeBasis:n,ScaleLimit:c}}else delete this.PCTResizeInfo},t}(Yt.exports.RectNodeModel),sU=function(e){aP(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getControlGroup=function(){var r=this.props,a=r.model,n=r.graphModel;return Yt.exports.h(wg,{model:a,graphModel:n})},t.prototype.getResizeShape=function(){return e.prototype.getShape.call(this)},t.prototype.getShape=function(){var r=this.props,a=r.model.isSelected,n=r.graphModel.editConfigModel.isSilentMode;return Yt.exports.h("g",null,this.getResizeShape(),a&&!n?this.getControlGroup():"")},t}(Yt.exports.RectNode),uP={type:"rect",view:sU,model:uU},sP=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var c in n)n.hasOwnProperty(c)&&(a[c]=n[c])},e(t,r)};return function(t,r){e(t,r);function a(){this.constructor=t}t.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}();(function(e){sP(t,e);function t(r,a){var n=e.call(this,r,a)||this,c=n.properties.nodeSize;return c&&(n.rx=c.rx,n.ry=c.ry),n}return t.prototype.initNodeData=function(r){e.prototype.initNodeData.call(this,r),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},t.prototype.getOutlineStyle=function(){var r=e.prototype.getOutlineStyle.call(this),a=this.graphModel.editConfigModel.isSilentMode;return a||(r.stroke="none",r.hover&&(r.hover.stroke="none")),r},t.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},t.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},t.prototype.enableProportionResize=function(r){if(r===void 0&&(r=!0),r){var a={widthPCT:100,hightPCT:100},n={basisWidth:this.rx,basisHeight:this.ry},c={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:a,ResizeBasis:n,ScaleLimit:c}}else delete this.PCTResizeInfo},t})(Yt.exports.EllipseNodeModel);(function(e){sP(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getControlGroup=function(){var r=this.props,a=r.model,n=r.graphModel;return Yt.exports.h(wg,{model:a,graphModel:n})},t.prototype.getResizeShape=function(){return e.prototype.getShape.call(this)},t.prototype.getShape=function(){var r=this.props,a=r.model,n=r.graphModel.editConfigModel.isSilentMode;return Yt.exports.h("g",null,this.getResizeShape(),a.isSelected&&!n?this.getControlGroup():"")},t})(Yt.exports.EllipseNode);var t_=globalThis&&globalThis.__assign||function(){return t_=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},t_.apply(this,arguments)};function cU(e){var t=e.fillOpacity,r=t===void 0?1:t,a=e.strokeWidth,n=a===void 0?1:a,c=e.strokeOpacity,f=c===void 0?1:c,y=e.fill,v=y===void 0?"transparent":y,b=e.stroke,O=b===void 0?"#000":b,S=e.points,P=e.className,j=P===void 0?"lf-basic-shape":P,I={fill:v,fillOpacity:r,strokeWidth:n,stroke:O,strokeOpacity:f,points:"",className:j};return I.points=S.map(function(C){return C.join(",")}).join(" "),Yt.exports.h("polygon",t_({},I))}var cP=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var c in n)n.hasOwnProperty(c)&&(a[c]=n[c])},e(t,r)};return function(t,r){e(t,r);function a(){this.constructor=t}t.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}(),r_=globalThis&&globalThis.__assign||function(){return r_=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},r_.apply(this,arguments)};(function(e){cP(t,e);function t(r,a){var n=e.call(this,r,a)||this,c=n.properties.nodeSize;return c&&(n.rx=c.rx,n.ry=c.ry),n}return t.prototype.initNodeData=function(r){e.prototype.initNodeData.call(this,r),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},t.prototype.getOutlineStyle=function(){var r=e.prototype.getOutlineStyle.call(this),a=this.graphModel.editConfigModel.isSilentMode;return a||(r.stroke="none",r.hover&&(r.hover.stroke="none")),r},t.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},t.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},t.prototype.enableProportionResize=function(r){if(r===void 0&&(r=!0),r){var a={widthPCT:100,hightPCT:100},n={basisWidth:this.rx,basisHeight:this.ry},c={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:a,ResizeBasis:n,ScaleLimit:c}}else delete this.PCTResizeInfo},t})(Yt.exports.DiamondNodeModel);(function(e){cP(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getControlGroup=function(){var r=this.props,a=r.model,n=r.graphModel;return Yt.exports.h(wg,{model:a,graphModel:n})},t.prototype.getResizeShape=function(){var r=this.props.model,a=r.points,n=r.getNodeStyle();return Yt.exports.h("g",null,Yt.exports.h(cU,r_({},n,{points:a})))},t.prototype.getShape=function(){var r=this.props,a=r.model.isSelected,n=r.graphModel.editConfigModel.isSilentMode;return Yt.exports.h("g",null,this.getResizeShape(),a&&!n?this.getControlGroup():"")},t})(Yt.exports.DiamondNode);var fP=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var c in n)n.hasOwnProperty(c)&&(a[c]=n[c])},e(t,r)};return function(t,r){e(t,r);function a(){this.constructor=t}t.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}(),fU=function(e){fP(t,e);function t(r,a){var n=e.call(this,r,a)||this,c=n.properties.nodeSize;return c&&(n.width=c.width,n.height=c.height),n}return t.prototype.initNodeData=function(r){e.prototype.initNodeData.call(this,r),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},t.prototype.getOutlineStyle=function(){var r=e.prototype.getOutlineStyle.call(this),a=this.graphModel.editConfigModel.isSilentMode;return a||(r.stroke="none",r.hover&&(r.hover.stroke="none")),r},t.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},t.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},t.prototype.enableProportionResize=function(r){if(r===void 0&&(r=!0),r){var a={widthPCT:100,hightPCT:100},n={basisWidth:this.width,basisHeight:this.height},c={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:a,ResizeBasis:n,ScaleLimit:c}}else delete this.PCTResizeInfo},t}(Yt.exports.HtmlNodeModel),lU=function(e){fP(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getControlGroup=function(){var r=this.props,a=r.model,n=r.graphModel;return Yt.exports.h(wg,{model:a,graphModel:n})},t.prototype.getResizeShape=function(){return e.prototype.getShape.call(this)},t.prototype.getShape=function(){var r=this.props,a=r.model.isSelected,n=r.graphModel.editConfigModel.isSilentMode;return Yt.exports.h("g",null,this.getResizeShape(),a&&!n?this.getControlGroup():"")},t}(Yt.exports.HtmlNode),Yp={type:"html",view:lU,model:fU},lP=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var c in n)n.hasOwnProperty(c)&&(a[c]=n[c])},e(t,r)};return function(t,r){e(t,r);function a(){this.constructor=t}t.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}(),Ky=globalThis&&globalThis.__assign||function(){return Ky=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Ky.apply(this,arguments)},dU=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var a=r.call(e),n,c=[],f;try{for(;(t===void 0||t-- >0)&&!(n=a.next()).done;)c.push(n.value)}catch(y){f={error:y}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(f)throw f.error}}return c},pU=globalThis&&globalThis.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(dU(arguments[t]));return e},ax=500,ux=300,hU=-1e4;(function(e){lP(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.isGroup=!0,r.unfoldedWidth=ax,r.unfoldedHight=ux,r.childrenLastFoldStatus={},r}return t.prototype.initNodeData=function(r){var a=this;e.prototype.initNodeData.call(this,r);var n=[];Array.isArray(r.children)&&(n=r.children),this.children=new Set(n),this.width=ax,this.height=ux,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=hU,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){a.isFolded&&a.foldGroup(a.isFolded)})},t.prototype.getResizeOutlineStyle=function(){var r=e.prototype.getResizeOutlineStyle.call(this);return r.stroke="none",r},t.prototype.foldGroup=function(r){var a=this;if(r!==this.isFolded){this.setProperty("isFolded",r),this.isFolded=r,r?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var n=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(c){var f=a.graphModel.getElement(c),y=f.isFolded;if(f.isGroup&&!f.isFolded&&f.foldGroup(r),f.isGroup&&!r){var v=a.childrenLastFoldStatus[c];v!==void 0&&v!==f.isFolded&&f.foldGroup(v)}a.childrenLastFoldStatus[c]=y,f.visible=!r,n=n.concat(f.incoming.edges.concat(f.outgoing.edges))}),this.foldEdge(r,n)}},t.prototype.getAnchorStyle=function(r){var a=e.prototype.getAnchorStyle.call(this,r);return a.stroke="transparent",a.fill="transparent",a.hover.fill="transparent",a.hover.stroke="transparent",a},t.prototype.foldEdge=function(r,a){var n=this;a.forEach(function(c,f){var y=c.id,v=c.sourceNodeId,b=c.targetNodeId,O=c.startPoint,S=c.endPoint,P=c.type,j=c.text,I=c.getProperties(),C={id:y+"__"+f,sourceNodeId:v,targetNodeId:b,startPoint:O,endPoint:S,type:P,properties:I,text:j==null?void 0:j.value};c.virtual&&n.graphModel.deleteEdgeById(c.id);var k=n.graphModel.group.getNodeGroup(b);k||(k=n.graphModel.getNodeModelById(b));var G=n.graphModel.group.getNodeGroup(v);G||(G=n.graphModel.getNodeModelById(v)),r&&c.visible!==!1&&(n.children.has(v)||n.id===v?(C.startPoint=void 0,C.sourceNodeId=n.id):(C.endPoint=void 0,C.targetNodeId=n.id),(k.id!==n.id||G.id!==n.id)&&n.createVirtualEdge(C),c.visible=!1),!r&&c.visible===!1&&(k&&k.isGroup&&k.isFolded?(C.targetNodeId=k.id,C.endPoint=void 0,n.createVirtualEdge(C)):G&&G.isGroup&&G.isFolded?(C.sourceNodeId=G.id,C.startPoint=void 0,n.createVirtualEdge(C)):c.visible=!0)})},t.prototype.createVirtualEdge=function(r){r.pointsList=void 0;var a=this.graphModel.addEdge(r);a.virtual=!0,a.text.editable=!1,a.isFoldedEdge=!0},t.prototype.isInRange=function(r){var a=r.x1,n=r.y1,c=r.x2,f=r.y2;return a>=this.x-this.width/2&&c<=this.x+this.width/2&&n>=this.y-this.height/2&&f<=this.y+this.height/2},t.prototype.isAllowMoveTo=function(r){var a=r.x1,n=r.y1,c=r.x2,f=r.y2;return{x:a>=this.x-this.width/2&&c<=this.x+this.width/2,y:n>=this.y-this.height/2&&f<=this.y+this.height/2}},t.prototype.setAllowAppendChild=function(r){this.setProperty("groupAddable",r)},t.prototype.addChild=function(r){this.children.add(r),this.graphModel.eventCenter.emit("group:add-node",{data:this.getData()})},t.prototype.removeChild=function(r){this.children.delete(r),this.graphModel.eventCenter.emit("group:remove-node",{data:this.getData()})},t.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},t.prototype.getData=function(){var r=this,a=e.prototype.getData.call(this);a.children=[],this.children.forEach(function(c){var f=r.graphModel.getNodeModelById(c);f&&!f.virtual&&a.children.push(c)});var n=a.properties;return delete n.groupAddable,delete n.isFolded,a},t.prototype.getHistoryData=function(){var r=e.prototype.getData.call(this);r.children=pU(this.children),r.isGroup=!0;var a=r.properties;return delete a.groupAddable,a.isFolded&&(r.x=r.x+this.unfoldedWidth/2-this.foldedWidth/2,r.y=r.y+this.unfoldedHight/2-this.foldedHeight/2),r},t.prototype.isAllowAppendIn=function(r){return!0},t.prototype.toBack=function(){this.zIndex--},t})(uP.model);(function(e){lP(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getControlGroup=function(){var r=this.props.model,a=r.resizable,n=r.properties;return a&&!n.isFolded?e.prototype.getControlGroup.call(this):null},t.prototype.getAddableShape=function(){var r=this.props.model,a=r.width,n=r.height,c=r.x,f=r.y,y=r.radius,v=r.properties;if(!v.groupAddable)return null;var b=this.props.model.getNodeStyle().strokeWidth,O=this.props.model.getAddableOutlineStyle(),S=a+b+8,P=n+b+8;return Yt.exports.h("rect",Ky(Ky({},O),{width:S,height:P,x:c-S/2,y:f-P/2,rx:y,ry:y}))},t.prototype.getFoldIcon=function(){var r=this.props.model,a=r.x-r.width/2+5,n=r.y-r.height/2+5;if(!r.foldable)return null;var c=Yt.exports.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:r.properties.isFolded?"M "+(a+3)+","+(n+6)+" "+(a+11)+","+(n+6)+" M"+(a+7)+","+(n+2)+" "+(a+7)+","+(n+10):"M "+(a+3)+","+(n+6)+" "+(a+11)+","+(n+6)+" "});return Yt.exports.h("g",{},[Yt.exports.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:r.x-r.width/2+5,y:r.y-r.height/2+5,onClick:function(){r.foldGroup(!r.properties.isFolded)}}),c])},t.prototype.getResizeShape=function(){return Yt.exports.h("g",{},[this.getAddableShape(),e.prototype.getResizeShape.call(this),this.getFoldIcon()])},t})(uP.view);var sx=globalThis&&globalThis.__assign||function(){return sx=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},sx.apply(this,arguments)};globalThis&&globalThis.__rest;var vU=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var a=r.call(e),n,c=[],f;try{for(;(t===void 0||t-- >0)&&!(n=a.next()).done;)c.push(n.value)}catch(y){f={error:y}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(f)throw f.error}}return c};globalThis&&globalThis.__spread;globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var c in n)n.hasOwnProperty(c)&&(a[c]=n[c])},e(t,r)};return function(t,r){e(t,r);function a(){this.constructor=t}t.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}();var cx=globalThis&&globalThis.__assign||function(){return cx=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},cx.apply(this,arguments)};globalThis&&globalThis.__values;var fx=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var c in n)n.hasOwnProperty(c)&&(a[c]=n[c])},e(t,r)};return function(t,r){e(t,r);function a(){this.constructor=t}t.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}(),uv=globalThis&&globalThis.__assign||function(){return uv=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},uv.apply(this,arguments)};function yU(e){var t=function(a){fx(n,a);function n(c,f){var y=this;c.id||(c.id="Flow_"+$G());var v=uv(uv(uv({},e||{}),c.properties),{isDefaultFlow:!1});return c.properties=v,y=a.call(this,c,f)||this,y}return n.extendKey="SequenceFlowModel",n}(Yt.exports.PolylineEdgeModel),r=function(a){fx(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.getStartArrow=function(){var c=this.props.model,f=c.properties.isDefaultFlow;return f?Yt.exports.h("path",{refX:15,stroke:"#000000",strokeWidth:2,d:"M 20 5 10 -5 z"}):Yt.exports.h("path",{d:""})},n.extendKey="SequenceFlowEdge",n}(Yt.exports.PolylineEdge);return{type:"bpmn:sequenceFlow",view:r,model:t}}yU();globalThis&&globalThis.__read;var lx={width:40,height:40},dx={width:40,height:40},px={width:100,height:80},qy={width:100,height:80},hx={width:100,height:80},vx={width:100,height:80},yx={width:100,height:80},gx={width:100,height:80},mx={width:100,height:80},bx={width:100,height:80},wa=function(){};wa.ObjTree=function(){return this};wa.ObjTree.VERSION="0.23";wa.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;wa.ObjTree.prototype.attr_prefix="-";wa.ObjTree.prototype.parseXML=function(e){var t;if(window.DOMParser){var r=new DOMParser,a=r.parseFromString(e,"application/xml");if(!a)return;t=a.documentElement}else window.ActiveXObject&&(r=new ActiveXObject("Microsoft.XMLDOM"),r.async=!1,r.loadXML(e),t=r.documentElement);if(!!t){var n=this.parseDOM(t);return n}};wa.ObjTree.prototype.parseHTTP=function(e,t,r){var a={};for(var n in t)a[n]=t[n];if(a.method||(typeof a.postBody>"u"&&typeof a.postbody>"u"&&typeof a.parameters>"u"?a.method="get":a.method="post"),r){a.asynchronous=!0;var c=this,f=r,y=a.onComplete;a.onComplete=function(O){var S;O&&O.responseXML&&O.responseXML.documentElement&&(S=c.parseDOM(O.responseXML.documentElement)),f(S,O),y&&y(O)}}else a.asynchronous=!1;var v;if(typeof HTTP<"u"&&HTTP.Request){a.uri=e;var b=new HTTP.Request(a);b&&(v=b.transport)}else if(typeof Ajax<"u"&&Ajax.Request){var b=new Ajax.Request(e,a);b&&(v=b.transport)}if(r)return v;if(v&&v.responseXML&&v.responseXML.documentElement)return this.parseDOM(v.responseXML.documentElement)};wa.ObjTree.prototype.parseDOM=function(e){if(!!e){if(this.__force_array={},this.force_array)for(var t=0;t<this.force_array.length;t++)this.__force_array[this.force_array[t]]=1;var r=this.parseElement(e);if(this.__force_array[e.nodeName]&&(r=[r]),e.nodeType!==11){var a={};a[e.nodeName]=r,r=a}return r}};wa.ObjTree.prototype.parseElement=function(e){if(e.nodeType!==7){if(e.nodeType===3||e.nodeType===4||e.nodeType===8){var t=e.nodeValue.match(/[^\x00-\x20]/);return t==null?void 0:e.nodeValue}var r=null,a={};if(e.attributes&&e.attributes.length){r={};for(var n=0;n<e.attributes.length;n++){var c=e.attributes[n].nodeName;if(typeof c=="string"){var f=e.attributes[n].nodeValue;try{f=JSON.parse(e.attributes[n].nodeValue.replace(/'/g,'"'))}catch{f=e.attributes[n].nodeValue}f!=null&&(c=this.attr_prefix+c,typeof a[c]>"u"&&(a[c]=0),a[c]++,this.addNode(r,c,a[c],f))}}}if(e.childNodes&&e.childNodes.length){var y=!0;r&&(y=!1);for(var n=0;n<e.childNodes.length&&y;n++){var v=e.childNodes[n].nodeType;v===3||v===4||v===8||(y=!1)}if(y){r||(r="");for(var n=0;n<e.childNodes.length;n++)r+=e.childNodes[n].nodeValue}else{r||(r={});for(var n=0;n<e.childNodes.length;n++){var c=e.childNodes[n].nodeName;if(typeof c=="string"){var f=this.parseElement(e.childNodes[n]);!f||(typeof a[c]>"u"&&(a[c]=0),a[c]++,this.addNode(r,c,a[c],f))}}}}else r===null&&(r={});return r}};wa.ObjTree.prototype.addNode=function(e,t,r,a){this.__force_array[t]?(r===1&&(e[t]=[]),e[t][e[t].length]=a):r===1?e[t]=a:r===2?e[t]=[e[t],a]:e[t][e[t].length]=a};wa.ObjTree.prototype.writeXML=function(e){var t=this.hash_to_xml(null,e);return this.xmlDecl+t};wa.ObjTree.prototype.hash_to_xml=function(e,t){var r=[],a=[];for(var n in t)if(!!(t!=null&&t.hasOwnProperty(n))){var c=t[n];n.charAt(0)!==this.attr_prefix?typeof c>"u"||c==null?r[r.length]="<"+n+" />":typeof c=="object"&&c.constructor===Array?r[r.length]=this.array_to_xml(n,c):typeof c=="object"?r[r.length]=this.hash_to_xml(n,c):r[r.length]=this.scalar_to_xml(n,c):a[a.length]=" "+n.substring(1)+'="'+this.xml_escape(c)+'"'}var f=a.join(""),y=r.join("");return typeof e>"u"||e==null||(r.length>0?y.match(/\n/)?y="<"+e+f+`>
`+y+"</"+e+`>
`:y="<"+e+f+">"+y+"</"+e+`>
`:y="<"+e+f+` />
`),y};wa.ObjTree.prototype.array_to_xml=function(e,t){for(var r=[],a=0;a<t.length;a++){var n=t[a];typeof n>"u"||n==null?r[r.length]="<"+e+" />":typeof n=="object"&&n.constructor===Array?r[r.length]=this.array_to_xml(e,n):typeof n=="object"?r[r.length]=this.hash_to_xml(e,n):r[r.length]=this.scalar_to_xml(e,n)}return r.join("")};wa.ObjTree.prototype.scalar_to_xml=function(e,t){return e==="#text"?this.xml_escape(t):"<"+e+">"+this.xml_escape(t)+"</"+e+`>
`};wa.ObjTree.prototype.xml_escape=function(e){return e.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var gU=function(e){return new wa.ObjTree().parseXML(e)};function dP(e){return Object.prototype.toString.call(e)}function _x(e){return"  ".repeat(e)}function Zy(e){return dP(e)==="[object Object]"?Object.keys(e).reduce(function(t,r){var a=r;return r.charAt(0)==="-"&&(a=r.substring(1)),t[a]=Zy(e[r]),t},{}):Array.isArray(e)?e.map(function(t){return Zy(t)}):e}function mU(e){var t=e;try{typeof t!="string"&&(t=JSON.parse(e))}catch{t=JSON.stringify(Zy(e)).replace(/"/g,"'")}return t}var Ex=`	
`;function Dy(e,t,r){var a=_x(r),n="",c=Ex+a;if(t==="-json")return"";if(t==="#text")return c+e;if(t==="#cdata-section")return c+"<![CDATA["+e+"]]>";if(t==="#comment")return c+"<!--"+e+"-->";if((""+t).charAt(0)==="-")return" "+t.substring(1)+'="'+mU(e)+'"';if(Array.isArray(e))n+=e.map(function(b){return Dy(b,t,r+1)}).join("");else if(dP(e)==="[object Object]"){var f=Object.keys(e),y="",v=e["-json"]?Ex+_x(r+1)+e["-json"]:"";n+=(r===0?"":c)+"<"+t,f.forEach(function(b){b.charAt(0)==="-"?y+=Dy(e[b],b,r+1):v+=Dy(e[b],b,r+1)}),n+=y+(v!==""?">"+v+c+"</"+t+">":" />")}else n+=c+"<"+t+">"+e.toString()+"</"+t+">";return n}function bU(e){var t="";for(var r in e)t+=Dy(e[r],r,0);return t}var _U=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var c in n)n.hasOwnProperty(c)&&(a[c]=n[c])},e(t,r)};return function(t,r){e(t,r);function a(){this.constructor=t}t.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}(),n_=globalThis&&globalThis.__assign||function(){return n_=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},n_.apply(this,arguments)},Ox=globalThis&&globalThis.__rest||function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r},o1=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],a=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},wh=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var a=r.call(e),n,c=[],f;try{for(;(t===void 0||t-- >0)&&!(n=a.next()).done;)c.push(n.value)}catch(y){f={error:y}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(f)throw f.error}}return c},nh=globalThis&&globalThis.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(wh(arguments[t]));return e},_a;(function(e){e.START="bpmn:startEvent",e.END="bpmn:endEvent",e.INTERMEDIATE_CATCH="bpmn:intermediateCatchEvent",e.INTERMEDIATE_THROW="bpmn:intermediateThrowEvent",e.BOUNDARY="bpmn:boundaryEvent",e.PARALLEL_GATEWAY="bpmn:parallelGateway",e.INCLUSIVE_GATEWAY="bpmn:inclusiveGateway",e.EXCLUSIVE_GATEWAY="bpmn:exclusiveGateway",e.USER="bpmn:userTask",e.SYSTEM="bpmn:serviceTask",e.FLOW="bpmn:sequenceFlow",e.SUBPROCESS="bpmn:subProcess"})(_a||(_a={}));var pP=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef","-children"],EU=["properties","startPoint","endPoint","pointsList"],Jy={in:[],out:["properties.panels","properties.nodeSize","properties.definitionId","properties.timerValue","properties.timerType","properties.definitionType","properties.parent","properties.isBoundaryEventTouchingTask"]},hP=function(e,t){var r=Object.keys(t||{});return r.forEach(function(a){if(e[a]){var n=t[a],c=n.in,f=n.out;c&&(e[a].in=c),f&&(e[a].out=f)}else e[a]=t[a]}),e},Vu={"bpmn:startEvent":{out:function(e){var t,r,a=e.properties;return((r=(t=Vu[a.definitionType])===null||t===void 0?void 0:t.out)===null||r===void 0?void 0:r.call(t,e))||{}}},"bpmn:intermediateCatchEvent":{out:function(e){var t,r,a=e.properties;return((r=(t=Vu[a.definitionType])===null||t===void 0?void 0:t.out)===null||r===void 0?void 0:r.call(t,e))||{}}},"bpmn:intermediateThrowEvent":{out:function(e){var t,r,a=e.properties;return((r=(t=Vu[a.definitionType])===null||t===void 0?void 0:t.out)===null||r===void 0?void 0:r.call(t,e))||{}}},"bpmn:boundaryEvent":{out:function(e){var t,r,a=e.properties;return((r=(t=Vu[a.definitionType])===null||t===void 0?void 0:t.out)===null||r===void 0?void 0:r.call(t,e))||{}}},"bpmn:sequenceFlow":{out:function(e){var t=e.properties,r=t.expressionType,a=t.condition;return a?r==="cdata"?{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression"><![CDATA[${'+a+"}]]></bpmn:conditionExpression>"}:{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression">'+a+"</bpmn:conditionExpression>"}:{json:""}}},"bpmn:timerEventDefinition":{out:function(e){var t=e.properties,r=t.timerType,a=t.timerValue,n=t.definitionId,c=function(){return"<bpmn:"+r+' xsi:type="bpmn:tFormalExpression">'+a+"</bpmn:"+r+">"};return{json:'<bpmn:timerEventDefinition id="'+n+'"'+(r&&a?">"+c()+"</bpmn:timerEventDefinition>":"/>")}},in:function(e,t){var r,a,n,c,f=e,y=t["-id"],v="",b="";try{for(var O=o1(Object.keys(t)),S=O.next();!S.done;S=O.next()){var P=S.value;P.includes("bpmn:")&&(n=wh(P.split(":"),2),v=n[1],b=(c=t[P])===null||c===void 0?void 0:c["#text"])}}catch(j){r={error:j}}finally{try{S&&!S.done&&(a=O.return)&&a.call(O)}finally{if(r)throw r.error}}return{"-definitionId":y,"-definitionType":f,"-timerType":v,"-timerValue":b}}},"bpmn:conditionExpression":{in:function(e,t){var r,a="",n="";return t["#cdata-section"]?(n="cdata",a=((r=/^\$\{(.*)\}$/g.exec(t["#cdata-section"]))===null||r===void 0?void 0:r[1])||""):t["#text"]&&(n="normal",a=t["#text"]),{"-condition":a,"-expressionType":n}}}};function OU(e){var t=e!=null?e:{},r=t.retainedAttrsFields,a=t.excludeFields,n=t.transformer,c=new Set(nh(EU,r||[])),f={in:new Set(nh(Jy.in,(a==null?void 0:a.in)||[])),out:new Set(nh(Jy.out,(a==null?void 0:a.out)||[]))};return Vu=hP(Vu,n),function(y){var v=y.nodes,b=y.edges;function O(S,P){var j,I,C;if((S==null?void 0:S.flag)!==1){var k;if((k=Vu[S.type])&&k.out){var G=k.out(S),H=Object.keys(G);H.length>0&&H.forEach(function(J){S[J]=G[J]})}S!=null&&S.children&&(S.children=S.children.map(function(J){var re=v.find(function(z){return z.id===J})||b.find(function(z){return z.id===J});return re||{}}));var ue={};if(typeof S=="string")return S;if(Array.isArray(S))return S.map(function(J){return O(J,"")}).filter(function(J){return J!=null});try{for(var _e=o1(Object.entries(S)),be=_e.next();!be.done;be=_e.next()){var ce=wh(be.value,2),fe=ce[0],ee=ce[1];if(((C=ee)===null||C===void 0?void 0:C.flag)===1)return;var $=[P,fe].filter(function(J){return J}).join(".");f.out.has($)||(typeof ee!="object"?fe.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(fe)?ue[fe]=ee:ue["-"+fe]=ee:c.has($)?ue["-"+fe]=O(ee,$):ue[fe]=O(ee,$))}}catch(J){j={error:J}}finally{try{be&&!be.done&&(I=_e.return)&&I.call(_e)}finally{if(j)throw j.error}}return ue}}return O(y,"")}}function Qy(e){var t,r,a={};try{for(var n=o1(Object.entries(e)),c=n.next();!c.done;c=n.next()){var f=wh(c.value,2),y=f[0],v=f[1];y.indexOf("-")===0?a[y.substring(1)]=Zy(v):typeof v=="string"?a[y]=v:Object.prototype.toString.call(v)==="[object Object]"?a[y]=Qy(v):Array.isArray(v)?a[y]=v.map(function(b){return Qy(b)}):a[y]=v}}catch(b){t={error:b}}finally{try{c&&!c.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return a}function wU(e,t,r){var a,n=new Map,c=OU(r)(t);c.nodes.forEach(function(y){var v=y["-id"],b=y["-type"],O=y.text,S=y.children,P=Ox(y,["-id","-type","text","children"]),j={"-id":v};O!=null&&O["-value"]&&(j["-name"]=O["-value"]),P["-json"]&&(j["-json"]=P["-json"]),P["-properties"]&&Object.assign(j,P["-properties"]),S&&(j.children=S),e[b]||(e[b]=[]),e[b].push(j),n.set(v,j)});var f=c.edges.map(function(y){var v=y["-id"];y["-type"];var b=y["-sourceNodeId"],O=y["-targetNodeId"],S=y.text,P=Ox(y,["-id","-type","-sourceNodeId","-targetNodeId","text"]),j=n.get(O);j["bpmn:incoming"]||(j["bpmn:incoming"]=[]),j["bpmn:incoming"].push(v);var I={"-id":v,"-sourceRef":b,"-targetRef":O};return S!=null&&S["-value"]&&(I["-name"]=S["-value"]),P["-json"]&&(I["-json"]=P["-json"]),P["-properties"]&&Object.assign(I,P["-properties"]),I});return t.edges.forEach(function(y){var v=y.sourceNodeId,b=y.id,O=n.get(v);O["bpmn:outgoing"]||(O["bpmn:outgoing"]=[]),O["bpmn:outgoing"].push(b)}),(a=e["bpmn:subProcess"])===null||a===void 0||a.forEach(function(y){var v={"bpmn:incoming":new Set,"bpmn:outgoing":new Set},b=[];y.children.forEach(function(C){var k,G=n.get(C["-id"]);["bpmn:incoming","bpmn:outgoing"].forEach(function(ue){G[ue]&&G[ue].forEach(function(_e){v[ue].add(_e)})});var H=(k=e[C["-type"]])===null||k===void 0?void 0:k.findIndex(function(ue){return ue["-id"]===C["-id"]});H>=0&&e[C["-type"]].splice(H,1),n.delete(C["-id"]),y[C["-type"]]||(y[C["-type"]]=[]),y[C["-type"]].push(G)});var O=v["bpmn:incoming"],S=v["bpmn:outgoing"];S.forEach(function(C){O.has(C)&&b.push(C)});for(var P=function(C){var k=f.findIndex(function(G){return G["-id"]===b[C]});k>=0?(y["bpmn:sequenceFlow"]||(y["bpmn:sequenceFlow"]=[]),y["bpmn:sequenceFlow"].push(f[k]),f.splice(k,1)):C++,j=C},j,I=0;I<b.length;)P(I),I=j;delete y.children}),e[_a.FLOW]=f,e}function xU(e,t){e["bpmndi:BPMNEdge"]=t.edges.map(function(r){var a,n=r.id,c=r.pointsList.map(function(y){var v=y.x,b=y.y;return{"-x":v,"-y":b}}),f={"-id":n+"_di","-bpmnElement":n,"di:waypoint":c};return!((a=r.text)===null||a===void 0)&&a.value&&(f["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":r.text.x-r.text.value.length*10/2,"-y":r.text.y-7,"-width":r.text.value.length*10,"-height":14}}),f}),e["bpmndi:BPMNShape"]=t.nodes.map(function(r){var a,n=r.id,c=100,f=80,y=r.x,v=r.y,b=$a.shapeConfigMap.get(r.type);b&&(c=b.width,f=b.height),y-=c/2,v-=f/2;var O={"-id":n+"_di","-bpmnElement":n,"dc:Bounds":{"-x":y,"-y":v,"-width":c,"-height":f}};return!((a=r.text)===null||a===void 0)&&a.value&&(O["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":r.text.x-r.text.value.length*10/2,"-y":r.text.y-7,"-width":r.text.value.length*10,"-height":14}}),O})}var SU=["bpmn:incoming","bpmn:outgoing"];function AU(e,t){var r=[],a=[],n=new Map,c=t!=null?t:{},f=c.transformer,y=c.excludeFields,v={in:new Set(nh(Jy.in,(y==null?void 0:y.in)||[])),out:new Set(nh(Jy.out,(y==null?void 0:y.out)||[]))};Vu=hP(Vu,f);var b=e["bpmn:definitions"];if(b){var O=b["bpmn:process"];(function(P,j){j.forEach(function(I){try{Object.keys(P).forEach(function(C){try{I(C)}catch(k){console.error(k)}})}catch(C){console.error(C)}})})(O,[function(P){function j(C){C["-children"]||(C["-children"]=[]),Object.keys(C).forEach(function(k){var G;k.indexOf("bpmn:")===0&&!SU.includes(k)&&(O[k]||(O[k]=[]),!Array.isArray(O[k])&&(O[k]=[O[k]]),Array.isArray(C[k])?(G=O[k]).push.apply(G,nh(C[k])):O[k].push(C[k]),Array.isArray(C[k])?C[k].forEach(function(H){!k.includes("Flow")&&C["-children"].push(H["-id"])}):!k.includes("Flow")&&C["-children"].push(C[k]["-id"]),delete C[k])})}if(P==="bpmn:subProcess"){var I=O[P];Array.isArray(I)?I.forEach(function(C){P==="bpmn:subProcess"&&j(C)}):j(I)}},function(P){var j=function(C){Object.keys(C).forEach(function(k){var G,H;if(k.includes("bpmn:")){var ue={};Vu[k]&&Vu[k].in?(ue=(H=(G=Vu[k]).in)===null||H===void 0?void 0:H.call(G,k,K.cloneDeep(C[k])),delete C[k]):I(C[k]);var _e=void 0;(_e=Reflect.ownKeys(ue)).length>0&&_e.forEach(function(be){Reflect.set(C,be,ue[be])})}})};function I(C){n.set(C["-id"],C),Array.isArray(C)?C.forEach(function(k){I(k)}):typeof C=="object"&&j(C)}I(O[P])},function(P){if(P.indexOf("bpmn:")===0){var j=O[P];if(P==="bpmn:sequenceFlow"){var I=b["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];a=PU(j,I)}else{var C=b["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];if(P==="bpmn:boundaryEvent"){var k=O[P],G=function(H){var ue=H["-attachedToRef"],_e=n.get(ue);_e["-boundaryEvents"]||(_e["-boundaryEvents"]=[]),_e["-boundaryEvents"].push(H["-id"])};Array.isArray(k)?k.forEach(function(H){G(H)}):G(k)}r=r.concat(TU(j,C,P))}}}])}var S=function(P,j,I){Object.keys(P).forEach(function(C){var k=I?I+"."+C:C;j.has(k)?delete P[C]:typeof P[C]=="object"&&S(P[C],j,k)})};return r.forEach(function(P){var j,I;if(!((j=t==null?void 0:t.mapping)===null||j===void 0)&&j.in){var C=(I=t==null?void 0:t.mapping)===null||I===void 0?void 0:I.in,k=P.type;C[k]&&(P.type=C[k])}S(P,v.in,"")}),a.forEach(function(P){var j,I;if(!((j=t==null?void 0:t.mapping)===null||j===void 0)&&j.in){var C=(I=t==null?void 0:t.mapping)===null||I===void 0?void 0:I.in,k=P.type;C[k]&&(P.type=C[k])}S(P,v.in,"")}),{nodes:r,edges:a}}function TU(e,t,r){var a=[];if(Array.isArray(e))e.forEach(function(f){var y;Array.isArray(t)?y=t.find(function(b){return b["-bpmnElement"]===f["-id"]}):y=t;var v=wx(y,r,f);a.push(v)});else{var n=void 0;Array.isArray(t)?n=t.find(function(f){return f["-bpmnElement"]===e["-id"]}):n=t;var c=wx(n,r,e);a.push(c)}return a}function wx(e,t,r){var a=Number(e["dc:Bounds"]["-x"]),n=Number(e["dc:Bounds"]["-y"]),c=r["-children"],f=r["-name"],y=$a.shapeConfigMap.get(t);y&&(a+=y.width/2,n+=y.height/2);var v={};Object.entries(r).forEach(function(P){var j=wh(P,2),I=j[0],C=j[1];pP.includes(I)||(v[I]=C)}),v=Qy(v);var b;if(f&&(b={x:a,y:n,value:f},e["bpmndi:BPMNLabel"]&&e["bpmndi:BPMNLabel"]["dc:Bounds"])){var O=e["bpmndi:BPMNLabel"]["dc:Bounds"];b.x=Number(O["-x"])+Number(O["-width"])/2,b.y=Number(O["-y"])+Number(O["-height"])/2}var S={id:e["-bpmnElement"],type:t,x:a,y:n,properties:v};return c&&(S.children=c),b&&(S.text=b),S}function PU(e,t){var r=[];if(Array.isArray(e))e.forEach(function(n){var c;Array.isArray(t)?c=t.find(function(f){return f["-bpmnElement"]===n["-id"]}):c=t,r.push(xx(c,n))});else{var a=void 0;Array.isArray(t)?a=t.find(function(n){return n["-bpmnElement"]===e["-id"]}):a=t,r.push(xx(a,e))}return r}function xx(e,t){var r,a=t["-name"];if(a){var n=e["bpmndi:BPMNLabel"]["dc:Bounds"],c=0;a.split(`
`).forEach(function(b){c<b.length&&(c=b.length)}),r={value:a,x:Number(n["-x"])+c*10/2,y:Number(n["-y"])+7}}var f={};Object.entries(t).forEach(function(b){var O=wh(b,2),S=O[0],P=O[1];pP.includes(S)||(f[S]=P)}),f=Qy(f);var y=e["di:waypoint"].map(function(b){return{x:Number(b["-x"]),y:Number(b["-y"])}}),v={id:t["-id"],type:_a.FLOW,pointsList:y,sourceNodeId:t["-sourceRef"],targetNodeId:t["-targetRef"],properties:f};return r&&(v.text=r),v}var $a=function(){function e(t){var r=this,a=t.lf;this.adapterOut=function(n,c){var f,y,v=n_({},r.processAttributes);wU(v,n,c);var b={"-id":"BPMNPlane_1","-bpmnElement":v["-id"]};xU(b,n);var O=r.definitionAttributes;O["bpmn:process"]=v,O["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":b};var S={"bpmn:definitions":O};if(!((f=c==null?void 0:c.mapping)===null||f===void 0)&&f.out){var P=(y=c==null?void 0:c.mapping)===null||y===void 0?void 0:y.out,j=function(I){Array.isArray(I)&&I.forEach(function(C){return j(C)}),typeof I=="object"&&Object.keys(I).forEach(function(C){var k;(k=P[C])?(I[k]=K.cloneDeep(I[C]),delete I[C],j(I[k])):j(I[C])})};j(S)}return S},this.adapterIn=function(n,c){if(n)return AU(n,c)},a.adapterIn=this.adapterIn,a.adapterOut=this.adapterOut,this.processAttributes={"-isExecutable":"true","-id":"Process"},this.definitionAttributes={"-id":"Definitions","-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.10"}}return e.prototype.setCustomShape=function(t,r){e.shapeConfigMap.set(t,r)},e.pluginName="bpmn-adapter",e.shapeConfigMap=new Map,e}();$a.shapeConfigMap.set(_a.START,{width:lx.width,height:lx.height});$a.shapeConfigMap.set(_a.END,{width:dx.width,height:dx.height});$a.shapeConfigMap.set(_a.INTERMEDIATE_CATCH,{width:qy.width,height:qy.height});$a.shapeConfigMap.set(_a.INTERMEDIATE_THROW,{width:qy.width,height:qy.height});$a.shapeConfigMap.set(_a.BOUNDARY,{width:px.width,height:px.height});$a.shapeConfigMap.set(_a.PARALLEL_GATEWAY,{width:hx.width,height:hx.height});$a.shapeConfigMap.set(_a.INCLUSIVE_GATEWAY,{width:vx.width,height:vx.height});$a.shapeConfigMap.set(_a.EXCLUSIVE_GATEWAY,{width:yx.width,height:yx.height});$a.shapeConfigMap.set(_a.SYSTEM,{width:gx.width,height:gx.height});$a.shapeConfigMap.set(_a.USER,{width:mx.width,height:mx.height});$a.shapeConfigMap.set(_a.SUBPROCESS,{width:bx.width,height:bx.height});(function(e){_U(t,e);function t(r){var a=e.call(this,r)||this;a.adapterXmlIn=function(f){var y=gU(f);return a.adapterIn(y,a.props)},a.adapterXmlOut=function(f){var y=a.adapterOut(f,a.props);return bU(y)};var n=r.lf,c=r.props;return n.adapterIn=a.adapterXmlIn,n.adapterOut=a.adapterXmlOut,a.props=c,a}return t.pluginName="BPMNAdapter",t})($a);var Sx=globalThis&&globalThis.__assign||function(){return Sx=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Sx.apply(this,arguments)};globalThis&&globalThis.__read;var Ax;(function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"})(Ax||(Ax={}));var RU=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var a=r.call(e),n,c=[],f;try{for(;(t===void 0||t-- >0)&&!(n=a.next()).done;)c.push(n.value)}catch(y){f={error:y}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(f)throw f.error}}return c};globalThis&&globalThis.__spread;var jU=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var a=r.call(e),n,c=[],f;try{for(;(t===void 0||t-- >0)&&!(n=a.next()).done;)c.push(n.value)}catch(y){f={error:y}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(f)throw f.error}}return c};globalThis&&globalThis.__spread;var NU=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var a=r.call(e),n,c=[],f;try{for(;(t===void 0||t-- >0)&&!(n=a.next()).done;)c.push(n.value)}catch(y){f={error:y}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(f)throw f.error}}return c};globalThis&&globalThis.__spread;globalThis&&globalThis.__read;globalThis&&globalThis.__values;var vP=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var c in n)n.hasOwnProperty(c)&&(a[c]=n[c])},e(t,r)};return function(t,r){e(t,r);function a(){this.constructor=t}t.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}(),eh=globalThis&&globalThis.__assign||function(){return eh=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},eh.apply(this,arguments)},sv=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var a=r.call(e),n,c=[],f;try{for(;(t===void 0||t-- >0)&&!(n=a.next()).done;)c.push(n.value)}catch(y){f={error:y}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(f)throw f.error}}return c},MU={tr:"tl",lb:"tl",tl:"tr",rb:"tr",br:"bl",lt:"bl",bl:"br",rt:"br"};function CU(e){for(var t=e,r=1;r<t.length-1;){var a=sv(t[r-1],2),n=a[0],c=a[1],f=sv(t[r],2),y=f[0],v=f[1],b=sv(t[r+1],2),O=b[0],S=b[1];n===y&&y===O||c===v&&v===S?t.splice(r,1):r++}return t}function IU(e,t,r,a){var n=[e[0],e[1]],c=[e[0],e[1]];switch(r){case"tl":return t==="tr"?(n[1]+=a,c[0]+=a):t==="lb"&&(n[0]+=a,c[1]+=a),[n,c];case"tr":return t==="tl"?(n[1]+=a,c[0]-=a):t==="rb"&&(n[0]-=a,c[1]+=a),[n,c];case"bl":return t==="br"?(n[1]-=a,c[0]+=a):t==="lt"&&(n[0]+=a,c[1]-=a),[n,c];case"br":return t==="bl"?(n[1]-=a,c[0]-=a):t==="rt"&&(n[0]-=a,c[1]-=a),[n,c];default:return[]}}function DU(e,t,r,a){var n,c="",f="";e[0]===t[0]?c=e[1]>t[1]?"t":"b":e[1]===t[1]&&(c=e[0]>t[0]?"l":"r"),t[0]===r[0]?f=t[1]>r[1]?"t":"b":t[1]===r[1]&&(f=t[0]>r[0]?"l":"r");var y=Math.min(Math.hypot(t[0]-e[0],t[1]-e[1])/2,Math.hypot(r[0]-t[0],r[1]-t[1])/2,a)||1/5*a,v=""+c+f,b=MU[v]||"-",O="L "+e[0]+" "+e[1];if(b==="-")O+="L "+t[0]+" "+t[1]+" L "+r[0]+" "+r[1];else{var S=sv(IU(t,v,b,y),2),P=S[0],j=S[1];P&&j&&(O+="L "+P[0]+" "+P[1]+" Q "+t[0]+" "+t[1]+" "+j[0]+" "+j[1],n=sv(j,2),t[0]=n[0],t[1]=n[1])}return O}function kU(e,t){var r=0,a="";if(e.length===2)a+="M"+e[r][0]+" "+e[r++][1]+" L "+e[r][0]+" "+e[r][1];else{for(a+="M"+e[r][0]+" "+e[r++][1];r+1<e.length;){var n=e[r-1],c=e[r],f=e[r+++1];a+=DU(n,c,f,t)}a+="L "+e[r][0]+" "+e[r][1]}return a}(function(e){vP(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getEdge=function(){var r=this.props.model,a=r.points,n=r.isAnimation,c=r.arrowConfig,f=r.radius,y=f===void 0?5:f,v=r.getEdgeStyle(),b=r.getEdgeAnimationStyle(),O=CU(a.split(" ").map(function(j){return j.split(",").map(function(I){return+I})})),S=kU(O,y),P=eh(eh(eh({style:n?b:{}},v),c),{fill:"none"});return Yt.exports.h("path",eh({d:S},P))},t})(Yt.exports.PolylineEdge);(function(e){vP(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})(Yt.exports.PolylineEdgeModel);var LU=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var a=r.call(e),n,c=[],f;try{for(;(t===void 0||t-- >0)&&!(n=a.next()).done;)c.push(n.value)}catch(y){f={error:y}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(f)throw f.error}}return c};globalThis&&globalThis.__spread;var Tx=globalThis&&globalThis.__assign||function(){return Tx=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Tx.apply(this,arguments)},Px=globalThis&&globalThis.__assign||function(){return Px=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Px.apply(this,arguments)},FU=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var a=r.call(e),n,c=[],f;try{for(;(t===void 0||t-- >0)&&!(n=a.next()).done;)c.push(n.value)}catch(y){f={error:y}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(f)throw f.error}}return c};globalThis&&globalThis.__spread;const bn={Base:"base",Start:"start",AiChat:"ai_chat",SearchDataset:"knowledge_search",Question:"question",Condition:"condition",Reply:"reply",FunctionLib:"function_lib",FunctionLibCustom:"function",RrerankerNode:"reranker",Application:"application",DocumentExtractNode:"document_extract",ImageUnderstandNode:"image_understand",FormNode:"form",TextToSpeechNode:"text_to_speech",SpeechToTextNode:"speech_to_text",ImageGenerateNode:"image_generate"},BU={id:bn.Start,type:bn.Start,x:180,y:720,properties:{height:200,stepName:"\u5F00\u59CB\u8282\u70B9",config:{fields:[{label:"\u95EE\u9898",value:"question"}],globalFields:[{value:"time",label:"\u5F53\u524D\u65F6\u95F4"}]}}},GU={id:bn.Base,type:bn.Base,x:200,y:270,text:"",properties:{width:420,height:200,stepName:"\u57FA\u7840\u8282\u70B9",input_field_list:[],node_data:{name:"",desc:"",prologue:"\u9ED8\u8BA4\u524D\u8A00"},config:{}}},UU={type:bn.AiChat,text:"AI \u5BF9\u8BDD\u8282\u70B9",label:"AI \u5BF9\u8BDD\u8282\u70B9",height:340,properties:{stepName:"AI \u5BF9\u8BDD\u8282\u70B9",config:{fields:[{label:"\u56DE\u7B54",value:"answer"},{label:"\u601D\u8003\u5185\u5BB9",value:"reasoning_content"}]}}},zU={type:bn.SearchDataset,text:"\u77E5\u8BC6\u5E93\u68C0\u7D22\u8282\u70B9",label:"\u77E5\u8BC6\u5E93\u68C0\u7D22\u8282\u70B9",height:355,properties:{stepName:"\u77E5\u8BC6\u5E93\u68C0\u7D22\u8282\u70B9",config:{fields:[{label:"\u6BB5\u843D\u5217\u8868",value:"paragraph_list"},{label:"\u547D\u4E2D\u5904\u7406\u65B9\u6CD5\u5217\u8868",value:"is_hit_handling_method_list"},{label:"\u7ED3\u679C",value:"data"},{label:"\u76F4\u63A5\u8FD4\u56DE",value:"directly_return"}]}}},$U={type:bn.Question,text:"\u95EE\u9898\u8282\u70B9",label:"\u95EE\u9898\u8282\u70B9",height:345,properties:{stepName:"\u95EE\u9898\u8282\u70B9",config:{fields:[{label:"\u7ED3\u679C",value:"answer"}]}}},HU={type:bn.Condition,text:"\u6761\u4EF6\u8282\u70B9",label:"\u6761\u4EF6\u8282\u70B9",height:175,properties:{width:600,stepName:"\u6761\u4EF6\u8282\u70B9",config:{fields:[{label:"\u5206\u652F\u540D\u79F0",value:"branch_name"}]}}},XU={type:bn.Reply,text:"\u56DE\u590D\u8282\u70B9",label:"\u56DE\u590D\u8282\u70B9",height:210,properties:{stepName:"\u56DE\u590D\u8282\u70B9",config:{fields:[{label:"\u5185\u5BB9",value:"answer"}]}}},WU={type:bn.RrerankerNode,text:"\u91CD\u6392\u5668\u8282\u70B9",label:"\u91CD\u6392\u5668\u8282\u70B9",height:252,properties:{stepName:"\u91CD\u6392\u5668\u8282\u70B9",config:{fields:[{label:"\u7ED3\u679C\u5217\u8868",value:"result_list"},{label:"\u7ED3\u679C",value:"result"}]}}},VU={type:bn.FormNode,text:"\u8868\u5355\u8282\u70B9",label:"\u8868\u5355\u8282\u70B9",height:252,properties:{width:600,stepName:"\u8868\u5355\u8282\u70B9",node_data:{is_result:!0,form_field_list:[],form_content_format:`\u8868\u5355\u5185\u5BB9\u683C\u5F0F 1
{{form}}
\u8868\u5355\u5185\u5BB9\u683C\u5F0F 2`},config:{fields:[{label:"\u8868\u5355\u6570\u636E",value:"form_data"}]}}},YU={type:bn.DocumentExtractNode,text:"\u6587\u6863\u63D0\u53D6\u8282\u70B9",label:"\u6587\u6863\u63D0\u53D6\u8282\u70B9",height:252,properties:{stepName:"\u6587\u6863\u63D0\u53D6\u8282\u70B9",config:{fields:[{label:"\u5185\u5BB9",value:"content"}]}}},KU={type:bn.ImageUnderstandNode,text:"\u56FE\u7247\u7406\u89E3\u8282\u70B9",label:"\u56FE\u7247\u7406\u89E3\u8282\u70B9",height:252,properties:{stepName:"\u56FE\u7247\u7406\u89E3\u8282\u70B9",config:{fields:[{label:"\u56DE\u7B54",value:"answer"}]}}},qU={type:bn.ImageGenerateNode,text:"\u56FE\u7247\u751F\u6210\u8282\u70B9",label:"\u56FE\u7247\u751F\u6210\u8282\u70B9",height:252,properties:{stepName:"\u56FE\u7247\u751F\u6210\u8282\u70B9",config:{fields:[{label:"\u56DE\u7B54",value:"answer"},{label:"\u56FE\u7247",value:"image"}]}}},ZU={type:bn.SpeechToTextNode,text:"\u8BED\u97F3\u8F6C\u6587\u672C\u8282\u70B9",label:"\u8BED\u97F3\u8F6C\u6587\u672C\u8282\u70B9",height:252,properties:{stepName:"\u8BED\u97F3\u8F6C\u6587\u672C\u8282\u70B9",config:{fields:[{label:"\u7ED3\u679C",value:"result"}]}}},JU={type:bn.TextToSpeechNode,text:"\u6587\u672C\u8F6C\u8BED\u97F3\u8282\u70B9",label:"\u6587\u672C\u8F6C\u8BED\u97F3\u8282\u70B9",height:252,properties:{stepName:"\u6587\u672C\u8F6C\u8BED\u97F3\u8282\u70B9",config:{fields:[{label:"\u7ED3\u679C",value:"result"}]}}},QU={type:bn.FunctionLibCustom,text:"\u81EA\u5B9A\u4E49\u51FD\u6570\u8282\u70B9",label:"\u81EA\u5B9A\u4E49\u51FD\u6570\u8282\u70B9",height:260,properties:{stepName:"\u81EA\u5B9A\u4E49\u51FD\u6570\u8282\u70B9",config:{fields:[{label:"\u7ED3\u679C",value:"result"}]}}},e9={type:bn.FunctionLib,text:"\u51FD\u6570\u5E93\u8282\u70B9",label:"\u51FD\u6570\u5E93\u8282\u70B9",height:170,properties:{stepName:"\u51FD\u6570\u5E93\u8282\u70B9",config:{fields:[{label:"\u7ED3\u679C",value:"result"}]}}},t9={type:bn.Application,text:"\u5E94\u7528\u8282\u70B9",label:"\u5E94\u7528\u8282\u70B9",height:260,properties:{stepName:"\u5E94\u7528\u8282\u70B9",config:{fields:[{label:"\u7ED3\u679C",value:"result"}]}}},wb={[bn.AiChat]:UU,[bn.SearchDataset]:zU,[bn.Question]:$U,[bn.Condition]:HU,[bn.Base]:GU,[bn.Start]:BU,[bn.Reply]:XU,[bn.FunctionLib]:e9,[bn.FunctionLibCustom]:QU,[bn.RrerankerNode]:WU,[bn.FormNode]:VU,[bn.Application]:t9,[bn.DocumentExtractNode]:YU,[bn.ImageUnderstandNode]:KU,[bn.TextToSpeechNode]:JU,[bn.SpeechToTextNode]:ZU,[bn.ImageGenerateNode]:qU};YC({});class gu extends Yp.view{constructor(t,r){if(super(t),this.component=r,this.isMounted=!1,t.model.properties.noRender)delete t.model.properties.noRender;else{const n=t.graphModel.nodes.filter(c=>c.type===t.model.type);n.length-1>0&&a(n.length-1)}function a(n){var y;let c=n;console.log("props.model.properties.stepName  = "+t.model.properties.stepName);const f=t.model.properties.stepName+c;(y=t.graphModel.nodes)!=null&&y.some(v=>v.properties.stepName===f.trim())?(c+=1,a(c)):t.model.properties.stepName=f}console.log("type = "+t.model.type),console.log("type = "+wb[t.model.type]),t.model.properties.config=wb[t.model.type].properties.config,console.log("nodeDict[props.model.type].properties.config = "+wb[t.model.type].properties.config),t.model.properties.height&&(t.model.height=t.model.properties.height)}getAnchorShape(t){let{x:r,y:a,type:n}=t;console.log("anchorData = "+JSON.stringify(t));let c=!1;return n=="left"?c=this.props.graphModel.edges.some(f=>f.targetAnchorId==t.id):c=this.props.graphModel.edges.some(f=>f.sourceAnchorId==t.id),Yt.exports.h("foreignObject",{...t,x:r-10,y:a-12,width:30,height:30},[Yt.exports.h("div",{style:{zindex:0},onClick:()=>{n=="right"&&this.props.model.openNodeMenu(t)},dangerouslySetInnerHTML:{__html:c?`<svg width="100%" height="100%" viewBox="0 0 42 42" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g filter="url(#filter0_d_5119_232585)">
                <path d="M20.9998 29.8333C28.0875 29.8333 33.8332 24.0876 33.8332 17C33.8332 9.91231 28.0875 4.16663 20.9998 4.16663C13.9122 4.16663 8.1665 9.91231 8.1665 17C8.1665 24.0876 13.9122 29.8333 20.9998 29.8333Z" fill="white"/>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M20.9998 27.5C26.7988 27.5 31.4998 22.799 31.4998 17C31.4998 11.201 26.7988 6.49996 20.9998 6.49996C15.2008 6.49996 10.4998 11.201 10.4998 17C10.4998 22.799 15.2008 27.5 20.9998 27.5ZM33.8332 17C33.8332 24.0876 28.0875 29.8333 20.9998 29.8333C13.9122 29.8333 8.1665 24.0876 8.1665 17C8.1665 9.91231 13.9122 4.16663 20.9998 4.16663C28.0875 4.16663 33.8332 9.91231 33.8332 17Z" fill="#3370FF"/>
                </g>
                <defs>
                <filter id="filter0_d_5119_232585" x="-1" y="-1" width="44" height="44" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
                <feOffset dy="4"/>
                <feGaussianBlur stdDeviation="4"/>
                <feComposite in2="hardAlpha" operator="out"/>
                <feColorMatrix type="matrix" values="0 0 0 0 0.2 0 0 0 0 0.439216 0 0 0 0 1 0 0 0 0.1 0"/>
                <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_5119_232585"/>
                <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_5119_232585" result="shape"/>
                </filter>
                </defs>
                </svg>
                `:`<svg width="100%" height="100%" viewBox="0 0 42 42" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g filter="url(#filter0_d_5199_166905)">
                <path d="M20.9998 29.8333C28.0875 29.8333 33.8332 24.0876 33.8332 17C33.8332 9.91231 28.0875 4.16663 20.9998 4.16663C13.9122 4.16663 8.1665 9.91231 8.1665 17C8.1665 24.0876 13.9122 29.8333 20.9998 29.8333Z" fill="#3370FF"/>
                <path d="M19.8332 11.75C19.8332 11.4278 20.0943 11.1666 20.4165 11.1666H21.5832C21.9053 11.1666 22.1665 11.4278 22.1665 11.75V15.8333H26.2498C26.572 15.8333 26.8332 16.0945 26.8332 16.4166V17.5833C26.8332 17.9055 26.572 18.1666 26.2498 18.1666H22.1665V22.25C22.1665 22.5721 21.9053 22.8333 21.5832 22.8333H20.4165C20.0943 22.8333 19.8332 22.5721 19.8332 22.25V18.1666H15.7498C15.4277 18.1666 15.1665 17.9055 15.1665 17.5833V16.4166C15.1665 16.0945 15.4277 15.8333 15.7498 15.8333H19.8332V11.75Z" fill="white"/>
                </g>
                <defs>
                <filter id="filter0_d_5199_166905" x="-1" y="-1" width="44" height="44" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
                <feOffset dy="4"/>
                <feGaussianBlur stdDeviation="4"/>
                <feComposite in2="hardAlpha" operator="out"/>
                <feColorMatrix type="matrix" values="0 0 0 0 0.2 0 0 0 0 0.439216 0 0 0 0 1 0 0 0 0.1 0"/>
                <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_5199_166905"/>
                <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_5199_166905" result="shape"/>
                </filter>
                </defs>
              </svg>`}})])}setHtml(t){if(this.isMounted)this.r&&this.r.component&&(this.r.component.props.properties=this.props.model.getProperties());else{this.isMounted=!0,console.log("this.model = "+this.props.model.isSelected+" , hello world = "+this.props.model.helloworld),this.r=uA(this.component,{properties:this.props.model.getProperties(),text:this.props.model.inputData,isSelected:this.props.model.isSelected,nodeModel:this.props.model,onBtnClick:a=>{props.graphModel.eventCenter.emit("custom:onBtnClick",a)}});const r=document.createElement("div");t.appendChild(r),this.app=sA({render:()=>this.r}),this.app.use(KC),this.app.use(qC),this.app.mount(r)}}componentWillUnmount(){super.componentWillUnmount(),this.unmount()}getComponentContainer(){return this.root}targetId(){return`${this.props.graphModel.flowId}:${this.props.model.id}`}unmountVueComponent(){return this.app&&(this.app.unmount(),this.app=null),this.root&&(this.root.innerHTML=""),this.root}unmount(){this.unmountVueComponent()}}class mu extends Yp.model{refreshDeges(){this.incoming.edges.forEach(function(t){t.updatePathByAnchor()}),this.outgoing.edges.forEach(function(t){t.updatePathByAnchor()})}set_position(t){const{x:r,y:a}=t;console.log("set_position = "+r+","+a),r&&(this.x=r),a&&(this.y=a),this.refreshDeges()}getResizeOutlineStyle(){const t=Yp.model.prototype.getResizeOutlineStyle.call(this);return t.stroke="none",t}getControlPointStyle(){const t=Yp.model.prototype.getControlPointStyle.call(this);return t.stroke="none",t.fill="none",t}getNodeStyle(){return{overflow:"visible"}}getOutlineStyle(){const t=Yp.model.prototype.getOutlineStyle.call(this);return t.stroke="none",t.hover&&(t.hover.stroke="none"),t}getAnchorStyle(t){const r=Yp.model.prototype.getAnchorStyle.call(this,t);return t.type==="left"?(r.fill="red",r.hover.fill="transparent",r.hover.stroke="transparent",r.className="lf-hide-default"):r.fill="green",r}setHeight(t){const r=this.height,a=t+100;console.log("\u8BBE\u7F6E\u9AD8\u5EA6:"+t+",this.height = "+this.height+" , sourceHeight = "+r+" , targetHeight = "+a),this.height=a,this.properties.height=a,this.move(0,(a-r)/2),this.outgoing.edges.forEach(function(n){n.updatePathByAnchor()}),this.incoming.edges.forEach(function(n){n.updatePathByAnchor()})}get_width(){return this.properties&&this.properties.width?this.properties.width:340}setAttributes(){this.width=this.get_width(),this.x=this.properties.x,this.y=this.properties.y,console.log("this.properties = "+JSON.stringify(this.properties));const t=function(a,n){const c=this.graphModel.getNodeIncomingNode(a);for(const f in c){const y=c[f];if(y.id===n)return!0;if(t.call(this,y.id,n))return!0}return!1}.bind(this),r={message:"\u4EC5\u5141\u8BB8\u4ECE\u53F3\u4FA7\u8FDE\u63A5",validate:function(a,n,c){return c.type==="right"}};this.sourceRules.push({message:"\u4E0D\u5141\u8BB8\u5FAA\u73AF\u8FDE\u63A5",validate:function(a,n,c,f){return!t(a.id,n.id)}}),this.sourceRules.push(r),this.targetRules.push({message:"\u4EC5\u5141\u8BB8\u8FDE\u63A5\u5230\u5DE6\u4FA7",validate:function(a,n,c,f){return f.type==="left"}})}getDefaultAnchor(){const{id:t,x:r,y:a,width:n}=this;console.log("getDefaultAnchor this = "+this+" id = "+t+" x = "+r+" y = "+a+" width = "+n);const c=typeof this.properties.showNode>"u"?!0:this.properties.showNode,f=[];return this.type!==bn.Base&&(this.type!==bn.Start&&f.push({x:r-n/2-5,y:c?a:a-15,id:`${t}_left`,edgeAddable:!1,type:"left"}),f.push({x:r+n/2-5,y:c?a:a-15,id:`${t}_right`,type:"right"})),f}}class r9 extends gu{constructor(t){super(t,GM)}}const n9={type:"ai_chat",model:mu,view:r9},o9=Object.freeze(Object.defineProperty({__proto__:null,default:n9},Symbol.toStringTag,{value:"Module"}));class i9 extends gu{constructor(t){super(t,iI)}}const a9=(e,t)=>e.filter((r,a)=>a<t).map(r=>r.height+8).reduce((r,a)=>r+a,0);class u9 extends mu{refreshBranch(){this.incoming.edges.forEach(t=>{t.updatePathByAnchor()}),this.outgoing.edges.forEach(t=>{t.updatePathByAnchor()}),this.anchors=this.getDefaultAnchor(),console.log("this.anchors = "+JSON.stringify(this.anchors))}getDefaultAnchor(){const{id:t,x:r,y:a,width:n,height:c,properties:{branch_condition_list:f}}=this;this.height===void 0&&(this.height=200);const y=this.properties.showNode===void 0?!0:this.properties.showNode,v=[];if(v.push({x:r-n/2-5,y:y?a:a-15,id:`${t}_left`,edgeAddable:!1,type:"left"}),f)for(let b=0;b<f.length;b++){const O=f[b];console.log("element = "+O);const S=a9(f,b),P={x:r+n/2-5,y:y?a-c/2+55+S+O.height/2:a-15,id:`${t}_${O.id}_right`,type:"right"};console.log("item = "+P),v.push(P)}return console.log("anchors = "+JSON.stringify(v)),v}}const s9={type:"condition",model:u9,view:i9},c9=Object.freeze(Object.defineProperty({__proto__:null,default:s9},Symbol.toStringTag,{value:"Module"}));class f9 extends gu{constructor(t){super(t,aI)}}const l9={type:"document_extract",model:mu,view:f9},d9=Object.freeze(Object.defineProperty({__proto__:null,default:l9},Symbol.toStringTag,{value:"Module"}));class p9 extends gu{constructor(t){super(t,uI)}}const h9={type:"function",model:mu,view:p9},v9=Object.freeze(Object.defineProperty({__proto__:null,default:h9},Symbol.toStringTag,{value:"Module"}));class y9 extends gu{constructor(t){super(t,sI)}}const g9={type:"image_generate",model:mu,view:y9},m9=Object.freeze(Object.defineProperty({__proto__:null,default:g9},Symbol.toStringTag,{value:"Module"}));class b9 extends gu{constructor(t){super(t,cI)}}const _9={type:"image_understand",model:mu,view:b9},E9=Object.freeze(Object.defineProperty({__proto__:null,default:_9},Symbol.toStringTag,{value:"Module"}));class O9 extends gu{constructor(t){super(t,fI)}}const w9={type:"knowledge_search",model:mu,view:O9},x9=Object.freeze(Object.defineProperty({__proto__:null,default:w9},Symbol.toStringTag,{value:"Module"}));class S9 extends gu{constructor(t){super(t,lI)}}const A9={type:"question",model:mu,view:S9},T9=Object.freeze(Object.defineProperty({__proto__:null,default:A9},Symbol.toStringTag,{value:"Module"}));class P9 extends gu{constructor(t){super(t,dI)}}const R9={type:"reply",model:mu,view:P9},j9=Object.freeze(Object.defineProperty({__proto__:null,default:R9},Symbol.toStringTag,{value:"Module"}));class N9 extends gu{constructor(t){super(t,pI)}}const M9={type:"reranker",model:mu,view:N9},C9=Object.freeze(Object.defineProperty({__proto__:null,default:M9},Symbol.toStringTag,{value:"Module"}));class I9 extends gu{constructor(t){super(t,hI)}}const D9={type:"speech_to_text",model:mu,view:I9},k9=Object.freeze(Object.defineProperty({__proto__:null,default:D9},Symbol.toStringTag,{value:"Module"}));class L9 extends gu{constructor(t){super(t,vI)}}const F9={type:"start",model:mu,view:L9},B9=Object.freeze(Object.defineProperty({__proto__:null,default:F9},Symbol.toStringTag,{value:"Module"}));class G9 extends gu{constructor(t){super(t,yI)}}const U9={type:"text_to_speech",model:mu,view:G9},z9=Object.freeze(Object.defineProperty({__proto__:null,default:U9},Symbol.toStringTag,{value:"Module"}));class $9{constructor(){this.nodes=[],this.edges=[],this.combos=[],this.comboEdges=[],this.hiddenNodes=[],this.hiddenEdges=[],this.hiddenCombos=[],this.vedges=[],this.positions=[],this.destroyed=!1,this.onLayoutEnd=()=>{}}layout(t){return this.init(t),this.execute(!0)}init(t){this.nodes=t.nodes||[],this.edges=t.edges||[],this.combos=t.combos||[],this.comboEdges=t.comboEdges||[],this.hiddenNodes=t.hiddenNodes||[],this.hiddenEdges=t.hiddenEdges||[],this.hiddenCombos=t.hiddenCombos||[],this.vedges=t.vedges||[]}execute(t){}executeWithWorker(){}getDefaultCfg(){return{}}updateCfg(t){t&&Object.assign(this,t)}getType(){return"base"}destroy(){this.nodes=null,this.edges=null,this.combos=null,this.positions=null,this.destroyed=!0}}const H9=e=>typeof e=="string",Rx=Array.isArray,eg=e=>typeof e=="number",yP=e=>e!==null&&typeof e=="object",tg=e=>{if(e===null)return e;if(e instanceof Date)return new Date(e.getTime());if(e instanceof Array){const t=[];return e.forEach(r=>{t.push(r)}),t.map(r=>tg(r))}if(typeof e=="object"&&Object.keys(e).length){const t=Object.assign({},e);return Object.keys(t).forEach(r=>{t[r]=tg(t[r])}),t}return e},Xp=(e,t)=>{const r=e[t];return yP(r)?r.cell:r},jx=(e,t,r)=>{let a;return r?a=r:eg(e)?a=()=>e:a=()=>t,a},X9=(e,t)=>{if(e!=="next"&&e!=="prev")return t},Nx=e=>{e.prev.next=e.next,e.next.prev=e.prev,delete e.next,delete e.prev};class W9{constructor(){const t={};t.prev=t,t.next=t.prev,this.shortcut=t}dequeue(){const t=this.shortcut,r=t.prev;if(r&&r!==t)return Nx(r),r}enqueue(t){const r=this.shortcut;t.prev&&t.next&&Nx(t),t.next=r.next,r.next.prev=t,r.next=t,t.prev=r}toString(){const t=[],r=this.shortcut;let a=r.prev;for(;a!==r;)t.push(JSON.stringify(a,X9)),a=a==null?void 0:a.prev;return`[${t.join(", ")}]`}}var oh;(function(e){e.DEFAULT_EDGE_NAME="\0",e.GRAPH_NODE="\0",e.EDGE_KEY_DELIM=""})(oh||(oh={}));function Mx(e,t){var r=e.get(t)||0;e.set(t,r+1)}function Cx(e,t){var r=e.get(t);r!==void 0&&(r=r-1,r>0?e.set(t,r):e.delete(t))}function gP(e,t,r,a){var n=String(t),c=String(r);if(!e&&n>c){var f=n;n=c,c=f}return n+oh.EDGE_KEY_DELIM+c+oh.EDGE_KEY_DELIM+(a===void 0?oh.DEFAULT_EDGE_NAME:a)}function Ix(e,t,r,a){var n=String(t),c=String(r),f={v:t,w:r};if(!e&&n>c){var y=f.v;f.v=f.w,f.w=y}return a!==void 0&&(f.name=a),f}function xb(e,t){return gP(e,t.v,t.w,t.name)}function Dx(e){return typeof e=="function"}var V9=function(t){return t.nodes().map(function(r){var a=t.node(r),n=t.parent(r),c={id:r,value:a,parent:n};return c.value===void 0&&delete c.value,c.parent===void 0&&delete c.parent,c})},Y9=function(t){return t.edges().map(function(r){var a=t.edge(r),n={v:r.v,w:r.w,value:a,name:r.name};return n.name===void 0&&delete n.name,n.value===void 0&&delete n.value,n})},K9=function(t){var r={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:V9(t),edges:Y9(t),value:t.graph()};return r.value===void 0&&delete r.value,r},q9=function(t){var r=new xh(t.options);return t.value!==void 0&&r.setGraph(t.value),t.nodes.forEach(function(a){r.setNode(a.id,a.value),a.parent&&r.setParent(a.id,a.parent)}),t.edges.forEach(function(a){r.setEdge(a.v,a.w,a.value,a.name)}),r};function kx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Lx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kx(Object(r),!0).forEach(function(a){Z9(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kx(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Z9(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fx(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Q9(e,t,r){return t&&Fx(e.prototype,t),r&&Fx(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var e7={compound:!1,multigraph:!1,directed:!0},xh=function(){function e(){var t=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};J9(this,e),this.directed=!0,this.multigraph=!1,this.compound=!1,this.GRAPH_NODE=oh.GRAPH_NODE,this.label=void 0,this.nodeCountNum=0,this.edgeCountNum=0,this.defaultNodeLabelFn=function(){},this.defaultEdgeLabelFn=function(){},this.parentMap=void 0,this.childrenMap=void 0,this.nodesLabelMap=new Map,this.inEdgesMap=new Map,this.outEdgesMap=new Map,this.predecessorsMap=new Map,this.successorsMap=new Map,this.edgesMap=new Map,this.edgesLabelsMap=new Map,this.isDirected=function(){return t.directed},this.isMultigraph=function(){return t.multigraph},this.isCompound=function(){return t.compound},this.setGraph=function(n){return t.label=n,t},this.graph=function(){return t.label},this.setDefaultNodeLabel=function(n){return Dx(n)?t.defaultNodeLabelFn=n:t.defaultNodeLabelFn=function(){return n},t},this.nodeCount=function(){return t.nodeCountNum},this.node=function(n){return t.nodesLabelMap.get(n)},this.nodes=function(){return Array.from(t.nodesLabelMap.keys())},this.sources=function(){return t.nodes().filter(function(n){var c;return!(!((c=t.inEdgesMap.get(n))===null||c===void 0)&&c.size)})},this.sinks=function(){return t.nodes().filter(function(n){var c;return!(!((c=t.outEdgesMap.get(n))===null||c===void 0)&&c.size)})},this.setNodes=function(n,c){return n.map(function(f){return t.setNode(f,c)}),t},this.hasNode=function(n){return t.nodesLabelMap.has(n)},this.checkCompound=function(){if(!t.isCompound())throw new Error("Cannot construct parent-children relations in a non-compound graph")},this.parent=function(n){if(t.isCompound()){var c,f=(c=t.parentMap)===null||c===void 0?void 0:c.get(n);if(f!==t.GRAPH_NODE)return f}},this.removeFromParentsChildList=function(n){var c=t.parentMap.get(n);t.childrenMap.get(c).delete(n)},this.setParent=function(n,c){var f,y;t.checkCompound();for(var v=c===void 0?t.GRAPH_NODE:c,b=t.parent(v);b;){if(n===b)throw new Error("Setting "+c+" as parent of "+n+" would create a cycle");b=t.parent(b)}c&&t.setNode(c),t.setNode(n),t.removeFromParentsChildList(n),(f=t.parentMap)===null||f===void 0||f.set(n,v);var O=t.childrenMap.get(v);return O.set(n,!0),(y=t.childrenMap)===null||y===void 0||y.set(v,O),t},this.children=function(n){var c=n===void 0?t.GRAPH_NODE:n;if(t.isCompound()){var f,y=(f=t.childrenMap)===null||f===void 0?void 0:f.get(c);return y?Array.from(y.keys()):void 0}if(c===t.GRAPH_NODE)return t.nodes();if(n&&t.hasNode(n))return[]},this.predecessors=function(n){var c=t.predecessorsMap.get(n);return c?Array.from(c.keys()):void 0},this.successors=function(n){var c=t.successorsMap.get(n);return c?Array.from(c.keys()):void 0},this.neighbors=function(n){var c;if(!!t.hasNode(n))return Array.from(new Set((c=t.predecessors(n))===null||c===void 0?void 0:c.concat(t.successors(n))))},this.isLeaf=function(n){var c;if(t.isDirected()){var f;return!(!((f=t.successors(n))===null||f===void 0)&&f.length)}return!(!((c=t.neighbors(n))===null||c===void 0)&&c.length)},this.filterNodes=function(n){var c=t.directed,f=t.multigraph,y=t.compound,v=new e({directed:c,multigraph:f,compound:y});if(v.setGraph(t.graph()),t.nodes().forEach(function(O){n(O)&&v.setNode(O,t.node(O))}),t.edges().forEach(function(O){v.hasNode(O.v)&&v.hasNode(O.w)&&v.setEdgeObj(O,t.edge(O))}),y){var b=function(S){for(var P=t.parent(S);P!==void 0&&!v.hasNode(P);)P=t.parent(P);return P};v.nodes().forEach(function(O){v.setParent(O,b(O))})}return v},this.setDefaultEdgeLabel=function(n){return Dx(n)?t.defaultEdgeLabelFn=n:t.defaultEdgeLabelFn=function(){return n},t},this.edgeCount=function(){return t.edgeCountNum},this.setEdgeObj=function(n,c){return t.setEdge(n.v,n.w,c,n.name)},this.setPath=function(n,c){return n.reduce(function(f,y){return t.setEdge(f,y,c),y}),t},this.edgeFromArgs=function(n,c,f){return t.edge({v:n,w:c,name:f})},this.edge=function(n){return t.edgesLabelsMap.get(xb(t.isDirected(),n))},this.hasEdge=function(n,c,f){return t.edgesLabelsMap.has(xb(t.isDirected(),{v:n,w:c,name:f}))},this.removeEdgeObj=function(n){var c=n.v,f=n.w,y=n.name;return t.removeEdge(c,f,y)},this.edges=function(){return Array.from(t.edgesMap.values())},this.inEdges=function(n,c){var f=t.inEdgesMap.get(n);if(f)return Array.from(f.values()).filter(function(y){return!c||y.v===c})},this.outEdges=function(n,c){var f=t.outEdgesMap.get(n);if(f)return Array.from(f.values()).filter(function(y){return!c||y.w===c})},this.nodeEdges=function(n,c){var f;if(!!t.hasNode(n))return(f=t.inEdges(n,c))===null||f===void 0?void 0:f.concat(t.outEdges(n,c))},this.toJSON=function(){return K9(t)},this.nodeInDegree=function(n){var c=t.inEdgesMap.get(n);return c?c.size:0},this.nodeOutDegree=function(n){var c=t.outEdgesMap.get(n);return c?c.size:0},this.nodeDegree=function(n){return t.nodeInDegree(n)+t.nodeOutDegree(n)},this.source=function(n){return n.v},this.target=function(n){return n.w};var a=Lx(Lx({},e7),r);this.compound=a.compound,this.directed=a.directed,this.multigraph=a.multigraph,this.compound&&(this.parentMap=new Map,this.childrenMap=new Map)}return Q9(e,[{key:"setNode",value:function(r,a){var n=this.nodesLabelMap,c=this.defaultNodeLabelFn,f=this.isCompound,y=this.parentMap,v=this.childrenMap,b=this.inEdgesMap,O=this.outEdgesMap,S=this.predecessorsMap,P=this.successorsMap;if(n.has(r))return a!==void 0&&n.set(r,a),this;if(n.set(r,a||c(r)),f()){var j;y==null||y.set(r,this.GRAPH_NODE),v==null||v.set(r,new Map),v!=null&&v.has(this.GRAPH_NODE)||v==null||v.set(this.GRAPH_NODE,new Map),v==null||(j=v.get(this.GRAPH_NODE))===null||j===void 0||j.set(r,!0)}return[b,O,S,P].forEach(function(I){return I.set(r,new Map)}),this.nodeCountNum+=1,this}},{key:"removeNode",value:function(r){var a=this;if(this.hasNode(r)){var n=function(k){a.removeEdge(k.v,k.w,k.name)},c=this.inEdgesMap,f=this.outEdgesMap,y=this.predecessorsMap,v=this.successorsMap,b=this.nodesLabelMap;if(this.isCompound()){var O,S,P;this.removeFromParentsChildList(r),(O=this.parentMap)===null||O===void 0||O.delete(r),(S=this.children(r))===null||S===void 0||S.forEach(function(C){return a.setParent(C)}),(P=this.childrenMap)===null||P===void 0||P.delete(r)}var j=c.get(r),I=f.get(r);Array.from(j.values()).forEach(function(C){return n(C)}),Array.from(I.values()).forEach(function(C){return n(C)}),b.delete(r),c.delete(r),f.delete(r),y.delete(r),v.delete(r),this.nodeCountNum-=1}return this}},{key:"setEdge",value:function(r,a,n,c){var f,y,v=Ix(this.isDirected(),r,a,c),b=xb(this.isDirected(),v),O=v.v,S=v.w;if(this.edgesLabelsMap.has(b))return this.edgesLabelsMap.set(b,n),this;if(c!==void 0&&!this.isMultigraph())throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(O),this.setNode(S),this.edgesLabelsMap.set(b,n||this.defaultEdgeLabelFn(O,S,c)),Object.freeze(v),this.edgesMap.set(b,v);var P=this.predecessorsMap.get(S),j=this.successorsMap.get(O);return Mx(P,O),Mx(j,S),(f=this.inEdgesMap.get(S))===null||f===void 0||f.set(b,v),(y=this.outEdgesMap.get(O))===null||y===void 0||y.set(b,v),this.edgeCountNum+=1,this}},{key:"removeEdge",value:function(r,a,n){var c=gP(this.isDirected(),r,a,n),f=this.edgesMap.get(c);if(f){var y=Ix(this.isDirected(),r,a,n),v=y.v,b=y.w;this.edgesLabelsMap.delete(c),this.edgesMap.delete(c);var O=this.predecessorsMap.get(b),S=this.successorsMap.get(v);Cx(O,v),Cx(S,b),this.inEdgesMap.get(b).delete(c),this.outEdgesMap.get(v).delete(c),this.edgeCountNum-=1}return this}}]),e}();xh.fromJSON=q9;function Bx(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function t7(e,t,r){return t&&Bx(e.prototype,t),r&&Bx(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function r7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var mP=t7(function e(){var t=this;r7(this,e),this.arr=[],this.keyIndice=new Map,this.size=function(){return t.arr.length},this.keys=function(){return t.arr.map(function(r){return r.key})},this.has=function(r){return t.keyIndice.has(r)},this.priority=function(r){var a=t.keyIndice.get(r);if(a!==void 0)return t.arr[a].priority},this.swap=function(r,a){var n=t.arr,c=t.keyIndice,f=[n[r],n[a]],y=f[0],v=f[1];n[r]=v,n[a]=y,c.set(y.key,a),c.set(v.key,r)},this.innerDecrease=function(r){for(var a=t.arr,n=a[r].priority,c,f=r;f!==0;){var y;if(c=f>>1,((y=a[c])===null||y===void 0?void 0:y.priority)<n)break;t.swap(f,c),f=c}},this.heapify=function(r){var a=t.arr,n=r<<1,c=n+1,f=r;n<a.length&&(f=a[n].priority<a[f].priority?n:f,c<a.length&&(f=a[c].priority<a[f].priority?c:f),f!==r&&(t.swap(r,f),t.heapify(f)))},this.min=function(){if(t.size()===0)throw new Error("Queue underflow");return t.arr[0].key},this.add=function(r,a){var n=t.keyIndice,c=t.arr;if(!n.has(r)){var f=c.length;return n.set(r,f),c.push({key:r,priority:a}),t.innerDecrease(f),!0}return!1},this.removeMin=function(){t.swap(0,t.arr.length-1);var r=t.arr.pop();return t.keyIndice.delete(r.key),t.heapify(0),r.key},this.decrease=function(r,a){if(!t.has(r))throw new Error("There's no key named ".concat(r));var n=t.keyIndice.get(r);if(a>t.arr[n].priority)throw new Error("New priority is greater than current priority.Key: ".concat(r," Old: + ").concat(t.arr[n].priority," New: ").concat(a));t.arr[n].priority=a,t.innerDecrease(n)}}),n7=function(t,r){var a=new xh,n=new Map,c=new mP,f;function y(O){var S=O.v===f?O.w:O.v,P=c.priority(S);if(P!==void 0){var j=r(O);j<P&&(n.set(S,f),c.decrease(S,j))}}if(t.nodeCount()===0)return a;t.nodes().forEach(function(O){c.add(O,Number.POSITIVE_INFINITY),a.setNode(O)}),c.decrease(t.nodes()[0],0);for(var v=!1;c.size()>0;){var b;if(f=c.removeMin(),n.has(f))a.setEdge(f,n.get(f));else{if(v)throw new Error("Input graph is not connected: "+t.graph());v=!0}(b=t.nodeEdges(f))===null||b===void 0||b.forEach(y)}return a},o7=function(t){var r=new Set,a=[],n=t.nodes();return n.forEach(function(c){for(var f=[],y=[c];y.length>0;){var v=y.pop();if(!r.has(v)){var b,O;r.add(v),f.push(v),(b=t.successors(v))===null||b===void 0||b.forEach(function(S){return y.push(S)}),(O=t.predecessors(v))===null||O===void 0||O.forEach(function(S){return y.push(S)})}}f.length&&a.push(f)}),a},i7=function e(t,r,a,n,c,f){n.includes(r)||(n.push(r),a||f.push(r),c(r).forEach(function(y){return e(t,y,a,n,c,f)}),a&&f.push(r))},i1=function(t,r,a){var n=Array.isArray(r)?r:[r],c=function(b){return t.isDirected()?t.successors(b):t.neighbors(b)},f=[],y=[];return n.forEach(function(v){if(t.hasNode(v))i7(t,v,a==="post",y,c,f);else throw new Error("Graph does not have node: "+v)}),f};function a7(e,t){return f7(e)||c7(e,t)||s7(e,t)||u7()}function u7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s7(e,t){if(!!e){if(typeof e=="string")return Gx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gx(e,t)}}function Gx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function c7(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a=[],n=!0,c=!1,f,y;try{for(r=r.call(e);!(n=(f=r.next()).done)&&(a.push(f.value),!(t&&a.length===t));n=!0);}catch(v){c=!0,y=v}finally{try{!n&&r.return!=null&&r.return()}finally{if(c)throw y}}return a}}function f7(e){if(Array.isArray(e))return e}var l7=function(){return 1},bP=function(t,r,a,n){return d7(t,r,a||l7,n||function(c){return t.outEdges(c)})},d7=function(t,r,a,n){var c=new Map,f=new mP,y,v,b=function(P){var j=P.v!==y?P.v:P.w,I=c.get(j),C=a(P),k=v.distance+C;if(C<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+P+" Weight: "+C);k<I.distance&&(I.distance=k,I.predecessor=y,f.decrease(j,k))};for(t.nodes().forEach(function(S){var P=S===r?0:Number.POSITIVE_INFINITY;c.set(S,{distance:P}),f.add(S,P)});f.size()>0&&(y=f.removeMin(),v=c.get(y),!(v&&v.distance===Number.POSITIVE_INFINITY));)n(y).forEach(b);var O={};return Array.from(c.entries()).forEach(function(S){var P=a7(S,2),j=P[0],I=P[1];return O[String(j)]=I,O}),O},p7=function(t,r,a){var n={};return t.nodes().forEach(function(c){return n[String(c)]=bP(t,c,r,a),n}),n},_P=function(t){var r=0,a=[],n=new Map,c=[];function f(y){var v,b={onStack:!0,lowlink:r,index:r};if(n.set(y,b),r+=1,a.push(y),(v=t.successors(y))===null||v===void 0||v.forEach(function(j){var I;if(n.has(j)){if(!((I=n.get(j))===null||I===void 0)&&I.onStack){var k=n.get(j);b.lowlink=Math.min(b.lowlink,k.index)}}else{f(j);var C=n.get(j);b.lowlink=Math.min(b.lowlink,C.lowlink)}}),b.lowlink===b.index){var O=[],S;do{S=a.pop();var P=n.get(S);P.onStack=!1,O.push(S)}while(y!==S);c.push(O)}}return t.nodes().forEach(function(y){n.has(y)||f(y)}),c},h7=function(t){return _P(t).filter(function(r){return r.length>1||r.length===1&&t.hasEdge(r[0],r[0])})};function o_(e){return o_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o_(e)}function Ux(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function v7(e,t,r){return t&&Ux(e.prototype,t),r&&Ux(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function y7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g7(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fv(e,t)}function m7(e){var t=EP();return function(){var a=lv(e),n;if(t){var c=lv(this).constructor;n=Reflect.construct(a,arguments,c)}else n=a.apply(this,arguments);return b7(this,n)}}function b7(e,t){if(t&&(o_(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _7(e)}function _7(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i_(e){var t=typeof Map=="function"?new Map:void 0;return i_=function(a){if(a===null||!E7(a))return a;if(typeof a!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(a))return t.get(a);t.set(a,n)}function n(){return ky(a,arguments,lv(this).constructor)}return n.prototype=Object.create(a.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),fv(n,a)},i_(e)}function ky(e,t,r){return EP()?ky=Reflect.construct:ky=function(n,c,f){var y=[null];y.push.apply(y,c);var v=Function.bind.apply(n,y),b=new v;return f&&fv(b,f.prototype),b},ky.apply(null,arguments)}function EP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function E7(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function fv(e,t){return fv=Object.setPrototypeOf||function(a,n){return a.__proto__=n,a},fv(e,t)}function lv(e){return lv=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},lv(e)}var a_=function(e){g7(r,e);var t=m7(r);function r(){return y7(this,r),t.apply(this,arguments)}return v7(r)}(i_(Error));function OP(e){var t=new Set,r=new Set,a=[];function n(c){if(r.has(c))throw new a_;if(!t.has(c)){var f;r.add(c),t.add(c),(f=e.predecessors(c))===null||f===void 0||f.forEach(n),r.delete(c),a.push(c)}}if(e.sinks().forEach(n),t.size!==e.nodeCount())throw new a_;return a}var O7=function(t){try{OP(t)}catch(r){if(r instanceof a_)return!1;throw r}return!0},w7=function(t,r){return i1(t,r,"post")},x7=function(t,r){return i1(t,r,"pre")},S7=function(){return 1};function A7(e,t,r){return T7(e,t||S7,r||function(a){return e.outEdges(a)})}function T7(e,t,r){var a={},n=e.nodes();return n.forEach(function(c){var f=String(c);a[f]={},a[f][f]={distance:0},n.forEach(function(y){c!==y&&(a[f][String(y)]={distance:Number.POSITIVE_INFINITY})}),r(c).forEach(function(y){var v=y.v===c?y.w:y.v,b=t(y);a[f][String(v)]={distance:b,predecessor:c}})}),n.forEach(function(c){var f=String(c),y=a[f];n.forEach(function(v){var b=String(v),O=a[b];n.forEach(function(S){var P=String(S),j=O[f],I=y[P],C=O[P],k=j.distance+I.distance;k<C.distance&&(C.distance=k,C.predecessor=I.predecessor)})})}),a}const P7=Object.freeze(Object.defineProperty({__proto__:null,components:o7,dfs:i1,dijkstra:bP,dijkstraAll:p7,findCycles:h7,tarjan:_P,isAcyclic:O7,postorder:w7,preorder:x7,prim:n7,topsort:OP,floydWarshall:A7},Symbol.toStringTag,{value:"Module"}));class R7 extends W9{}class j7 extends xh{}const N7=()=>1,M7=(e,t)=>{var r;if(e.nodeCount()<=1)return[];const a=I7(e,t||N7);return(r=C7(a.graph,a.buckets,a.zeroIdx).map(c=>e.outEdges(c.v,c.w)))===null||r===void 0?void 0:r.flat()},C7=(e,t,r)=>{let a=[];const n=t[t.length-1],c=t[0];let f;for(;e.nodeCount();){for(;f=c.dequeue();)Sb(e,t,r,f);for(;f=n.dequeue();)Sb(e,t,r,f);if(e.nodeCount()){for(let y=t.length-2;y>0;--y)if(f=t[y].dequeue(),f){a=a.concat(Sb(e,t,r,f,!0));break}}}return a},Sb=(e,t,r,a,n)=>{var c,f;const y=[];return(c=e.inEdges(a.v))===null||c===void 0||c.forEach(v=>{const b=e.edge(v),O=e.node(v.v);n&&y.push({v:v.v,w:v.w,in:0,out:0}),O.out===void 0&&(O.out=0),O.out-=b,u_(t,r,O)}),(f=e.outEdges(a.v))===null||f===void 0||f.forEach(v=>{const b=e.edge(v),O=v.w,S=e.node(O);S.in===void 0&&(S.in=0),S.in-=b,u_(t,r,S)}),e.removeNode(a.v),n?y:void 0},I7=(e,t)=>{const r=new j7;let a=0,n=0;e.nodes().forEach(v=>{r.setNode(v,{v,in:0,out:0})}),e.edges().forEach(v=>{const b=r.edge(v)||0,O=(t==null?void 0:t(v))||1,S=b+O;r.setEdge(v.v,v.w,S),n=Math.max(n,r.node(v.v).out+=O),a=Math.max(a,r.node(v.w).in+=O)});const c=[],f=n+a+3;for(let v=0;v<f;v++)c.push(new R7);const y=a+1;return r.nodes().forEach(v=>{u_(c,y,r.node(v))}),{buckets:c,zeroIdx:y,graph:r}},u_=(e,t,r)=>{r.out?r.in?e[r.out-r.in+t].enqueue(r):e[e.length-1].enqueue(r):e[0].enqueue(r)},D7=e=>{const t=a=>n=>{var c;return((c=a.edge(n))===null||c===void 0?void 0:c.weight)||1},r=e.graph().acyclicer==="greedy"?M7(e,t(e)):k7(e);r==null||r.forEach(a=>{const n=e.edge(a);e.removeEdgeObj(a),n.forwardName=a.name,n.reversed=!0,e.setEdge(a.w,a.v,n,`rev-${Math.random()}`)})},k7=e=>{const t=[],r={},a={},n=c=>{var f;a[c]||(a[c]=!0,r[c]=!0,(f=e.outEdges(c))===null||f===void 0||f.forEach(y=>{r[y.w]?t.push(y):n(y.w)}),delete r[c])};return e.nodes().forEach(n),t},L7=e=>{e.edges().forEach(t=>{const r=e.edge(t);if(r.reversed){e.removeEdgeObj(t);const a=r.forwardName;delete r.reversed,delete r.forwardName,e.setEdge(t.w,t.v,r,a)}})},zx={run:D7,undo:L7};class Mf extends xh{}const F7=(e,t)=>Number(e)-Number(t),Sh=(e,t,r,a)=>{let n;do n=`${a}${Math.random()}`;while(e.hasNode(n));return r.dummy=t,e.setNode(n,r),n},B7=e=>{const t=new Mf().setGraph(e.graph());return e.nodes().forEach(r=>{t.setNode(r,e.node(r))}),e.edges().forEach(r=>{const a=t.edgeFromArgs(r.v,r.w)||{weight:0,minlen:1},n=e.edge(r);t.setEdge(r.v,r.w,{weight:a.weight+n.weight,minlen:Math.max(a.minlen,n.minlen)})}),t},wP=e=>{const t=new Mf({multigraph:e.isMultigraph()}).setGraph(e.graph());return e.nodes().forEach(r=>{var a;!((a=e.children(r))===null||a===void 0)&&a.length||t.setNode(r,e.node(r))}),e.edges().forEach(r=>{t.setEdgeObj(r,e.edge(r))}),t},G7=(e,t)=>e==null?void 0:e.reduce((r,a,n)=>(r[a]=t[n],r),{}),$x=(e,t)=>{const r=Number(e.x),a=Number(e.y),n=Number(t.x)-r,c=Number(t.y)-a;let f=Number(e.width)/2,y=Number(e.height)/2;if(!n&&!c)return{x:0,y:0};let v,b;return Math.abs(c)*f>Math.abs(n)*y?(c<0&&(y=-y),v=y*n/c,b=y):(n<0&&(f=-f),v=f,b=f*c/n),{x:r+v,y:a+b}},dv=e=>{const t=[],r=xP(e)+1;for(let a=0;a<r;a++)t.push([]);e.nodes().forEach(a=>{const n=e.node(a);if(!n)return;const c=n.rank;c!==void 0&&t[c]&&t[c].push(a)});for(let a=0;a<r;a++)t[a]=t[a].sort((n,c)=>{var f,y;return F7((f=e.node(n))===null||f===void 0?void 0:f.order,(y=e.node(c))===null||y===void 0?void 0:y.order)});return t},U7=e=>{const t=e.nodes().filter(a=>{var n;return((n=e.node(a))===null||n===void 0?void 0:n.rank)!==void 0}).map(a=>e.node(a).rank),r=Math.min(...t);e.nodes().forEach(a=>{const n=e.node(a);n.hasOwnProperty("rank")&&r!==1/0&&(n.rank-=r)})},z7=e=>{const t=e.nodes(),r=t.filter(y=>{var v;return((v=e.node(y))===null||v===void 0?void 0:v.rank)!==void 0}).map(y=>e.node(y).rank),a=Math.min(...r),n=[];t.forEach(y=>{var v;const b=(((v=e.node(y))===null||v===void 0?void 0:v.rank)||0)-a;n[b]||(n[b]=[]),n[b].push(y)});let c=0;const f=e.graph().nodeRankFactor||0;for(let y=0;y<n.length;y++){const v=n[y];v===void 0?y%f!==0&&(c-=1):c&&(v==null||v.forEach(b=>{const O=e.node(b);O&&(O.rank=O.rank||0,O.rank+=c)}))}},Hx=(e,t,r,a)=>{const n={width:0,height:0};return eg(r)&&eg(a)&&(n.rank=r,n.order=a),Sh(e,"border",n,t)},xP=e=>{let t;return e.nodes().forEach(r=>{var a;const n=(a=e.node(r))===null||a===void 0?void 0:a.rank;n!==void 0&&(t===void 0||n>t)&&(t=n)}),t||(t=0),t},$7=(e,t)=>{const r={lhs:[],rhs:[]};return e==null||e.forEach(a=>{t(a)?r.lhs.push(a):r.rhs.push(a)}),r},SP=(e,t)=>{const r=Date.now();try{return t()}finally{console.log(`${e} time: ${Date.now()-r}ms`)}},AP=(e,t)=>t(),a1=(e,t)=>e.reduce((r,a)=>{const n=t(r),c=t(a);return n>c?a:r}),H7=e=>{e.graph().dummyChains=[],e.edges().forEach(t=>X7(e,t))},X7=(e,t)=>{let r=t.v,a=e.node(r).rank;const n=t.w,c=e.node(n).rank,f=t.name,y=e.edge(t),v=y.labelRank;if(c===a+1)return;e.removeEdgeObj(t);const b=e.graph();let O,S,P;for(P=0,++a;a<c;++P,++a)y.points=[],S={edgeLabel:y,width:0,height:0,edgeObj:t,rank:a},O=Sh(e,"edge",S,"_d"),a===v&&(S.width=y.width,S.height=y.height,S.dummy="edge-label",S.labelpos=y.labelpos),e.setEdge(r,O,{weight:y.weight},f),P===0&&(b.dummyChains||(b.dummyChains=[]),b.dummyChains.push(O)),r=O;e.setEdge(r,n,{weight:y.weight},f)},W7=e=>{var t;(t=e.graph().dummyChains)===null||t===void 0||t.forEach(r=>{let a=e.node(r);const n=a.edgeLabel;let c;a.edgeObj&&e.setEdgeObj(a.edgeObj,n);let f=r;for(;a.dummy;)c=e.successors(f)[0],e.removeNode(f),n.points.push({x:a.x,y:a.y}),a.dummy==="edge-label"&&(n.x=a.x,n.y=a.y,n.width=a.width,n.height=a.height),f=c,a=e.node(f)})},Xx={run:H7,undo:W7},TP=e=>{var t;const r={},a=n=>{var c;const f=e.node(n);if(!f)return 0;if(r[n])return f.rank;r[n]=!0;let y;return(c=e.outEdges(n))===null||c===void 0||c.forEach(v=>{const b=a(v.w),O=e.edge(v).minlen,S=b-O;S&&(y===void 0||S<y)&&(y=S)}),y||(y=0),f.rank=y,y};(t=e.sources())===null||t===void 0||t.forEach(n=>a(n))},V7=e=>{var t;const r={};let a;const n=y=>{var v;const b=e.node(y);if(!b)return 0;if(r[y])return b.rank;r[y]=!0;let O;return(v=e.outEdges(y))===null||v===void 0||v.forEach(S=>{const P=n(S.w),j=e.edge(S).minlen,I=P-j;I&&(O===void 0||I<O)&&(O=I)}),O||(O=0),(a===void 0||O<a)&&(a=O),b.rank=O,O};(t=e.sources())===null||t===void 0||t.forEach(y=>{e.node(y)&&n(y)}),a===void 0&&(a=0);const c={},f=(y,v)=>{var b;const O=e.node(y),S=isNaN(O.layer)?v:O.layer;(O.rank===void 0||O.rank<S)&&(O.rank=S),!c[y]&&(c[y]=!0,(b=e.outEdges(y))===null||b===void 0||b.map(P=>{f(P.w,S+e.edge(P).minlen)}))};e.nodes().forEach(y=>{const v=e.node(y);!v||(isNaN(v.layer)?v.rank-=a:f(y,v.layer))})},kl=(e,t)=>e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen,Y7=e=>{const t=new Mf({directed:!1}),r=e.nodes()[0],a=e.nodeCount();t.setNode(r,{});let n,c;for(;K7(t,e)<a;)n=PP(t,e),c=t.hasNode(n.v)?kl(e,n):-kl(e,n),RP(t,e,c);return t},K7=(e,t)=>{const r=a=>{t.nodeEdges(a).forEach(n=>{const c=n.v,f=a===c?n.w:c;!e.hasNode(f)&&!kl(t,n)&&(e.setNode(f,{}),e.setEdge(a,f,{}),r(f))})};return e.nodes().forEach(r),e.nodeCount()},q7=e=>{const t=new Mf({directed:!1}),r=e.nodes()[0],a=e.nodes().filter(f=>!!e.node(f)).length;t.setNode(r,{});let n,c;for(;Z7(t,e)<a;)n=PP(t,e),c=t.hasNode(n.v)?kl(e,n):-kl(e,n),RP(t,e,c);return t},Z7=(e,t)=>{const r=a=>{var n;(n=t.nodeEdges(a))===null||n===void 0||n.forEach(c=>{const f=c.v,y=a===f?c.w:f;!e.hasNode(y)&&(t.node(y).layer!==void 0||!kl(t,c))&&(e.setNode(y,{}),e.setEdge(a,y,{}),r(y))})};return e.nodes().forEach(r),e.nodeCount()},PP=(e,t)=>a1(t.edges(),r=>e.hasNode(r.v)!==e.hasNode(r.w)?kl(t,r):1/0),RP=(e,t,r)=>{e.nodes().forEach(a=>{t.node(a).rank||(t.node(a).rank=0),t.node(a).rank+=r})},{preorder:J7,postorder:Q7}=P7,ez=e=>{const t=B7(e);TP(t);const r=Y7(t);NP(r),jP(r,t);let a,n;for(;a=nz(r);)n=oz(r,t,a),iz(r,t,a,n)},jP=(e,t)=>{let r=Q7(e,e.nodes());r=r==null?void 0:r.slice(0,(r==null?void 0:r.length)-1),r==null||r.forEach(a=>{tz(e,t,a)})},tz=(e,t,r)=>{const n=e.node(r).parent;e.edgeFromArgs(r,n).cutvalue=rz(e,t,r)},rz=(e,t,r)=>{var a;const c=e.node(r).parent;let f=!0,y=t.edgeFromArgs(r,c),v=0;return y||(f=!1,y=t.edgeFromArgs(c,r)),v=y.weight,(a=t.nodeEdges(r))===null||a===void 0||a.forEach(b=>{const O=b.v===r,S=O?b.w:b.v;if(S!==c){const P=O===f,j=t.edge(b).weight;if(v+=P?j:-j,uz(e,r,S)){const I=e.edgeFromArgs(r,S).cutvalue;v+=P?-I:I}}}),v},NP=(e,t=e.nodes()[0])=>{MP(e,{},1,t)},MP=(e,t,r,a,n)=>{var c;const f=r;let y=r;const v=e.node(a);return t[a]=!0,(c=e.neighbors(a))===null||c===void 0||c.forEach(b=>{t[b]||(y=MP(e,t,y,b,a))}),v.low=f,v.lim=y++,n?v.parent=n:delete v.parent,y},nz=e=>e.edges().find(t=>e.edge(t).cutvalue<0),oz=(e,t,r)=>{let a=r.v,n=r.w;t.hasEdge(a,n)||(a=r.w,n=r.v);const c=e.node(a),f=e.node(n);let y=c,v=!1;c.lim>f.lim&&(y=f,v=!0);const b=t.edges().filter(O=>v===Wx(e,e.node(O.v),y)&&v!==Wx(e,e.node(O.w),y));return a1(b,O=>kl(t,O))},iz=(e,t,r,a)=>{const n=r.v,c=r.w;e.removeEdge(n,c),e.setEdge(a.v,a.w,{}),NP(e),jP(e,t),az(e,t)},az=(e,t)=>{const r=e.nodes().find(n=>{var c;return!(!((c=t.node(n))===null||c===void 0)&&c.parent)});let a=J7(e,r);a=a==null?void 0:a.slice(1),a==null||a.forEach(n=>{const c=e.node(n).parent;let f=t.edgeFromArgs(n,c),y=!1;f||(f=t.edgeFromArgs(c,n),y=!0),t.node(n).rank=t.node(c).rank+(y?f.minlen:-f.minlen)})},uz=(e,t,r)=>e.hasEdge(t,r),Wx=(e,t,r)=>r.low<=t.lim&&t.lim<=r.lim,sz=e=>{switch(e.graph().ranker){case"network-simplex":fz(e);break;case"tight-tree":Vx(e);break;case"longest-path":cz(e);break;default:Vx(e)}},cz=TP,Vx=e=>{V7(e),q7(e)},fz=e=>{ez(e)},lz=e=>{var t;const r={};let a=0;const n=c=>{var f;const y=a;(f=e.children(c))===null||f===void 0||f.forEach(n),r[c]={low:y,lim:a++}};return(t=e.children())===null||t===void 0||t.forEach(n),r},dz=(e,t,r,a)=>{const n=[],c=[],f=Math.min(t[r].low,t[a].low),y=Math.max(t[r].lim,t[a].lim);let v,b;v=r;do v=e.parent(v),n.push(v);while(v&&(t[v].low>f||y>t[v].lim));for(b=v,v=a;v&&v!==b;)c.push(v),v=e.parent(v);return{lca:b,path:n.concat(c.reverse())}},pz=e=>{var t;const r=lz(e);(t=e.graph().dummyChains)===null||t===void 0||t.forEach(a=>{var n,c;let f=a,y=e.node(f);const v=y.edgeObj;if(!v)return;const b=dz(e,r,v.v,v.w),O=b.path,S=b.lca;let P=0,j=O[P],I=!0;for(;f!==v.w;){if(y=e.node(f),I){for(;j!==S&&((n=e.node(j))===null||n===void 0?void 0:n.maxRank)<y.rank;)P++,j=O[P];j===S&&(I=!1)}if(!I){for(;P<O.length-1&&((c=e.node(O[P+1]))===null||c===void 0?void 0:c.minRank)<=y.rank;)P++;j=O[P]}e.setParent(f,j),f=e.successors(f)[0]}})},hz=e=>{var t;const r=Sh(e,"root",{},"_root"),a=vz(e);let n=Math.max(...Object.values(a));Math.abs(n)===1/0&&(n=1);const c=n-1,f=2*c+1;e.graph().nestingRoot=r,e.edges().forEach(v=>{e.edge(v).minlen*=f});const y=yz(e)+1;(t=e.children())===null||t===void 0||t.forEach(v=>{CP(e,r,f,y,c,a,v)}),e.graph().nodeRankFactor=f},CP=(e,t,r,a,n,c,f)=>{const y=e.children(f);if(!(y!=null&&y.length)){f!==t&&e.setEdge(t,f,{weight:0,minlen:r});return}const v=Hx(e,"_bt"),b=Hx(e,"_bb"),O=e.node(f);e.setParent(v,f),O.borderTop=v,e.setParent(b,f),O.borderBottom=b,y==null||y.forEach(S=>{CP(e,t,r,a,n,c,S);const P=e.node(S),j=P.borderTop?P.borderTop:S,I=P.borderBottom?P.borderBottom:S,C=P.borderTop?a:2*a,k=j!==I?1:n-c[f]+1;e.setEdge(v,j,{minlen:k,weight:C,nestingEdge:!0}),e.setEdge(I,b,{minlen:k,weight:C,nestingEdge:!0})}),e.parent(f)||e.setEdge(t,v,{weight:0,minlen:n+c[f]})},vz=e=>{var t;const r={},a=(n,c)=>{const f=e.children(n);f==null||f.forEach(y=>a(y,c+1)),r[n]=c};return(t=e.children())===null||t===void 0||t.forEach(n=>a(n,1)),r},yz=e=>{let t=0;return e.edges().forEach(r=>{t+=e.edge(r).weight}),t},gz=e=>{const t=e.graph();t.nestingRoot&&e.removeNode(t.nestingRoot),delete t.nestingRoot,e.edges().forEach(r=>{e.edge(r).nestingEdge&&e.removeEdgeObj(r)})},Yx={run:hz,cleanup:gz},mz=e=>{var t;const r=a=>{const n=e.children(a),c=e.node(a);if(n!=null&&n.length&&n.forEach(f=>r(f)),c.hasOwnProperty("minRank")){c.borderLeft=[],c.borderRight=[];for(let f=c.minRank,y=c.maxRank+1;f<y;f+=1)Kx(e,"borderLeft","_bl",a,c,f),Kx(e,"borderRight","_br",a,c,f)}};(t=e.children())===null||t===void 0||t.forEach(a=>r(a))},Kx=(e,t,r,a,n,c)=>{const f={rank:c,borderType:t,width:0,height:0},y=n[t][c-1],v=Sh(e,"border",f,r);n[t][c]=v,e.setParent(v,a),y&&e.setEdge(y,v,{weight:1})},bz=e=>{var t;const r=(t=e.graph().rankdir)===null||t===void 0?void 0:t.toLowerCase();(r==="lr"||r==="rl")&&IP(e)},_z=e=>{var t;const r=(t=e.graph().rankdir)===null||t===void 0?void 0:t.toLowerCase();(r==="bt"||r==="rl")&&Ez(e),(r==="lr"||r==="rl")&&(Oz(e),IP(e))},IP=e=>{e.nodes().forEach(t=>{qx(e.node(t))}),e.edges().forEach(t=>{qx(e.edge(t))})},qx=e=>{const t=e.width;e.width=e.height,e.height=t},Ez=e=>{e.nodes().forEach(t=>{Ab(e.node(t))}),e.edges().forEach(t=>{var r;const a=e.edge(t);(r=a.points)===null||r===void 0||r.forEach(n=>Ab(n)),a.hasOwnProperty("y")&&Ab(a)})},Ab=e=>{e!=null&&e.y&&(e.y=-e.y)},Oz=e=>{e.nodes().forEach(t=>{Tb(e.node(t))}),e.edges().forEach(t=>{var r;const a=e.edge(t);(r=a.points)===null||r===void 0||r.forEach(n=>Tb(n)),a.hasOwnProperty("x")&&Tb(a)})},Tb=e=>{const t=e.x;e.x=e.y,e.y=t},Zx={adjust:bz,undo:_z};function wz(e){return Array.isArray(e)}function s_(e){if(!Array.isArray(e))return-1/0;var t=e.length;if(!t)return-1/0;for(var r=e[0],a=1;a<t;a++)r=Math.max(r,e[a]);return r}const Jx=function(e){if(!!wz(e))return e.reduce(function(t,r){return Math.min(t,r)},e[0])},Qx=e=>{const t={},r=e.nodes().filter(O=>{var S;return!(!((S=e.children(O))===null||S===void 0)&&S.length)}),a=r.map(O=>e.node(O).rank),n=s_(a),c=[];for(let O=0;O<n+1;O++)c.push([]);const f=O=>{var S;if(t.hasOwnProperty(O))return;t[O]=!0;const P=e.node(O);isNaN(P.rank)||c[P.rank].push(O),(S=e.successors(O))===null||S===void 0||S.forEach(j=>f(j))},y=r.sort((O,S)=>e.node(O).rank-e.node(S).rank),b=y.filter(O=>e.node(O).fixorder!==void 0).sort((O,S)=>e.node(O).fixorder-e.node(S).fixorder);return b==null||b.forEach(O=>{isNaN(e.node(O).rank)||c[e.node(O).rank].push(O),t[O]=!0}),y==null||y.forEach(f),c},xz=(e,t,r)=>{const a=G7(r,r.map((O,S)=>S)),c=t.map(O=>{var S;const P=(S=e.outEdges(O))===null||S===void 0?void 0:S.map(j=>({pos:a[j.w]||0,weight:e.edge(j).weight}));return P==null?void 0:P.sort((j,I)=>j.pos-I.pos)}).flat().filter(O=>O!==void 0);let f=1;for(;f<r.length;)f<<=1;const y=2*f-1;f-=1;const v=Array(y).fill(0,0,y);let b=0;return c==null||c.forEach(O=>{if(O){let S=O.pos+f;v[S]+=O.weight;let P=0;for(;S>0;)S%2&&(P+=v[S+1]),S=S-1>>1,v[S]+=O.weight;b+=O.weight*P}}),b},eS=(e,t)=>{let r=0;for(let a=1;a<(t==null?void 0:t.length);a+=1)r+=xz(e,t[a-1],t[a]);return r},Sz=(e,t,r)=>{const a=Az(e),n=new Mf({compound:!0}).setGraph({root:a}).setDefaultNodeLabel(c=>e.node(c));return e.nodes().forEach(c=>{var f;const y=e.node(c),v=e.parent(c);(y.rank===t||y.minRank<=t&&t<=y.maxRank)&&(n.setNode(c),n.setParent(c,v||a),(f=e[r](c))===null||f===void 0||f.forEach(b=>{const O=b.v===c?b.w:b.v,S=n.edgeFromArgs(O,c),P=S!==void 0?S.weight:0;n.setEdge(O,c,{weight:e.edge(b).weight+P})}),y.hasOwnProperty("minRank")&&n.setNode(c,{borderLeft:y.borderLeft[t],borderRight:y.borderRight[t]}))}),n},Az=e=>{let t;for(;e.hasNode(t=`_root${Math.random()}`););return t},Tz=(e,t,r)=>{const a={};let n;r==null||r.forEach(c=>{let f=e.parent(c),y,v;for(;f;){if(y=e.parent(f),y?(v=a[y],a[y]=f):(v=n,n=f),v&&v!==f){t.setEdge(v,f);return}f=y}})},Pz=(e,t)=>t.map(r=>{const a=e.inEdges(r);if(!(a!=null&&a.length))return{v:r};{const n={sum:0,weight:0};return a==null||a.forEach(c=>{const f=e.edge(c),y=e.node(c.v);n.sum+=f.weight*y.order,n.weight+=f.weight}),{v:r,barycenter:n.sum/n.weight,weight:n.weight}}}),Rz=(e,t)=>{var r,a,n;const c={};e==null||e.forEach((y,v)=>{c[y.v]={i:v,indegree:0,in:[],out:[],vs:[y.v]};const b=c[y.v];y.barycenter!==void 0&&(b.barycenter=y.barycenter,b.weight=y.weight)}),(r=t.edges())===null||r===void 0||r.forEach(y=>{const v=c[y.v],b=c[y.w];v!==void 0&&b!==void 0&&(b.indegree++,v.out.push(c[y.w]))});const f=(n=(a=Object.values(c)).filter)===null||n===void 0?void 0:n.call(a,y=>!y.indegree);return jz(f)},jz=e=>{var t,r;const a=[],n=v=>b=>{b.merged||(b.barycenter===void 0||v.barycenter===void 0||b.barycenter>=v.barycenter)&&Nz(v,b)},c=v=>b=>{b.in.push(v),--b.indegree===0&&e.push(b)};for(;e!=null&&e.length;){const v=e.pop();a.push(v),(t=v.in.reverse())===null||t===void 0||t.forEach(b=>n(v)(b)),(r=v.out)===null||r===void 0||r.forEach(b=>c(v)(b))}const f=a.filter(v=>!v.merged),y=["vs","i","barycenter","weight"];return f.map(v=>{const b={};return y==null||y.forEach(O=>{v[O]!==void 0&&(b[O]=v[O])}),b})},Nz=(e,t)=>{var r;let a=0,n=0;e.weight&&(a+=e.barycenter*e.weight,n+=e.weight),t.weight&&(a+=t.barycenter*t.weight,n+=t.weight),e.vs=(r=t.vs)===null||r===void 0?void 0:r.concat(e.vs),e.barycenter=a/n,e.weight=n,e.i=Math.min(t.i,e.i),t.merged=!0},Mz=(e,t,r,a)=>{const n=$7(e,P=>{const j=P.hasOwnProperty("fixorder")&&!isNaN(P.fixorder);return a?!j&&P.hasOwnProperty("barycenter"):j||P.hasOwnProperty("barycenter")}),c=n.lhs,f=n.rhs.sort((P,j)=>-P.i- -j.i),y=[];let v=0,b=0,O=0;c==null||c.sort(Cz(!!t,!!r)),O=tS(y,f,O),c==null||c.forEach(P=>{var j;O+=(j=P.vs)===null||j===void 0?void 0:j.length,y.push(P.vs),v+=P.barycenter*P.weight,b+=P.weight,O=tS(y,f,O)});const S={vs:y.flat()};return b&&(S.barycenter=v/b,S.weight=b),S},tS=(e,t,r)=>{let a=r,n;for(;t.length&&(n=t[t.length-1]).i<=a;)t.pop(),e==null||e.push(n.vs),a++;return a},Cz=(e,t)=>(r,a)=>{if(r.fixorder!==void 0&&a.fixorder!==void 0)return r.fixorder-a.fixorder;if(r.barycenter<a.barycenter)return-1;if(r.barycenter>a.barycenter)return 1;if(t&&r.order!==void 0&&a.order!==void 0){if(r.order<a.order)return-1;if(r.order>a.order)return 1}return e?a.i-r.i:r.i-a.i},DP=(e,t,r,a,n,c)=>{var f,y,v,b;let O=e.children(t);const S=e.node(t),P=S?S.borderLeft:void 0,j=S?S.borderRight:void 0,I={};P&&(O=O==null?void 0:O.filter(H=>H!==P&&H!==j));const C=Pz(e,O||[]);C==null||C.forEach(H=>{var ue;if(!((ue=e.children(H.v))===null||ue===void 0)&&ue.length){const _e=DP(e,H.v,r,a,c);I[H.v]=_e,_e.hasOwnProperty("barycenter")&&Dz(H,_e)}});const k=Rz(C,r);Iz(k,I),(f=k.filter(H=>H.vs.length>0))===null||f===void 0||f.forEach(H=>{const ue=e.node(H.vs[0]);ue&&(H.fixorder=ue.fixorder,H.order=ue.order)});const G=Mz(k,a,n,c);if(P&&(G.vs=[P,G.vs,j].flat(),!((y=e.predecessors(P))===null||y===void 0)&&y.length)){const H=e.node(((v=e.predecessors(P))===null||v===void 0?void 0:v[0])||""),ue=e.node(((b=e.predecessors(j))===null||b===void 0?void 0:b[0])||"");G.hasOwnProperty("barycenter")||(G.barycenter=0,G.weight=0),G.barycenter=(G.barycenter*G.weight+H.order+ue.order)/(G.weight+2),G.weight+=2}return G},Iz=(e,t)=>{e==null||e.forEach(r=>{var a;const n=(a=r.vs)===null||a===void 0?void 0:a.map(c=>t[c]?t[c].vs:c);r.vs=n.flat()})},Dz=(e,t)=>{e.barycenter!==void 0?(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight):(e.barycenter=t.barycenter,e.weight=t.weight)},kz=(e,t)=>{const r=xP(e),a=[],n=[];for(let O=1;O<r+1;O++)a.push(O);for(let O=r-1;O>-1;O--)n.push(O);const c=rS(e,a,"inEdges"),f=rS(e,n,"outEdges");let y=Qx(e);Pb(e,y);let v=Number.POSITIVE_INFINITY,b;for(let O=0,S=0;S<4;++O,++S){nS(O%2?c:f,O%4>=2,!1,t),y=dv(e);const P=eS(e,y);P<v&&(S=0,b=tg(y),v=P)}y=Qx(e),Pb(e,y);for(let O=0,S=0;S<4;++O,++S){nS(O%2?c:f,O%4>=2,!0,t),y=dv(e);const P=eS(e,y);P<v&&(S=0,b=tg(y),v=P)}Pb(e,b)},rS=(e,t,r)=>t.map(a=>Sz(e,a,r)),nS=(e,t,r,a)=>{const n=new Mf;e==null||e.forEach(c=>{var f;const y=c.graph().root,v=DP(c,y,n,t,r,a);for(let b=0;b<((f=v.vs)===null||f===void 0?void 0:f.length);b++){const O=c.node(v.vs[b]);O&&(O.order=b)}Tz(c,n,v.vs)})},Pb=(e,t)=>{t==null||t.forEach(r=>{r==null||r.forEach((a,n)=>{e.node(a).order=n})})};class Lz extends xh{}const Fz=(e,t)=>{const r={},a=(n,c)=>{let f=0,y=0;const v=n.length,b=c==null?void 0:c[(c==null?void 0:c.length)-1];return c==null||c.forEach((O,S)=>{var P;const j=Gz(e,O),I=j?e.node(j).order:v;(j||O===b)&&((P=c.slice(y,S+1))===null||P===void 0||P.forEach(C=>{var k;(k=e.predecessors(C))===null||k===void 0||k.forEach(G=>{var H;const ue=e.node(G),_e=ue.order;(_e<f||I<_e)&&!(ue.dummy&&((H=e.node(C))===null||H===void 0?void 0:H.dummy))&&kP(r,G,C)})}),y=S+1,f=I)}),c};return t!=null&&t.length&&t.reduce(a),r},Bz=(e,t)=>{const r={};function a(y,v,b,O,S){var P,j;let I;for(let C=v;C<b;C++)I=y[C],!((P=e.node(I))===null||P===void 0)&&P.dummy&&((j=e.predecessors(I))===null||j===void 0||j.forEach(k=>{const G=e.node(k);G.dummy&&(G.order<O||G.order>S)&&kP(r,k,I)}))}function n(y){return JSON.stringify(y.slice(1))}function c(y,v){const b=n(y);v.get(b)||(a(...y),v.set(b,!0))}const f=(y,v)=>{let b=-1,O,S=0;const P=new Map;return v==null||v.forEach((j,I)=>{var C;if(((C=e.node(j))===null||C===void 0?void 0:C.dummy)==="border"){const k=e.predecessors(j)||[];k.length&&(O=e.node(k[0]).order,c([v,S,I,b,O],P),S=I,b=O)}c([v,S,v.length,O,y.length],P)}),v};return t!=null&&t.length&&t.reduce(f),r},Gz=(e,t)=>{var r,a;if(!((r=e.node(t))===null||r===void 0)&&r.dummy)return(a=e.predecessors(t))===null||a===void 0?void 0:a.find(n=>e.node(n).dummy)},kP=(e,t,r)=>{let a=t,n=r;if(a>n){const f=a;a=n,n=f}let c=e[a];c||(e[a]=c={}),c[n]=!0},Uz=(e,t,r)=>{let a=t,n=r;if(a>n){const c=t;a=n,n=c}return!!e[a]},zz=(e,t,r,a)=>{const n={},c={},f={};return t==null||t.forEach(y=>{y==null||y.forEach((v,b)=>{n[v]=v,c[v]=v,f[v]=b})}),t==null||t.forEach(y=>{let v=-1;y==null||y.forEach(b=>{let O=a(b);if(O.length){O=O.sort((P,j)=>f[P]-f[j]);const S=(O.length-1)/2;for(let P=Math.floor(S),j=Math.ceil(S);P<=j;++P){const I=O[P];c[b]===b&&v<f[I]&&!Uz(r,b,I)&&(c[I]=b,c[b]=n[b]=n[I],v=f[I])}}})}),{root:n,align:c}},$z=(e,t,r,a,n)=>{var c;const f={},y=Hz(e,t,r,n),v=n?"borderLeft":"borderRight",b=(P,j)=>{let I=y.nodes(),C=I.pop();const k={};for(;C;)k[C]?P(C):(k[C]=!0,I.push(C),I=I.concat(j(C))),C=I.pop()},O=P=>{f[P]=(y.inEdges(P)||[]).reduce((j,I)=>Math.max(j,(f[I.v]||0)+y.edge(I)),0)},S=P=>{const j=(y.outEdges(P)||[]).reduce((C,k)=>Math.min(C,(f[k.w]||0)-y.edge(k)),Number.POSITIVE_INFINITY),I=e.node(P);j!==Number.POSITIVE_INFINITY&&I.borderType!==v&&(f[P]=Math.max(f[P],j))};return b(O,y.predecessors.bind(y)),b(S,y.successors.bind(y)),(c=Object.values(a))===null||c===void 0||c.forEach(P=>{f[P]=f[r[P]]}),f},Hz=(e,t,r,a)=>{const n=new Lz,c=e.graph(),f=Yz(c.nodesep,c.edgesep,a);return t==null||t.forEach(y=>{let v;y==null||y.forEach(b=>{const O=r[b];if(n.setNode(O),v){const S=r[v],P=n.edgeFromArgs(S,O);n.setEdge(S,O,Math.max(f(e,b,v),P||0))}v=b})}),n},Xz=(e,t)=>a1(Object.values(t),r=>{var a;let n=Number.NEGATIVE_INFINITY,c=Number.POSITIVE_INFINITY;return(a=Object.keys(r))===null||a===void 0||a.forEach(f=>{const y=r[f],v=Kz(e,f)/2;n=Math.max(y+v,n),c=Math.min(y-v,c)}),n-c});function Wz(e,t){const r=Object.values(t),a=Jx(r),n=s_(r);["u","d"].forEach(c=>{["l","r"].forEach(f=>{const y=c+f,v=e[y];let b;if(v===t)return;const O=Object.values(v);b=f==="l"?a-Jx(O):n-s_(O),b&&(e[y]={},Object.keys(v).forEach(S=>{e[y][S]=v[S]+b}))})})}const Vz=(e,t)=>{const r={};return Object.keys(e.ul).forEach(a=>{if(t)r[a]=e[t.toLowerCase()][a];else{const n=Object.values(e).map(c=>c[a]);r[a]=(n[0]+n[1])/2}}),r},Yz=(e,t,r)=>(a,n,c)=>{const f=a.node(n),y=a.node(c);let v=0,b;if(v+=f.width/2,f.hasOwnProperty("labelpos"))switch((f.labelpos||"").toLowerCase()){case"l":b=-f.width/2;break;case"r":b=f.width/2;break}if(b&&(v+=r?b:-b),b=0,v+=(f.dummy?t:e)/2,v+=(y.dummy?t:e)/2,v+=y.width/2,y.labelpos)switch((y.labelpos||"").toLowerCase()){case"l":b=y.width/2;break;case"r":b=-y.width/2;break}return b&&(v+=r?b:-b),b=0,v},Kz=(e,t)=>e.node(t).width||0,qz=e=>{const t=dv(e),r=e.graph().ranksep;let a=0;t==null||t.forEach(n=>{const c=n.map(y=>e.node(y).height),f=Math.max(...c,0);n==null||n.forEach(y=>{e.node(y).y=a+f/2}),a+=f+r})},Zz=e=>{const t=dv(e),r=Object.assign(Fz(e,t),Bz(e,t)),a={};let n=[];["u","d"].forEach(f=>{n=f==="u"?t:Object.values(t).reverse(),["l","r"].forEach(y=>{y==="r"&&(n=n.map(S=>Object.values(S).reverse()));const v=(f==="u"?e.predecessors:e.successors).bind(e),b=zz(e,n,r,v),O=$z(e,n,b.root,b.align,y==="r");y==="r"&&Object.keys(O).forEach(S=>O[S]=-O[S]),a[f+y]=O})});const c=Xz(e,a);return c&&Wz(a,c),Vz(a,e.graph().align)},Jz=e=>{var t;const r=wP(e);qz(r);const a=Zz(r);(t=Object.keys(a))===null||t===void 0||t.forEach(n=>{r.node(n).x=a[n]})},Qz=(e,t)=>{const a=e.nodes().filter(f=>{var y;return!(!((y=e.children(f))===null||y===void 0)&&y.length)}).map(f=>e.node(f).rank),n=Math.max(...a),c=[];for(let f=0;f<n+1;f++)c[f]=[];t==null||t.forEach(f=>{const y=e.node(f);!y||(y==null?void 0:y.dummy)||isNaN(y.rank)||(y.fixorder=c[y.rank].length,c[y.rank].push(f))})},e$=(e,t)=>{const r=t&&t.debugTiming?SP:AP;r("layout",()=>{t&&!t.keepNodeOrder&&t.prevGraph&&r("  inheritOrder",()=>{r$(e,t.prevGraph)});const a=r("  buildLayoutGraph",()=>f$(e));t&&t.edgeLabelSpace===!1||r("  makeSpaceForEdgeLabels",()=>{l$(a)});try{r("  runLayout",()=>{t$(a,r,t)})}catch(n){if(n.message==="Not possible to find intersection inside of the rectangle"){console.error(`The following error may be caused by improper layer setting, please make sure your manual layer setting does not violate the graph's structure:
`,n);return}throw n}r("  updateInputGraph",()=>{n$(e,a)})})},t$=(e,t,r)=>{t("    removeSelfEdges",()=>{_$(e)}),t("    acyclic",()=>{zx.run(e)}),t("    nestingGraph.run",()=>{Yx.run(e)}),t("    rank",()=>{sz(wP(e))}),t("    injectEdgeLabelProxies",()=>{d$(e)}),t("    removeEmptyRanks",()=>{z7(e)}),t("    nestingGraph.cleanup",()=>{Yx.cleanup(e)}),t("    normalizeRanks",()=>{U7(e)}),t("    assignRankMinMax",()=>{p$(e)}),t("    removeEdgeLabelProxies",()=>{h$(e)}),t("    normalize.run",()=>{Xx.run(e)}),t("    parentDummyChains",()=>{pz(e)}),t("    addBorderSegments",()=>{mz(e)}),r&&r.keepNodeOrder&&t("    initDataOrder",()=>{Qz(e,r.nodeOrder)}),t("    order",()=>{kz(e,r==null?void 0:r.keepNodeOrder)}),t("    insertSelfEdges",()=>{E$(e)}),t("    adjustCoordinateSystem",()=>{Zx.adjust(e)}),t("    position",()=>{Jz(e)}),t("    positionSelfEdges",()=>{O$(e)}),t("    removeBorderNodes",()=>{b$(e)}),t("    normalize.undo",()=>{Xx.undo(e)}),t("    fixupEdgeLabelCoords",()=>{g$(e)}),t("    undoCoordinateSystem",()=>{Zx.undo(e)}),t("    translateGraph",()=>{v$(e)}),t("    assignNodeIntersects",()=>{y$(e)}),t("    reversePoints",()=>{m$(e)}),t("    acyclic.undo",()=>{zx.undo(e)})},r$=(e,t)=>{e.nodes().forEach(r=>{const a=e.node(r),n=t.node(r);n!==void 0?(a.fixorder=n._order,delete n._order):delete a.fixorder})},n$=(e,t)=>{e.nodes().forEach(r=>{var a;const n=e.node(r);if(n){const c=t.node(r);n.x=c.x,n.y=c.y,n._order=c.order,n._rank=c.rank,!((a=t.children(r))===null||a===void 0)&&a.length&&(n.width=c.width,n.height=c.height)}}),e.edges().forEach(r=>{const a=e.edge(r),n=t.edge(r);a.points=n?n.points:[],n&&n.hasOwnProperty("x")&&(a.x=n.x,a.y=n.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height},o$=["nodesep","edgesep","ranksep","marginx","marginy"],i$={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},Rb=["acyclicer","ranker","rankdir","align"],a$=["width","height","layer","fixorder"],u$={width:0,height:0},s$=["minlen","weight","width","height","labeloffset"],c$={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},jb=["labelpos"],f$=e=>{const t=new Mf({multigraph:!0,compound:!0}),r=Mb(e.graph()),a={};return Rb==null||Rb.forEach(n=>{r[n]!==void 0&&(a[n]=r[n])}),t.setGraph(Object.assign({},i$,Nb(r,o$),a)),e.nodes().forEach(n=>{const c=Mb(e.node(n)),f=Object.assign(Object.assign({},u$),c),y=Nb(f,a$);t.setNode(n,y),t.setParent(n,e.parent(n))}),e.edges().forEach(n=>{const c=Mb(e.edge(n)),f={};jb==null||jb.forEach(y=>{c[y]!==void 0&&(f[y]=c[y])}),t.setEdgeObj(n,Object.assign({},c$,Nb(c,s$),f))}),t},l$=e=>{const t=e.graph();t.ranksep||(t.ranksep=0),t.ranksep/=2,e.nodes().forEach(r=>{const a=e.node(r);isNaN(a.layer)||a.layer||(a.layer=0)}),e.edges().forEach(r=>{var a;const n=e.edge(r);n.minlen*=2,((a=n.labelpos)===null||a===void 0?void 0:a.toLowerCase())!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?n.width+=n.labeloffset:n.height+=n.labeloffset)})},d$=e=>{e.edges().forEach(t=>{const r=e.edge(t);if(r.width&&r.height){const a=e.node(t.v),n=e.node(t.w),c={e:t,rank:(n.rank-a.rank)/2+a.rank};Sh(e,"edge-proxy",c,"_ep")}})},p$=e=>{let t=0;e.nodes().forEach(r=>{var a,n;const c=e.node(r);c.borderTop&&(c.minRank=(a=e.node(c.borderTop))===null||a===void 0?void 0:a.rank,c.maxRank=(n=e.node(c.borderBottom))===null||n===void 0?void 0:n.rank,t=Math.max(t,c.maxRank||-1/0))}),e.graph().maxRank=t},h$=e=>{e.nodes().forEach(t=>{const r=e.node(t);r.dummy==="edge-proxy"&&(e.edge(r.e).labelRank=r.rank,e.removeNode(t))})},v$=e=>{let t,r=0,a,n=0;const c=e.graph(),f=c.marginx||0,y=c.marginy||0,v=b=>{if(!b)return;const O=b.x,S=b.y,P=b.width,j=b.height;!isNaN(O)&&!isNaN(P)&&(t===void 0&&(t=O-P/2),t=Math.min(t,O-P/2),r=Math.max(r,O+P/2)),!isNaN(S)&&!isNaN(j)&&(a===void 0&&(a=S-j/2),a=Math.min(a,S-j/2),n=Math.max(n,S+j/2))};e.nodes().forEach(b=>{v(e.node(b))}),e.edges().forEach(b=>{const O=e.edge(b);O!=null&&O.hasOwnProperty("x")&&v(O)}),t-=f,a-=y,e.nodes().forEach(b=>{const O=e.node(b);O&&(O.x-=t,O.y-=a)}),e.edges().forEach(b=>{var O;const S=e.edge(b);(O=S.points)===null||O===void 0||O.forEach(P=>{P.x-=t,P.y-=a}),S.hasOwnProperty("x")&&(S.x-=t),S.hasOwnProperty("y")&&(S.y-=a)}),c.width=r-t+f,c.height=n-a+y},y$=e=>{e.edges().forEach(t=>{const r=e.edge(t),a=e.node(t.v),n=e.node(t.w);let c,f;r.points?(c=r.points[0],f=r.points[r.points.length-1]):(r.points=[],c=n,f=a),r.points.unshift($x(a,c)),r.points.push($x(n,f))})},g$=e=>{e.edges().forEach(t=>{const r=e.edge(t);if(r!=null&&r.hasOwnProperty("x"))switch((r.labelpos==="l"||r.labelpos==="r")&&(r.width-=r.labeloffset),r.labelpos){case"l":r.x-=r.width/2+r.labeloffset;break;case"r":r.x+=r.width/2+r.labeloffset;break}})},m$=e=>{e.edges().forEach(t=>{var r;const a=e.edge(t);a.reversed&&((r=a.points)===null||r===void 0||r.reverse())})},b$=e=>{e.nodes().forEach(t=>{var r,a,n;if(!((r=e.children(t))===null||r===void 0)&&r.length){const c=e.node(t),f=e.node(c.borderTop),y=e.node(c.borderBottom),v=e.node(c.borderLeft[((a=c.borderLeft)===null||a===void 0?void 0:a.length)-1]),b=e.node(c.borderRight[((n=c.borderRight)===null||n===void 0?void 0:n.length)-1]);c.width=Math.abs((b==null?void 0:b.x)-(v==null?void 0:v.x))||10,c.height=Math.abs((y==null?void 0:y.y)-(f==null?void 0:f.y))||10,c.x=((v==null?void 0:v.x)||0)+c.width/2,c.y=((f==null?void 0:f.y)||0)+c.height/2}}),e.nodes().forEach(t=>{var r;((r=e.node(t))===null||r===void 0?void 0:r.dummy)==="border"&&e.removeNode(t)})},_$=e=>{e.edges().forEach(t=>{if(t.v===t.w){const r=e.node(t.v);r.selfEdges||(r.selfEdges=[]),r.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdgeObj(t)}})},E$=e=>{const t=dv(e);t==null||t.forEach(r=>{let a=0;r==null||r.forEach((n,c)=>{var f;const y=e.node(n);y.order=c+a,(f=y.selfEdges)===null||f===void 0||f.forEach(v=>{Sh(e,"selfedge",{width:v.label.width,height:v.label.height,rank:y.rank,order:c+ ++a,e:v.e,label:v.label},"_se")}),delete y.selfEdges})})},O$=e=>{e.nodes().forEach(t=>{const r=e.node(t);if(r.dummy==="selfedge"){const a=e.node(r.e.v),n=a.x+a.width/2,c=a.y,f=r.x-n,y=a.height/2;e.setEdgeObj(r.e,r.label),e.removeNode(t),r.label.points=[{x:n+2*f/3,y:c-y},{x:n+5*f/6,y:c-y},{y:c,x:n+f},{x:n+5*f/6,y:c+y},{x:n+2*f/3,y:c+y}],r.label.x=r.x,r.label.y=r.y}})},Nb=(e,t)=>{const r={};return t==null||t.forEach(a=>{e[a]!==void 0&&(r[a]=+e[a])}),r},Mb=(e={})=>{const t={};return Object.keys(e).forEach(r=>{t[r.toLowerCase()]=e[r]}),t},w$={layout:e$,util:{time:SP,notime:AP}};class x$ extends $9{constructor(t){super(),this.rankdir="TB",this.nodesep=50,this.ranksep=50,this.controlPoints=!1,this.sortByCombo=!1,this.edgeLabelSpace=!0,this.radial=!1,this.nodes=[],this.edges=[],this.onLayoutEnd=()=>{},this.layoutNode=r=>{const a=this,{nodes:n}=a,c=n.find(f=>f.id===r);return c?c.layout!==!1:!0},this.updateCfg(t)}getDefaultCfg(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1,radial:!1,focusNode:null}}execute(){var t,r,a,n;const c=this,{nodes:f,nodeSize:y,rankdir:v,combos:b,begin:O,radial:S,comboEdges:P=[],vedges:j=[]}=c;if(!f)return;const I=c.edges||[],C=new Mf({multigraph:!0,compound:!0});c.nodeMap={};const k={};f.forEach(z=>{c.nodeMap[z.id]=z,z.comboId&&(k[z.comboId]=k[z.comboId]||[],k[z.comboId].push(z.id))});let G=[];const H={};!((t=c.nodeOrder)===null||t===void 0)&&t.length?(c.nodeOrder.forEach(z=>{H[z]=!0,G.push(c.nodeMap[z])}),f.forEach(z=>{H[z.id]||G.push(z)})):G=f;let ue;y?Rx(y)?ue=()=>y:ue=()=>[y,y]:ue=z=>z.size?Rx(z.size)?z.size:yP(z.size)?[z.size.width||40,z.size.height||40]:[z.size,z.size]:[40,40];const _e=jx(c.ranksep,50,c.ranksepFunc),be=jx(c.nodesep,50,c.nodesepFunc);let ce=be,fe=_e;(v==="LR"||v==="RL")&&(ce=_e,fe=be),C.setDefaultEdgeLabel(()=>({})),C.setGraph(c);const ee={};this.sortByCombo&&b&&b.forEach(z=>{if(ee[z.id]=z,z.collapsed){const Oe=ue(z),We=fe(z),ke=ce(z),it=Oe[0]+2*ke,at=Oe[1]+2*We;C.setNode(z.id,{width:it,height:at})}!z.parentId||(ee[z.parentId]||C.setNode(z.parentId,{}),C.setParent(z.id,z.parentId))}),G.filter(z=>z.layout!==!1).forEach(z=>{const Oe=ue(z),We=fe(z),ke=ce(z),it=Oe[0]+2*ke,at=Oe[1]+2*We,$e=z.layer;eg($e)?C.setNode(z.id,{width:it,height:at,layer:$e}):C.setNode(z.id,{width:it,height:at}),this.sortByCombo&&z.comboId&&(ee[z.comboId]||(ee[z.comboId]={id:z.comboId},C.setNode(z.comboId,{})),C.setParent(z.id,z.comboId))}),I.forEach(z=>{const Oe=Xp(z,"source"),We=Xp(z,"target");this.layoutNode(Oe)&&this.layoutNode(We)&&C.setEdge(Oe,We,{weight:z.weight||1})}),(r=P==null?void 0:P.concat(j||[]))===null||r===void 0||r.forEach(z=>{var Oe,We;const{source:ke,target:it}=z,at=!((Oe=ee[ke])===null||Oe===void 0)&&Oe.collapsed?[ke]:k[ke]||[ke],$e=!((We=ee[it])===null||We===void 0)&&We.collapsed?[it]:k[it]||[it];at.forEach(ae=>{$e.forEach(pe=>{C.setEdge(ae,pe,{weight:z.weight||1})})})});let $;!((a=c.preset)===null||a===void 0)&&a.nodes&&($=new Mf({multigraph:!0,compound:!0}),c.preset.nodes.forEach(z=>{$==null||$.setNode(z.id,z)})),w$.layout(C,{prevGraph:$,edgeLabelSpace:c.edgeLabelSpace,keepNodeOrder:Boolean(!!c.nodeOrder),nodeOrder:c.nodeOrder});const J=[0,0];if(O){let z=1/0,Oe=1/0;C.nodes().forEach(We=>{const ke=C.node(We);z>ke.x&&(z=ke.x),Oe>ke.y&&(Oe=ke.y)}),C.edges().forEach(We=>{var ke;(ke=C.edge(We).points)===null||ke===void 0||ke.forEach(at=>{z>at.x&&(z=at.x),Oe>at.y&&(Oe=at.y)})}),J[0]=O[0]-z,J[1]=O[1]-Oe}const re=v==="LR"||v==="RL";if(S){const{focusNode:z,ranksep:Oe,getRadialPos:We}=this,ke=H9(z)?z:z==null?void 0:z.id,it=ke?(n=C.node(ke))===null||n===void 0?void 0:n._rank:0,at=[],$e=re?"y":"x",ae=re?"height":"width";let pe=1/0,Se=-1/0;C.nodes().forEach(de=>{const Ae=C.node(de);if(!c.nodeMap[de])return;const st=be(c.nodeMap[de]);if(it===0)at[Ae._rank]||(at[Ae._rank]={nodes:[],totalWidth:0,maxSize:-1/0}),at[Ae._rank].nodes.push(de),at[Ae._rank].totalWidth+=st*2+Ae[ae],at[Ae._rank].maxSize<Math.max(Ae.width,Ae.height)&&(at[Ae._rank].maxSize=Math.max(Ae.width,Ae.height));else{const Wt=Ae._rank-it;if(Wt===0)at[Wt]||(at[Wt]={nodes:[],totalWidth:0,maxSize:-1/0}),at[Wt].nodes.push(de),at[Wt].totalWidth+=st*2+Ae[ae],at[Wt].maxSize<Math.max(Ae.width,Ae.height)&&(at[Wt].maxSize=Math.max(Ae.width,Ae.height));else{const or=Math.abs(Wt);at[or]||(at[or]={left:[],right:[],totalWidth:0,maxSize:-1/0}),at[or].totalWidth+=st*2+Ae[ae],at[or].maxSize<Math.max(Ae.width,Ae.height)&&(at[or].maxSize=Math.max(Ae.width,Ae.height)),Wt<0?at[or].left.push(de):at[or].right.push(de)}}const kt=Ae[$e]-Ae[ae]/2-st,ht=Ae[$e]+Ae[ae]/2+st;kt<pe&&(pe=kt),ht>Se&&(Se=ht)});let Ye=Oe||50;const lt={},Pt=(Se-pe)/.9,Rt=[(pe+Se-Pt)*.5,(pe+Se+Pt)*.5],Lt=(de,Ae,st=-1/0,kt=[0,1])=>{let ht=st;return de.forEach(Wt=>{const or=C.node(Wt);lt[Wt]=Ae;const{x:vr,y:rr}=We(or[$e],Rt,Pt,Ae,kt);if(!c.nodeMap[Wt])return;c.nodeMap[Wt].x=vr+J[0],c.nodeMap[Wt].y=rr+J[1],c.nodeMap[Wt]._order=or._order;const et=_e(c.nodeMap[Wt]);ht<et&&(ht=et)}),ht};let tr=!0;const Te=0;at.forEach(de=>{var Ae,st,kt,ht,Wt,or,vr;if(!(!((Ae=de==null?void 0:de.nodes)===null||Ae===void 0)&&Ae.length)&&!(!((st=de==null?void 0:de.left)===null||st===void 0)&&st.length)&&!(!((kt=de==null?void 0:de.right)===null||kt===void 0)&&kt.length))return;if(tr&&de.nodes.length===1){const et=de.nodes[0];if(!c.nodeMap[et])return;c.nodeMap[et].x=J[0],c.nodeMap[et].y=J[1],lt[de.nodes[0]]=0,Ye=_e(c.nodeMap[et]),tr=!1;return}Ye=Math.max(Ye,de.totalWidth/(2*Math.PI));let rr=-1/0;if(it===0||((ht=de.nodes)===null||ht===void 0?void 0:ht.length))rr=Lt(de.nodes,Ye,rr,[0,1]);else{const et=((Wt=de.left)===null||Wt===void 0?void 0:Wt.length)/(((or=de.left)===null||or===void 0?void 0:or.length)+((vr=de.right)===null||vr===void 0?void 0:vr.length));rr=Lt(de.left,Ye,rr,[0,et]),rr=Lt(de.right,Ye,rr,[et+.05,1])}Ye+=rr,tr=!1,Te-de.maxSize}),C.edges().forEach(de=>{var Ae,st,kt;const ht=C.edge(de),Wt=I.findIndex(or=>{const vr=Xp(or,"source"),rr=Xp(or,"target");return vr===de.v&&rr===de.w});if(!(Wt<=-1)&&c.edgeLabelSpace&&c.controlPoints&&I[Wt].type!=="loop"){const or=$e==="x"?"y":"x",vr=(Ae=ht==null?void 0:ht.points)===null||Ae===void 0?void 0:Ae.slice(1,ht.points.length-1),rr=[],et=(st=C.node(de.v))===null||st===void 0?void 0:st[or],lr=et-((kt=C.node(de.w))===null||kt===void 0?void 0:kt[or]),Ne=lt[de.v],ir=Ne-lt[de.w];vr==null||vr.forEach(Br=>{const V=(Br[or]-et)/lr*ir+Ne,Gr=We(Br[$e],Rt,Pt,V);rr.push({x:Gr.x+J[0],y:Gr.y+J[1]})}),I[Wt].controlPoints=rr}})}else{const z=new Set,We=v==="BT"||v==="RL"?($e,ae)=>ae-$e:($e,ae)=>$e-ae;C.nodes().forEach($e=>{const ae=C.node($e);if(!ae)return;let pe=this.nodeMap[$e];pe||(pe=b==null?void 0:b.find(Se=>Se.id===$e)),pe&&(pe.x=ae.x+J[0],pe.y=ae.y+J[1],pe._order=ae._order,z.add(re?pe.x:pe.y))});const ke=Array.from(z).sort(We),it=re?($e,ae)=>$e.x!==ae.x:($e,ae)=>$e.y!==ae.y,at=re?($e,ae,pe)=>{const Se=Math.max(ae.y,pe.y),Ye=Math.min(ae.y,pe.y);return $e.filter(lt=>lt.y<=Se&&lt.y>=Ye)}:($e,ae,pe)=>{const Se=Math.max(ae.x,pe.x),Ye=Math.min(ae.x,pe.x);return $e.filter(lt=>lt.x<=Se&&lt.x>=Ye)};C.edges().forEach($e=>{var ae;const pe=C.edge($e),Se=I.findIndex(Ye=>{const lt=Xp(Ye,"source"),Pt=Xp(Ye,"target");return lt===$e.v&&Pt===$e.w});if(!(Se<=-1)&&c.edgeLabelSpace&&c.controlPoints&&I[Se].type!=="loop"){(ae=pe==null?void 0:pe.points)===null||ae===void 0||ae.forEach(Pt=>{Pt.x+=J[0],Pt.y+=J[1]});const Ye=c.nodeMap[$e.v],lt=c.nodeMap[$e.w];I[Se].controlPoints=S$(pe==null?void 0:pe.points,Ye,lt,ke,re,it,at)}})}return c.onLayoutEnd&&c.onLayoutEnd(),{nodes:f,edges:I}}getRadialPos(t,r,a,n,c=[0,1]){let f=(t-r[0])/a;f=f*(c[1]-c[0])+c[0];const y=f*2*Math.PI;return{x:Math.cos(y)*n,y:Math.sin(y)*n}}getType(){return"dagre"}}const S$=(e,t,r,a,n,c,f)=>{let y=(e==null?void 0:e.slice(1,e.length-1))||[];if(t&&r){let{x:v,y:b}=t,{x:O,y:S}=r;if(n&&(v=t.y,b=t.x,O=r.y,S=r.x),S!==b&&v!==O){const P=a.indexOf(b),j=a[P+1];if(j){const k=y[0],G=n?{x:(b+j)/2,y:(k==null?void 0:k.y)||O}:{x:(k==null?void 0:k.x)||O,y:(b+j)/2};(!k||c(k,G))&&y.unshift(G)}const I=a.indexOf(S),C=Math.abs(I-P);if(C===1)y=f(y,t,r),y.length||y.push(n?{x:(b+S)/2,y:v}:{x:v,y:(b+S)/2});else if(C>1){const k=a[I-1];if(k){const G=y[y.length-1],H=n?{x:(S+k)/2,y:(G==null?void 0:G.y)||O}:{x:(G==null?void 0:G.x)||v,y:(S+k)/2};(!G||c(G,H))&&y.push(H)}}}}return y};var oS,iS,aS,uS;(function(e){e[e.META=0]="META",e[e.NODE=1]="NODE",e[e.BRIDGE=2]="BRIDGE"})(oS||(oS={})),function(e){e[e.INCLUDE=0]="INCLUDE",e[e.EXCLUDE=1]="EXCLUDE",e[e.UNSPECIFIED=2]="UNSPECIFIED"}(iS||(iS={})),function(e){e[e.META=0]="META",e[e.CORE=1]="CORE",e[e.BRIDGE=2]="BRIDGE"}(aS||(aS={})),function(e){e[e.META=0]="META",e[e.OP=1]="OP",e[e.SERIES=2]="SERIES"}(uS||(uS={}));var Py=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function u1(e,t){return e(t={exports:{}},t.exports),t.exports}var A$=function(){this.__data__=[],this.size=0},Ah=function(e,t){return e===t||e!=e&&t!=t},xg=function(e,t){for(var r=e.length;r--;)if(Ah(e[r][0],t))return r;return-1},T$=Array.prototype.splice,P$=function(e){var t=this.__data__,r=xg(t,e);return!(r<0)&&(r==t.length-1?t.pop():T$.call(t,r,1),--this.size,!0)},R$=function(e){var t=this.__data__,r=xg(t,e);return r<0?void 0:t[r][1]},j$=function(e){return xg(this.__data__,e)>-1},N$=function(e,t){var r=this.__data__,a=xg(r,e);return a<0?(++this.size,r.push([e,t])):r[a][1]=t,this};function Kp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}Kp.prototype.clear=A$,Kp.prototype.delete=P$,Kp.prototype.get=R$,Kp.prototype.has=j$,Kp.prototype.set=N$;var Sg=Kp,M$=function(){this.__data__=new Sg,this.size=0},C$=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},I$=function(e){return this.__data__.get(e)},D$=function(e){return this.__data__.has(e)},LP=typeof Py=="object"&&Py&&Py.Object===Object&&Py,k$=typeof self=="object"&&self&&self.Object===Object&&self,Ms=LP||k$||Function("return this")(),Ju=Ms.Symbol,FP=Object.prototype,L$=FP.hasOwnProperty,F$=FP.toString,Jh=Ju?Ju.toStringTag:void 0,B$=function(e){var t=L$.call(e,Jh),r=e[Jh];try{e[Jh]=void 0;var a=!0}catch{}var n=F$.call(e);return a&&(t?e[Jh]=r:delete e[Jh]),n},G$=Object.prototype.toString,U$=function(e){return G$.call(e)},sS=Ju?Ju.toStringTag:void 0,Gl=function(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":sS&&sS in Object(e)?B$(e):U$(e)},za=function(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")},cS,Sv=function(e){if(!za(e))return!1;var t=Gl(e);return t=="[object Function]"||t=="[object GeneratorFunction]"||t=="[object AsyncFunction]"||t=="[object Proxy]"},Cb=Ms["__core-js_shared__"],fS=(cS=/[^.]+$/.exec(Cb&&Cb.keys&&Cb.keys.IE_PROTO||""))?"Symbol(src)_1."+cS:"",z$=function(e){return!!fS&&fS in e},$$=Function.prototype.toString,Yd=function(e){if(e!=null){try{return $$.call(e)}catch{}try{return e+""}catch{}}return""},H$=/^\[object .+?Constructor\]$/,X$=Function.prototype,W$=Object.prototype,V$=X$.toString,Y$=W$.hasOwnProperty,K$=RegExp("^"+V$.call(Y$).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),q$=function(e){return!(!za(e)||z$(e))&&(Sv(e)?K$:H$).test(Yd(e))},Z$=function(e,t){return e==null?void 0:e[t]},Kd=function(e,t){var r=Z$(e,t);return q$(r)?r:void 0},pv=Kd(Ms,"Map"),hv=Kd(Object,"create"),J$=function(){this.__data__=hv?hv(null):{},this.size=0},Q$=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},eH=Object.prototype.hasOwnProperty,tH=function(e){var t=this.__data__;if(hv){var r=t[e];return r==="__lodash_hash_undefined__"?void 0:r}return eH.call(t,e)?t[e]:void 0},rH=Object.prototype.hasOwnProperty,nH=function(e){var t=this.__data__;return hv?t[e]!==void 0:rH.call(t,e)},oH=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=hv&&t===void 0?"__lodash_hash_undefined__":t,this};function qp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}qp.prototype.clear=J$,qp.prototype.delete=Q$,qp.prototype.get=tH,qp.prototype.has=nH,qp.prototype.set=oH;var lS=qp,iH=function(){this.size=0,this.__data__={hash:new lS,map:new(pv||Sg),string:new lS}},aH=function(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null},Ag=function(e,t){var r=e.__data__;return aH(t)?r[typeof t=="string"?"string":"hash"]:r.map},uH=function(e){var t=Ag(this,e).delete(e);return this.size-=t?1:0,t},sH=function(e){return Ag(this,e).get(e)},cH=function(e){return Ag(this,e).has(e)},fH=function(e,t){var r=Ag(this,e),a=r.size;return r.set(e,t),this.size+=r.size==a?0:1,this};function Zp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}Zp.prototype.clear=iH,Zp.prototype.delete=uH,Zp.prototype.get=sH,Zp.prototype.has=cH,Zp.prototype.set=fH;var Tg=Zp,lH=function(e,t){var r=this.__data__;if(r instanceof Sg){var a=r.__data__;if(!pv||a.length<199)return a.push([e,t]),this.size=++r.size,this;r=this.__data__=new Tg(a)}return r.set(e,t),this.size=r.size,this};function Jp(e){var t=this.__data__=new Sg(e);this.size=t.size}Jp.prototype.clear=M$,Jp.prototype.delete=C$,Jp.prototype.get=I$,Jp.prototype.has=D$,Jp.prototype.set=lH;var ih=Jp,s1=function(e,t){for(var r=-1,a=e==null?0:e.length;++r<a&&t(e[r],r,e)!==!1;);return e},rg=function(){try{var e=Kd(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Pg=function(e,t,r){t=="__proto__"&&rg?rg(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r},dH=Object.prototype.hasOwnProperty,Rg=function(e,t,r){var a=e[t];dH.call(e,t)&&Ah(a,r)&&(r!==void 0||t in e)||Pg(e,t,r)},Av=function(e,t,r,a){var n=!r;r||(r={});for(var c=-1,f=t.length;++c<f;){var y=t[c],v=a?a(r[y],e[y],y,r,e):void 0;v===void 0&&(v=e[y]),n?Pg(r,y,v):Rg(r,y,v)}return r},pH=function(e,t){for(var r=-1,a=Array(e);++r<e;)a[r]=t(r);return a},Ps=function(e){return e!=null&&typeof e=="object"},dS=function(e){return Ps(e)&&Gl(e)=="[object Arguments]"},BP=Object.prototype,hH=BP.hasOwnProperty,vH=BP.propertyIsEnumerable,lh=dS(function(){return arguments}())?dS:function(e){return Ps(e)&&hH.call(e,"callee")&&!vH.call(e,"callee")},qo=Array.isArray,yH=function(){return!1},Ld=u1(function(e,t){var r=t&&!t.nodeType&&t,a=r&&e&&!e.nodeType&&e,n=a&&a.exports===r?Ms.Buffer:void 0,c=(n?n.isBuffer:void 0)||yH;e.exports=c}),gH=/^(?:0|[1-9]\d*)$/,jg=function(e,t){var r=typeof e;return!!(t=t==null?9007199254740991:t)&&(r=="number"||r!="symbol"&&gH.test(e))&&e>-1&&e%1==0&&e<t},c1=function(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=9007199254740991},Mo={};Mo["[object Float32Array]"]=Mo["[object Float64Array]"]=Mo["[object Int8Array]"]=Mo["[object Int16Array]"]=Mo["[object Int32Array]"]=Mo["[object Uint8Array]"]=Mo["[object Uint8ClampedArray]"]=Mo["[object Uint16Array]"]=Mo["[object Uint32Array]"]=!0,Mo["[object Arguments]"]=Mo["[object Array]"]=Mo["[object ArrayBuffer]"]=Mo["[object Boolean]"]=Mo["[object DataView]"]=Mo["[object Date]"]=Mo["[object Error]"]=Mo["[object Function]"]=Mo["[object Map]"]=Mo["[object Number]"]=Mo["[object Object]"]=Mo["[object RegExp]"]=Mo["[object Set]"]=Mo["[object String]"]=Mo["[object WeakMap]"]=!1;var mH=function(e){return Ps(e)&&c1(e.length)&&!!Mo[Gl(e)]},Ng=function(e){return function(t){return e(t)}},dh=u1(function(e,t){var r=t&&!t.nodeType&&t,a=r&&e&&!e.nodeType&&e,n=a&&a.exports===r&&LP.process,c=function(){try{var f=a&&a.require&&a.require("util").types;return f||n&&n.binding&&n.binding("util")}catch{}}();e.exports=c}),pS=dh&&dh.isTypedArray,Tv=pS?Ng(pS):mH,bH=Object.prototype.hasOwnProperty,GP=function(e,t){var r=qo(e),a=!r&&lh(e),n=!r&&!a&&Ld(e),c=!r&&!a&&!n&&Tv(e),f=r||a||n||c,y=f?pH(e.length,String):[],v=y.length;for(var b in e)!t&&!bH.call(e,b)||f&&(b=="length"||n&&(b=="offset"||b=="parent")||c&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||jg(b,v))||y.push(b);return y},_H=Object.prototype,Mg=function(e){var t=e&&e.constructor;return e===(typeof t=="function"&&t.prototype||_H)},UP=function(e,t){return function(r){return e(t(r))}},EH=UP(Object.keys,Object),OH=Object.prototype.hasOwnProperty,f1=function(e){if(!Mg(e))return EH(e);var t=[];for(var r in Object(e))OH.call(e,r)&&r!="constructor"&&t.push(r);return t},Df=function(e){return e!=null&&c1(e.length)&&!Sv(e)},Ul=function(e){return Df(e)?GP(e):f1(e)},wH=function(e,t){return e&&Av(t,Ul(t),e)},xH=function(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t},SH=Object.prototype.hasOwnProperty,AH=function(e){if(!za(e))return xH(e);var t=Mg(e),r=[];for(var a in e)(a!="constructor"||!t&&SH.call(e,a))&&r.push(a);return r},qd=function(e){return Df(e)?GP(e,!0):AH(e)},TH=function(e,t){return e&&Av(t,qd(t),e)},zP=u1(function(e,t){var r=t&&!t.nodeType&&t,a=r&&e&&!e.nodeType&&e,n=a&&a.exports===r?Ms.Buffer:void 0,c=n?n.allocUnsafe:void 0;e.exports=function(f,y){if(y)return f.slice();var v=f.length,b=c?c(v):new f.constructor(v);return f.copy(b),b}}),$P=function(e,t){var r=-1,a=e.length;for(t||(t=Array(a));++r<a;)t[r]=e[r];return t},HP=function(e,t){for(var r=-1,a=e==null?0:e.length,n=0,c=[];++r<a;){var f=e[r];t(f,r,e)&&(c[n++]=f)}return c},XP=function(){return[]},PH=Object.prototype.propertyIsEnumerable,hS=Object.getOwnPropertySymbols,l1=hS?function(e){return e==null?[]:(e=Object(e),HP(hS(e),function(t){return PH.call(e,t)}))}:XP,RH=function(e,t){return Av(e,l1(e),t)},d1=function(e,t){for(var r=-1,a=t.length,n=e.length;++r<a;)e[n+r]=t[r];return e},Cg=UP(Object.getPrototypeOf,Object),WP=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)d1(t,l1(e)),e=Cg(e);return t}:XP,jH=function(e,t){return Av(e,WP(e),t)},VP=function(e,t,r){var a=t(e);return qo(e)?a:d1(a,r(e))},c_=function(e){return VP(e,Ul,l1)},NH=function(e){return VP(e,qd,WP)},f_=Kd(Ms,"DataView"),l_=Kd(Ms,"Promise"),ah=Kd(Ms,"Set"),d_=Kd(Ms,"WeakMap"),MH=Yd(f_),CH=Yd(pv),IH=Yd(l_),DH=Yd(ah),kH=Yd(d_),Id=Gl;(f_&&Id(new f_(new ArrayBuffer(1)))!="[object DataView]"||pv&&Id(new pv)!="[object Map]"||l_&&Id(l_.resolve())!="[object Promise]"||ah&&Id(new ah)!="[object Set]"||d_&&Id(new d_)!="[object WeakMap]")&&(Id=function(e){var t=Gl(e),r=t=="[object Object]"?e.constructor:void 0,a=r?Yd(r):"";if(a)switch(a){case MH:return"[object DataView]";case CH:return"[object Map]";case IH:return"[object Promise]";case DH:return"[object Set]";case kH:return"[object WeakMap]"}return t});var Fd=Id,LH=Object.prototype.hasOwnProperty,FH=function(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&LH.call(e,"index")&&(r.index=e.index,r.input=e.input),r},ng=Ms.Uint8Array,p1=function(e){var t=new e.constructor(e.byteLength);return new ng(t).set(new ng(e)),t},BH=function(e,t){var r=t?p1(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)},GH=/\w*$/,UH=function(e){var t=new e.constructor(e.source,GH.exec(e));return t.lastIndex=e.lastIndex,t},vS=Ju?Ju.prototype:void 0,yS=vS?vS.valueOf:void 0,zH=function(e){return yS?Object(yS.call(e)):{}},YP=function(e,t){var r=t?p1(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)},$H=function(e,t,r){var a=e.constructor;switch(t){case"[object ArrayBuffer]":return p1(e);case"[object Boolean]":case"[object Date]":return new a(+e);case"[object DataView]":return BH(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return YP(e,r);case"[object Map]":return new a;case"[object Number]":case"[object String]":return new a(e);case"[object RegExp]":return UH(e);case"[object Set]":return new a;case"[object Symbol]":return zH(e)}},gS=Object.create,KP=function(){function e(){}return function(t){if(!za(t))return{};if(gS)return gS(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),qP=function(e){return typeof e.constructor!="function"||Mg(e)?{}:KP(Cg(e))},HH=function(e){return Ps(e)&&Fd(e)=="[object Map]"},mS=dh&&dh.isMap,XH=mS?Ng(mS):HH,WH=function(e){return Ps(e)&&Fd(e)=="[object Set]"},bS=dh&&dh.isSet,VH=bS?Ng(bS):WH,wo={};wo["[object Arguments]"]=wo["[object Array]"]=wo["[object ArrayBuffer]"]=wo["[object DataView]"]=wo["[object Boolean]"]=wo["[object Date]"]=wo["[object Float32Array]"]=wo["[object Float64Array]"]=wo["[object Int8Array]"]=wo["[object Int16Array]"]=wo["[object Int32Array]"]=wo["[object Map]"]=wo["[object Number]"]=wo["[object Object]"]=wo["[object RegExp]"]=wo["[object Set]"]=wo["[object String]"]=wo["[object Symbol]"]=wo["[object Uint8Array]"]=wo["[object Uint8ClampedArray]"]=wo["[object Uint16Array]"]=wo["[object Uint32Array]"]=!0,wo["[object Error]"]=wo["[object Function]"]=wo["[object WeakMap]"]=!1;var ZP=function e(t,r,a,n,c,f){var y,v=1&r,b=2&r,O=4&r;if(a&&(y=c?a(t,n,c,f):a(t)),y!==void 0)return y;if(!za(t))return t;var S=qo(t);if(S){if(y=FH(t),!v)return $P(t,y)}else{var P=Fd(t),j=P=="[object Function]"||P=="[object GeneratorFunction]";if(Ld(t))return zP(t,v);if(P=="[object Object]"||P=="[object Arguments]"||j&&!c){if(y=b||j?{}:qP(t),!v)return b?jH(t,TH(y,t)):RH(t,wH(y,t))}else{if(!wo[P])return c?t:{};y=$H(t,P,v)}}f||(f=new ih);var I=f.get(t);if(I)return I;f.set(t,y),VH(t)?t.forEach(function(k){y.add(e(k,r,a,k,t,f))}):XH(t)&&t.forEach(function(k,G){y.set(G,e(k,r,a,G,t,f))});var C=S?void 0:(O?b?NH:c_:b?qd:Ul)(t);return s1(C||t,function(k,G){C&&(k=t[G=k]),Rg(y,G,e(k,r,a,G,t,f))}),y},YH=function(e){return ZP(e,4)},h1=function(e){return function(){return e}},v1=function(e){return function(t,r,a){for(var n=-1,c=Object(t),f=a(t),y=f.length;y--;){var v=f[e?y:++n];if(r(c[v],v,c)===!1)break}return t}}(),y1=function(e,t){return e&&v1(e,t,Ul)},Ig=function(e,t){return function(r,a){if(r==null)return r;if(!Df(r))return e(r,a);for(var n=r.length,c=t?n:-1,f=Object(r);(t?c--:++c<n)&&a(f[c],c,f)!==!1;);return r}}(y1),Zd=function(e){return e},JP=function(e){return typeof e=="function"?e:Zd},QP=function(e,t){return(qo(e)?s1:Ig)(e,JP(t))},eR=QP,KH=function(e,t){var r=[];return Ig(e,function(a,n,c){t(a,n,c)&&r.push(a)}),r},qH=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},ZH=function(e){return this.__data__.has(e)};function Ly(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Tg;++t<r;)this.add(e[t])}Ly.prototype.add=Ly.prototype.push=qH,Ly.prototype.has=ZH;var tR=Ly,JH=function(e,t){for(var r=-1,a=e==null?0:e.length;++r<a;)if(t(e[r],r,e))return!0;return!1},rR=function(e,t){return e.has(t)},nR=function(e,t,r,a,n,c){var f=1&r,y=e.length,v=t.length;if(y!=v&&!(f&&v>y))return!1;var b=c.get(e),O=c.get(t);if(b&&O)return b==t&&O==e;var S=-1,P=!0,j=2&r?new tR:void 0;for(c.set(e,t),c.set(t,e);++S<y;){var I=e[S],C=t[S];if(a)var k=f?a(C,I,S,t,e,c):a(I,C,S,e,t,c);if(k!==void 0){if(k)continue;P=!1;break}if(j){if(!JH(t,function(G,H){if(!rR(j,H)&&(I===G||n(I,G,r,a,c)))return j.push(H)})){P=!1;break}}else if(I!==C&&!n(I,C,r,a,c)){P=!1;break}}return c.delete(e),c.delete(t),P},QH=function(e){var t=-1,r=Array(e.size);return e.forEach(function(a,n){r[++t]=[n,a]}),r},g1=function(e){var t=-1,r=Array(e.size);return e.forEach(function(a){r[++t]=a}),r},_S=Ju?Ju.prototype:void 0,Ib=_S?_S.valueOf:void 0,eX=function(e,t,r,a,n,c,f){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!c(new ng(e),new ng(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ah(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var y=QH;case"[object Set]":var v=1&a;if(y||(y=g1),e.size!=t.size&&!v)return!1;var b=f.get(e);if(b)return b==t;a|=2,f.set(e,t);var O=nR(y(e),y(t),a,n,c,f);return f.delete(e),O;case"[object Symbol]":if(Ib)return Ib.call(e)==Ib.call(t)}return!1},tX=Object.prototype.hasOwnProperty,rX=function(e,t,r,a,n,c){var f=1&r,y=c_(e),v=y.length;if(v!=c_(t).length&&!f)return!1;for(var b=v;b--;){var O=y[b];if(!(f?O in t:tX.call(t,O)))return!1}var S=c.get(e),P=c.get(t);if(S&&P)return S==t&&P==e;var j=!0;c.set(e,t),c.set(t,e);for(var I=f;++b<v;){var C=e[O=y[b]],k=t[O];if(a)var G=f?a(k,C,O,t,e,c):a(C,k,O,e,t,c);if(!(G===void 0?C===k||n(C,k,r,a,c):G)){j=!1;break}I||(I=O=="constructor")}if(j&&!I){var H=e.constructor,ue=t.constructor;H==ue||!("constructor"in e)||!("constructor"in t)||typeof H=="function"&&H instanceof H&&typeof ue=="function"&&ue instanceof ue||(j=!1)}return c.delete(e),c.delete(t),j},ES=Object.prototype.hasOwnProperty,nX=function(e,t,r,a,n,c){var f=qo(e),y=qo(t),v=f?"[object Array]":Fd(e),b=y?"[object Array]":Fd(t),O=(v=v=="[object Arguments]"?"[object Object]":v)=="[object Object]",S=(b=b=="[object Arguments]"?"[object Object]":b)=="[object Object]",P=v==b;if(P&&Ld(e)){if(!Ld(t))return!1;f=!0,O=!1}if(P&&!O)return c||(c=new ih),f||Tv(e)?nR(e,t,r,a,n,c):eX(e,t,v,r,a,n,c);if(!(1&r)){var j=O&&ES.call(e,"__wrapped__"),I=S&&ES.call(t,"__wrapped__");if(j||I){var C=j?e.value():e,k=I?t.value():t;return c||(c=new ih),n(C,k,r,a,c)}}return!!P&&(c||(c=new ih),rX(e,t,r,a,n,c))},oR=function e(t,r,a,n,c){return t===r||(t==null||r==null||!Ps(t)&&!Ps(r)?t!=t&&r!=r:nX(t,r,a,n,e,c))},oX=function(e,t,r,a){var n=r.length,c=n,f=!a;if(e==null)return!c;for(e=Object(e);n--;){var y=r[n];if(f&&y[2]?y[1]!==e[y[0]]:!(y[0]in e))return!1}for(;++n<c;){var v=(y=r[n])[0],b=e[v],O=y[1];if(f&&y[2]){if(b===void 0&&!(v in e))return!1}else{var S=new ih;if(a)var P=a(b,O,v,e,t,S);if(!(P===void 0?oR(O,b,3,a,S):P))return!1}}return!0},iR=function(e){return e==e&&!za(e)},iX=function(e){for(var t=Ul(e),r=t.length;r--;){var a=t[r],n=e[a];t[r]=[a,n,iR(n)]}return t},aR=function(e,t){return function(r){return r!=null&&r[e]===t&&(t!==void 0||e in Object(r))}},aX=function(e){var t=iX(e);return t.length==1&&t[0][2]?aR(t[0][0],t[0][1]):function(r){return r===e||oX(r,e,t)}},Bd=function(e){return typeof e=="symbol"||Ps(e)&&Gl(e)=="[object Symbol]"},uX=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sX=/^\w*$/,m1=function(e,t){if(qo(e))return!1;var r=typeof e;return!(r!="number"&&r!="symbol"&&r!="boolean"&&e!=null&&!Bd(e))||sX.test(e)||!uX.test(e)||t!=null&&e in Object(t)};function b1(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");var r=function(){var a=arguments,n=t?t.apply(this,a):a[0],c=r.cache;if(c.has(n))return c.get(n);var f=e.apply(this,a);return r.cache=c.set(n,f)||c,f};return r.cache=new(b1.Cache||Tg),r}b1.Cache=Tg;var cX=b1,fX=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,lX=/\\(\\)?/g,dX=function(e){var t=cX(e,function(a){return r.size===500&&r.clear(),a}),r=t.cache;return t}(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(fX,function(r,a,n,c){t.push(n?c.replace(lX,"$1"):a||r)}),t}),uh=function(e,t){for(var r=-1,a=e==null?0:e.length,n=Array(a);++r<a;)n[r]=t(e[r],r,e);return n},OS=Ju?Ju.prototype:void 0,wS=OS?OS.toString:void 0,pX=function e(t){if(typeof t=="string")return t;if(qo(t))return uh(t,e)+"";if(Bd(t))return wS?wS.call(t):"";var r=t+"";return r=="0"&&1/t==-1/0?"-0":r},uR=function(e){return e==null?"":pX(e)},Dg=function(e,t){return qo(e)?e:m1(e,t)?[e]:dX(uR(e))},Pv=function(e){if(typeof e=="string"||Bd(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t},kg=function(e,t){for(var r=0,a=(t=Dg(t,e)).length;e!=null&&r<a;)e=e[Pv(t[r++])];return r&&r==a?e:void 0},hX=function(e,t,r){var a=e==null?void 0:kg(e,t);return a===void 0?r:a},vX=function(e,t){return e!=null&&t in Object(e)},sR=function(e,t,r){for(var a=-1,n=(t=Dg(t,e)).length,c=!1;++a<n;){var f=Pv(t[a]);if(!(c=e!=null&&r(e,f)))break;e=e[f]}return c||++a!=n?c:!!(n=e==null?0:e.length)&&c1(n)&&jg(f,n)&&(qo(e)||lh(e))},cR=function(e,t){return e!=null&&sR(e,t,vX)},yX=function(e,t){return m1(e)&&iR(t)?aR(Pv(e),t):function(r){var a=hX(r,e);return a===void 0&&a===t?cR(r,e):oR(t,a,3)}},fR=function(e){return function(t){return t==null?void 0:t[e]}},gX=function(e){return function(t){return kg(t,e)}},mX=function(e){return m1(e)?fR(Pv(e)):gX(e)},kf=function(e){return typeof e=="function"?e:e==null?Zd:typeof e=="object"?qo(e)?yX(e[0],e[1]):aX(e):mX(e)},lR=function(e,t){return(qo(e)?HP:KH)(e,kf(t))},bX=Object.prototype.hasOwnProperty,_X=function(e,t){return e!=null&&bX.call(e,t)},dR=function(e,t){return e!=null&&sR(e,t,_X)},EX=Object.prototype.hasOwnProperty,OX=function(e){if(e==null)return!0;if(Df(e)&&(qo(e)||typeof e=="string"||typeof e.splice=="function"||Ld(e)||Tv(e)||lh(e)))return!e.length;var t=Fd(e);if(t=="[object Map]"||t=="[object Set]")return!e.size;if(Mg(e))return!f1(e).length;for(var r in e)if(EX.call(e,r))return!1;return!0},pR=function(e){return e===void 0},hR=function(e,t){var r=-1,a=Df(e)?Array(e.length):[];return Ig(e,function(n,c,f){a[++r]=t(n,c,f)}),a},vR=function(e,t){return(qo(e)?uh:hR)(e,kf(t))},wX=function(e,t,r,a){var n=-1,c=e==null?0:e.length;for(a&&c&&(r=e[++n]);++n<c;)r=t(r,e[n],n,e);return r},xX=function(e,t,r,a,n){return n(e,function(c,f,y){r=a?(a=!1,c):t(r,c,f,y)}),r},yR=function(e,t,r){var a=qo(e)?wX:xX,n=arguments.length<3;return a(e,kf(t),r,n,Ig)},SX=function(e){return typeof e=="string"||!qo(e)&&Ps(e)&&Gl(e)=="[object String]"},AX=fR("length"),TX=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),PX=function(e){return TX.test(e)},RX="[\\ud800-\\udfff]",p_="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",h_="\\ud83c[\\udffb-\\udfff]",gR="[^\\ud800-\\udfff]",mR="(?:\\ud83c[\\udde6-\\uddff]){2}",bR="[\\ud800-\\udbff][\\udc00-\\udfff]",xS="(?:"+p_+"|"+h_+")?",jX="[\\ufe0e\\ufe0f]?"+xS+("(?:\\u200d(?:"+[gR,mR,bR].join("|")+")[\\ufe0e\\ufe0f]?"+xS+")*"),NX="(?:"+[gR+p_+"?",p_,mR,bR,RX].join("|")+")",SS=RegExp(h_+"(?="+h_+")|"+NX+jX,"g"),MX=function(e){for(var t=SS.lastIndex=0;SS.test(e);)++t;return t},CX=function(e){return PX(e)?MX(e):AX(e)},IX=function(e){if(e==null)return 0;if(Df(e))return SX(e)?CX(e):e.length;var t=Fd(e);return t=="[object Map]"||t=="[object Set]"?e.size:f1(e).length},DX=function(e,t,r){var a=qo(e),n=a||Ld(e)||Tv(e);if(t=kf(t),r==null){var c=e&&e.constructor;r=n?a?new c:[]:za(e)&&Sv(c)?KP(Cg(e)):{}}return(n?s1:y1)(e,function(f,y,v){return t(r,f,y,v)}),r},AS=Ju?Ju.isConcatSpreadable:void 0,kX=function(e){return qo(e)||lh(e)||!!(AS&&e&&e[AS])},_1=function e(t,r,a,n,c){var f=-1,y=t.length;for(a||(a=kX),c||(c=[]);++f<y;){var v=t[f];r>0&&a(v)?r>1?e(v,r-1,a,n,c):d1(c,v):n||(c[c.length]=v)}return c},LX=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)},TS=Math.max,_R=function(e,t,r){return t=TS(t===void 0?e.length-1:t,0),function(){for(var a=arguments,n=-1,c=TS(a.length-t,0),f=Array(c);++n<c;)f[n]=a[t+n];n=-1;for(var y=Array(t+1);++n<t;)y[n]=a[n];return y[t]=r(f),LX(e,this,y)}},FX=rg?function(e,t){return rg(e,"toString",{configurable:!0,enumerable:!1,value:h1(t),writable:!0})}:Zd,BX=Date.now,ER=function(e){var t=0,r=0;return function(){var a=BX(),n=16-(a-r);if(r=a,n>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(FX),Lg=function(e,t){return ER(_R(e,t,Zd),e+"")},OR=function(e,t,r,a){for(var n=e.length,c=r+(a?1:-1);a?c--:++c<n;)if(t(e[c],c,e))return c;return-1},GX=function(e){return e!=e},UX=function(e,t,r){for(var a=r-1,n=e.length;++a<n;)if(e[a]===t)return a;return-1},zX=function(e,t,r){return t==t?UX(e,t,r):OR(e,GX,r)},$X=function(e,t){return!!(e!=null&&e.length)&&zX(e,t,0)>-1},HX=function(e,t,r){for(var a=-1,n=e==null?0:e.length;++a<n;)if(r(t,e[a]))return!0;return!1},XX=function(){},WX=ah&&1/g1(new ah([,-0]))[1]==1/0?function(e){return new ah(e)}:XX,VX=function(e,t,r){var a=-1,n=$X,c=e.length,f=!0,y=[],v=y;if(r)f=!1,n=HX;else if(c>=200){var b=t?null:WX(e);if(b)return g1(b);f=!1,n=rR,v=new tR}else v=t?[]:y;e:for(;++a<c;){var O=e[a],S=t?t(O):O;if(O=r||O!==0?O:0,f&&S==S){for(var P=v.length;P--;)if(v[P]===S)continue e;t&&v.push(S),y.push(O)}else n(v,S,r)||(v!==y&&v.push(S),y.push(O))}return y},wR=function(e){return Ps(e)&&Df(e)},YX=Lg(function(e){return VX(_1(e,1,wR,!0))}),KX=function(e,t){return uh(t,function(r){return e[r]})},og,xR=function(e){return e==null?[]:KX(e,Ul(e))};try{og={clone:YH,constant:h1,each:eR,filter:lR,has:dR,isArray:qo,isEmpty:OX,isFunction:Sv,isUndefined:pR,keys:Ul,map:vR,reduce:yR,size:IX,transform:DX,union:YX,values:xR}}catch{}og||(og=window._);var sr=og,E1=wn;function wn(e){this._isDirected=!sr.has(e,"directed")||e.directed,this._isMultigraph=!!sr.has(e,"multigraph")&&e.multigraph,this._isCompound=!!sr.has(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=sr.constant(void 0),this._defaultEdgeLabelFn=sr.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function PS(e,t){e[t]?e[t]++:e[t]=1}function RS(e,t){--e[t]||delete e[t]}function nv(e,t,r,a){var n=""+t,c=""+r;if(!e&&n>c){var f=n;n=c,c=f}return n+""+c+""+(sr.isUndefined(a)?"\0":a)}function qX(e,t,r,a){var n=""+t,c=""+r;if(!e&&n>c){var f=n;n=c,c=f}var y={v:n,w:c};return a&&(y.name=a),y}function Db(e,t){return nv(e,t.v,t.w,t.name)}wn.prototype._nodeCount=0,wn.prototype._edgeCount=0,wn.prototype.isDirected=function(){return this._isDirected},wn.prototype.isMultigraph=function(){return this._isMultigraph},wn.prototype.isCompound=function(){return this._isCompound},wn.prototype.setGraph=function(e){return this._label=e,this},wn.prototype.graph=function(){return this._label},wn.prototype.setDefaultNodeLabel=function(e){return sr.isFunction(e)||(e=sr.constant(e)),this._defaultNodeLabelFn=e,this},wn.prototype.nodeCount=function(){return this._nodeCount},wn.prototype.nodes=function(){return sr.keys(this._nodes)},wn.prototype.sources=function(){var e=this;return sr.filter(this.nodes(),function(t){return sr.isEmpty(e._in[t])})},wn.prototype.sinks=function(){var e=this;return sr.filter(this.nodes(),function(t){return sr.isEmpty(e._out[t])})},wn.prototype.setNodes=function(e,t){var r=arguments,a=this;return sr.each(e,function(n){r.length>1?a.setNode(n,t):a.setNode(n)}),this},wn.prototype.setNode=function(e,t){return sr.has(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]="\0",this._children[e]={},this._children["\0"][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)},wn.prototype.node=function(e){return this._nodes[e]},wn.prototype.hasNode=function(e){return sr.has(this._nodes,e)},wn.prototype.removeNode=function(e){var t=this;if(sr.has(this._nodes,e)){var r=function(a){t.removeEdge(t._edgeObjs[a])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],sr.each(this.children(e),function(a){t.setParent(a)}),delete this._children[e]),sr.each(sr.keys(this._in[e]),r),delete this._in[e],delete this._preds[e],sr.each(sr.keys(this._out[e]),r),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this},wn.prototype.setParent=function(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(sr.isUndefined(t))t="\0";else{for(var r=t+="";!sr.isUndefined(r);r=this.parent(r))if(r===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this},wn.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},wn.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if(t!=="\0")return t}},wn.prototype.children=function(e){if(sr.isUndefined(e)&&(e="\0"),this._isCompound){var t=this._children[e];if(t)return sr.keys(t)}else{if(e==="\0")return this.nodes();if(this.hasNode(e))return[]}},wn.prototype.predecessors=function(e){var t=this._preds[e];if(t)return sr.keys(t)},wn.prototype.successors=function(e){var t=this._sucs[e];if(t)return sr.keys(t)},wn.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return sr.union(t,this.successors(e))},wn.prototype.isLeaf=function(e){return(this.isDirected()?this.successors(e):this.neighbors(e)).length===0},wn.prototype.filterNodes=function(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var r=this;sr.each(this._nodes,function(c,f){e(f)&&t.setNode(f,c)}),sr.each(this._edgeObjs,function(c){t.hasNode(c.v)&&t.hasNode(c.w)&&t.setEdge(c,r.edge(c))});var a={};function n(c){var f=r.parent(c);return f===void 0||t.hasNode(f)?(a[c]=f,f):f in a?a[f]:n(f)}return this._isCompound&&sr.each(t.nodes(),function(c){t.setParent(c,n(c))}),t},wn.prototype.setDefaultEdgeLabel=function(e){return sr.isFunction(e)||(e=sr.constant(e)),this._defaultEdgeLabelFn=e,this},wn.prototype.edgeCount=function(){return this._edgeCount},wn.prototype.edges=function(){return sr.values(this._edgeObjs)},wn.prototype.setPath=function(e,t){var r=this,a=arguments;return sr.reduce(e,function(n,c){return a.length>1?r.setEdge(n,c,t):r.setEdge(n,c),c}),this},wn.prototype.setEdge=function(){var e,t,r,a,n=!1,c=arguments[0];typeof c=="object"&&c!==null&&"v"in c?(e=c.v,t=c.w,r=c.name,arguments.length===2&&(a=arguments[1],n=!0)):(e=c,t=arguments[1],r=arguments[3],arguments.length>2&&(a=arguments[2],n=!0)),e=""+e,t=""+t,sr.isUndefined(r)||(r=""+r);var f=nv(this._isDirected,e,t,r);if(sr.has(this._edgeLabels,f))return n&&(this._edgeLabels[f]=a),this;if(!sr.isUndefined(r)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[f]=n?a:this._defaultEdgeLabelFn(e,t,r);var y=qX(this._isDirected,e,t,r);return e=y.v,t=y.w,Object.freeze(y),this._edgeObjs[f]=y,PS(this._preds[t],e),PS(this._sucs[e],t),this._in[t][f]=y,this._out[e][f]=y,this._edgeCount++,this},wn.prototype.edge=function(e,t,r){var a=arguments.length===1?Db(this._isDirected,arguments[0]):nv(this._isDirected,e,t,r);return this._edgeLabels[a]},wn.prototype.hasEdge=function(e,t,r){var a=arguments.length===1?Db(this._isDirected,arguments[0]):nv(this._isDirected,e,t,r);return sr.has(this._edgeLabels,a)},wn.prototype.removeEdge=function(e,t,r){var a=arguments.length===1?Db(this._isDirected,arguments[0]):nv(this._isDirected,e,t,r),n=this._edgeObjs[a];return n&&(e=n.v,t=n.w,delete this._edgeLabels[a],delete this._edgeObjs[a],RS(this._preds[t],e),RS(this._sucs[e],t),delete this._in[t][a],delete this._out[e][a],this._edgeCount--),this},wn.prototype.inEdges=function(e,t){var r=this._in[e];if(r){var a=sr.values(r);return t?sr.filter(a,function(n){return n.v===t}):a}},wn.prototype.outEdges=function(e,t){var r=this._out[e];if(r){var a=sr.values(r);return t?sr.filter(a,function(n){return n.w===t}):a}},wn.prototype.nodeEdges=function(e,t){var r=this.inEdges(e,t);if(r)return r.concat(this.outEdges(e,t))};var jS={Graph:E1,version:"2.1.8"},ZX={write:function(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:JX(e),edges:QX(e)};return sr.isUndefined(e.graph())||(t.value=sr.clone(e.graph())),t},read:function(e){var t=new E1(e.options).setGraph(e.value);return sr.each(e.nodes,function(r){t.setNode(r.v,r.value),r.parent&&t.setParent(r.v,r.parent)}),sr.each(e.edges,function(r){t.setEdge({v:r.v,w:r.w,name:r.name},r.value)}),t}};function JX(e){return sr.map(e.nodes(),function(t){var r=e.node(t),a=e.parent(t),n={v:t};return sr.isUndefined(r)||(n.value=r),sr.isUndefined(a)||(n.parent=a),n})}function QX(e){return sr.map(e.edges(),function(t){var r=e.edge(t),a={v:t.v,w:t.w};return sr.isUndefined(t.name)||(a.name=t.name),sr.isUndefined(r)||(a.value=r),a})}var eW=function(e){var t,r={},a=[];function n(c){sr.has(r,c)||(r[c]=!0,t.push(c),sr.each(e.successors(c),n),sr.each(e.predecessors(c),n))}return sr.each(e.nodes(),function(c){t=[],n(c),t.length&&a.push(t)}),a},SR=Wu;function Wu(){this._arr=[],this._keyIndices={}}Wu.prototype.size=function(){return this._arr.length},Wu.prototype.keys=function(){return this._arr.map(function(e){return e.key})},Wu.prototype.has=function(e){return sr.has(this._keyIndices,e)},Wu.prototype.priority=function(e){var t=this._keyIndices[e];if(t!==void 0)return this._arr[t].priority},Wu.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},Wu.prototype.add=function(e,t){var r=this._keyIndices;if(e=String(e),!sr.has(r,e)){var a=this._arr,n=a.length;return r[e]=n,a.push({key:e,priority:t}),this._decrease(n),!0}return!1},Wu.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key},Wu.prototype.decrease=function(e,t){var r=this._keyIndices[e];if(t>this._arr[r].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[r].priority+" New: "+t);this._arr[r].priority=t,this._decrease(r)},Wu.prototype._heapify=function(e){var t=this._arr,r=2*e,a=r+1,n=e;r<t.length&&(n=t[r].priority<t[n].priority?r:n,a<t.length&&(n=t[a].priority<t[n].priority?a:n),n!==e&&(this._swap(e,n),this._heapify(n)))},Wu.prototype._decrease=function(e){for(var t,r=this._arr,a=r[e].priority;e!==0&&!(r[t=e>>1].priority<a);)this._swap(e,t),e=t},Wu.prototype._swap=function(e,t){var r=this._arr,a=this._keyIndices,n=r[e],c=r[t];r[e]=c,r[t]=n,a[c.key]=e,a[n.key]=t};var AR=function(e,t,r,a){return function(n,c,f,y){var v,b,O={},S=new SR,P=function(j){var I=j.v!==v?j.v:j.w,C=O[I],k=f(j),G=b.distance+k;if(k<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+j+" Weight: "+k);G<C.distance&&(C.distance=G,C.predecessor=v,S.decrease(I,G))};for(n.nodes().forEach(function(j){var I=j===c?0:Number.POSITIVE_INFINITY;O[j]={distance:I},S.add(j,I)});S.size()>0&&(v=S.removeMin(),(b=O[v]).distance!==Number.POSITIVE_INFINITY);)y(v).forEach(P);return O}(e,String(t),r||tW,a||function(n){return e.outEdges(n)})},tW=sr.constant(1),rW=function(e,t,r){return sr.transform(e.nodes(),function(a,n){a[n]=AR(e,n,t,r)},{})},TR=function(e){var t=0,r=[],a={},n=[];function c(f){var y=a[f]={onStack:!0,lowlink:t,index:t++};if(r.push(f),e.successors(f).forEach(function(O){sr.has(a,O)?a[O].onStack&&(y.lowlink=Math.min(y.lowlink,a[O].index)):(c(O),y.lowlink=Math.min(y.lowlink,a[O].lowlink))}),y.lowlink===y.index){var v,b=[];do v=r.pop(),a[v].onStack=!1,b.push(v);while(f!==v);n.push(b)}}return e.nodes().forEach(function(f){sr.has(a,f)||c(f)}),n},nW=function(e){return sr.filter(TR(e),function(t){return t.length>1||t.length===1&&e.hasEdge(t[0],t[0])})},oW=function(e,t,r){return function(a,n,c){var f={},y=a.nodes();return y.forEach(function(v){f[v]={},f[v][v]={distance:0},y.forEach(function(b){v!==b&&(f[v][b]={distance:Number.POSITIVE_INFINITY})}),c(v).forEach(function(b){var O=b.v===v?b.w:b.v,S=n(b);f[v][O]={distance:S,predecessor:v}})}),y.forEach(function(v){var b=f[v];y.forEach(function(O){var S=f[O];y.forEach(function(P){var j=S[v],I=b[P],C=S[P],k=j.distance+I.distance;k<C.distance&&(C.distance=k,C.predecessor=I.predecessor)})})}),f}(e,t||iW,r||function(a){return e.outEdges(a)})},iW=sr.constant(1),kb=PR;function PR(e){var t={},r={},a=[];if(sr.each(e.sinks(),function n(c){if(sr.has(r,c))throw new ig;sr.has(t,c)||(r[c]=!0,t[c]=!0,sr.each(e.predecessors(c),n),delete r[c],a.push(c))}),sr.size(t)!==e.nodeCount())throw new ig;return a}function ig(){}PR.CycleException=ig,ig.prototype=new Error;var NS=function(e,t,r){sr.isArray(t)||(t=[t]);var a=(e.isDirected()?e.successors:e.neighbors).bind(e),n=[],c={};return sr.each(t,function(f){if(!e.hasNode(f))throw new Error("Graph does not have node: "+f);RR(e,f,r==="post",c,a,n)}),n};function RR(e,t,r,a,n,c){sr.has(a,t)||(a[t]=!0,r||c.push(t),sr.each(n(t),function(f){RR(e,f,r,a,n,c)}),r&&c.push(t))}var ag,aW={Graph:jS.Graph,json:ZX,alg:{components:eW,dijkstra:AR,dijkstraAll:rW,findCycles:nW,floydWarshall:oW,isAcyclic:function(e){try{kb(e)}catch(t){if(t instanceof kb.CycleException)return!1;throw t}return!0},postorder:function(e,t){return NS(e,t,"post")},preorder:function(e,t){return NS(e,t,"pre")},prim:function(e,t){var r,a=new E1,n={},c=new SR;function f(v){var b=v.v===r?v.w:v.v,O=c.priority(b);if(O!==void 0){var S=t(v);S<O&&(n[b]=r,c.decrease(b,S))}}if(e.nodeCount()===0)return a;sr.each(e.nodes(),function(v){c.add(v,Number.POSITIVE_INFINITY),a.setNode(v)}),c.decrease(e.nodes()[0],0);for(var y=!1;c.size()>0;){if(r=c.removeMin(),sr.has(n,r))a.setEdge(r,n[r]);else{if(y)throw new Error("Input graph is not connected: "+e);y=!0}e.nodeEdges(r).forEach(f)}return a},tarjan:TR,topsort:kb},version:jS.version};try{ag=aW}catch{}ag||(ag=window.graphlib);var wc=ag,uW=function(e){return ZP(e,5)},vv=function(e,t,r){if(!za(r))return!1;var a=typeof t;return!!(a=="number"?Df(r)&&jg(t,r.length):a=="string"&&t in r)&&Ah(r[t],e)},jR=Object.prototype,sW=jR.hasOwnProperty,cW=Lg(function(e,t){e=Object(e);var r=-1,a=t.length,n=a>2?t[2]:void 0;for(n&&vv(t[0],t[1],n)&&(a=1);++r<a;)for(var c=t[r],f=qd(c),y=-1,v=f.length;++y<v;){var b=f[y],O=e[b];(O===void 0||Ah(O,jR[b])&&!sW.call(e,b))&&(e[b]=c[b])}return e}),fW=function(e){return function(t,r,a){var n=Object(t);if(!Df(t)){var c=kf(r);t=Ul(t),r=function(y){return c(n[y],y,n)}}var f=e(t,r,a);return f>-1?n[c?t[f]:f]:void 0}},lW=/^\s+|\s+$/g,dW=/^[-+]0x[0-9a-f]+$/i,pW=/^0b[01]+$/i,hW=/^0o[0-7]+$/i,vW=parseInt,yW=function(e){if(typeof e=="number")return e;if(Bd(e))return NaN;if(za(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=za(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(lW,"");var r=pW.test(e);return r||hW.test(e)?vW(e.slice(2),r?2:8):dW.test(e)?NaN:+e},Fy=function(e){return e?(e=yW(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:e===0?e:0},gW=function(e){var t=Fy(e),r=t%1;return t==t?r?t-r:t:0},mW=Math.max,bW=fW(function(e,t,r){var a=e==null?0:e.length;if(!a)return-1;var n=r==null?0:gW(r);return n<0&&(n=mW(a+n,0)),OR(e,kf(t),n)}),NR=function(e){return e!=null&&e.length?_1(e,1):[]},_W=function(e,t){return e==null?e:v1(e,JP(t),qd)},EW=function(e){var t=e==null?0:e.length;return t?e[t-1]:void 0},OW=function(e,t){var r={};return t=kf(t),y1(e,function(a,n,c){Pg(r,n,t(a,n,c))}),r},O1=function(e,t,r){for(var a=-1,n=e.length;++a<n;){var c=e[a],f=t(c);if(f!=null&&(y===void 0?f==f&&!Bd(f):r(f,y)))var y=f,v=c}return v},wW=function(e,t){return e>t},xW=function(e){return e&&e.length?O1(e,Zd,wW):void 0},v_=function(e,t,r){(r!==void 0&&!Ah(e[t],r)||r===void 0&&!(t in e))&&Pg(e,t,r)},SW=Function.prototype,AW=Object.prototype,MR=SW.toString,TW=AW.hasOwnProperty,PW=MR.call(Object),RW=function(e){if(!Ps(e)||Gl(e)!="[object Object]")return!1;var t=Cg(e);if(t===null)return!0;var r=TW.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&MR.call(r)==PW},y_=function(e,t){if((t!=="constructor"||typeof e[t]!="function")&&t!="__proto__")return e[t]},jW=function(e){return Av(e,qd(e))},NW=function(e,t,r,a,n,c,f){var y=y_(e,r),v=y_(t,r),b=f.get(v);if(b)v_(e,r,b);else{var O=c?c(y,v,r+"",e,t,f):void 0,S=O===void 0;if(S){var P=qo(v),j=!P&&Ld(v),I=!P&&!j&&Tv(v);O=v,P||j||I?qo(y)?O=y:wR(y)?O=$P(y):j?(S=!1,O=zP(v,!0)):I?(S=!1,O=YP(v,!0)):O=[]:RW(v)||lh(v)?(O=y,lh(y)?O=jW(y):za(y)&&!Sv(y)||(O=qP(v))):S=!1}S&&(f.set(v,O),n(O,v,a,c,f),f.delete(v)),v_(e,r,O)}},MW=function e(t,r,a,n,c){t!==r&&v1(r,function(f,y){if(c||(c=new ih),za(f))NW(t,r,y,a,e,n,c);else{var v=n?n(y_(t,y),f,y+"",t,r,c):void 0;v===void 0&&(v=f),v_(t,y,v)}},qd)},CW=function(e){return Lg(function(t,r){var a=-1,n=r.length,c=n>1?r[n-1]:void 0,f=n>2?r[2]:void 0;for(c=e.length>3&&typeof c=="function"?(n--,c):void 0,f&&vv(r[0],r[1],f)&&(c=n<3?void 0:c,n=1),t=Object(t);++a<n;){var y=r[a];y&&e(t,y,a,c)}return t})}(function(e,t,r){MW(e,t,r)}),CR=function(e,t){return e<t},IW=function(e){return e&&e.length?O1(e,Zd,CR):void 0},DW=function(e,t){return e&&e.length?O1(e,kf(t),CR):void 0},kW=function(){return Ms.Date.now()},LW=function(e,t,r,a){if(!za(e))return e;for(var n=-1,c=(t=Dg(t,e)).length,f=c-1,y=e;y!=null&&++n<c;){var v=Pv(t[n]),b=r;if(v==="__proto__"||v==="constructor"||v==="prototype")return e;if(n!=f){var O=y[v];(b=a?a(O,v,y):void 0)===void 0&&(b=za(O)?O:jg(t[n+1])?[]:{})}Rg(y,v,b),y=y[v]}return e},FW=function(e,t,r){for(var a=-1,n=t.length,c={};++a<n;){var f=t[a],y=kg(e,f);r(y,f)&&LW(c,Dg(f,e),y)}return c},BW=function(e,t){return FW(e,t,function(r,a){return cR(e,a)})},GW=function(e){return ER(_R(e,void 0,NR),e+"")}(function(e,t){return e==null?{}:BW(e,t)}),UW=Math.ceil,zW=Math.max,$W=function(e,t,r,a){for(var n=-1,c=zW(UW((t-e)/(r||1)),0),f=Array(c);c--;)f[a?c:++n]=e,e+=r;return f},HW=function(e){return function(t,r,a){return a&&typeof a!="number"&&vv(t,r,a)&&(r=a=void 0),t=Fy(t),r===void 0?(r=t,t=0):r=Fy(r),a=a===void 0?t<r?1:-1:Fy(a),$W(t,r,a,e)}}(),XW=function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e},WW=function(e,t){if(e!==t){var r=e!==void 0,a=e===null,n=e==e,c=Bd(e),f=t!==void 0,y=t===null,v=t==t,b=Bd(t);if(!y&&!b&&!c&&e>t||c&&f&&v&&!y&&!b||a&&f&&v||!r&&v||!n)return 1;if(!a&&!c&&!b&&e<t||b&&r&&n&&!a&&!c||y&&r&&n||!f&&n||!v)return-1}return 0},VW=function(e,t,r){for(var a=-1,n=e.criteria,c=t.criteria,f=n.length,y=r.length;++a<f;){var v=WW(n[a],c[a]);if(v)return a>=y?v:v*(r[a]=="desc"?-1:1)}return e.index-t.index},YW=function(e,t,r){t=t.length?uh(t,function(c){return qo(c)?function(f){return kg(f,c.length===1?c[0]:c)}:c}):[Zd];var a=-1;t=uh(t,Ng(kf));var n=hR(e,function(c,f,y){return{criteria:uh(t,function(v){return v(c)}),index:++a,value:c}});return XW(n,function(c,f){return VW(c,f,r)})},KW=Lg(function(e,t){if(e==null)return[];var r=t.length;return r>1&&vv(e,t[0],t[1])?t=[]:r>2&&vv(t[0],t[1],t[2])&&(t=[t[0]]),YW(e,_1(t,1),[])}),qW=0,ZW=function(e){var t=++qW;return uR(e)+t},JW=function(e,t,r){for(var a=-1,n=e.length,c=t.length,f={};++a<n;){var y=a<c?t[a]:void 0;r(f,e[a],y)}return f},ug,QW=function(e,t){return JW(e||[],t||[],Rg)};try{ug={cloneDeep:uW,constant:h1,defaults:cW,each:eR,filter:lR,find:bW,flatten:NR,forEach:QP,forIn:_W,has:dR,isUndefined:pR,last:EW,map:vR,mapValues:OW,max:xW,merge:CW,min:IW,minBy:DW,now:kW,pick:GW,range:HW,reduce:yR,sortBy:KW,uniqueId:ZW,values:xR,zipObject:QW}}catch{}ug||(ug=window._);var eV=ug;wc.Graph;eV.constant(1);wc.Graph;wc.Graph;wc.alg.preorder;wc.alg.postorder;wc.Graph;wc.Graph;wc.Graph;wc.Graph;wc.Graph;function yv(e){return yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yv(e)}function tV(e,t){if(yv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(yv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rV(e){var t=tV(e,"string");return yv(t)=="symbol"?t:t+""}function Vt(e,t,r){return(t=rV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var nV=typeof rv=="object"&&rv&&rv.Object===Object&&rv,IR=nV,oV=IR,iV=typeof self=="object"&&self&&self.Object===Object&&self,aV=oV||iV||Function("return this")(),uV=aV,sV=uV,cV=sV.Symbol,DR=cV,MS=DR;MS&&MS.toStringTag;var CS=DR;CS&&CS.toStringTag;var g_={exports:{}};(function(e,t){var r=IR,a=t&&!t.nodeType&&t,n=a&&!0&&e&&!e.nodeType&&e,c=n&&n.exports===a,f=c&&r.process,y=function(){try{var v=n&&n.require&&n.require("util").types;return v||f&&f.binding&&f.binding("util")}catch{}}();e.exports=y})(g_,g_.exports);var IS=g_.exports;IS&&IS.isTypedArray;var kR={exports:{}},LR={exports:{}};(function(e){function t(r){return e.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(LR);(function(e){var t=LR.exports.default;function r(){e.exports=r=function(){return n},e.exports.__esModule=!0,e.exports.default=e.exports;var a,n={},c=Object.prototype,f=c.hasOwnProperty,y=Object.defineProperty||function(ae,pe,Se){ae[pe]=Se.value},v=typeof Symbol=="function"?Symbol:{},b=v.iterator||"@@iterator",O=v.asyncIterator||"@@asyncIterator",S=v.toStringTag||"@@toStringTag";function P(ae,pe,Se){return Object.defineProperty(ae,pe,{value:Se,enumerable:!0,configurable:!0,writable:!0}),ae[pe]}try{P({},"")}catch{P=function(Se,Ye,lt){return Se[Ye]=lt}}function j(ae,pe,Se,Ye){var lt=pe&&pe.prototype instanceof _e?pe:_e,Pt=Object.create(lt.prototype),Rt=new at(Ye||[]);return y(Pt,"_invoke",{value:Oe(ae,Se,Rt)}),Pt}function I(ae,pe,Se){try{return{type:"normal",arg:ae.call(pe,Se)}}catch(Ye){return{type:"throw",arg:Ye}}}n.wrap=j;var C="suspendedStart",k="suspendedYield",G="executing",H="completed",ue={};function _e(){}function be(){}function ce(){}var fe={};P(fe,b,function(){return this});var ee=Object.getPrototypeOf,$=ee&&ee(ee($e([])));$&&$!==c&&f.call($,b)&&(fe=$);var J=ce.prototype=_e.prototype=Object.create(fe);function re(ae){["next","throw","return"].forEach(function(pe){P(ae,pe,function(Se){return this._invoke(pe,Se)})})}function z(ae,pe){function Se(lt,Pt,Rt,Lt){var tr=I(ae[lt],ae,Pt);if(tr.type!=="throw"){var Te=tr.arg,de=Te.value;return de&&t(de)=="object"&&f.call(de,"__await")?pe.resolve(de.__await).then(function(Ae){Se("next",Ae,Rt,Lt)},function(Ae){Se("throw",Ae,Rt,Lt)}):pe.resolve(de).then(function(Ae){Te.value=Ae,Rt(Te)},function(Ae){return Se("throw",Ae,Rt,Lt)})}Lt(tr.arg)}var Ye;y(this,"_invoke",{value:function(Pt,Rt){function Lt(){return new pe(function(tr,Te){Se(Pt,Rt,tr,Te)})}return Ye=Ye?Ye.then(Lt,Lt):Lt()}})}function Oe(ae,pe,Se){var Ye=C;return function(lt,Pt){if(Ye===G)throw Error("Generator is already running");if(Ye===H){if(lt==="throw")throw Pt;return{value:a,done:!0}}for(Se.method=lt,Se.arg=Pt;;){var Rt=Se.delegate;if(Rt){var Lt=We(Rt,Se);if(Lt){if(Lt===ue)continue;return Lt}}if(Se.method==="next")Se.sent=Se._sent=Se.arg;else if(Se.method==="throw"){if(Ye===C)throw Ye=H,Se.arg;Se.dispatchException(Se.arg)}else Se.method==="return"&&Se.abrupt("return",Se.arg);Ye=G;var tr=I(ae,pe,Se);if(tr.type==="normal"){if(Ye=Se.done?H:k,tr.arg===ue)continue;return{value:tr.arg,done:Se.done}}tr.type==="throw"&&(Ye=H,Se.method="throw",Se.arg=tr.arg)}}}function We(ae,pe){var Se=pe.method,Ye=ae.iterator[Se];if(Ye===a)return pe.delegate=null,Se==="throw"&&ae.iterator.return&&(pe.method="return",pe.arg=a,We(ae,pe),pe.method==="throw")||Se!=="return"&&(pe.method="throw",pe.arg=new TypeError("The iterator does not provide a '"+Se+"' method")),ue;var lt=I(Ye,ae.iterator,pe.arg);if(lt.type==="throw")return pe.method="throw",pe.arg=lt.arg,pe.delegate=null,ue;var Pt=lt.arg;return Pt?Pt.done?(pe[ae.resultName]=Pt.value,pe.next=ae.nextLoc,pe.method!=="return"&&(pe.method="next",pe.arg=a),pe.delegate=null,ue):Pt:(pe.method="throw",pe.arg=new TypeError("iterator result is not an object"),pe.delegate=null,ue)}function ke(ae){var pe={tryLoc:ae[0]};1 in ae&&(pe.catchLoc=ae[1]),2 in ae&&(pe.finallyLoc=ae[2],pe.afterLoc=ae[3]),this.tryEntries.push(pe)}function it(ae){var pe=ae.completion||{};pe.type="normal",delete pe.arg,ae.completion=pe}function at(ae){this.tryEntries=[{tryLoc:"root"}],ae.forEach(ke,this),this.reset(!0)}function $e(ae){if(ae||ae===""){var pe=ae[b];if(pe)return pe.call(ae);if(typeof ae.next=="function")return ae;if(!isNaN(ae.length)){var Se=-1,Ye=function lt(){for(;++Se<ae.length;)if(f.call(ae,Se))return lt.value=ae[Se],lt.done=!1,lt;return lt.value=a,lt.done=!0,lt};return Ye.next=Ye}}throw new TypeError(t(ae)+" is not iterable")}return be.prototype=ce,y(J,"constructor",{value:ce,configurable:!0}),y(ce,"constructor",{value:be,configurable:!0}),be.displayName=P(ce,S,"GeneratorFunction"),n.isGeneratorFunction=function(ae){var pe=typeof ae=="function"&&ae.constructor;return!!pe&&(pe===be||(pe.displayName||pe.name)==="GeneratorFunction")},n.mark=function(ae){return Object.setPrototypeOf?Object.setPrototypeOf(ae,ce):(ae.__proto__=ce,P(ae,S,"GeneratorFunction")),ae.prototype=Object.create(J),ae},n.awrap=function(ae){return{__await:ae}},re(z.prototype),P(z.prototype,O,function(){return this}),n.AsyncIterator=z,n.async=function(ae,pe,Se,Ye,lt){lt===void 0&&(lt=Promise);var Pt=new z(j(ae,pe,Se,Ye),lt);return n.isGeneratorFunction(pe)?Pt:Pt.next().then(function(Rt){return Rt.done?Rt.value:Pt.next()})},re(J),P(J,S,"Generator"),P(J,b,function(){return this}),P(J,"toString",function(){return"[object Generator]"}),n.keys=function(ae){var pe=Object(ae),Se=[];for(var Ye in pe)Se.push(Ye);return Se.reverse(),function lt(){for(;Se.length;){var Pt=Se.pop();if(Pt in pe)return lt.value=Pt,lt.done=!1,lt}return lt.done=!0,lt}},n.values=$e,at.prototype={constructor:at,reset:function(pe){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(it),!pe)for(var Se in this)Se.charAt(0)==="t"&&f.call(this,Se)&&!isNaN(+Se.slice(1))&&(this[Se]=a)},stop:function(){this.done=!0;var pe=this.tryEntries[0].completion;if(pe.type==="throw")throw pe.arg;return this.rval},dispatchException:function(pe){if(this.done)throw pe;var Se=this;function Ye(Te,de){return Rt.type="throw",Rt.arg=pe,Se.next=Te,de&&(Se.method="next",Se.arg=a),!!de}for(var lt=this.tryEntries.length-1;lt>=0;--lt){var Pt=this.tryEntries[lt],Rt=Pt.completion;if(Pt.tryLoc==="root")return Ye("end");if(Pt.tryLoc<=this.prev){var Lt=f.call(Pt,"catchLoc"),tr=f.call(Pt,"finallyLoc");if(Lt&&tr){if(this.prev<Pt.catchLoc)return Ye(Pt.catchLoc,!0);if(this.prev<Pt.finallyLoc)return Ye(Pt.finallyLoc)}else if(Lt){if(this.prev<Pt.catchLoc)return Ye(Pt.catchLoc,!0)}else{if(!tr)throw Error("try statement without catch or finally");if(this.prev<Pt.finallyLoc)return Ye(Pt.finallyLoc)}}}},abrupt:function(pe,Se){for(var Ye=this.tryEntries.length-1;Ye>=0;--Ye){var lt=this.tryEntries[Ye];if(lt.tryLoc<=this.prev&&f.call(lt,"finallyLoc")&&this.prev<lt.finallyLoc){var Pt=lt;break}}Pt&&(pe==="break"||pe==="continue")&&Pt.tryLoc<=Se&&Se<=Pt.finallyLoc&&(Pt=null);var Rt=Pt?Pt.completion:{};return Rt.type=pe,Rt.arg=Se,Pt?(this.method="next",this.next=Pt.finallyLoc,ue):this.complete(Rt)},complete:function(pe,Se){if(pe.type==="throw")throw pe.arg;return pe.type==="break"||pe.type==="continue"?this.next=pe.arg:pe.type==="return"?(this.rval=this.arg=pe.arg,this.method="return",this.next="end"):pe.type==="normal"&&Se&&(this.next=Se),ue},finish:function(pe){for(var Se=this.tryEntries.length-1;Se>=0;--Se){var Ye=this.tryEntries[Se];if(Ye.finallyLoc===pe)return this.complete(Ye.completion,Ye.afterLoc),it(Ye),ue}},catch:function(pe){for(var Se=this.tryEntries.length-1;Se>=0;--Se){var Ye=this.tryEntries[Se];if(Ye.tryLoc===pe){var lt=Ye.completion;if(lt.type==="throw"){var Pt=lt.arg;it(Ye)}return Pt}}throw Error("illegal catch attempt")},delegateYield:function(pe,Se,Ye){return this.delegate={iterator:$e(pe),resultName:Se,nextLoc:Ye},this.method==="next"&&(this.arg=a),ue}},n}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports})(kR);var Lb=kR.exports();try{regeneratorRuntime=Lb}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=Lb:Function("r","regeneratorRuntime = r")(Lb)}var Xt;(function(e){e[e.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",e[e.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",e[e.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN",e[e.ZERO=0]="ZERO",e[e.ONE=1]="ONE",e[e.SRC_COLOR=768]="SRC_COLOR",e[e.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",e[e.SRC_ALPHA=770]="SRC_ALPHA",e[e.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",e[e.DST_ALPHA=772]="DST_ALPHA",e[e.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",e[e.DST_COLOR=774]="DST_COLOR",e[e.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",e[e.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",e[e.FUNC_ADD=32774]="FUNC_ADD",e[e.BLEND_EQUATION=32777]="BLEND_EQUATION",e[e.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",e[e.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",e[e.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",e[e.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",e[e.MAX_EXT=32776]="MAX_EXT",e[e.MIN_EXT=32775]="MIN_EXT",e[e.BLEND_DST_RGB=32968]="BLEND_DST_RGB",e[e.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",e[e.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",e[e.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",e[e.CONSTANT_COLOR=32769]="CONSTANT_COLOR",e[e.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",e[e.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",e[e.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",e[e.BLEND_COLOR=32773]="BLEND_COLOR",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",e[e.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",e[e.STREAM_DRAW=35040]="STREAM_DRAW",e[e.STATIC_DRAW=35044]="STATIC_DRAW",e[e.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",e[e.BUFFER_SIZE=34660]="BUFFER_SIZE",e[e.BUFFER_USAGE=34661]="BUFFER_USAGE",e[e.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",e[e.FRONT=1028]="FRONT",e[e.BACK=1029]="BACK",e[e.FRONT_AND_BACK=1032]="FRONT_AND_BACK",e[e.CULL_FACE=2884]="CULL_FACE",e[e.BLEND=3042]="BLEND",e[e.DITHER=3024]="DITHER",e[e.STENCIL_TEST=2960]="STENCIL_TEST",e[e.DEPTH_TEST=2929]="DEPTH_TEST",e[e.SCISSOR_TEST=3089]="SCISSOR_TEST",e[e.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",e[e.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",e[e.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",e[e.NO_ERROR=0]="NO_ERROR",e[e.INVALID_ENUM=1280]="INVALID_ENUM",e[e.INVALID_VALUE=1281]="INVALID_VALUE",e[e.INVALID_OPERATION=1282]="INVALID_OPERATION",e[e.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",e[e.CW=2304]="CW",e[e.CCW=2305]="CCW",e[e.LINE_WIDTH=2849]="LINE_WIDTH",e[e.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",e[e.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",e[e.CULL_FACE_MODE=2885]="CULL_FACE_MODE",e[e.FRONT_FACE=2886]="FRONT_FACE",e[e.DEPTH_RANGE=2928]="DEPTH_RANGE",e[e.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",e[e.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",e[e.DEPTH_FUNC=2932]="DEPTH_FUNC",e[e.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",e[e.STENCIL_FUNC=2962]="STENCIL_FUNC",e[e.STENCIL_FAIL=2964]="STENCIL_FAIL",e[e.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",e[e.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",e[e.STENCIL_REF=2967]="STENCIL_REF",e[e.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",e[e.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",e[e.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",e[e.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",e[e.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",e[e.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",e[e.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",e[e.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",e[e.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",e[e.VIEWPORT=2978]="VIEWPORT",e[e.SCISSOR_BOX=3088]="SCISSOR_BOX",e[e.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",e[e.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",e[e.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",e[e.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",e[e.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",e[e.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",e[e.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",e[e.RED_BITS=3410]="RED_BITS",e[e.GREEN_BITS=3411]="GREEN_BITS",e[e.BLUE_BITS=3412]="BLUE_BITS",e[e.ALPHA_BITS=3413]="ALPHA_BITS",e[e.DEPTH_BITS=3414]="DEPTH_BITS",e[e.STENCIL_BITS=3415]="STENCIL_BITS",e[e.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",e[e.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",e[e.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",e[e.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",e[e.SAMPLES=32937]="SAMPLES",e[e.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",e[e.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",e[e.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",e[e.DONT_CARE=4352]="DONT_CARE",e[e.FASTEST=4353]="FASTEST",e[e.NICEST=4354]="NICEST",e[e.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.INT=5124]="INT",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.FLOAT=5126]="FLOAT",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.ALPHA=6406]="ALPHA",e[e.RGB=6407]="RGB",e[e.RGBA=6408]="RGBA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",e[e.VERTEX_SHADER=35633]="VERTEX_SHADER",e[e.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",e[e.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",e[e.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",e[e.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",e[e.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",e[e.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",e[e.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",e[e.SHADER_TYPE=35663]="SHADER_TYPE",e[e.DELETE_STATUS=35712]="DELETE_STATUS",e[e.LINK_STATUS=35714]="LINK_STATUS",e[e.VALIDATE_STATUS=35715]="VALIDATE_STATUS",e[e.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",e[e.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",e[e.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",e[e.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",e[e.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",e[e.NEVER=512]="NEVER",e[e.LESS=513]="LESS",e[e.EQUAL=514]="EQUAL",e[e.LEQUAL=515]="LEQUAL",e[e.GREATER=516]="GREATER",e[e.NOTEQUAL=517]="NOTEQUAL",e[e.GEQUAL=518]="GEQUAL",e[e.ALWAYS=519]="ALWAYS",e[e.KEEP=7680]="KEEP",e[e.REPLACE=7681]="REPLACE",e[e.INCR=7682]="INCR",e[e.DECR=7683]="DECR",e[e.INVERT=5386]="INVERT",e[e.INCR_WRAP=34055]="INCR_WRAP",e[e.DECR_WRAP=34056]="DECR_WRAP",e[e.VENDOR=7936]="VENDOR",e[e.RENDERER=7937]="RENDERER",e[e.VERSION=7938]="VERSION",e[e.NEAREST=9728]="NEAREST",e[e.LINEAR=9729]="LINEAR",e[e.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",e[e.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",e[e.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",e[e.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",e[e.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",e[e.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",e[e.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",e[e.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE=5890]="TEXTURE",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e[e.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",e[e.TEXTURE0=33984]="TEXTURE0",e[e.TEXTURE1=33985]="TEXTURE1",e[e.TEXTURE2=33986]="TEXTURE2",e[e.TEXTURE3=33987]="TEXTURE3",e[e.TEXTURE4=33988]="TEXTURE4",e[e.TEXTURE5=33989]="TEXTURE5",e[e.TEXTURE6=33990]="TEXTURE6",e[e.TEXTURE7=33991]="TEXTURE7",e[e.TEXTURE8=33992]="TEXTURE8",e[e.TEXTURE9=33993]="TEXTURE9",e[e.TEXTURE10=33994]="TEXTURE10",e[e.TEXTURE11=33995]="TEXTURE11",e[e.TEXTURE12=33996]="TEXTURE12",e[e.TEXTURE13=33997]="TEXTURE13",e[e.TEXTURE14=33998]="TEXTURE14",e[e.TEXTURE15=33999]="TEXTURE15",e[e.TEXTURE16=34e3]="TEXTURE16",e[e.TEXTURE17=34001]="TEXTURE17",e[e.TEXTURE18=34002]="TEXTURE18",e[e.TEXTURE19=34003]="TEXTURE19",e[e.TEXTURE20=34004]="TEXTURE20",e[e.TEXTURE21=34005]="TEXTURE21",e[e.TEXTURE22=34006]="TEXTURE22",e[e.TEXTURE23=34007]="TEXTURE23",e[e.TEXTURE24=34008]="TEXTURE24",e[e.TEXTURE25=34009]="TEXTURE25",e[e.TEXTURE26=34010]="TEXTURE26",e[e.TEXTURE27=34011]="TEXTURE27",e[e.TEXTURE28=34012]="TEXTURE28",e[e.TEXTURE29=34013]="TEXTURE29",e[e.TEXTURE30=34014]="TEXTURE30",e[e.TEXTURE31=34015]="TEXTURE31",e[e.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",e[e.REPEAT=10497]="REPEAT",e[e.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",e[e.FLOAT_VEC2=35664]="FLOAT_VEC2",e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4",e[e.INT_VEC2=35667]="INT_VEC2",e[e.INT_VEC3=35668]="INT_VEC3",e[e.INT_VEC4=35669]="INT_VEC4",e[e.BOOL=35670]="BOOL",e[e.BOOL_VEC2=35671]="BOOL_VEC2",e[e.BOOL_VEC3=35672]="BOOL_VEC3",e[e.BOOL_VEC4=35673]="BOOL_VEC4",e[e.FLOAT_MAT2=35674]="FLOAT_MAT2",e[e.FLOAT_MAT3=35675]="FLOAT_MAT3",e[e.FLOAT_MAT4=35676]="FLOAT_MAT4",e[e.SAMPLER_2D=35678]="SAMPLER_2D",e[e.SAMPLER_CUBE=35680]="SAMPLER_CUBE",e[e.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",e[e.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",e[e.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",e[e.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",e[e.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",e[e.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",e[e.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",e[e.COMPILE_STATUS=35713]="COMPILE_STATUS",e[e.LOW_FLOAT=36336]="LOW_FLOAT",e[e.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",e[e.HIGH_FLOAT=36338]="HIGH_FLOAT",e[e.LOW_INT=36339]="LOW_INT",e[e.MEDIUM_INT=36340]="MEDIUM_INT",e[e.HIGH_INT=36341]="HIGH_INT",e[e.FRAMEBUFFER=36160]="FRAMEBUFFER",e[e.RENDERBUFFER=36161]="RENDERBUFFER",e[e.RGBA4=32854]="RGBA4",e[e.RGB5_A1=32855]="RGB5_A1",e[e.RGB565=36194]="RGB565",e[e.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",e[e.STENCIL_INDEX=6401]="STENCIL_INDEX",e[e.STENCIL_INDEX8=36168]="STENCIL_INDEX8",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e[e.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",e[e.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",e[e.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",e[e.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",e[e.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",e[e.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",e[e.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",e[e.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",e[e.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",e[e.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",e[e.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",e[e.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",e[e.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",e[e.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",e[e.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",e[e.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",e[e.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",e[e.NONE=0]="NONE",e[e.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",e[e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",e[e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",e[e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",e[e.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",e[e.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",e[e.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",e[e.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",e[e.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",e[e.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",e[e.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",e[e.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",e[e.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",e[e.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",e[e.COPY_SRC=1]="COPY_SRC",e[e.COPY_DST=2]="COPY_DST",e[e.SAMPLED=4]="SAMPLED",e[e.STORAGE=8]="STORAGE",e[e.RENDER_ATTACHMENT=16]="RENDER_ATTACHMENT"})(Xt||(Xt={}));typeof navigator<"u"&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent);var DS;(function(e){e.Void="Void",e.Boolean="Boolean",e.Float="Float",e.Uint32="Uint32",e.Int32="Int32",e.Vector="Vector",e.Vector2Float="vec2<f32>",e.Vector3Float="vec3<f32>",e.Vector4Float="vec4<f32>",e.Vector2Boolean="vec2<bool>",e.Vector3Boolean="vec3<bool>",e.Vector4Boolean="vec4<bool>",e.Vector2Uint="vec2<u32>",e.Vector3Uint="vec3<u32>",e.Vector4Uint="vec4<u32>",e.Vector2Int="vec2<i32>",e.Vector3Int="vec3<i32>",e.Vector4Int="vec4<i32>",e.Matrix="Matrix",e.Matrix3x3Float="mat3x3<f32>",e.Matrix4x4Float="mat4x4<i32>",e.Struct="Struct",e.FloatArray="Float[]",e.Vector4FloatArray="vec4<f32>[]"})(DS||(DS={}));var kS;(function(e){e.Program="Program",e.Identifier="Identifier",e.VariableDeclaration="VariableDeclaration",e.BlockStatement="BlockStatement",e.ReturnStatement="ReturnStatement",e.FunctionDeclaration="FunctionDeclaration",e.VariableDeclarator="VariableDeclarator",e.AssignmentExpression="AssignmentExpression",e.LogicalExpression="LogicalExpression",e.BinaryExpression="BinaryExpression",e.ArrayExpression="ArrayExpression",e.UnaryExpression="UnaryExpression",e.UpdateExpression="UpdateExpression",e.FunctionExpression="FunctionExpression",e.MemberExpression="MemberExpression",e.ConditionalExpression="ConditionalExpression",e.ExpressionStatement="ExpressionStatement",e.CallExpression="CallExpression",e.NumThreadStatement="NumThreadStatement",e.StorageStatement="StorageStatement",e.DoWhileStatement="DoWhileStatement",e.WhileStatement="WhileStatement",e.ForStatement="ForStatement",e.BreakStatement="BreakStatement",e.ContinueStatement="ContinueStatement",e.IfStatement="IfStatement",e.ImportedFunctionStatement="ImportedFunctionStatement"})(kS||(kS={}));var LS;(function(e){e.Input="Input",e.Output="Output",e.Uniform="Uniform",e.Workgroup="Workgroup",e.UniformConstant="UniformConstant",e.Image="Image",e.StorageBuffer="StorageBuffer",e.Private="Private",e.Function="Function"})(LS||(LS={}));var FS;(function(e){e.GLSL100="GLSL100",e.GLSL450="GLSL450",e.WGSL="WGSL"})(FS||(FS={}));var fV={exports:{}};(function(e,t){(function(r,a){e.exports=a()})(rv,function(){var r=function(N){return N instanceof Uint8Array||N instanceof Uint16Array||N instanceof Uint32Array||N instanceof Int8Array||N instanceof Int16Array||N instanceof Int32Array||N instanceof Float32Array||N instanceof Float64Array||N instanceof Uint8ClampedArray},a=function(N,Y){for(var se=Object.keys(Y),He=0;He<se.length;++He)N[se[He]]=Y[se[He]];return N},n=`
`;function c(N){return typeof atob<"u"?atob(N):"base64:"+N}function f(N){var Y=new Error("(regl) "+N);throw console.error(Y),Y}function y(N,Y){N||f(Y)}function v(N){return N?": "+N:""}function b(N,Y,se){N in Y||f("unknown parameter ("+N+")"+v(se)+". possible values: "+Object.keys(Y).join())}function O(N,Y){r(N)||f("invalid parameter type"+v(Y)+". must be a typed array")}function S(N,Y){switch(Y){case"number":return typeof N=="number";case"object":return typeof N=="object";case"string":return typeof N=="string";case"boolean":return typeof N=="boolean";case"function":return typeof N=="function";case"undefined":return typeof N>"u";case"symbol":return typeof N=="symbol"}}function P(N,Y,se){S(N,Y)||f("invalid parameter type"+v(se)+". expected "+Y+", got "+typeof N)}function j(N,Y){N>=0&&(N|0)===N||f("invalid parameter type, ("+N+")"+v(Y)+". must be a nonnegative integer")}function I(N,Y,se){Y.indexOf(N)<0&&f("invalid value"+v(se)+". must be one of: "+Y)}var C=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function k(N){Object.keys(N).forEach(function(Y){C.indexOf(Y)<0&&f('invalid regl constructor argument "'+Y+'". must be one of '+C)})}function G(N,Y){for(N=N+"";N.length<Y;)N=" "+N;return N}function H(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function ue(N,Y){this.number=N,this.line=Y,this.errors=[]}function _e(N,Y,se){this.file=N,this.line=Y,this.message=se}function be(){var N=new Error,Y=(N.stack||N).toString(),se=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(Y);if(se)return se[1];var He=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(Y);return He?He[1]:"unknown"}function ce(){var N=new Error,Y=(N.stack||N).toString(),se=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(Y);if(se)return se[1];var He=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(Y);return He?He[1]:"unknown"}function fe(N,Y){var se=N.split(`
`),He=1,tt=0,Ge={unknown:new H,0:new H};Ge.unknown.name=Ge[0].name=Y||be(),Ge.unknown.lines.push(new ue(0,""));for(var Je=0;Je<se.length;++Je){var mt=se[Je],wt=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(mt);if(wt)switch(wt[1]){case"line":var Et=/(\d+)(\s+\d+)?/.exec(wt[2]);Et&&(He=Et[1]|0,Et[2]&&(tt=Et[2]|0,tt in Ge||(Ge[tt]=new H)));break;case"define":var Qe=/SHADER_NAME(_B64)?\s+(.*)$/.exec(wt[2]);Qe&&(Ge[tt].name=Qe[1]?c(Qe[2]):Qe[2]);break}Ge[tt].lines.push(new ue(He++,mt))}return Object.keys(Ge).forEach(function(Mt){var jt=Ge[Mt];jt.lines.forEach(function(bt){jt.index[bt.number]=bt})}),Ge}function ee(N){var Y=[];return N.split(`
`).forEach(function(se){if(!(se.length<5)){var He=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(se);He?Y.push(new _e(He[1]|0,He[2]|0,He[3].trim())):se.length>0&&Y.push(new _e("unknown",0,se))}}),Y}function $(N,Y){Y.forEach(function(se){var He=N[se.file];if(He){var tt=He.index[se.line];if(tt){tt.errors.push(se),He.hasErrors=!0;return}}N.unknown.hasErrors=!0,N.unknown.lines[0].errors.push(se)})}function J(N,Y,se,He,tt){if(!N.getShaderParameter(Y,N.COMPILE_STATUS)){var Ge=N.getShaderInfoLog(Y),Je=He===N.FRAGMENT_SHADER?"fragment":"vertex";at(se,"string",Je+" shader source must be a string",tt);var mt=fe(se,tt),wt=ee(Ge);$(mt,wt),Object.keys(mt).forEach(function(Et){var Qe=mt[Et];if(!Qe.hasErrors)return;var Mt=[""],jt=[""];function bt(ct,Ie){Mt.push(ct),jt.push(Ie||"")}bt("file number "+Et+": "+Qe.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),Qe.lines.forEach(function(ct){if(ct.errors.length>0){bt(G(ct.number,4)+"|  ","background-color:yellow; font-weight:bold"),bt(ct.line+n,"color:red; background-color:yellow; font-weight:bold");var Ie=0;ct.errors.forEach(function(qe){var St=qe.message,Bt=/^\s*'(.*)'\s*:\s*(.*)$/.exec(St);if(Bt){var pt=Bt[1];switch(St=Bt[2],pt){case"assign":pt="=";break}Ie=Math.max(ct.line.indexOf(pt,Ie),0)}else Ie=0;bt(G("| ",6)),bt(G("^^^",Ie+3)+n,"font-weight:bold"),bt(G("| ",6)),bt(St+n,"font-weight:bold")}),bt(G("| ",6)+n)}else bt(G(ct.number,4)+"|  "),bt(ct.line+n,"color:red")}),typeof document<"u"&&!window.chrome?(jt[0]=Mt.join("%c"),console.log.apply(console,jt)):console.log(Mt.join(""))}),y.raise("Error compiling "+Je+" shader, "+mt[0].name)}}function re(N,Y,se,He,tt){if(!N.getProgramParameter(Y,N.LINK_STATUS)){var Ge=N.getProgramInfoLog(Y),Je=fe(se,tt),mt=fe(He,tt),wt='Error linking program with vertex shader, "'+mt[0].name+'", and fragment shader "'+Je[0].name+'"';typeof document<"u"?console.log("%c"+wt+n+"%c"+Ge,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(wt+n+Ge),y.raise(wt)}}function z(N){N._commandRef=be()}function Oe(N,Y,se,He){z(N);function tt(wt){return wt?He.id(wt):0}N._fragId=tt(N.static.frag),N._vertId=tt(N.static.vert);function Ge(wt,Et){Object.keys(Et).forEach(function(Qe){wt[He.id(Qe)]=!0})}var Je=N._uniformSet={};Ge(Je,Y.static),Ge(Je,Y.dynamic);var mt=N._attributeSet={};Ge(mt,se.static),Ge(mt,se.dynamic),N._hasCount="count"in N.static||"count"in N.dynamic||"elements"in N.static||"elements"in N.dynamic}function We(N,Y){var se=ce();f(N+" in command "+(Y||be())+(se==="unknown"?"":" called from "+se))}function ke(N,Y,se){N||We(Y,se||be())}function it(N,Y,se,He){N in Y||We("unknown parameter ("+N+")"+v(se)+". possible values: "+Object.keys(Y).join(),He||be())}function at(N,Y,se,He){S(N,Y)||We("invalid parameter type"+v(se)+". expected "+Y+", got "+typeof N,He||be())}function $e(N){N()}function ae(N,Y,se){N.texture?I(N.texture._texture.internalformat,Y,"unsupported texture format for attachment"):I(N.renderbuffer._renderbuffer.format,se,"unsupported renderbuffer format for attachment")}var pe=33071,Se=9728,Ye=9984,lt=9985,Pt=9986,Rt=9987,Lt=5120,tr=5121,Te=5122,de=5123,Ae=5124,st=5125,kt=5126,ht=32819,Wt=32820,or=33635,vr=34042,rr=36193,et={};et[Lt]=et[tr]=1,et[Te]=et[de]=et[rr]=et[or]=et[ht]=et[Wt]=2,et[Ae]=et[st]=et[kt]=et[vr]=4;function lr(N,Y){return N===Wt||N===ht||N===or?2:N===vr?4:et[N]*Y}function Ne(N){return!(N&N-1)&&!!N}function ir(N,Y,se){var He,tt=Y.width,Ge=Y.height,Je=Y.channels;y(tt>0&&tt<=se.maxTextureSize&&Ge>0&&Ge<=se.maxTextureSize,"invalid texture shape"),(N.wrapS!==pe||N.wrapT!==pe)&&y(Ne(tt)&&Ne(Ge),"incompatible wrap mode for texture, both width and height must be power of 2"),Y.mipmask===1?tt!==1&&Ge!==1&&y(N.minFilter!==Ye&&N.minFilter!==Pt&&N.minFilter!==lt&&N.minFilter!==Rt,"min filter requires mipmap"):(y(Ne(tt)&&Ne(Ge),"texture must be a square power of 2 to support mipmapping"),y(Y.mipmask===(tt<<1)-1,"missing or incomplete mipmap data")),Y.type===kt&&(se.extensions.indexOf("oes_texture_float_linear")<0&&y(N.minFilter===Se&&N.magFilter===Se,"filter not supported, must enable oes_texture_float_linear"),y(!N.genMipmaps,"mipmap generation not supported with float textures"));var mt=Y.images;for(He=0;He<16;++He)if(mt[He]){var wt=tt>>He,Et=Ge>>He;y(Y.mipmask&1<<He,"missing mipmap data");var Qe=mt[He];if(y(Qe.width===wt&&Qe.height===Et,"invalid shape for mip images"),y(Qe.format===Y.format&&Qe.internalformat===Y.internalformat&&Qe.type===Y.type,"incompatible type for mip image"),!Qe.compressed)if(Qe.data){var Mt=Math.ceil(lr(Qe.type,Je)*wt/Qe.unpackAlignment)*Qe.unpackAlignment;y(Qe.data.byteLength===Mt*Et,"invalid data for image, buffer size is inconsistent with image format")}else Qe.element||Qe.copy}else N.genMipmaps||y((Y.mipmask&1<<He)===0,"extra mipmap data");Y.compressed&&y(!N.genMipmaps,"mipmap generation for compressed images not supported")}function Br(N,Y,se,He){var tt=N.width,Ge=N.height,Je=N.channels;y(tt>0&&tt<=He.maxTextureSize&&Ge>0&&Ge<=He.maxTextureSize,"invalid texture shape"),y(tt===Ge,"cube map must be square"),y(Y.wrapS===pe&&Y.wrapT===pe,"wrap mode not supported by cube map");for(var mt=0;mt<se.length;++mt){var wt=se[mt];y(wt.width===tt&&wt.height===Ge,"inconsistent cube map face shape"),Y.genMipmaps&&(y(!wt.compressed,"can not generate mipmap for compressed textures"),y(wt.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var Et=wt.images,Qe=0;Qe<16;++Qe){var Mt=Et[Qe];if(Mt){var jt=tt>>Qe,bt=Ge>>Qe;y(wt.mipmask&1<<Qe,"missing mipmap data"),y(Mt.width===jt&&Mt.height===bt,"invalid shape for mip images"),y(Mt.format===N.format&&Mt.internalformat===N.internalformat&&Mt.type===N.type,"incompatible type for mip image"),Mt.compressed||(Mt.data?y(Mt.data.byteLength===jt*bt*Math.max(lr(Mt.type,Je),Mt.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):Mt.element||Mt.copy)}}}}var V=a(y,{optional:$e,raise:f,commandRaise:We,command:ke,parameter:b,commandParameter:it,constructor:k,type:P,commandType:at,isTypedArray:O,nni:j,oneOf:I,shaderError:J,linkError:re,callSite:ce,saveCommandRef:z,saveDrawInfo:Oe,framebufferFormat:ae,guessCommand:be,texture2D:ir,textureCube:Br}),Gr=0,dn=0,Mn=5,Xn=6;function jr(N,Y){this.id=Gr++,this.type=N,this.data=Y}function fo(N){return N.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function ve(N){if(N.length===0)return[];var Y=N.charAt(0),se=N.charAt(N.length-1);if(N.length>1&&Y===se&&(Y==='"'||Y==="'"))return['"'+fo(N.substr(1,N.length-2))+'"'];var He=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(N);if(He)return ve(N.substr(0,He.index)).concat(ve(He[1])).concat(ve(N.substr(He.index+He[0].length)));var tt=N.split(".");if(tt.length===1)return['"'+fo(N)+'"'];for(var Ge=[],Je=0;Je<tt.length;++Je)Ge=Ge.concat(ve(tt[Je]));return Ge}function Le(N){return"["+ve(N).join("][")+"]"}function xe(N,Y){return new jr(N,Le(Y+""))}function Ke(N){return typeof N=="function"&&!N._reglType||N instanceof jr}function zt(N,Y){if(typeof N=="function")return new jr(dn,N);if(typeof N=="number"||typeof N=="boolean")return new jr(Mn,N);if(Array.isArray(N))return new jr(Xn,N.map((se,He)=>zt(se,Y+"["+He+"]")));if(N instanceof jr)return N;V(!1,"invalid option type in uniform "+Y)}var Ft={DynamicVariable:jr,define:xe,isDynamic:Ke,unbox:zt,accessor:Le},yr={next:typeof requestAnimationFrame=="function"?function(N){return requestAnimationFrame(N)}:function(N){return setTimeout(N,16)},cancel:typeof cancelAnimationFrame=="function"?function(N){return cancelAnimationFrame(N)}:clearTimeout},rn=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date};function Co(){var N={"":0},Y=[""];return{id:function(se){var He=N[se];return He||(He=N[se]=Y.length,Y.push(se),He)},str:function(se){return Y[se]}}}function $o(N,Y,se){var He=document.createElement("canvas");a(He.style,{border:0,margin:0,padding:0,top:0,left:0}),N.appendChild(He),N===document.body&&(He.style.position="absolute",a(N.style,{margin:0,padding:0}));function tt(){var mt=window.innerWidth,wt=window.innerHeight;if(N!==document.body){var Et=N.getBoundingClientRect();mt=Et.right-Et.left,wt=Et.bottom-Et.top}He.width=se*mt,He.height=se*wt,a(He.style,{width:mt+"px",height:wt+"px"})}var Ge;N!==document.body&&typeof ResizeObserver=="function"?(Ge=new ResizeObserver(function(){setTimeout(tt)}),Ge.observe(N)):window.addEventListener("resize",tt,!1);function Je(){Ge?Ge.disconnect():window.removeEventListener("resize",tt),N.removeChild(He)}return tt(),{canvas:He,onDestroy:Je}}function bo(N,Y){function se(He){try{return N.getContext(He,Y)}catch{return null}}return se("webgl")||se("experimental-webgl")||se("webgl-experimental")}function xo(N){return typeof N.nodeName=="string"&&typeof N.appendChild=="function"&&typeof N.getBoundingClientRect=="function"}function fr(N){return typeof N.drawArrays=="function"||typeof N.drawElements=="function"}function wr(N){return typeof N=="string"?N.split():(V(Array.isArray(N),"invalid extension array"),N)}function Nr(N){return typeof N=="string"?(V(typeof document<"u","not supported outside of DOM"),document.querySelector(N)):N}function $r(N){var Y=N||{},se,He,tt,Ge,Je={},mt=[],wt=[],Et=typeof window>"u"?1:window.devicePixelRatio,Qe=!1,Mt=function(ct){ct&&V.raise(ct)},jt=function(){};if(typeof Y=="string"?(V(typeof document<"u","selector queries only supported in DOM enviroments"),se=document.querySelector(Y),V(se,"invalid query string for element")):typeof Y=="object"?xo(Y)?se=Y:fr(Y)?(Ge=Y,tt=Ge.canvas):(V.constructor(Y),"gl"in Y?Ge=Y.gl:"canvas"in Y?tt=Nr(Y.canvas):"container"in Y&&(He=Nr(Y.container)),"attributes"in Y&&(Je=Y.attributes,V.type(Je,"object","invalid context attributes")),"extensions"in Y&&(mt=wr(Y.extensions)),"optionalExtensions"in Y&&(wt=wr(Y.optionalExtensions)),"onDone"in Y&&(V.type(Y.onDone,"function","invalid or missing onDone callback"),Mt=Y.onDone),"profile"in Y&&(Qe=!!Y.profile),"pixelRatio"in Y&&(Et=+Y.pixelRatio,V(Et>0,"invalid pixel ratio"))):V.raise("invalid arguments to regl"),se&&(se.nodeName.toLowerCase()==="canvas"?tt=se:He=se),!Ge){if(!tt){V(typeof document<"u","must manually specify webgl context outside of DOM environments");var bt=$o(He||document.body,Mt,Et);if(!bt)return null;tt=bt.canvas,jt=bt.onDestroy}Je.premultipliedAlpha===void 0&&(Je.premultipliedAlpha=!0),Ge=bo(tt,Je)}return Ge?{gl:Ge,canvas:tt,container:He,extensions:mt,optionalExtensions:wt,pixelRatio:Et,profile:Qe,onDone:Mt,onDestroy:jt}:(jt(),Mt("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function Nn(N,Y){var se={};function He(Je){V.type(Je,"string","extension name must be string");var mt=Je.toLowerCase(),wt;try{wt=se[mt]=N.getExtension(mt)}catch{}return!!wt}for(var tt=0;tt<Y.extensions.length;++tt){var Ge=Y.extensions[tt];if(!He(Ge))return Y.onDestroy(),Y.onDone('"'+Ge+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return Y.optionalExtensions.forEach(He),{extensions:se,restore:function(){Object.keys(se).forEach(function(Je){if(se[Je]&&!He(Je))throw new Error("(regl): error restoring extension "+Je)})}}}function pn(N,Y){for(var se=Array(N),He=0;He<N;++He)se[He]=Y(He);return se}var xa=5120,ta=5121,Sa=5122,bu=5123,zl=5124,xc=5125,Ni=5126;function ts(N){for(var Y=16;Y<=1<<28;Y*=16)if(N<=Y)return Y;return 0}function hr(N){var Y,se;return Y=(N>65535)<<4,N>>>=Y,se=(N>255)<<3,N>>>=se,Y|=se,se=(N>15)<<2,N>>>=se,Y|=se,se=(N>3)<<1,N>>>=se,Y|=se,Y|N>>1}function Lf(){var N=pn(8,function(){return[]});function Y(Ge){var Je=ts(Ge),mt=N[hr(Je)>>2];return mt.length>0?mt.pop():new ArrayBuffer(Je)}function se(Ge){N[hr(Ge.byteLength)>>2].push(Ge)}function He(Ge,Je){var mt=null;switch(Ge){case xa:mt=new Int8Array(Y(Je),0,Je);break;case ta:mt=new Uint8Array(Y(Je),0,Je);break;case Sa:mt=new Int16Array(Y(2*Je),0,Je);break;case bu:mt=new Uint16Array(Y(2*Je),0,Je);break;case zl:mt=new Int32Array(Y(4*Je),0,Je);break;case xc:mt=new Uint32Array(Y(4*Je),0,Je);break;case Ni:mt=new Float32Array(Y(4*Je),0,Je);break;default:return null}return mt.length!==Je?mt.subarray(0,Je):mt}function tt(Ge){se(Ge.buffer)}return{alloc:Y,free:se,allocType:He,freeType:tt}}var Wn=Lf();Wn.zero=Lf();var Sc=3408,hi=3410,Ei=3411,Cs=3412,zi=3413,Mi=3414,$i=3415,Ac=33901,Tc=33902,Ff=3379,rs=3386,Bf=34921,Pc=36347,$l=36348,Ha=35661,Gf=35660,Aa=34930,Rc=36349,Is=34076,jc=34024,Nc=7936,Hl=7937,Uf=7938,Tn=35724,xn=34047,zf=36063,_u=34852,Ci=3553,Ds=34067,$f=34069,lo=33984,Xa=6408,Wa=5126,ks=5121,Eu=36160,Ho=36053,Mc=36064,Hf=16384,Cc=function(N,Y){var se=1;Y.ext_texture_filter_anisotropic&&(se=N.getParameter(xn));var He=1,tt=1;Y.webgl_draw_buffers&&(He=N.getParameter(_u),tt=N.getParameter(zf));var Ge=!!Y.oes_texture_float;if(Ge){var Je=N.createTexture();N.bindTexture(Ci,Je),N.texImage2D(Ci,0,Xa,1,1,0,Xa,Wa,null);var mt=N.createFramebuffer();if(N.bindFramebuffer(Eu,mt),N.framebufferTexture2D(Eu,Mc,Ci,Je,0),N.bindTexture(Ci,null),N.checkFramebufferStatus(Eu)!==Ho)Ge=!1;else{N.viewport(0,0,1,1),N.clearColor(1,0,0,1),N.clear(Hf);var wt=Wn.allocType(Wa,4);N.readPixels(0,0,1,1,Xa,Wa,wt),N.getError()?Ge=!1:(N.deleteFramebuffer(mt),N.deleteTexture(Je),Ge=wt[0]===1),Wn.freeType(wt)}}var Et=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),Qe=!0;if(!Et){var Mt=N.createTexture(),jt=Wn.allocType(ks,36);N.activeTexture(lo),N.bindTexture(Ds,Mt),N.texImage2D($f,0,Xa,3,3,0,Xa,ks,jt),Wn.freeType(jt),N.bindTexture(Ds,null),N.deleteTexture(Mt),Qe=!N.getError()}return{colorBits:[N.getParameter(hi),N.getParameter(Ei),N.getParameter(Cs),N.getParameter(zi)],depthBits:N.getParameter(Mi),stencilBits:N.getParameter($i),subpixelBits:N.getParameter(Sc),extensions:Object.keys(Y).filter(function(bt){return!!Y[bt]}),maxAnisotropic:se,maxDrawbuffers:He,maxColorAttachments:tt,pointSizeDims:N.getParameter(Ac),lineWidthDims:N.getParameter(Tc),maxViewportDims:N.getParameter(rs),maxCombinedTextureUnits:N.getParameter(Ha),maxCubeMapSize:N.getParameter(Is),maxRenderbufferSize:N.getParameter(jc),maxTextureUnits:N.getParameter(Aa),maxTextureSize:N.getParameter(Ff),maxAttributes:N.getParameter(Bf),maxVertexUniforms:N.getParameter(Pc),maxVertexTextureUnits:N.getParameter(Gf),maxVaryingVectors:N.getParameter($l),maxFragmentUniforms:N.getParameter(Rc),glsl:N.getParameter(Tn),renderer:N.getParameter(Hl),vendor:N.getParameter(Nc),version:N.getParameter(Uf),readFloat:Ge,npotTextureCube:Qe}};function ri(N){return!!N&&typeof N=="object"&&Array.isArray(N.shape)&&Array.isArray(N.stride)&&typeof N.offset=="number"&&N.shape.length===N.stride.length&&(Array.isArray(N.data)||r(N.data))}var Io=function(N){return Object.keys(N).map(function(Y){return N[Y]})},Oi={shape:oi,flatten:Wf};function Dn(N,Y,se){for(var He=0;He<Y;++He)se[He]=N[He]}function Xf(N,Y,se,He){for(var tt=0,Ge=0;Ge<Y;++Ge)for(var Je=N[Ge],mt=0;mt<se;++mt)He[tt++]=Je[mt]}function ni(N,Y,se,He,tt,Ge){for(var Je=Ge,mt=0;mt<Y;++mt)for(var wt=N[mt],Et=0;Et<se;++Et)for(var Qe=wt[Et],Mt=0;Mt<He;++Mt)tt[Je++]=Qe[Mt]}function Ic(N,Y,se,He,tt){for(var Ge=1,Je=se+1;Je<Y.length;++Je)Ge*=Y[Je];var mt=Y[se];if(Y.length-se===4){var wt=Y[se+1],Et=Y[se+2],Qe=Y[se+3];for(Je=0;Je<mt;++Je)ni(N[Je],wt,Et,Qe,He,tt),tt+=Ge}else for(Je=0;Je<mt;++Je)Ic(N[Je],Y,se+1,He,tt),tt+=Ge}function Wf(N,Y,se,He){var tt=1;if(Y.length)for(var Ge=0;Ge<Y.length;++Ge)tt*=Y[Ge];else tt=0;var Je=He||Wn.allocType(se,tt);switch(Y.length){case 0:break;case 1:Dn(N,Y[0],Je);break;case 2:Xf(N,Y[0],Y[1],Je);break;case 3:ni(N,Y[0],Y[1],Y[2],Je,0);break;default:Ic(N,Y,0,Je,0)}return Je}function oi(N){for(var Y=[],se=N;se.length;se=se[0])Y.push(se.length);return Y}var Jo={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Dc=5120,_n=5122,Do=5124,Ls=5121,Vf=5123,kc=5125,Fs=5126,ra=5126,ii={int8:Dc,int16:_n,int32:Do,uint8:Ls,uint16:Vf,uint32:kc,float:Fs,float32:ra},Ou=35048,vi=35040,Ii={dynamic:Ou,stream:vi,static:35044},sn=Oi.flatten,ai=Oi.shape,Hi=35044,Bo=35040,wu=5121,Va=5126,Xi=[];Xi[5120]=1,Xi[5122]=2,Xi[5124]=4,Xi[5121]=1,Xi[5123]=2,Xi[5125]=4,Xi[5126]=4;function Un(N){return Jo[Object.prototype.toString.call(N)]|0}function ns(N,Y){for(var se=0;se<Y.length;++se)N[se]=Y[se]}function na(N,Y,se,He,tt,Ge,Je){for(var mt=0,wt=0;wt<se;++wt)for(var Et=0;Et<He;++Et)N[mt++]=Y[tt*wt+Ge*Et+Je]}function Di(N,Y,se,He){var tt=0,Ge={};function Je(Ie){this.id=tt++,this.buffer=N.createBuffer(),this.type=Ie,this.usage=Hi,this.byteLength=0,this.dimension=1,this.dtype=wu,this.persistentData=null,se.profile&&(this.stats={size:0})}Je.prototype.bind=function(){N.bindBuffer(this.type,this.buffer)},Je.prototype.destroy=function(){jt(this)};var mt=[];function wt(Ie,qe){var St=mt.pop();return St||(St=new Je(Ie)),St.bind(),Mt(St,qe,Bo,0,1,!1),St}function Et(Ie){mt.push(Ie)}function Qe(Ie,qe,St){Ie.byteLength=qe.byteLength,N.bufferData(Ie.type,qe,St)}function Mt(Ie,qe,St,Bt,pt,Gt){var vt;if(Ie.usage=St,Array.isArray(qe)){if(Ie.dtype=Bt||Va,qe.length>0){var Ct;if(Array.isArray(qe[0])){vt=ai(qe);for(var ft=1,Dt=1;Dt<vt.length;++Dt)ft*=vt[Dt];Ie.dimension=ft,Ct=sn(qe,vt,Ie.dtype),Qe(Ie,Ct,St),Gt?Ie.persistentData=Ct:Wn.freeType(Ct)}else if(typeof qe[0]=="number"){Ie.dimension=pt;var pr=Wn.allocType(Ie.dtype,qe.length);ns(pr,qe),Qe(Ie,pr,St),Gt?Ie.persistentData=pr:Wn.freeType(pr)}else r(qe[0])?(Ie.dimension=qe[0].length,Ie.dtype=Bt||Un(qe[0])||Va,Ct=sn(qe,[qe.length,qe[0].length],Ie.dtype),Qe(Ie,Ct,St),Gt?Ie.persistentData=Ct:Wn.freeType(Ct)):V.raise("invalid buffer data")}}else if(r(qe))Ie.dtype=Bt||Un(qe),Ie.dimension=pt,Qe(Ie,qe,St),Gt&&(Ie.persistentData=new Uint8Array(new Uint8Array(qe.buffer)));else if(ri(qe)){vt=qe.shape;var Tr=qe.stride,xt=qe.offset,yt=0,dt=0,br=0,Fr=0;vt.length===1?(yt=vt[0],dt=1,br=Tr[0],Fr=0):vt.length===2?(yt=vt[0],dt=vt[1],br=Tr[0],Fr=Tr[1]):V.raise("invalid shape"),Ie.dtype=Bt||Un(qe.data)||Va,Ie.dimension=dt;var qt=Wn.allocType(Ie.dtype,yt*dt);na(qt,qe.data,yt,dt,br,Fr,xt),Qe(Ie,qt,St),Gt?Ie.persistentData=qt:Wn.freeType(qt)}else qe instanceof ArrayBuffer?(Ie.dtype=wu,Ie.dimension=pt,Qe(Ie,qe,St),Gt&&(Ie.persistentData=new Uint8Array(new Uint8Array(qe)))):V.raise("invalid buffer data")}function jt(Ie){Y.bufferCount--,He(Ie);var qe=Ie.buffer;V(qe,"buffer must not be deleted already"),N.deleteBuffer(qe),Ie.buffer=null,delete Ge[Ie.id]}function bt(Ie,qe,St,Bt){Y.bufferCount++;var pt=new Je(qe);Ge[pt.id]=pt;function Gt(ft){var Dt=Hi,pr=null,Tr=0,xt=0,yt=1;return Array.isArray(ft)||r(ft)||ri(ft)||ft instanceof ArrayBuffer?pr=ft:typeof ft=="number"?Tr=ft|0:ft&&(V.type(ft,"object","buffer arguments must be an object, a number or an array"),"data"in ft&&(V(pr===null||Array.isArray(pr)||r(pr)||ri(pr),"invalid data for buffer"),pr=ft.data),"usage"in ft&&(V.parameter(ft.usage,Ii,"invalid buffer usage"),Dt=Ii[ft.usage]),"type"in ft&&(V.parameter(ft.type,ii,"invalid buffer type"),xt=ii[ft.type]),"dimension"in ft&&(V.type(ft.dimension,"number","invalid dimension"),yt=ft.dimension|0),"length"in ft&&(V.nni(Tr,"buffer length must be a nonnegative integer"),Tr=ft.length|0)),pt.bind(),pr?Mt(pt,pr,Dt,xt,yt,Bt):(Tr&&N.bufferData(pt.type,Tr,Dt),pt.dtype=xt||wu,pt.usage=Dt,pt.dimension=yt,pt.byteLength=Tr),se.profile&&(pt.stats.size=pt.byteLength*Xi[pt.dtype]),Gt}function vt(ft,Dt){V(Dt+ft.byteLength<=pt.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+ft.byteLength+" starting from offset "+Dt+" to a buffer of size "+pt.byteLength),N.bufferSubData(pt.type,Dt,ft)}function Ct(ft,Dt){var pr=(Dt||0)|0,Tr;if(pt.bind(),r(ft)||ft instanceof ArrayBuffer)vt(ft,pr);else if(Array.isArray(ft)){if(ft.length>0)if(typeof ft[0]=="number"){var xt=Wn.allocType(pt.dtype,ft.length);ns(xt,ft),vt(xt,pr),Wn.freeType(xt)}else if(Array.isArray(ft[0])||r(ft[0])){Tr=ai(ft);var yt=sn(ft,Tr,pt.dtype);vt(yt,pr),Wn.freeType(yt)}else V.raise("invalid buffer data")}else if(ri(ft)){Tr=ft.shape;var dt=ft.stride,br=0,Fr=0,qt=0,kr=0;Tr.length===1?(br=Tr[0],Fr=1,qt=dt[0],kr=0):Tr.length===2?(br=Tr[0],Fr=Tr[1],qt=dt[0],kr=dt[1]):V.raise("invalid shape");var Ar=Array.isArray(ft.data)?pt.dtype:Un(ft.data),Ur=Wn.allocType(Ar,br*Fr);na(Ur,ft.data,br,Fr,qt,kr,ft.offset),vt(Ur,pr),Wn.freeType(Ur)}else V.raise("invalid data for buffer subdata");return Gt}return St||Gt(Ie),Gt._reglType="buffer",Gt._buffer=pt,Gt.subdata=Ct,se.profile&&(Gt.stats=pt.stats),Gt.destroy=function(){jt(pt)},Gt}function ct(){Io(Ge).forEach(function(Ie){Ie.buffer=N.createBuffer(),N.bindBuffer(Ie.type,Ie.buffer),N.bufferData(Ie.type,Ie.persistentData||Ie.byteLength,Ie.usage)})}return se.profile&&(Y.getTotalBufferSize=function(){var Ie=0;return Object.keys(Ge).forEach(function(qe){Ie+=Ge[qe].stats.size}),Ie}),{create:bt,createStream:wt,destroyStream:Et,clear:function(){Io(Ge).forEach(jt),mt.forEach(jt)},getBuffer:function(Ie){return Ie&&Ie._buffer instanceof Je?Ie._buffer:null},restore:ct,_initBuffer:Mt}}var Lc=0,Xl=0,Fc=1,_o=1,Ya=4,oa=4,So={points:Lc,point:Xl,lines:Fc,line:_o,triangles:Ya,triangle:oa,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Bc=0,wi=1,ki=4,Bs=5120,ui=5121,yi=5122,ko=5123,xi=5124,Qo=5125,Ze=34963,Ot=35040,At=35044;function Jt(N,Y,se,He){var tt={},Ge=0,Je={uint8:ui,uint16:ko};Y.oes_element_index_uint&&(Je.uint32=Qo);function mt(ct){this.id=Ge++,tt[this.id]=this,this.buffer=ct,this.primType=ki,this.vertCount=0,this.type=0}mt.prototype.bind=function(){this.buffer.bind()};var wt=[];function Et(ct){var Ie=wt.pop();return Ie||(Ie=new mt(se.create(null,Ze,!0,!1)._buffer)),Mt(Ie,ct,Ot,-1,-1,0,0),Ie}function Qe(ct){wt.push(ct)}function Mt(ct,Ie,qe,St,Bt,pt,Gt){ct.buffer.bind();var vt;if(Ie){var Ct=Gt;!Gt&&(!r(Ie)||ri(Ie)&&!r(Ie.data))&&(Ct=Y.oes_element_index_uint?Qo:ko),se._initBuffer(ct.buffer,Ie,qe,Ct,3)}else N.bufferData(Ze,pt,qe),ct.buffer.dtype=vt||ui,ct.buffer.usage=qe,ct.buffer.dimension=3,ct.buffer.byteLength=pt;if(vt=Gt,!Gt){switch(ct.buffer.dtype){case ui:case Bs:vt=ui;break;case ko:case yi:vt=ko;break;case Qo:case xi:vt=Qo;break;default:V.raise("unsupported type for element array")}ct.buffer.dtype=vt}ct.type=vt,V(vt!==Qo||!!Y.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var ft=Bt;ft<0&&(ft=ct.buffer.byteLength,vt===ko?ft>>=1:vt===Qo&&(ft>>=2)),ct.vertCount=ft;var Dt=St;if(St<0){Dt=ki;var pr=ct.buffer.dimension;pr===1&&(Dt=Bc),pr===2&&(Dt=wi),pr===3&&(Dt=ki)}ct.primType=Dt}function jt(ct){He.elementsCount--,V(ct.buffer!==null,"must not double destroy elements"),delete tt[ct.id],ct.buffer.destroy(),ct.buffer=null}function bt(ct,Ie){var qe=se.create(null,Ze,!0),St=new mt(qe._buffer);He.elementsCount++;function Bt(pt){if(!pt)qe(),St.primType=ki,St.vertCount=0,St.type=ui;else if(typeof pt=="number")qe(pt),St.primType=ki,St.vertCount=pt|0,St.type=ui;else{var Gt=null,vt=At,Ct=-1,ft=-1,Dt=0,pr=0;Array.isArray(pt)||r(pt)||ri(pt)?Gt=pt:(V.type(pt,"object","invalid arguments for elements"),"data"in pt&&(Gt=pt.data,V(Array.isArray(Gt)||r(Gt)||ri(Gt),"invalid data for element buffer")),"usage"in pt&&(V.parameter(pt.usage,Ii,"invalid element buffer usage"),vt=Ii[pt.usage]),"primitive"in pt&&(V.parameter(pt.primitive,So,"invalid element buffer primitive"),Ct=So[pt.primitive]),"count"in pt&&(V(typeof pt.count=="number"&&pt.count>=0,"invalid vertex count for elements"),ft=pt.count|0),"type"in pt&&(V.parameter(pt.type,Je,"invalid buffer type"),pr=Je[pt.type]),"length"in pt?Dt=pt.length|0:(Dt=ft,pr===ko||pr===yi?Dt*=2:(pr===Qo||pr===xi)&&(Dt*=4))),Mt(St,Gt,vt,Ct,ft,Dt,pr)}return Bt}return Bt(ct),Bt._reglType="elements",Bt._elements=St,Bt.subdata=function(pt,Gt){return qe.subdata(pt,Gt),Bt},Bt.destroy=function(){jt(St)},Bt}return{create:bt,createStream:Et,destroyStream:Qe,getElements:function(ct){return typeof ct=="function"&&ct._elements instanceof mt?ct._elements:null},clear:function(){Io(tt).forEach(jt)}}}var Wr=new Float32Array(1),cn=new Uint32Array(Wr.buffer),zn=5123;function w(N){for(var Y=Wn.allocType(zn,N.length),se=0;se<N.length;++se)if(isNaN(N[se]))Y[se]=65535;else if(N[se]===1/0)Y[se]=31744;else if(N[se]===-1/0)Y[se]=64512;else{Wr[0]=N[se];var He=cn[0],tt=He>>>31<<15,Ge=(He<<1>>>24)-127,Je=He>>13&(1<<10)-1;if(Ge<-24)Y[se]=tt;else if(Ge<-14){var mt=-14-Ge;Y[se]=tt+(Je+(1<<10)>>mt)}else Ge>15?Y[se]=tt+31744:Y[se]=tt+(Ge+15<<10)+Je}return Y}function x(N){return Array.isArray(N)||r(N)}var M=function(N){return!(N&N-1)&&!!N},X=34467,ie=3553,Ce=34067,nt=34069,It=6408,ar=6406,Qr=6407,Kt=6409,Sn=6410,Zr=32854,gn=32855,Si=36194,qn=32819,gi=32820,Ta=33635,Pa=34042,Ka=6402,xu=34041,ia=35904,Su=35906,Ao=36193,qa=33776,Ra=33777,aa=33778,ua=33779,os=35986,Jd=35987,Qd=34798,Wl=35840,Gc=35841,is=35842,Yf=35843,ep=36196,as=5121,Uc=5123,Kf=5125,po=5126,si=10242,qf=10243,Zf=10497,Gs=33071,Th=33648,Us=10240,ja=10241,zc=9728,us=9729,Au=9984,zs=9985,$c=9986,Tu=9987,Ph=33170,Hc=4352,Rh=4353,jh=4354,tp=34046,Jf=3317,ei=37440,rp=37441,W=37443,ss=37444,Za=33984,Wi=[Au,$c,zs,Tu],fn=[0,Kt,Sn,Qr,It],Xo={};Xo[Kt]=Xo[ar]=Xo[Ka]=1,Xo[xu]=Xo[Sn]=2,Xo[Qr]=Xo[ia]=3,Xo[It]=Xo[Su]=4;function En(N){return"[object "+N+"]"}var sa=En("HTMLCanvasElement"),Ja=En("OffscreenCanvas"),Li=En("CanvasRenderingContext2D"),Qf=En("ImageBitmap"),el=En("HTMLImageElement"),Vl=En("HTMLVideoElement"),np=Object.keys(Jo).concat([sa,Ja,Li,Qf,el,Vl]),Qa=[];Qa[as]=1,Qa[po]=4,Qa[Ao]=2,Qa[Uc]=2,Qa[Kf]=4;var ho=[];ho[Zr]=2,ho[gn]=2,ho[Si]=2,ho[xu]=4,ho[qa]=.5,ho[Ra]=.5,ho[aa]=1,ho[ua]=1,ho[os]=.5,ho[Jd]=1,ho[Qd]=1,ho[Wl]=.5,ho[Gc]=.25,ho[is]=.5,ho[Yf]=.25,ho[ep]=.5;function $s(N){return Array.isArray(N)&&(N.length===0||typeof N[0]=="number")}function Yl(N){if(!Array.isArray(N))return!1;var Y=N.length;return!(Y===0||!x(N[0]))}function eu(N){return Object.prototype.toString.call(N)}function ca(N){return eu(N)===sa}function Xc(N){return eu(N)===Ja}function Pu(N){return eu(N)===Li}function Fi(N){return eu(N)===Qf}function Kl(N){return eu(N)===el}function ql(N){return eu(N)===Vl}function fa(N){if(!N)return!1;var Y=eu(N);return np.indexOf(Y)>=0?!0:$s(N)||Yl(N)||ri(N)}function Vn(N){return Jo[Object.prototype.toString.call(N)]|0}function op(N,Y){var se=Y.length;switch(N.type){case as:case Uc:case Kf:case po:var He=Wn.allocType(N.type,se);He.set(Y),N.data=He;break;case Ao:N.data=w(Y);break;default:V.raise("unsupported texture type, must specify a typed array")}}function Zl(N,Y){return Wn.allocType(N.type===Ao?po:N.type,Y)}function vo(N,Y){N.type===Ao?(N.data=w(Y),Wn.freeType(Y)):N.data=Y}function Pn(N,Y,se,He,tt,Ge){for(var Je=N.width,mt=N.height,wt=N.channels,Et=Je*mt*wt,Qe=Zl(N,Et),Mt=0,jt=0;jt<mt;++jt)for(var bt=0;bt<Je;++bt)for(var ct=0;ct<wt;++ct)Qe[Mt++]=Y[se*bt+He*jt+tt*ct+Ge];vo(N,Qe)}function To(N,Y,se,He,tt,Ge){var Je;if(typeof ho[N]<"u"?Je=ho[N]:Je=Xo[N]*Qa[Y],Ge&&(Je*=6),tt){for(var mt=0,wt=se;wt>=1;)mt+=Je*wt*wt,wt/=2;return mt}else return Je*se*He}function on(N,Y,se,He,tt,Ge,Je){var mt={"don't care":Hc,"dont care":Hc,nice:jh,fast:Rh},wt={repeat:Zf,clamp:Gs,mirror:Th},Et={nearest:zc,linear:us},Qe=a({mipmap:Tu,"nearest mipmap nearest":Au,"linear mipmap nearest":zs,"nearest mipmap linear":$c,"linear mipmap linear":Tu},Et),Mt={none:0,browser:ss},jt={uint8:as,rgba4:qn,rgb565:Ta,"rgb5 a1":gi},bt={alpha:ar,luminance:Kt,"luminance alpha":Sn,rgb:Qr,rgba:It,rgba4:Zr,"rgb5 a1":gn,rgb565:Si},ct={};Y.ext_srgb&&(bt.srgb=ia,bt.srgba=Su),Y.oes_texture_float&&(jt.float32=jt.float=po),Y.oes_texture_half_float&&(jt.float16=jt["half float"]=Ao),Y.webgl_depth_texture&&(a(bt,{depth:Ka,"depth stencil":xu}),a(jt,{uint16:Uc,uint32:Kf,"depth stencil":Pa})),Y.webgl_compressed_texture_s3tc&&a(ct,{"rgb s3tc dxt1":qa,"rgba s3tc dxt1":Ra,"rgba s3tc dxt3":aa,"rgba s3tc dxt5":ua}),Y.webgl_compressed_texture_atc&&a(ct,{"rgb atc":os,"rgba atc explicit alpha":Jd,"rgba atc interpolated alpha":Qd}),Y.webgl_compressed_texture_pvrtc&&a(ct,{"rgb pvrtc 4bppv1":Wl,"rgb pvrtc 2bppv1":Gc,"rgba pvrtc 4bppv1":is,"rgba pvrtc 2bppv1":Yf}),Y.webgl_compressed_texture_etc1&&(ct["rgb etc1"]=ep);var Ie=Array.prototype.slice.call(N.getParameter(X));Object.keys(ct).forEach(function(oe){var Xe=ct[oe];Ie.indexOf(Xe)>=0&&(bt[oe]=Xe)});var qe=Object.keys(bt);se.textureFormats=qe;var St=[];Object.keys(bt).forEach(function(oe){var Xe=bt[oe];St[Xe]=oe});var Bt=[];Object.keys(jt).forEach(function(oe){var Xe=jt[oe];Bt[Xe]=oe});var pt=[];Object.keys(Et).forEach(function(oe){var Xe=Et[oe];pt[Xe]=oe});var Gt=[];Object.keys(Qe).forEach(function(oe){var Xe=Qe[oe];Gt[Xe]=oe});var vt=[];Object.keys(wt).forEach(function(oe){var Xe=wt[oe];vt[Xe]=oe});var Ct=qe.reduce(function(oe,Xe){var Be=bt[Xe];return Be===Kt||Be===ar||Be===Kt||Be===Sn||Be===Ka||Be===xu||Y.ext_srgb&&(Be===ia||Be===Su)?oe[Be]=Be:Be===gn||Xe.indexOf("rgba")>=0?oe[Be]=It:oe[Be]=Qr,oe},{});function ft(){this.internalformat=It,this.format=It,this.type=as,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=ss,this.width=0,this.height=0,this.channels=0}function Dt(oe,Xe){oe.internalformat=Xe.internalformat,oe.format=Xe.format,oe.type=Xe.type,oe.compressed=Xe.compressed,oe.premultiplyAlpha=Xe.premultiplyAlpha,oe.flipY=Xe.flipY,oe.unpackAlignment=Xe.unpackAlignment,oe.colorSpace=Xe.colorSpace,oe.width=Xe.width,oe.height=Xe.height,oe.channels=Xe.channels}function pr(oe,Xe){if(!(typeof Xe!="object"||!Xe)){if("premultiplyAlpha"in Xe&&(V.type(Xe.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),oe.premultiplyAlpha=Xe.premultiplyAlpha),"flipY"in Xe&&(V.type(Xe.flipY,"boolean","invalid texture flip"),oe.flipY=Xe.flipY),"alignment"in Xe&&(V.oneOf(Xe.alignment,[1,2,4,8],"invalid texture unpack alignment"),oe.unpackAlignment=Xe.alignment),"colorSpace"in Xe&&(V.parameter(Xe.colorSpace,Mt,"invalid colorSpace"),oe.colorSpace=Mt[Xe.colorSpace]),"type"in Xe){var Be=Xe.type;V(Y.oes_texture_float||!(Be==="float"||Be==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),V(Y.oes_texture_half_float||!(Be==="half float"||Be==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),V(Y.webgl_depth_texture||!(Be==="uint16"||Be==="uint32"||Be==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),V.parameter(Be,jt,"invalid texture type"),oe.type=jt[Be]}var $t=oe.width,Jr=oe.height,q=oe.channels,U=!1;"shape"in Xe?(V(Array.isArray(Xe.shape)&&Xe.shape.length>=2,"shape must be an array"),$t=Xe.shape[0],Jr=Xe.shape[1],Xe.shape.length===3&&(q=Xe.shape[2],V(q>0&&q<=4,"invalid number of channels"),U=!0),V($t>=0&&$t<=se.maxTextureSize,"invalid width"),V(Jr>=0&&Jr<=se.maxTextureSize,"invalid height")):("radius"in Xe&&($t=Jr=Xe.radius,V($t>=0&&$t<=se.maxTextureSize,"invalid radius")),"width"in Xe&&($t=Xe.width,V($t>=0&&$t<=se.maxTextureSize,"invalid width")),"height"in Xe&&(Jr=Xe.height,V(Jr>=0&&Jr<=se.maxTextureSize,"invalid height")),"channels"in Xe&&(q=Xe.channels,V(q>0&&q<=4,"invalid number of channels"),U=!0)),oe.width=$t|0,oe.height=Jr|0,oe.channels=q|0;var ge=!1;if("format"in Xe){var Me=Xe.format;V(Y.webgl_depth_texture||!(Me==="depth"||Me==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),V.parameter(Me,bt,"invalid texture format");var De=oe.internalformat=bt[Me];oe.format=Ct[De],Me in jt&&("type"in Xe||(oe.type=jt[Me])),Me in ct&&(oe.compressed=!0),ge=!0}!U&&ge?oe.channels=Xo[oe.format]:U&&!ge?oe.channels!==fn[oe.format]&&(oe.format=oe.internalformat=fn[oe.channels]):ge&&U&&V(oe.channels===Xo[oe.format],"number of channels inconsistent with specified format")}}function Tr(oe){N.pixelStorei(ei,oe.flipY),N.pixelStorei(rp,oe.premultiplyAlpha),N.pixelStorei(W,oe.colorSpace),N.pixelStorei(Jf,oe.unpackAlignment)}function xt(){ft.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function yt(oe,Xe){var Be=null;if(fa(Xe)?Be=Xe:Xe&&(V.type(Xe,"object","invalid pixel data type"),pr(oe,Xe),"x"in Xe&&(oe.xOffset=Xe.x|0),"y"in Xe&&(oe.yOffset=Xe.y|0),fa(Xe.data)&&(Be=Xe.data)),V(!oe.compressed||Be instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),Xe.copy){V(!Be,"can not specify copy and data field for the same texture");var $t=tt.viewportWidth,Jr=tt.viewportHeight;oe.width=oe.width||$t-oe.xOffset,oe.height=oe.height||Jr-oe.yOffset,oe.needsCopy=!0,V(oe.xOffset>=0&&oe.xOffset<$t&&oe.yOffset>=0&&oe.yOffset<Jr&&oe.width>0&&oe.width<=$t&&oe.height>0&&oe.height<=Jr,"copy texture read out of bounds")}else if(!Be)oe.width=oe.width||1,oe.height=oe.height||1,oe.channels=oe.channels||4;else if(r(Be))oe.channels=oe.channels||4,oe.data=Be,!("type"in Xe)&&oe.type===as&&(oe.type=Vn(Be));else if($s(Be))oe.channels=oe.channels||4,op(oe,Be),oe.alignment=1,oe.needsFree=!0;else if(ri(Be)){var q=Be.data;!Array.isArray(q)&&oe.type===as&&(oe.type=Vn(q));var U=Be.shape,ge=Be.stride,Me,De,Ee,me,Pe,Q;U.length===3?(Ee=U[2],Q=ge[2]):(V(U.length===2,"invalid ndarray pixel data, must be 2 or 3D"),Ee=1,Q=1),Me=U[0],De=U[1],me=ge[0],Pe=ge[1],oe.alignment=1,oe.width=Me,oe.height=De,oe.channels=Ee,oe.format=oe.internalformat=fn[Ee],oe.needsFree=!0,Pn(oe,q,me,Pe,Q,Be.offset)}else if(ca(Be)||Xc(Be)||Pu(Be))ca(Be)||Xc(Be)?oe.element=Be:oe.element=Be.canvas,oe.width=oe.element.width,oe.height=oe.element.height,oe.channels=4;else if(Fi(Be))oe.element=Be,oe.width=Be.width,oe.height=Be.height,oe.channels=4;else if(Kl(Be))oe.element=Be,oe.width=Be.naturalWidth,oe.height=Be.naturalHeight,oe.channels=4;else if(ql(Be))oe.element=Be,oe.width=Be.videoWidth,oe.height=Be.videoHeight,oe.channels=4;else if(Yl(Be)){var he=oe.width||Be[0].length,Z=oe.height||Be.length,je=oe.channels;x(Be[0][0])?je=je||Be[0][0].length:je=je||1;for(var Fe=Oi.shape(Be),d=1,g=0;g<Fe.length;++g)d*=Fe[g];var _=Zl(oe,d);Oi.flatten(Be,Fe,"",_),vo(oe,_),oe.alignment=1,oe.width=he,oe.height=Z,oe.channels=je,oe.format=oe.internalformat=fn[je],oe.needsFree=!0}oe.type===po?V(se.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):oe.type===Ao&&V(se.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function dt(oe,Xe,Be){var $t=oe.element,Jr=oe.data,q=oe.internalformat,U=oe.format,ge=oe.type,Me=oe.width,De=oe.height;Tr(oe),$t?N.texImage2D(Xe,Be,U,U,ge,$t):oe.compressed?N.compressedTexImage2D(Xe,Be,q,Me,De,0,Jr):oe.needsCopy?(He(),N.copyTexImage2D(Xe,Be,U,oe.xOffset,oe.yOffset,Me,De,0)):N.texImage2D(Xe,Be,U,Me,De,0,U,ge,Jr||null)}function br(oe,Xe,Be,$t,Jr){var q=oe.element,U=oe.data,ge=oe.internalformat,Me=oe.format,De=oe.type,Ee=oe.width,me=oe.height;Tr(oe),q?N.texSubImage2D(Xe,Jr,Be,$t,Me,De,q):oe.compressed?N.compressedTexSubImage2D(Xe,Jr,Be,$t,ge,Ee,me,U):oe.needsCopy?(He(),N.copyTexSubImage2D(Xe,Jr,Be,$t,oe.xOffset,oe.yOffset,Ee,me)):N.texSubImage2D(Xe,Jr,Be,$t,Ee,me,Me,De,U)}var Fr=[];function qt(){return Fr.pop()||new xt}function kr(oe){oe.needsFree&&Wn.freeType(oe.data),xt.call(oe),Fr.push(oe)}function Ar(){ft.call(this),this.genMipmaps=!1,this.mipmapHint=Hc,this.mipmask=0,this.images=Array(16)}function Ur(oe,Xe,Be){var $t=oe.images[0]=qt();oe.mipmask=1,$t.width=oe.width=Xe,$t.height=oe.height=Be,$t.channels=oe.channels=4}function tn(oe,Xe){var Be=null;if(fa(Xe))Be=oe.images[0]=qt(),Dt(Be,oe),yt(Be,Xe),oe.mipmask=1;else if(pr(oe,Xe),Array.isArray(Xe.mipmap))for(var $t=Xe.mipmap,Jr=0;Jr<$t.length;++Jr)Be=oe.images[Jr]=qt(),Dt(Be,oe),Be.width>>=Jr,Be.height>>=Jr,yt(Be,$t[Jr]),oe.mipmask|=1<<Jr;else Be=oe.images[0]=qt(),Dt(Be,oe),yt(Be,Xe),oe.mipmask=1;Dt(oe,oe.images[0]),oe.compressed&&(oe.internalformat===qa||oe.internalformat===Ra||oe.internalformat===aa||oe.internalformat===ua)&&V(oe.width%4===0&&oe.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function uo(oe,Xe){for(var Be=oe.images,$t=0;$t<Be.length;++$t){if(!Be[$t])return;dt(Be[$t],Xe,$t)}}var go=[];function Yr(){var oe=go.pop()||new Ar;ft.call(oe),oe.mipmask=0;for(var Xe=0;Xe<16;++Xe)oe.images[Xe]=null;return oe}function Eo(oe){for(var Xe=oe.images,Be=0;Be<Xe.length;++Be)Xe[Be]&&kr(Xe[Be]),Xe[Be]=null;go.push(oe)}function In(){this.minFilter=zc,this.magFilter=zc,this.wrapS=Gs,this.wrapT=Gs,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=Hc}function so(oe,Xe){if("min"in Xe){var Be=Xe.min;V.parameter(Be,Qe),oe.minFilter=Qe[Be],Wi.indexOf(oe.minFilter)>=0&&!("faces"in Xe)&&(oe.genMipmaps=!0)}if("mag"in Xe){var $t=Xe.mag;V.parameter($t,Et),oe.magFilter=Et[$t]}var Jr=oe.wrapS,q=oe.wrapT;if("wrap"in Xe){var U=Xe.wrap;typeof U=="string"?(V.parameter(U,wt),Jr=q=wt[U]):Array.isArray(U)&&(V.parameter(U[0],wt),V.parameter(U[1],wt),Jr=wt[U[0]],q=wt[U[1]])}else{if("wrapS"in Xe){var ge=Xe.wrapS;V.parameter(ge,wt),Jr=wt[ge]}if("wrapT"in Xe){var Me=Xe.wrapT;V.parameter(Me,wt),q=wt[Me]}}if(oe.wrapS=Jr,oe.wrapT=q,"anisotropic"in Xe){var De=Xe.anisotropic;V(typeof De=="number"&&De>=1&&De<=se.maxAnisotropic,"aniso samples must be between 1 and "),oe.anisotropic=Xe.anisotropic}if("mipmap"in Xe){var Ee=!1;switch(typeof Xe.mipmap){case"string":V.parameter(Xe.mipmap,mt,"invalid mipmap hint"),oe.mipmapHint=mt[Xe.mipmap],oe.genMipmaps=!0,Ee=!0;break;case"boolean":Ee=oe.genMipmaps=Xe.mipmap;break;case"object":V(Array.isArray(Xe.mipmap),"invalid mipmap type"),oe.genMipmaps=!1,Ee=!0;break;default:V.raise("invalid mipmap type")}Ee&&!("min"in Xe)&&(oe.minFilter=Au)}}function mo(oe,Xe){N.texParameteri(Xe,ja,oe.minFilter),N.texParameteri(Xe,Us,oe.magFilter),N.texParameteri(Xe,si,oe.wrapS),N.texParameteri(Xe,qf,oe.wrapT),Y.ext_texture_filter_anisotropic&&N.texParameteri(Xe,tp,oe.anisotropic),oe.genMipmaps&&(N.hint(Ph,oe.mipmapHint),N.generateMipmap(Xe))}var Qn=0,Yn={},No=se.maxTextureUnits,eo=Array(No).map(function(){return null});function Ir(oe){ft.call(this),this.mipmask=0,this.internalformat=It,this.id=Qn++,this.refCount=1,this.target=oe,this.texture=N.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new In,Je.profile&&(this.stats={size:0})}function Lo(oe){N.activeTexture(Za),N.bindTexture(oe.target,oe.texture)}function ln(){var oe=eo[0];oe?N.bindTexture(oe.target,oe.texture):N.bindTexture(ie,null)}function mr(oe){var Xe=oe.texture;V(Xe,"must not double destroy texture");var Be=oe.unit,$t=oe.target;Be>=0&&(N.activeTexture(Za+Be),N.bindTexture($t,null),eo[Be]=null),N.deleteTexture(Xe),oe.texture=null,oe.params=null,oe.pixels=null,oe.refCount=0,delete Yn[oe.id],Ge.textureCount--}a(Ir.prototype,{bind:function(){var oe=this;oe.bindCount+=1;var Xe=oe.unit;if(Xe<0){for(var Be=0;Be<No;++Be){var $t=eo[Be];if($t){if($t.bindCount>0)continue;$t.unit=-1}eo[Be]=oe,Xe=Be;break}Xe>=No&&V.raise("insufficient number of texture units"),Je.profile&&Ge.maxTextureUnits<Xe+1&&(Ge.maxTextureUnits=Xe+1),oe.unit=Xe,N.activeTexture(Za+Xe),N.bindTexture(oe.target,oe.texture)}return Xe},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&mr(this)}});function Kr(oe,Xe){var Be=new Ir(ie);Yn[Be.id]=Be,Ge.textureCount++;function $t(U,ge){var Me=Be.texInfo;In.call(Me);var De=Yr();return typeof U=="number"?typeof ge=="number"?Ur(De,U|0,ge|0):Ur(De,U|0,U|0):U?(V.type(U,"object","invalid arguments to regl.texture"),so(Me,U),tn(De,U)):Ur(De,1,1),Me.genMipmaps&&(De.mipmask=(De.width<<1)-1),Be.mipmask=De.mipmask,Dt(Be,De),V.texture2D(Me,De,se),Be.internalformat=De.internalformat,$t.width=De.width,$t.height=De.height,Lo(Be),uo(De,ie),mo(Me,ie),ln(),Eo(De),Je.profile&&(Be.stats.size=To(Be.internalformat,Be.type,De.width,De.height,Me.genMipmaps,!1)),$t.format=St[Be.internalformat],$t.type=Bt[Be.type],$t.mag=pt[Me.magFilter],$t.min=Gt[Me.minFilter],$t.wrapS=vt[Me.wrapS],$t.wrapT=vt[Me.wrapT],$t}function Jr(U,ge,Me,De){V(!!U,"must specify image data");var Ee=ge|0,me=Me|0,Pe=De|0,Q=qt();return Dt(Q,Be),Q.width=0,Q.height=0,yt(Q,U),Q.width=Q.width||(Be.width>>Pe)-Ee,Q.height=Q.height||(Be.height>>Pe)-me,V(Be.type===Q.type&&Be.format===Q.format&&Be.internalformat===Q.internalformat,"incompatible format for texture.subimage"),V(Ee>=0&&me>=0&&Ee+Q.width<=Be.width&&me+Q.height<=Be.height,"texture.subimage write out of bounds"),V(Be.mipmask&1<<Pe,"missing mipmap data"),V(Q.data||Q.element||Q.needsCopy,"missing image data"),Lo(Be),br(Q,ie,Ee,me,Pe),ln(),kr(Q),$t}function q(U,ge){var Me=U|0,De=ge|0||Me;if(Me===Be.width&&De===Be.height)return $t;$t.width=Be.width=Me,$t.height=Be.height=De,Lo(Be);for(var Ee=0;Be.mipmask>>Ee;++Ee){var me=Me>>Ee,Pe=De>>Ee;if(!me||!Pe)break;N.texImage2D(ie,Ee,Be.format,me,Pe,0,Be.format,Be.type,null)}return ln(),Je.profile&&(Be.stats.size=To(Be.internalformat,Be.type,Me,De,!1,!1)),$t}return $t(oe,Xe),$t.subimage=Jr,$t.resize=q,$t._reglType="texture2d",$t._texture=Be,Je.profile&&($t.stats=Be.stats),$t.destroy=function(){Be.decRef()},$t}function Pr(oe,Xe,Be,$t,Jr,q){var U=new Ir(Ce);Yn[U.id]=U,Ge.cubeCount++;var ge=new Array(6);function Me(me,Pe,Q,he,Z,je){var Fe,d=U.texInfo;for(In.call(d),Fe=0;Fe<6;++Fe)ge[Fe]=Yr();if(typeof me=="number"||!me){var g=me|0||1;for(Fe=0;Fe<6;++Fe)Ur(ge[Fe],g,g)}else if(typeof me=="object")if(Pe)tn(ge[0],me),tn(ge[1],Pe),tn(ge[2],Q),tn(ge[3],he),tn(ge[4],Z),tn(ge[5],je);else if(so(d,me),pr(U,me),"faces"in me){var _=me.faces;for(V(Array.isArray(_)&&_.length===6,"cube faces must be a length 6 array"),Fe=0;Fe<6;++Fe)V(typeof _[Fe]=="object"&&!!_[Fe],"invalid input for cube map face"),Dt(ge[Fe],U),tn(ge[Fe],_[Fe])}else for(Fe=0;Fe<6;++Fe)tn(ge[Fe],me);else V.raise("invalid arguments to cube map");for(Dt(U,ge[0]),se.npotTextureCube||V(M(U.width)&&M(U.height),"your browser does not support non power or two texture dimensions"),d.genMipmaps?U.mipmask=(ge[0].width<<1)-1:U.mipmask=ge[0].mipmask,V.textureCube(U,d,ge,se),U.internalformat=ge[0].internalformat,Me.width=ge[0].width,Me.height=ge[0].height,Lo(U),Fe=0;Fe<6;++Fe)uo(ge[Fe],nt+Fe);for(mo(d,Ce),ln(),Je.profile&&(U.stats.size=To(U.internalformat,U.type,Me.width,Me.height,d.genMipmaps,!0)),Me.format=St[U.internalformat],Me.type=Bt[U.type],Me.mag=pt[d.magFilter],Me.min=Gt[d.minFilter],Me.wrapS=vt[d.wrapS],Me.wrapT=vt[d.wrapT],Fe=0;Fe<6;++Fe)Eo(ge[Fe]);return Me}function De(me,Pe,Q,he,Z){V(!!Pe,"must specify image data"),V(typeof me=="number"&&me===(me|0)&&me>=0&&me<6,"invalid face");var je=Q|0,Fe=he|0,d=Z|0,g=qt();return Dt(g,U),g.width=0,g.height=0,yt(g,Pe),g.width=g.width||(U.width>>d)-je,g.height=g.height||(U.height>>d)-Fe,V(U.type===g.type&&U.format===g.format&&U.internalformat===g.internalformat,"incompatible format for texture.subimage"),V(je>=0&&Fe>=0&&je+g.width<=U.width&&Fe+g.height<=U.height,"texture.subimage write out of bounds"),V(U.mipmask&1<<d,"missing mipmap data"),V(g.data||g.element||g.needsCopy,"missing image data"),Lo(U),br(g,nt+me,je,Fe,d),ln(),kr(g),Me}function Ee(me){var Pe=me|0;if(Pe!==U.width){Me.width=U.width=Pe,Me.height=U.height=Pe,Lo(U);for(var Q=0;Q<6;++Q)for(var he=0;U.mipmask>>he;++he)N.texImage2D(nt+Q,he,U.format,Pe>>he,Pe>>he,0,U.format,U.type,null);return ln(),Je.profile&&(U.stats.size=To(U.internalformat,U.type,Me.width,Me.height,!1,!0)),Me}}return Me(oe,Xe,Be,$t,Jr,q),Me.subimage=De,Me.resize=Ee,Me._reglType="textureCube",Me._texture=U,Je.profile&&(Me.stats=U.stats),Me.destroy=function(){U.decRef()},Me}function Gn(){for(var oe=0;oe<No;++oe)N.activeTexture(Za+oe),N.bindTexture(ie,null),eo[oe]=null;Io(Yn).forEach(mr),Ge.cubeCount=0,Ge.textureCount=0}Je.profile&&(Ge.getTotalTextureSize=function(){var oe=0;return Object.keys(Yn).forEach(function(Xe){oe+=Yn[Xe].stats.size}),oe});function Qi(){for(var oe=0;oe<No;++oe){var Xe=eo[oe];Xe&&(Xe.bindCount=0,Xe.unit=-1,eo[oe]=null)}Io(Yn).forEach(function(Be){Be.texture=N.createTexture(),N.bindTexture(Be.target,Be.texture);for(var $t=0;$t<32;++$t)if((Be.mipmask&1<<$t)!==0)if(Be.target===ie)N.texImage2D(ie,$t,Be.internalformat,Be.width>>$t,Be.height>>$t,0,Be.internalformat,Be.type,null);else for(var Jr=0;Jr<6;++Jr)N.texImage2D(nt+Jr,$t,Be.internalformat,Be.width>>$t,Be.height>>$t,0,Be.internalformat,Be.type,null);mo(Be.texInfo,Be.target)})}function cu(){for(var oe=0;oe<No;++oe){var Xe=eo[oe];Xe&&(Xe.bindCount=0,Xe.unit=-1,eo[oe]=null),N.activeTexture(Za+oe),N.bindTexture(ie,null),N.bindTexture(Ce,null)}}return{create2D:Kr,createCube:Pr,clear:Gn,getTexture:function(oe){return null},restore:Qi,refresh:cu}}var Fn=36161,gr=32854,Bn=32855,Wc=36194,Na=33189,tl=36168,Zn=34041,no=35907,Jl=34836,Ql=34842,Vc=34843,ci=[];ci[gr]=2,ci[Bn]=2,ci[Wc]=2,ci[Na]=2,ci[tl]=1,ci[Zn]=4,ci[no]=4,ci[Jl]=16,ci[Ql]=8,ci[Vc]=6;function rl(N,Y,se){return ci[N]*Y*se}var Hs=function(N,Y,se,He,tt){var Ge={rgba4:gr,rgb565:Wc,"rgb5 a1":Bn,depth:Na,stencil:tl,"depth stencil":Zn};Y.ext_srgb&&(Ge.srgba=no),Y.ext_color_buffer_half_float&&(Ge.rgba16f=Ql,Ge.rgb16f=Vc),Y.webgl_color_buffer_float&&(Ge.rgba32f=Jl);var Je=[];Object.keys(Ge).forEach(function(bt){var ct=Ge[bt];Je[ct]=bt});var mt=0,wt={};function Et(bt){this.id=mt++,this.refCount=1,this.renderbuffer=bt,this.format=gr,this.width=0,this.height=0,tt.profile&&(this.stats={size:0})}Et.prototype.decRef=function(){--this.refCount<=0&&Qe(this)};function Qe(bt){var ct=bt.renderbuffer;V(ct,"must not double destroy renderbuffer"),N.bindRenderbuffer(Fn,null),N.deleteRenderbuffer(ct),bt.renderbuffer=null,bt.refCount=0,delete wt[bt.id],He.renderbufferCount--}function Mt(bt,ct){var Ie=new Et(N.createRenderbuffer());wt[Ie.id]=Ie,He.renderbufferCount++;function qe(Bt,pt){var Gt=0,vt=0,Ct=gr;if(typeof Bt=="object"&&Bt){var ft=Bt;if("shape"in ft){var Dt=ft.shape;V(Array.isArray(Dt)&&Dt.length>=2,"invalid renderbuffer shape"),Gt=Dt[0]|0,vt=Dt[1]|0}else"radius"in ft&&(Gt=vt=ft.radius|0),"width"in ft&&(Gt=ft.width|0),"height"in ft&&(vt=ft.height|0);"format"in ft&&(V.parameter(ft.format,Ge,"invalid renderbuffer format"),Ct=Ge[ft.format])}else typeof Bt=="number"?(Gt=Bt|0,typeof pt=="number"?vt=pt|0:vt=Gt):Bt?V.raise("invalid arguments to renderbuffer constructor"):Gt=vt=1;if(V(Gt>0&&vt>0&&Gt<=se.maxRenderbufferSize&&vt<=se.maxRenderbufferSize,"invalid renderbuffer size"),!(Gt===Ie.width&&vt===Ie.height&&Ct===Ie.format))return qe.width=Ie.width=Gt,qe.height=Ie.height=vt,Ie.format=Ct,N.bindRenderbuffer(Fn,Ie.renderbuffer),N.renderbufferStorage(Fn,Ct,Gt,vt),V(N.getError()===0,"invalid render buffer format"),tt.profile&&(Ie.stats.size=rl(Ie.format,Ie.width,Ie.height)),qe.format=Je[Ie.format],qe}function St(Bt,pt){var Gt=Bt|0,vt=pt|0||Gt;return Gt===Ie.width&&vt===Ie.height||(V(Gt>0&&vt>0&&Gt<=se.maxRenderbufferSize&&vt<=se.maxRenderbufferSize,"invalid renderbuffer size"),qe.width=Ie.width=Gt,qe.height=Ie.height=vt,N.bindRenderbuffer(Fn,Ie.renderbuffer),N.renderbufferStorage(Fn,Ie.format,Gt,vt),V(N.getError()===0,"invalid render buffer format"),tt.profile&&(Ie.stats.size=rl(Ie.format,Ie.width,Ie.height))),qe}return qe(bt,ct),qe.resize=St,qe._reglType="renderbuffer",qe._renderbuffer=Ie,tt.profile&&(qe.stats=Ie.stats),qe.destroy=function(){Ie.decRef()},qe}tt.profile&&(He.getTotalRenderbufferSize=function(){var bt=0;return Object.keys(wt).forEach(function(ct){bt+=wt[ct].stats.size}),bt});function jt(){Io(wt).forEach(function(bt){bt.renderbuffer=N.createRenderbuffer(),N.bindRenderbuffer(Fn,bt.renderbuffer),N.renderbufferStorage(Fn,bt.format,bt.width,bt.height)}),N.bindRenderbuffer(Fn,null)}return{create:Mt,clear:function(){Io(wt).forEach(Qe)},restore:jt}},Vi=36160,Ru=36161,tu=3553,Yi=34069,ip=36064,Ma=36096,Bi=36128,ed=33306,td=36053,nl=36054,ap=36055,up=36057,sp=36061,rd=36193,Xs=5121,nd=5126,Yc=6407,an=6408,Nh=6402,od=[Yc,an],ju=[];ju[an]=4,ju[Yc]=3;var Kc=[];Kc[Xs]=1,Kc[nd]=4,Kc[rd]=2;var Mh=32854,Ch=32855,Ki=36194,id=33189,ol=36168,il=34041,cp=35907,ad=34836,Ai=34842,Nu=34843,al=[Mh,Ch,Ki,cp,Ai,Nu,ad],cs={};cs[td]="complete",cs[nl]="incomplete attachment",cs[up]="incomplete dimensions",cs[ap]="incomplete, missing attachment",cs[sp]="unsupported";function qc(N,Y,se,He,tt,Ge){var Je={cur:null,next:null,dirty:!1,setFBO:null},mt=["rgba"],wt=["rgba4","rgb565","rgb5 a1"];Y.ext_srgb&&wt.push("srgba"),Y.ext_color_buffer_half_float&&wt.push("rgba16f","rgb16f"),Y.webgl_color_buffer_float&&wt.push("rgba32f");var Et=["uint8"];Y.oes_texture_half_float&&Et.push("half float","float16"),Y.oes_texture_float&&Et.push("float","float32");function Qe(xt,yt,dt){this.target=xt,this.texture=yt,this.renderbuffer=dt;var br=0,Fr=0;yt?(br=yt.width,Fr=yt.height):dt&&(br=dt.width,Fr=dt.height),this.width=br,this.height=Fr}function Mt(xt){xt&&(xt.texture&&xt.texture._texture.decRef(),xt.renderbuffer&&xt.renderbuffer._renderbuffer.decRef())}function jt(xt,yt,dt){if(!!xt)if(xt.texture){var br=xt.texture._texture,Fr=Math.max(1,br.width),qt=Math.max(1,br.height);V(Fr===yt&&qt===dt,"inconsistent width/height for supplied texture"),br.refCount+=1}else{var kr=xt.renderbuffer._renderbuffer;V(kr.width===yt&&kr.height===dt,"inconsistent width/height for renderbuffer"),kr.refCount+=1}}function bt(xt,yt){yt&&(yt.texture?N.framebufferTexture2D(Vi,xt,yt.target,yt.texture._texture.texture,0):N.framebufferRenderbuffer(Vi,xt,Ru,yt.renderbuffer._renderbuffer.renderbuffer))}function ct(xt){var yt=tu,dt=null,br=null,Fr=xt;typeof xt=="object"&&(Fr=xt.data,"target"in xt&&(yt=xt.target|0)),V.type(Fr,"function","invalid attachment data");var qt=Fr._reglType;return qt==="texture2d"?(dt=Fr,V(yt===tu)):qt==="textureCube"?(dt=Fr,V(yt>=Yi&&yt<Yi+6,"invalid cube map target")):qt==="renderbuffer"?(br=Fr,yt=Ru):V.raise("invalid regl object for attachment"),new Qe(yt,dt,br)}function Ie(xt,yt,dt,br,Fr){if(dt){var qt=He.create2D({width:xt,height:yt,format:br,type:Fr});return qt._texture.refCount=0,new Qe(tu,qt,null)}else{var kr=tt.create({width:xt,height:yt,format:br});return kr._renderbuffer.refCount=0,new Qe(Ru,null,kr)}}function qe(xt){return xt&&(xt.texture||xt.renderbuffer)}function St(xt,yt,dt){xt&&(xt.texture?xt.texture.resize(yt,dt):xt.renderbuffer&&xt.renderbuffer.resize(yt,dt),xt.width=yt,xt.height=dt)}var Bt=0,pt={};function Gt(){this.id=Bt++,pt[this.id]=this,this.framebuffer=N.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function vt(xt){xt.colorAttachments.forEach(Mt),Mt(xt.depthAttachment),Mt(xt.stencilAttachment),Mt(xt.depthStencilAttachment)}function Ct(xt){var yt=xt.framebuffer;V(yt,"must not double destroy framebuffer"),N.deleteFramebuffer(yt),xt.framebuffer=null,Ge.framebufferCount--,delete pt[xt.id]}function ft(xt){var yt;N.bindFramebuffer(Vi,xt.framebuffer);var dt=xt.colorAttachments;for(yt=0;yt<dt.length;++yt)bt(ip+yt,dt[yt]);for(yt=dt.length;yt<se.maxColorAttachments;++yt)N.framebufferTexture2D(Vi,ip+yt,tu,null,0);N.framebufferTexture2D(Vi,ed,tu,null,0),N.framebufferTexture2D(Vi,Ma,tu,null,0),N.framebufferTexture2D(Vi,Bi,tu,null,0),bt(Ma,xt.depthAttachment),bt(Bi,xt.stencilAttachment),bt(ed,xt.depthStencilAttachment);var br=N.checkFramebufferStatus(Vi);!N.isContextLost()&&br!==td&&V.raise("framebuffer configuration not supported, status = "+cs[br]),N.bindFramebuffer(Vi,Je.next?Je.next.framebuffer:null),Je.cur=Je.next,N.getError()}function Dt(xt,yt){var dt=new Gt;Ge.framebufferCount++;function br(qt,kr){var Ar;V(Je.next!==dt,"can not update framebuffer which is currently in use");var Ur=0,tn=0,uo=!0,go=!0,Yr=null,Eo=!0,In="rgba",so="uint8",mo=1,Qn=null,Yn=null,No=null,eo=!1;if(typeof qt=="number")Ur=qt|0,tn=kr|0||Ur;else if(!qt)Ur=tn=1;else{V.type(qt,"object","invalid arguments for framebuffer");var Ir=qt;if("shape"in Ir){var Lo=Ir.shape;V(Array.isArray(Lo)&&Lo.length>=2,"invalid shape for framebuffer"),Ur=Lo[0],tn=Lo[1]}else"radius"in Ir&&(Ur=tn=Ir.radius),"width"in Ir&&(Ur=Ir.width),"height"in Ir&&(tn=Ir.height);("color"in Ir||"colors"in Ir)&&(Yr=Ir.color||Ir.colors,Array.isArray(Yr)&&V(Yr.length===1||Y.webgl_draw_buffers,"multiple render targets not supported")),Yr||("colorCount"in Ir&&(mo=Ir.colorCount|0,V(mo>0,"invalid color buffer count")),"colorTexture"in Ir&&(Eo=!!Ir.colorTexture,In="rgba4"),"colorType"in Ir&&(so=Ir.colorType,Eo?(V(Y.oes_texture_float||!(so==="float"||so==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),V(Y.oes_texture_half_float||!(so==="half float"||so==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):so==="half float"||so==="float16"?(V(Y.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),In="rgba16f"):(so==="float"||so==="float32")&&(V(Y.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),In="rgba32f"),V.oneOf(so,Et,"invalid color type")),"colorFormat"in Ir&&(In=Ir.colorFormat,mt.indexOf(In)>=0?Eo=!0:wt.indexOf(In)>=0?Eo=!1:Eo?V.oneOf(Ir.colorFormat,mt,"invalid color format for texture"):V.oneOf(Ir.colorFormat,wt,"invalid color format for renderbuffer"))),("depthTexture"in Ir||"depthStencilTexture"in Ir)&&(eo=!!(Ir.depthTexture||Ir.depthStencilTexture),V(!eo||Y.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in Ir&&(typeof Ir.depth=="boolean"?uo=Ir.depth:(Qn=Ir.depth,go=!1)),"stencil"in Ir&&(typeof Ir.stencil=="boolean"?go=Ir.stencil:(Yn=Ir.stencil,uo=!1)),"depthStencil"in Ir&&(typeof Ir.depthStencil=="boolean"?uo=go=Ir.depthStencil:(No=Ir.depthStencil,uo=!1,go=!1))}var ln=null,mr=null,Kr=null,Pr=null;if(Array.isArray(Yr))ln=Yr.map(ct);else if(Yr)ln=[ct(Yr)];else for(ln=new Array(mo),Ar=0;Ar<mo;++Ar)ln[Ar]=Ie(Ur,tn,Eo,In,so);V(Y.webgl_draw_buffers||ln.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),V(ln.length<=se.maxColorAttachments,"too many color attachments, not supported"),Ur=Ur||ln[0].width,tn=tn||ln[0].height,Qn?mr=ct(Qn):uo&&!go&&(mr=Ie(Ur,tn,eo,"depth","uint32")),Yn?Kr=ct(Yn):go&&!uo&&(Kr=Ie(Ur,tn,!1,"stencil","uint8")),No?Pr=ct(No):!Qn&&!Yn&&go&&uo&&(Pr=Ie(Ur,tn,eo,"depth stencil","depth stencil")),V(!!Qn+!!Yn+!!No<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var Gn=null;for(Ar=0;Ar<ln.length;++Ar)if(jt(ln[Ar],Ur,tn),V(!ln[Ar]||ln[Ar].texture&&od.indexOf(ln[Ar].texture._texture.format)>=0||ln[Ar].renderbuffer&&al.indexOf(ln[Ar].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+Ar+" is invalid"),ln[Ar]&&ln[Ar].texture){var Qi=ju[ln[Ar].texture._texture.format]*Kc[ln[Ar].texture._texture.type];Gn===null?Gn=Qi:V(Gn===Qi,"all color attachments much have the same number of bits per pixel.")}return jt(mr,Ur,tn),V(!mr||mr.texture&&mr.texture._texture.format===Nh||mr.renderbuffer&&mr.renderbuffer._renderbuffer.format===id,"invalid depth attachment for framebuffer object"),jt(Kr,Ur,tn),V(!Kr||Kr.renderbuffer&&Kr.renderbuffer._renderbuffer.format===ol,"invalid stencil attachment for framebuffer object"),jt(Pr,Ur,tn),V(!Pr||Pr.texture&&Pr.texture._texture.format===il||Pr.renderbuffer&&Pr.renderbuffer._renderbuffer.format===il,"invalid depth-stencil attachment for framebuffer object"),vt(dt),dt.width=Ur,dt.height=tn,dt.colorAttachments=ln,dt.depthAttachment=mr,dt.stencilAttachment=Kr,dt.depthStencilAttachment=Pr,br.color=ln.map(qe),br.depth=qe(mr),br.stencil=qe(Kr),br.depthStencil=qe(Pr),br.width=dt.width,br.height=dt.height,ft(dt),br}function Fr(qt,kr){V(Je.next!==dt,"can not resize a framebuffer which is currently in use");var Ar=Math.max(qt|0,1),Ur=Math.max(kr|0||Ar,1);if(Ar===dt.width&&Ur===dt.height)return br;for(var tn=dt.colorAttachments,uo=0;uo<tn.length;++uo)St(tn[uo],Ar,Ur);return St(dt.depthAttachment,Ar,Ur),St(dt.stencilAttachment,Ar,Ur),St(dt.depthStencilAttachment,Ar,Ur),dt.width=br.width=Ar,dt.height=br.height=Ur,ft(dt),br}return br(xt,yt),a(br,{resize:Fr,_reglType:"framebuffer",_framebuffer:dt,destroy:function(){Ct(dt),vt(dt)},use:function(qt){Je.setFBO({framebuffer:br},qt)}})}function pr(xt){var yt=Array(6);function dt(Fr){var qt;V(yt.indexOf(Je.next)<0,"can not update framebuffer which is currently in use");var kr={color:null},Ar=0,Ur=null,tn="rgba",uo="uint8",go=1;if(typeof Fr=="number")Ar=Fr|0;else if(!Fr)Ar=1;else{V.type(Fr,"object","invalid arguments for framebuffer");var Yr=Fr;if("shape"in Yr){var Eo=Yr.shape;V(Array.isArray(Eo)&&Eo.length>=2,"invalid shape for framebuffer"),V(Eo[0]===Eo[1],"cube framebuffer must be square"),Ar=Eo[0]}else"radius"in Yr&&(Ar=Yr.radius|0),"width"in Yr?(Ar=Yr.width|0,"height"in Yr&&V(Yr.height===Ar,"must be square")):"height"in Yr&&(Ar=Yr.height|0);("color"in Yr||"colors"in Yr)&&(Ur=Yr.color||Yr.colors,Array.isArray(Ur)&&V(Ur.length===1||Y.webgl_draw_buffers,"multiple render targets not supported")),Ur||("colorCount"in Yr&&(go=Yr.colorCount|0,V(go>0,"invalid color buffer count")),"colorType"in Yr&&(V.oneOf(Yr.colorType,Et,"invalid color type"),uo=Yr.colorType),"colorFormat"in Yr&&(tn=Yr.colorFormat,V.oneOf(Yr.colorFormat,mt,"invalid color format for texture"))),"depth"in Yr&&(kr.depth=Yr.depth),"stencil"in Yr&&(kr.stencil=Yr.stencil),"depthStencil"in Yr&&(kr.depthStencil=Yr.depthStencil)}var In;if(Ur)if(Array.isArray(Ur))for(In=[],qt=0;qt<Ur.length;++qt)In[qt]=Ur[qt];else In=[Ur];else{In=Array(go);var so={radius:Ar,format:tn,type:uo};for(qt=0;qt<go;++qt)In[qt]=He.createCube(so)}for(kr.color=Array(In.length),qt=0;qt<In.length;++qt){var mo=In[qt];V(typeof mo=="function"&&mo._reglType==="textureCube","invalid cube map"),Ar=Ar||mo.width,V(mo.width===Ar&&mo.height===Ar,"invalid cube map shape"),kr.color[qt]={target:Yi,data:In[qt]}}for(qt=0;qt<6;++qt){for(var Qn=0;Qn<In.length;++Qn)kr.color[Qn].target=Yi+qt;qt>0&&(kr.depth=yt[0].depth,kr.stencil=yt[0].stencil,kr.depthStencil=yt[0].depthStencil),yt[qt]?yt[qt](kr):yt[qt]=Dt(kr)}return a(dt,{width:Ar,height:Ar,color:In})}function br(Fr){var qt,kr=Fr|0;if(V(kr>0&&kr<=se.maxCubeMapSize,"invalid radius for cube fbo"),kr===dt.width)return dt;var Ar=dt.color;for(qt=0;qt<Ar.length;++qt)Ar[qt].resize(kr);for(qt=0;qt<6;++qt)yt[qt].resize(kr);return dt.width=dt.height=kr,dt}return dt(xt),a(dt,{faces:yt,resize:br,_reglType:"framebufferCube",destroy:function(){yt.forEach(function(Fr){Fr.destroy()})}})}function Tr(){Je.cur=null,Je.next=null,Je.dirty=!0,Io(pt).forEach(function(xt){xt.framebuffer=N.createFramebuffer(),ft(xt)})}return a(Je,{getFramebuffer:function(xt){if(typeof xt=="function"&&xt._reglType==="framebuffer"){var yt=xt._framebuffer;if(yt instanceof Gt)return yt}return null},create:Dt,createCube:pr,clear:function(){Io(pt).forEach(Ct)},restore:Tr})}var fp=5126,Zc=34962;function ul(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=fp,this.offset=0,this.stride=0,this.divisor=0}function sl(N,Y,se,He,tt){for(var Ge=se.maxAttributes,Je=new Array(Ge),mt=0;mt<Ge;++mt)Je[mt]=new ul;var wt=0,Et={},Qe={Record:ul,scope:{},state:Je,currentVAO:null,targetVAO:null,restore:jt()?pt:function(){},createVAO:Gt,getVAO:ct,destroyBuffer:Mt,setVAO:jt()?Ie:qe,clear:jt()?St:function(){}};function Mt(vt){for(var Ct=0;Ct<Je.length;++Ct){var ft=Je[Ct];ft.buffer===vt&&(N.disableVertexAttribArray(Ct),ft.buffer=null)}}function jt(){return Y.oes_vertex_array_object}function bt(){return Y.angle_instanced_arrays}function ct(vt){return typeof vt=="function"&&vt._vao?vt._vao:null}function Ie(vt){if(vt!==Qe.currentVAO){var Ct=jt();vt?Ct.bindVertexArrayOES(vt.vao):Ct.bindVertexArrayOES(null),Qe.currentVAO=vt}}function qe(vt){if(vt!==Qe.currentVAO){if(vt)vt.bindAttrs();else for(var Ct=bt(),ft=0;ft<Je.length;++ft){var Dt=Je[ft];Dt.buffer?(N.enableVertexAttribArray(ft),N.vertexAttribPointer(ft,Dt.size,Dt.type,Dt.normalized,Dt.stride,Dt.offfset),Ct&&Dt.divisor&&Ct.vertexAttribDivisorANGLE(ft,Dt.divisor)):(N.disableVertexAttribArray(ft),N.vertexAttrib4f(ft,Dt.x,Dt.y,Dt.z,Dt.w))}Qe.currentVAO=vt}}function St(){Io(Et).forEach(function(vt){vt.destroy()})}function Bt(){this.id=++wt,this.attributes=[];var vt=jt();vt?this.vao=vt.createVertexArrayOES():this.vao=null,Et[this.id]=this,this.buffers=[]}Bt.prototype.bindAttrs=function(){for(var vt=bt(),Ct=this.attributes,ft=0;ft<Ct.length;++ft){var Dt=Ct[ft];Dt.buffer?(N.enableVertexAttribArray(ft),N.bindBuffer(Zc,Dt.buffer.buffer),N.vertexAttribPointer(ft,Dt.size,Dt.type,Dt.normalized,Dt.stride,Dt.offset),vt&&Dt.divisor&&vt.vertexAttribDivisorANGLE(ft,Dt.divisor)):(N.disableVertexAttribArray(ft),N.vertexAttrib4f(ft,Dt.x,Dt.y,Dt.z,Dt.w))}for(var pr=Ct.length;pr<Ge;++pr)N.disableVertexAttribArray(pr)},Bt.prototype.refresh=function(){var vt=jt();vt&&(vt.bindVertexArrayOES(this.vao),this.bindAttrs(),Qe.currentVAO=this)},Bt.prototype.destroy=function(){if(this.vao){var vt=jt();this===Qe.currentVAO&&(Qe.currentVAO=null,vt.bindVertexArrayOES(null)),vt.deleteVertexArrayOES(this.vao),this.vao=null}Et[this.id]&&(delete Et[this.id],He.vaoCount-=1)};function pt(){var vt=jt();vt&&Io(Et).forEach(function(Ct){Ct.refresh()})}function Gt(vt){var Ct=new Bt;He.vaoCount+=1;function ft(Dt){V(Array.isArray(Dt),"arguments to vertex array constructor must be an array"),V(Dt.length<Ge,"too many attributes"),V(Dt.length>0,"must specify at least one attribute");var pr={},Tr=Ct.attributes;Tr.length=Dt.length;for(var xt=0;xt<Dt.length;++xt){var yt=Dt[xt],dt=Tr[xt]=new ul,br=yt.data||yt;if(Array.isArray(br)||r(br)||ri(br)){var Fr;Ct.buffers[xt]&&(Fr=Ct.buffers[xt],r(br)&&Fr._buffer.byteLength>=br.byteLength?Fr.subdata(br):(Fr.destroy(),Ct.buffers[xt]=null)),Ct.buffers[xt]||(Fr=Ct.buffers[xt]=tt.create(yt,Zc,!1,!0)),dt.buffer=tt.getBuffer(Fr),dt.size=dt.buffer.dimension|0,dt.normalized=!1,dt.type=dt.buffer.dtype,dt.offset=0,dt.stride=0,dt.divisor=0,dt.state=1,pr[xt]=1}else tt.getBuffer(yt)?(dt.buffer=tt.getBuffer(yt),dt.size=dt.buffer.dimension|0,dt.normalized=!1,dt.type=dt.buffer.dtype,dt.offset=0,dt.stride=0,dt.divisor=0,dt.state=1):tt.getBuffer(yt.buffer)?(dt.buffer=tt.getBuffer(yt.buffer),dt.size=(+yt.size||dt.buffer.dimension)|0,dt.normalized=!!yt.normalized||!1,"type"in yt?(V.parameter(yt.type,ii,"invalid buffer type"),dt.type=ii[yt.type]):dt.type=dt.buffer.dtype,dt.offset=(yt.offset||0)|0,dt.stride=(yt.stride||0)|0,dt.divisor=(yt.divisor||0)|0,dt.state=1,V(dt.size>=1&&dt.size<=4,"size must be between 1 and 4"),V(dt.offset>=0,"invalid offset"),V(dt.stride>=0&&dt.stride<=255,"stride must be between 0 and 255"),V(dt.divisor>=0,"divisor must be positive"),V(!dt.divisor||!!Y.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in yt?(V(xt>0,"first attribute must not be a constant"),dt.x=+yt.x||0,dt.y=+yt.y||0,dt.z=+yt.z||0,dt.w=+yt.w||0,dt.state=2):V(!1,"invalid attribute spec for location "+xt)}for(var qt=0;qt<Ct.buffers.length;++qt)!pr[qt]&&Ct.buffers[qt]&&(Ct.buffers[qt].destroy(),Ct.buffers[qt]=null);return Ct.refresh(),ft}return ft.destroy=function(){for(var Dt=0;Dt<Ct.buffers.length;++Dt)Ct.buffers[Dt]&&Ct.buffers[Dt].destroy();Ct.buffers.length=0,Ct.destroy()},ft._vao=Ct,ft._reglType="vao",ft(vt)}return Qe}var cl=35632,Mu=35633,lp=35718,Cu=35721;function ud(N,Y,se,He){var tt={},Ge={};function Je(Ie,qe,St,Bt){this.name=Ie,this.id=qe,this.location=St,this.info=Bt}function mt(Ie,qe){for(var St=0;St<Ie.length;++St)if(Ie[St].id===qe.id){Ie[St].location=qe.location;return}Ie.push(qe)}function wt(Ie,qe,St){var Bt=Ie===cl?tt:Ge,pt=Bt[qe];if(!pt){var Gt=Y.str(qe);pt=N.createShader(Ie),N.shaderSource(pt,Gt),N.compileShader(pt),V.shaderError(N,pt,Gt,Ie,St),Bt[qe]=pt}return pt}var Et={},Qe=[],Mt=0;function jt(Ie,qe){this.id=Mt++,this.fragId=Ie,this.vertId=qe,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,He.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function bt(Ie,qe,St){var Bt,pt,Gt=wt(cl,Ie.fragId),vt=wt(Mu,Ie.vertId),Ct=Ie.program=N.createProgram();if(N.attachShader(Ct,Gt),N.attachShader(Ct,vt),St)for(Bt=0;Bt<St.length;++Bt){var ft=St[Bt];N.bindAttribLocation(Ct,ft[0],ft[1])}N.linkProgram(Ct),V.linkError(N,Ct,Y.str(Ie.fragId),Y.str(Ie.vertId),qe);var Dt=N.getProgramParameter(Ct,lp);He.profile&&(Ie.stats.uniformsCount=Dt);var pr=Ie.uniforms;for(Bt=0;Bt<Dt;++Bt)if(pt=N.getActiveUniform(Ct,Bt),pt)if(pt.size>1)for(var Tr=0;Tr<pt.size;++Tr){var xt=pt.name.replace("[0]","["+Tr+"]");mt(pr,new Je(xt,Y.id(xt),N.getUniformLocation(Ct,xt),pt))}else mt(pr,new Je(pt.name,Y.id(pt.name),N.getUniformLocation(Ct,pt.name),pt));var yt=N.getProgramParameter(Ct,Cu);He.profile&&(Ie.stats.attributesCount=yt);var dt=Ie.attributes;for(Bt=0;Bt<yt;++Bt)pt=N.getActiveAttrib(Ct,Bt),pt&&mt(dt,new Je(pt.name,Y.id(pt.name),N.getAttribLocation(Ct,pt.name),pt))}He.profile&&(se.getMaxUniformsCount=function(){var Ie=0;return Qe.forEach(function(qe){qe.stats.uniformsCount>Ie&&(Ie=qe.stats.uniformsCount)}),Ie},se.getMaxAttributesCount=function(){var Ie=0;return Qe.forEach(function(qe){qe.stats.attributesCount>Ie&&(Ie=qe.stats.attributesCount)}),Ie});function ct(){tt={},Ge={};for(var Ie=0;Ie<Qe.length;++Ie)bt(Qe[Ie],null,Qe[Ie].attributes.map(function(qe){return[qe.location,qe.name]}))}return{clear:function(){var Ie=N.deleteShader.bind(N);Io(tt).forEach(Ie),tt={},Io(Ge).forEach(Ie),Ge={},Qe.forEach(function(qe){N.deleteProgram(qe.program)}),Qe.length=0,Et={},se.shaderCount=0},program:function(Ie,qe,St,Bt){V.command(Ie>=0,"missing vertex shader",St),V.command(qe>=0,"missing fragment shader",St);var pt=Et[qe];pt||(pt=Et[qe]={});var Gt=pt[Ie];if(Gt&&(Gt.refCount++,!Bt))return Gt;var vt=new jt(qe,Ie);return se.shaderCount++,bt(vt,St,Bt),Gt||(pt[Ie]=vt),Qe.push(vt),a(vt,{destroy:function(){if(vt.refCount--,vt.refCount<=0){N.deleteProgram(vt.program);var Ct=Qe.indexOf(vt);Qe.splice(Ct,1),se.shaderCount--}pt[vt.vertId].refCount<=0&&(N.deleteShader(Ge[vt.vertId]),delete Ge[vt.vertId],delete Et[vt.fragId][vt.vertId]),Object.keys(Et[vt.fragId]).length||(N.deleteShader(tt[vt.fragId]),delete tt[vt.fragId],delete Et[vt.fragId])}})},restore:ct,shader:wt,frag:-1,vert:-1}}var sd=6408,fs=5121,$n=3333,Jc=5126;function Jn(N,Y,se,He,tt,Ge,Je){function mt(Qe){var Mt;Y.next===null?(V(tt.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),Mt=fs):(V(Y.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),Mt=Y.next.colorAttachments[0].texture._texture.type,Ge.oes_texture_float?(V(Mt===fs||Mt===Jc,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),Mt===Jc&&V(Je.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):V(Mt===fs,"Reading from a framebuffer is only allowed for the type 'uint8'"));var jt=0,bt=0,ct=He.framebufferWidth,Ie=He.framebufferHeight,qe=null;r(Qe)?qe=Qe:Qe&&(V.type(Qe,"object","invalid arguments to regl.read()"),jt=Qe.x|0,bt=Qe.y|0,V(jt>=0&&jt<He.framebufferWidth,"invalid x offset for regl.read"),V(bt>=0&&bt<He.framebufferHeight,"invalid y offset for regl.read"),ct=(Qe.width||He.framebufferWidth-jt)|0,Ie=(Qe.height||He.framebufferHeight-bt)|0,qe=Qe.data||null),qe&&(Mt===fs?V(qe instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):Mt===Jc&&V(qe instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),V(ct>0&&ct+jt<=He.framebufferWidth,"invalid width for read pixels"),V(Ie>0&&Ie+bt<=He.framebufferHeight,"invalid height for read pixels"),se();var St=ct*Ie*4;return qe||(Mt===fs?qe=new Uint8Array(St):Mt===Jc&&(qe=qe||new Float32Array(St))),V.isTypedArray(qe,"data buffer for regl.read() must be a typedarray"),V(qe.byteLength>=St,"data buffer for regl.read() too small"),N.pixelStorei($n,4),N.readPixels(jt,bt,ct,Ie,sd,Mt,qe),qe}function wt(Qe){var Mt;return Y.setFBO({framebuffer:Qe.framebuffer},function(){Mt=mt(Qe)}),Mt}function Et(Qe){return!Qe||!("framebuffer"in Qe)?mt(Qe):wt(Qe)}return Et}function ru(N){return Array.prototype.slice.call(N)}function Go(N){return ru(N).join("")}function Ca(){var N=0,Y=[],se=[];function He(Mt){for(var jt=0;jt<se.length;++jt)if(se[jt]===Mt)return Y[jt];var bt="g"+N++;return Y.push(bt),se.push(Mt),bt}function tt(){var Mt=[];function jt(){Mt.push.apply(Mt,ru(arguments))}var bt=[];function ct(){var Ie="v"+N++;return bt.push(Ie),arguments.length>0&&(Mt.push(Ie,"="),Mt.push.apply(Mt,ru(arguments)),Mt.push(";")),Ie}return a(jt,{def:ct,toString:function(){return Go([bt.length>0?"var "+bt.join(",")+";":"",Go(Mt)])}})}function Ge(){var Mt=tt(),jt=tt(),bt=Mt.toString,ct=jt.toString;function Ie(qe,St){jt(qe,St,"=",Mt.def(qe,St),";")}return a(function(){Mt.apply(Mt,ru(arguments))},{def:Mt.def,entry:Mt,exit:jt,save:Ie,set:function(qe,St,Bt){Ie(qe,St),Mt(qe,St,"=",Bt,";")},toString:function(){return bt()+ct()}})}function Je(){var Mt=Go(arguments),jt=Ge(),bt=Ge(),ct=jt.toString,Ie=bt.toString;return a(jt,{then:function(){return jt.apply(jt,ru(arguments)),this},else:function(){return bt.apply(bt,ru(arguments)),this},toString:function(){var qe=Ie();return qe&&(qe="else{"+qe+"}"),Go(["if(",Mt,"){",ct(),"}",qe])}})}var mt=tt(),wt={};function Et(Mt,jt){var bt=[];function ct(){var pt="a"+bt.length;return bt.push(pt),pt}jt=jt||0;for(var Ie=0;Ie<jt;++Ie)ct();var qe=Ge(),St=qe.toString,Bt=wt[Mt]=a(qe,{arg:ct,toString:function(){return Go(["function(",bt.join(),"){",St(),"}"])}});return Bt}function Qe(){var Mt=['"use strict";',mt,"return {"];Object.keys(wt).forEach(function(ct){Mt.push('"',ct,'":',wt[ct].toString(),",")}),Mt.push("}");var jt=Go(Mt).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),bt=Function.apply(null,Y.concat(jt));return bt.apply(null,se)}return{global:mt,link:He,block:tt,proc:Et,scope:Ge,cond:Je,compile:Qe}}var nu="xyzw".split(""),Iu=5121,ls=1,fl=2,ll=0,Ia=1,ds=2,dl=3,Qc=4,Du=5,cd=6,Ws="dither",pl="blend.enable",ef="blend.color",Da="blend.equation",Vs="blend.func",tf="depth.enable",rf="depth.func",hl="depth.range",vl="depth.mask",la="colorMask",fd="cull.enable",ld="cull.face",dd="frontFace",yl="lineWidth",ka="polygonOffset.enable",nf="polygonOffset.offset",gl="sample.alpha",ml="sample.enable",Ys="sample.coverage",ou="stencil.enable",Dr="stencil.mask",Ks="stencil.func",of="stencil.opFront",da="stencil.opBack",qs="scissor.enable",Zs="scissor.box",oo="viewport",Js="profile",ku="framebuffer",af="vert",kn="frag",yo="elements",iu="primitive",pa="count",ha="offset",Lu="instances",La="vao",Qs="Width",uf="Height",Fu=ku+Qs,ec=ku+uf,_t=oo+Qs,pd=oo+uf,ps="drawingBuffer",sf=ps+Qs,bl=ps+uf,hd=[Vs,Da,Ks,of,da,Ys,oo,Zs,nf],Fa=34962,vd=34963,va=35632,Bu=35633,_l=3553,dp=34067,pp=2884,hp=3042,yd=3024,gd=2960,md=2929,bd=3089,vp=32823,yp=32926,gp=32928,fi=5126,hs=35664,cf=35665,Ti=35666,qi=5124,El=35667,li=35668,ff=35669,vs=35670,tc=35671,lf=35672,df=35673,rc=35674,nc=35675,ys=35676,au=35678,Po=35680,pf=4,hf=1028,uu=1029,_d=2304,di=2305,Ro=32775,mp=32776,Zi=519,Or=7680,Ol=0,gs=1,wl=32774,bp=513,oc=36160,_p=36064,ya={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},ic=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],ms={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},ga={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Ep={frag:va,vert:Bu},Ed={cw:_d,ccw:di};function Gu(N){return Array.isArray(N)||r(N)||ri(N)}function Ba(N){return N.sort(function(Y,se){return Y===oo?-1:se===oo?1:Y<se?-1:1})}function pi(N,Y,se,He){this.thisDep=N,this.contextDep=Y,this.propDep=se,this.append=He}function Sr(N){return N&&!(N.thisDep||N.contextDep||N.propDep)}function io(N){return new pi(!1,!1,!1,N)}function ti(N,Y){var se=N.type;if(se===ll){var He=N.data.length;return new pi(!0,He>=1,He>=2,Y)}else if(se===Qc){var tt=N.data;return new pi(tt.thisDep,tt.contextDep,tt.propDep,Y)}else{if(se===Du)return new pi(!1,!1,!1,Y);if(se===cd){for(var Ge=!1,Je=!1,mt=!1,wt=0;wt<N.data.length;++wt){var Et=N.data[wt];if(Et.type===Ia)mt=!0;else if(Et.type===ds)Je=!0;else if(Et.type===dl)Ge=!0;else if(Et.type===ll){Ge=!0;var Qe=Et.data;Qe>=1&&(Je=!0),Qe>=2&&(mt=!0)}else Et.type===Qc&&(Ge=Ge||Et.data.thisDep,Je=Je||Et.data.contextDep,mt=mt||Et.data.propDep)}return new pi(Ge,Je,mt,Y)}else return new pi(se===dl,se===ds,se===Ia,Y)}}var Pi=new pi(!1,!1,!1,function(){});function Ih(N,Y,se,He,tt,Ge,Je,mt,wt,Et,Qe,Mt,jt,bt,ct){var Ie=Et.Record,qe={add:32774,subtract:32778,"reverse subtract":32779};se.ext_blend_minmax&&(qe.min=Ro,qe.max=mp);var St=se.angle_instanced_arrays,Bt=se.webgl_draw_buffers,pt={dirty:!0,profile:ct.profile},Gt={},vt=[],Ct={},ft={};function Dt(q){return q.replace(".","_")}function pr(q,U,ge){var Me=Dt(q);vt.push(q),Gt[Me]=pt[Me]=!!ge,Ct[Me]=U}function Tr(q,U,ge){var Me=Dt(q);vt.push(q),Array.isArray(ge)?(pt[Me]=ge.slice(),Gt[Me]=ge.slice()):pt[Me]=Gt[Me]=ge,ft[Me]=U}pr(Ws,yd),pr(pl,hp),Tr(ef,"blendColor",[0,0,0,0]),Tr(Da,"blendEquationSeparate",[wl,wl]),Tr(Vs,"blendFuncSeparate",[gs,Ol,gs,Ol]),pr(tf,md,!0),Tr(rf,"depthFunc",bp),Tr(hl,"depthRange",[0,1]),Tr(vl,"depthMask",!0),Tr(la,la,[!0,!0,!0,!0]),pr(fd,pp),Tr(ld,"cullFace",uu),Tr(dd,dd,di),Tr(yl,yl,1),pr(ka,vp),Tr(nf,"polygonOffset",[0,0]),pr(gl,yp),pr(ml,gp),Tr(Ys,"sampleCoverage",[1,!1]),pr(ou,gd),Tr(Dr,"stencilMask",-1),Tr(Ks,"stencilFunc",[Zi,0,-1]),Tr(of,"stencilOpSeparate",[hf,Or,Or,Or]),Tr(da,"stencilOpSeparate",[uu,Or,Or,Or]),pr(qs,bd),Tr(Zs,"scissor",[0,0,N.drawingBufferWidth,N.drawingBufferHeight]),Tr(oo,oo,[0,0,N.drawingBufferWidth,N.drawingBufferHeight]);var xt={gl:N,context:jt,strings:Y,next:Gt,current:pt,draw:Mt,elements:Ge,buffer:tt,shader:Qe,attributes:Et.state,vao:Et,uniforms:wt,framebuffer:mt,extensions:se,timer:bt,isBufferArgs:Gu},yt={primTypes:So,compareFuncs:ms,blendFuncs:ya,blendEquations:qe,stencilOps:ga,glTypes:ii,orientationType:Ed};V.optional(function(){xt.isArrayLike=x}),Bt&&(yt.backBuffer=[uu],yt.drawBuffer=pn(He.maxDrawbuffers,function(q){return q===0?[0]:pn(q,function(U){return _p+U})}));var dt=0;function br(){var q=Ca(),U=q.link,ge=q.global;q.id=dt++,q.batchId="0";var Me=U(xt),De=q.shared={props:"a0"};Object.keys(xt).forEach(function(he){De[he]=ge.def(Me,".",he)}),V.optional(function(){q.CHECK=U(V),q.commandStr=V.guessCommand(),q.command=U(q.commandStr),q.assert=function(he,Z,je){he("if(!(",Z,"))",this.CHECK,".commandRaise(",U(je),",",this.command,");")},yt.invalidBlendCombinations=ic});var Ee=q.next={},me=q.current={};Object.keys(ft).forEach(function(he){Array.isArray(pt[he])&&(Ee[he]=ge.def(De.next,".",he),me[he]=ge.def(De.current,".",he))});var Pe=q.constants={};Object.keys(yt).forEach(function(he){Pe[he]=ge.def(JSON.stringify(yt[he]))}),q.invoke=function(he,Z){switch(Z.type){case ll:var je=["this",De.context,De.props,q.batchId];return he.def(U(Z.data),".call(",je.slice(0,Math.max(Z.data.length+1,4)),")");case Ia:return he.def(De.props,Z.data);case ds:return he.def(De.context,Z.data);case dl:return he.def("this",Z.data);case Qc:return Z.data.append(q,he),Z.data.ref;case Du:return Z.data.toString();case cd:return Z.data.map(function(Fe){return q.invoke(he,Fe)})}},q.attribCache={};var Q={};return q.scopeAttrib=function(he){var Z=Y.id(he);if(Z in Q)return Q[Z];var je=Et.scope[Z];je||(je=Et.scope[Z]=new Ie);var Fe=Q[Z]=U(je);return Fe},q}function Fr(q){var U=q.static,ge=q.dynamic,Me;if(Js in U){var De=!!U[Js];Me=io(function(me,Pe){return De}),Me.enable=De}else if(Js in ge){var Ee=ge[Js];Me=ti(Ee,function(me,Pe){return me.invoke(Pe,Ee)})}return Me}function qt(q,U){var ge=q.static,Me=q.dynamic;if(ku in ge){var De=ge[ku];return De?(De=mt.getFramebuffer(De),V.command(De,"invalid framebuffer object"),io(function(me,Pe){var Q=me.link(De),he=me.shared;Pe.set(he.framebuffer,".next",Q);var Z=he.context;return Pe.set(Z,"."+Fu,Q+".width"),Pe.set(Z,"."+ec,Q+".height"),Q})):io(function(me,Pe){var Q=me.shared;Pe.set(Q.framebuffer,".next","null");var he=Q.context;return Pe.set(he,"."+Fu,he+"."+sf),Pe.set(he,"."+ec,he+"."+bl),"null"})}else if(ku in Me){var Ee=Me[ku];return ti(Ee,function(me,Pe){var Q=me.invoke(Pe,Ee),he=me.shared,Z=he.framebuffer,je=Pe.def(Z,".getFramebuffer(",Q,")");V.optional(function(){me.assert(Pe,"!"+Q+"||"+je,"invalid framebuffer object")}),Pe.set(Z,".next",je);var Fe=he.context;return Pe.set(Fe,"."+Fu,je+"?"+je+".width:"+Fe+"."+sf),Pe.set(Fe,"."+ec,je+"?"+je+".height:"+Fe+"."+bl),je})}else return null}function kr(q,U,ge){var Me=q.static,De=q.dynamic;function Ee(Q){if(Q in Me){var he=Me[Q];V.commandType(he,"object","invalid "+Q,ge.commandStr);var Z=!0,je=he.x|0,Fe=he.y|0,d,g;return"width"in he?(d=he.width|0,V.command(d>=0,"invalid "+Q,ge.commandStr)):Z=!1,"height"in he?(g=he.height|0,V.command(g>=0,"invalid "+Q,ge.commandStr)):Z=!1,new pi(!Z&&U&&U.thisDep,!Z&&U&&U.contextDep,!Z&&U&&U.propDep,function(D,B){var te=D.shared.context,le=d;"width"in he||(le=B.def(te,".",Fu,"-",je));var Re=g;return"height"in he||(Re=B.def(te,".",ec,"-",Fe)),[je,Fe,le,Re]})}else if(Q in De){var _=De[Q],T=ti(_,function(D,B){var te=D.invoke(B,_);V.optional(function(){D.assert(B,te+"&&typeof "+te+'==="object"',"invalid "+Q)});var le=D.shared.context,Re=B.def(te,".x|0"),rt=B.def(te,".y|0"),ut=B.def('"width" in ',te,"?",te,".width|0:","(",le,".",Fu,"-",Re,")"),Nt=B.def('"height" in ',te,"?",te,".height|0:","(",le,".",ec,"-",rt,")");return V.optional(function(){D.assert(B,ut+">=0&&"+Nt+">=0","invalid "+Q)}),[Re,rt,ut,Nt]});return U&&(T.thisDep=T.thisDep||U.thisDep,T.contextDep=T.contextDep||U.contextDep,T.propDep=T.propDep||U.propDep),T}else return U?new pi(U.thisDep,U.contextDep,U.propDep,function(D,B){var te=D.shared.context;return[0,0,B.def(te,".",Fu),B.def(te,".",ec)]}):null}var me=Ee(oo);if(me){var Pe=me;me=new pi(me.thisDep,me.contextDep,me.propDep,function(Q,he){var Z=Pe.append(Q,he),je=Q.shared.context;return he.set(je,"."+_t,Z[2]),he.set(je,"."+pd,Z[3]),Z})}return{viewport:me,scissor_box:Ee(Zs)}}function Ar(q,U){var ge=q.static,Me=typeof ge[kn]=="string"&&typeof ge[af]=="string";if(Me){if(Object.keys(U.dynamic).length>0)return null;var De=U.static,Ee=Object.keys(De);if(Ee.length>0&&typeof De[Ee[0]]=="number"){for(var me=[],Pe=0;Pe<Ee.length;++Pe)V(typeof De[Ee[Pe]]=="number","must specify all vertex attribute locations when using vaos"),me.push([De[Ee[Pe]]|0,Ee[Pe]]);return me}}return null}function Ur(q,U,ge){var Me=q.static,De=q.dynamic;function Ee(Z){if(Z in Me){var je=Y.id(Me[Z]);V.optional(function(){Qe.shader(Ep[Z],je,V.guessCommand())});var Fe=io(function(){return je});return Fe.id=je,Fe}else if(Z in De){var d=De[Z];return ti(d,function(g,_){var T=g.invoke(_,d),D=_.def(g.shared.strings,".id(",T,")");return V.optional(function(){_(g.shared.shader,".shader(",Ep[Z],",",D,",",g.command,");")}),D})}return null}var me=Ee(kn),Pe=Ee(af),Q=null,he;return Sr(me)&&Sr(Pe)?(Q=Qe.program(Pe.id,me.id,null,ge),he=io(function(Z,je){return Z.link(Q)})):he=new pi(me&&me.thisDep||Pe&&Pe.thisDep,me&&me.contextDep||Pe&&Pe.contextDep,me&&me.propDep||Pe&&Pe.propDep,function(Z,je){var Fe=Z.shared.shader,d;me?d=me.append(Z,je):d=je.def(Fe,".",kn);var g;Pe?g=Pe.append(Z,je):g=je.def(Fe,".",af);var _=Fe+".program("+g+","+d;return V.optional(function(){_+=","+Z.command}),je.def(_+")")}),{frag:me,vert:Pe,progVar:he,program:Q}}function tn(q,U){var ge=q.static,Me=q.dynamic;function De(){if(yo in ge){var Z=ge[yo];Gu(Z)?Z=Ge.getElements(Ge.create(Z,!0)):Z&&(Z=Ge.getElements(Z),V.command(Z,"invalid elements",U.commandStr));var je=io(function(d,g){if(Z){var _=d.link(Z);return d.ELEMENTS=_,_}return d.ELEMENTS=null,null});return je.value=Z,je}else if(yo in Me){var Fe=Me[yo];return ti(Fe,function(d,g){var _=d.shared,T=_.isBufferArgs,D=_.elements,B=d.invoke(g,Fe),te=g.def("null"),le=g.def(T,"(",B,")"),Re=d.cond(le).then(te,"=",D,".createStream(",B,");").else(te,"=",D,".getElements(",B,");");return V.optional(function(){d.assert(Re.else,"!"+B+"||"+te,"invalid elements")}),g.entry(Re),g.exit(d.cond(le).then(D,".destroyStream(",te,");")),d.ELEMENTS=te,te})}return null}var Ee=De();function me(){if(iu in ge){var Z=ge[iu];return V.commandParameter(Z,So,"invalid primitve",U.commandStr),io(function(Fe,d){return So[Z]})}else if(iu in Me){var je=Me[iu];return ti(je,function(Fe,d){var g=Fe.constants.primTypes,_=Fe.invoke(d,je);return V.optional(function(){Fe.assert(d,_+" in "+g,"invalid primitive, must be one of "+Object.keys(So))}),d.def(g,"[",_,"]")})}else if(Ee)return Sr(Ee)?Ee.value?io(function(Fe,d){return d.def(Fe.ELEMENTS,".primType")}):io(function(){return pf}):new pi(Ee.thisDep,Ee.contextDep,Ee.propDep,function(Fe,d){var g=Fe.ELEMENTS;return d.def(g,"?",g,".primType:",pf)});return null}function Pe(Z,je){if(Z in ge){var Fe=ge[Z]|0;return V.command(!je||Fe>=0,"invalid "+Z,U.commandStr),io(function(g,_){return je&&(g.OFFSET=Fe),Fe})}else if(Z in Me){var d=Me[Z];return ti(d,function(g,_){var T=g.invoke(_,d);return je&&(g.OFFSET=T,V.optional(function(){g.assert(_,T+">=0","invalid "+Z)})),T})}else if(je&&Ee)return io(function(g,_){return g.OFFSET="0",0});return null}var Q=Pe(ha,!0);function he(){if(pa in ge){var Z=ge[pa]|0;return V.command(typeof Z=="number"&&Z>=0,"invalid vertex count",U.commandStr),io(function(){return Z})}else if(pa in Me){var je=Me[pa];return ti(je,function(g,_){var T=g.invoke(_,je);return V.optional(function(){g.assert(_,"typeof "+T+'==="number"&&'+T+">=0&&"+T+"===("+T+"|0)","invalid vertex count")}),T})}else if(Ee)if(Sr(Ee)){if(Ee)return Q?new pi(Q.thisDep,Q.contextDep,Q.propDep,function(g,_){var T=_.def(g.ELEMENTS,".vertCount-",g.OFFSET);return V.optional(function(){g.assert(_,T+">=0","invalid vertex offset/element buffer too small")}),T}):io(function(g,_){return _.def(g.ELEMENTS,".vertCount")});var Fe=io(function(){return-1});return V.optional(function(){Fe.MISSING=!0}),Fe}else{var d=new pi(Ee.thisDep||Q.thisDep,Ee.contextDep||Q.contextDep,Ee.propDep||Q.propDep,function(g,_){var T=g.ELEMENTS;return g.OFFSET?_.def(T,"?",T,".vertCount-",g.OFFSET,":-1"):_.def(T,"?",T,".vertCount:-1")});return V.optional(function(){d.DYNAMIC=!0}),d}return null}return{elements:Ee,primitive:me(),count:he(),instances:Pe(Lu,!1),offset:Q}}function uo(q,U){var ge=q.static,Me=q.dynamic,De={};return vt.forEach(function(Ee){var me=Dt(Ee);function Pe(Q,he){if(Ee in ge){var Z=Q(ge[Ee]);De[me]=io(function(){return Z})}else if(Ee in Me){var je=Me[Ee];De[me]=ti(je,function(Fe,d){return he(Fe,d,Fe.invoke(d,je))})}}switch(Ee){case fd:case pl:case Ws:case ou:case tf:case qs:case ka:case gl:case ml:case vl:return Pe(function(Q){return V.commandType(Q,"boolean",Ee,U.commandStr),Q},function(Q,he,Z){return V.optional(function(){Q.assert(he,"typeof "+Z+'==="boolean"',"invalid flag "+Ee,Q.commandStr)}),Z});case rf:return Pe(function(Q){return V.commandParameter(Q,ms,"invalid "+Ee,U.commandStr),ms[Q]},function(Q,he,Z){var je=Q.constants.compareFuncs;return V.optional(function(){Q.assert(he,Z+" in "+je,"invalid "+Ee+", must be one of "+Object.keys(ms))}),he.def(je,"[",Z,"]")});case hl:return Pe(function(Q){return V.command(x(Q)&&Q.length===2&&typeof Q[0]=="number"&&typeof Q[1]=="number"&&Q[0]<=Q[1],"depth range is 2d array",U.commandStr),Q},function(Q,he,Z){V.optional(function(){Q.assert(he,Q.shared.isArrayLike+"("+Z+")&&"+Z+".length===2&&typeof "+Z+'[0]==="number"&&typeof '+Z+'[1]==="number"&&'+Z+"[0]<="+Z+"[1]","depth range must be a 2d array")});var je=he.def("+",Z,"[0]"),Fe=he.def("+",Z,"[1]");return[je,Fe]});case Vs:return Pe(function(Q){V.commandType(Q,"object","blend.func",U.commandStr);var he="srcRGB"in Q?Q.srcRGB:Q.src,Z="srcAlpha"in Q?Q.srcAlpha:Q.src,je="dstRGB"in Q?Q.dstRGB:Q.dst,Fe="dstAlpha"in Q?Q.dstAlpha:Q.dst;return V.commandParameter(he,ya,me+".srcRGB",U.commandStr),V.commandParameter(Z,ya,me+".srcAlpha",U.commandStr),V.commandParameter(je,ya,me+".dstRGB",U.commandStr),V.commandParameter(Fe,ya,me+".dstAlpha",U.commandStr),V.command(ic.indexOf(he+", "+je)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+he+", "+je+")",U.commandStr),[ya[he],ya[je],ya[Z],ya[Fe]]},function(Q,he,Z){var je=Q.constants.blendFuncs;V.optional(function(){Q.assert(he,Z+"&&typeof "+Z+'==="object"',"invalid blend func, must be an object")});function Fe(te,le){var Re=he.def('"',te,le,'" in ',Z,"?",Z,".",te,le,":",Z,".",te);return V.optional(function(){Q.assert(he,Re+" in "+je,"invalid "+Ee+"."+te+le+", must be one of "+Object.keys(ya))}),Re}var d=Fe("src","RGB"),g=Fe("dst","RGB");V.optional(function(){var te=Q.constants.invalidBlendCombinations;Q.assert(he,te+".indexOf("+d+'+", "+'+g+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var _=he.def(je,"[",d,"]"),T=he.def(je,"[",Fe("src","Alpha"),"]"),D=he.def(je,"[",g,"]"),B=he.def(je,"[",Fe("dst","Alpha"),"]");return[_,D,T,B]});case Da:return Pe(function(Q){if(typeof Q=="string")return V.commandParameter(Q,qe,"invalid "+Ee,U.commandStr),[qe[Q],qe[Q]];if(typeof Q=="object")return V.commandParameter(Q.rgb,qe,Ee+".rgb",U.commandStr),V.commandParameter(Q.alpha,qe,Ee+".alpha",U.commandStr),[qe[Q.rgb],qe[Q.alpha]];V.commandRaise("invalid blend.equation",U.commandStr)},function(Q,he,Z){var je=Q.constants.blendEquations,Fe=he.def(),d=he.def(),g=Q.cond("typeof ",Z,'==="string"');return V.optional(function(){function _(T,D,B){Q.assert(T,B+" in "+je,"invalid "+D+", must be one of "+Object.keys(qe))}_(g.then,Ee,Z),Q.assert(g.else,Z+"&&typeof "+Z+'==="object"',"invalid "+Ee),_(g.else,Ee+".rgb",Z+".rgb"),_(g.else,Ee+".alpha",Z+".alpha")}),g.then(Fe,"=",d,"=",je,"[",Z,"];"),g.else(Fe,"=",je,"[",Z,".rgb];",d,"=",je,"[",Z,".alpha];"),he(g),[Fe,d]});case ef:return Pe(function(Q){return V.command(x(Q)&&Q.length===4,"blend.color must be a 4d array",U.commandStr),pn(4,function(he){return+Q[he]})},function(Q,he,Z){return V.optional(function(){Q.assert(he,Q.shared.isArrayLike+"("+Z+")&&"+Z+".length===4","blend.color must be a 4d array")}),pn(4,function(je){return he.def("+",Z,"[",je,"]")})});case Dr:return Pe(function(Q){return V.commandType(Q,"number",me,U.commandStr),Q|0},function(Q,he,Z){return V.optional(function(){Q.assert(he,"typeof "+Z+'==="number"',"invalid stencil.mask")}),he.def(Z,"|0")});case Ks:return Pe(function(Q){V.commandType(Q,"object",me,U.commandStr);var he=Q.cmp||"keep",Z=Q.ref||0,je="mask"in Q?Q.mask:-1;return V.commandParameter(he,ms,Ee+".cmp",U.commandStr),V.commandType(Z,"number",Ee+".ref",U.commandStr),V.commandType(je,"number",Ee+".mask",U.commandStr),[ms[he],Z,je]},function(Q,he,Z){var je=Q.constants.compareFuncs;V.optional(function(){function _(){Q.assert(he,Array.prototype.join.call(arguments,""),"invalid stencil.func")}_(Z+"&&typeof ",Z,'==="object"'),_('!("cmp" in ',Z,")||(",Z,".cmp in ",je,")")});var Fe=he.def('"cmp" in ',Z,"?",je,"[",Z,".cmp]",":",Or),d=he.def(Z,".ref|0"),g=he.def('"mask" in ',Z,"?",Z,".mask|0:-1");return[Fe,d,g]});case of:case da:return Pe(function(Q){V.commandType(Q,"object",me,U.commandStr);var he=Q.fail||"keep",Z=Q.zfail||"keep",je=Q.zpass||"keep";return V.commandParameter(he,ga,Ee+".fail",U.commandStr),V.commandParameter(Z,ga,Ee+".zfail",U.commandStr),V.commandParameter(je,ga,Ee+".zpass",U.commandStr),[Ee===da?uu:hf,ga[he],ga[Z],ga[je]]},function(Q,he,Z){var je=Q.constants.stencilOps;V.optional(function(){Q.assert(he,Z+"&&typeof "+Z+'==="object"',"invalid "+Ee)});function Fe(d){return V.optional(function(){Q.assert(he,'!("'+d+'" in '+Z+")||("+Z+"."+d+" in "+je+")","invalid "+Ee+"."+d+", must be one of "+Object.keys(ga))}),he.def('"',d,'" in ',Z,"?",je,"[",Z,".",d,"]:",Or)}return[Ee===da?uu:hf,Fe("fail"),Fe("zfail"),Fe("zpass")]});case nf:return Pe(function(Q){V.commandType(Q,"object",me,U.commandStr);var he=Q.factor|0,Z=Q.units|0;return V.commandType(he,"number",me+".factor",U.commandStr),V.commandType(Z,"number",me+".units",U.commandStr),[he,Z]},function(Q,he,Z){V.optional(function(){Q.assert(he,Z+"&&typeof "+Z+'==="object"',"invalid "+Ee)});var je=he.def(Z,".factor|0"),Fe=he.def(Z,".units|0");return[je,Fe]});case ld:return Pe(function(Q){var he=0;return Q==="front"?he=hf:Q==="back"&&(he=uu),V.command(!!he,me,U.commandStr),he},function(Q,he,Z){return V.optional(function(){Q.assert(he,Z+'==="front"||'+Z+'==="back"',"invalid cull.face")}),he.def(Z,'==="front"?',hf,":",uu)});case yl:return Pe(function(Q){return V.command(typeof Q=="number"&&Q>=He.lineWidthDims[0]&&Q<=He.lineWidthDims[1],"invalid line width, must be a positive number between "+He.lineWidthDims[0]+" and "+He.lineWidthDims[1],U.commandStr),Q},function(Q,he,Z){return V.optional(function(){Q.assert(he,"typeof "+Z+'==="number"&&'+Z+">="+He.lineWidthDims[0]+"&&"+Z+"<="+He.lineWidthDims[1],"invalid line width")}),Z});case dd:return Pe(function(Q){return V.commandParameter(Q,Ed,me,U.commandStr),Ed[Q]},function(Q,he,Z){return V.optional(function(){Q.assert(he,Z+'==="cw"||'+Z+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),he.def(Z+'==="cw"?'+_d+":"+di)});case la:return Pe(function(Q){return V.command(x(Q)&&Q.length===4,"color.mask must be length 4 array",U.commandStr),Q.map(function(he){return!!he})},function(Q,he,Z){return V.optional(function(){Q.assert(he,Q.shared.isArrayLike+"("+Z+")&&"+Z+".length===4","invalid color.mask")}),pn(4,function(je){return"!!"+Z+"["+je+"]"})});case Ys:return Pe(function(Q){V.command(typeof Q=="object"&&Q,me,U.commandStr);var he="value"in Q?Q.value:1,Z=!!Q.invert;return V.command(typeof he=="number"&&he>=0&&he<=1,"sample.coverage.value must be a number between 0 and 1",U.commandStr),[he,Z]},function(Q,he,Z){V.optional(function(){Q.assert(he,Z+"&&typeof "+Z+'==="object"',"invalid sample.coverage")});var je=he.def('"value" in ',Z,"?+",Z,".value:1"),Fe=he.def("!!",Z,".invert");return[je,Fe]})}}),De}function go(q,U){var ge=q.static,Me=q.dynamic,De={};return Object.keys(ge).forEach(function(Ee){var me=ge[Ee],Pe;if(typeof me=="number"||typeof me=="boolean")Pe=io(function(){return me});else if(typeof me=="function"){var Q=me._reglType;Q==="texture2d"||Q==="textureCube"?Pe=io(function(he){return he.link(me)}):Q==="framebuffer"||Q==="framebufferCube"?(V.command(me.color.length>0,'missing color attachment for framebuffer sent to uniform "'+Ee+'"',U.commandStr),Pe=io(function(he){return he.link(me.color[0])})):V.commandRaise('invalid data for uniform "'+Ee+'"',U.commandStr)}else x(me)?Pe=io(function(he){var Z=he.global.def("[",pn(me.length,function(je){return V.command(typeof me[je]=="number"||typeof me[je]=="boolean","invalid uniform "+Ee,he.commandStr),me[je]}),"]");return Z}):V.commandRaise('invalid or missing data for uniform "'+Ee+'"',U.commandStr);Pe.value=me,De[Ee]=Pe}),Object.keys(Me).forEach(function(Ee){var me=Me[Ee];De[Ee]=ti(me,function(Pe,Q){return Pe.invoke(Q,me)})}),De}function Yr(q,U){var ge=q.static,Me=q.dynamic,De={};return Object.keys(ge).forEach(function(Ee){var me=ge[Ee],Pe=Y.id(Ee),Q=new Ie;if(Gu(me))Q.state=ls,Q.buffer=tt.getBuffer(tt.create(me,Fa,!1,!0)),Q.type=0;else{var he=tt.getBuffer(me);if(he)Q.state=ls,Q.buffer=he,Q.type=0;else if(V.command(typeof me=="object"&&me,"invalid data for attribute "+Ee,U.commandStr),"constant"in me){var Z=me.constant;Q.buffer="null",Q.state=fl,typeof Z=="number"?Q.x=Z:(V.command(x(Z)&&Z.length>0&&Z.length<=4,"invalid constant for attribute "+Ee,U.commandStr),nu.forEach(function(D,B){B<Z.length&&(Q[D]=Z[B])}))}else{Gu(me.buffer)?he=tt.getBuffer(tt.create(me.buffer,Fa,!1,!0)):he=tt.getBuffer(me.buffer),V.command(!!he,'missing buffer for attribute "'+Ee+'"',U.commandStr);var je=me.offset|0;V.command(je>=0,'invalid offset for attribute "'+Ee+'"',U.commandStr);var Fe=me.stride|0;V.command(Fe>=0&&Fe<256,'invalid stride for attribute "'+Ee+'", must be integer betweeen [0, 255]',U.commandStr);var d=me.size|0;V.command(!("size"in me)||d>0&&d<=4,'invalid size for attribute "'+Ee+'", must be 1,2,3,4',U.commandStr);var g=!!me.normalized,_=0;"type"in me&&(V.commandParameter(me.type,ii,"invalid type for attribute "+Ee,U.commandStr),_=ii[me.type]);var T=me.divisor|0;"divisor"in me&&(V.command(T===0||St,'cannot specify divisor for attribute "'+Ee+'", instancing not supported',U.commandStr),V.command(T>=0,'invalid divisor for attribute "'+Ee+'"',U.commandStr)),V.optional(function(){var D=U.commandStr,B=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(me).forEach(function(te){V.command(B.indexOf(te)>=0,'unknown parameter "'+te+'" for attribute pointer "'+Ee+'" (valid parameters are '+B+")",D)})}),Q.buffer=he,Q.state=ls,Q.size=d,Q.normalized=g,Q.type=_||he.dtype,Q.offset=je,Q.stride=Fe,Q.divisor=T}}De[Ee]=io(function(D,B){var te=D.attribCache;if(Pe in te)return te[Pe];var le={isStream:!1};return Object.keys(Q).forEach(function(Re){le[Re]=Q[Re]}),Q.buffer&&(le.buffer=D.link(Q.buffer),le.type=le.type||le.buffer+".dtype"),te[Pe]=le,le})}),Object.keys(Me).forEach(function(Ee){var me=Me[Ee];function Pe(Q,he){var Z=Q.invoke(he,me),je=Q.shared,Fe=Q.constants,d=je.isBufferArgs,g=je.buffer;V.optional(function(){Q.assert(he,Z+"&&(typeof "+Z+'==="object"||typeof '+Z+'==="function")&&('+d+"("+Z+")||"+g+".getBuffer("+Z+")||"+g+".getBuffer("+Z+".buffer)||"+d+"("+Z+'.buffer)||("constant" in '+Z+"&&(typeof "+Z+'.constant==="number"||'+je.isArrayLike+"("+Z+".constant))))",'invalid dynamic attribute "'+Ee+'"')});var _={isStream:he.def(!1)},T=new Ie;T.state=ls,Object.keys(T).forEach(function(le){_[le]=he.def(""+T[le])});var D=_.buffer,B=_.type;he("if(",d,"(",Z,")){",_.isStream,"=true;",D,"=",g,".createStream(",Fa,",",Z,");",B,"=",D,".dtype;","}else{",D,"=",g,".getBuffer(",Z,");","if(",D,"){",B,"=",D,".dtype;",'}else if("constant" in ',Z,"){",_.state,"=",fl,";","if(typeof "+Z+'.constant === "number"){',_[nu[0]],"=",Z,".constant;",nu.slice(1).map(function(le){return _[le]}).join("="),"=0;","}else{",nu.map(function(le,Re){return _[le]+"="+Z+".constant.length>"+Re+"?"+Z+".constant["+Re+"]:0;"}).join(""),"}}else{","if(",d,"(",Z,".buffer)){",D,"=",g,".createStream(",Fa,",",Z,".buffer);","}else{",D,"=",g,".getBuffer(",Z,".buffer);","}",B,'="type" in ',Z,"?",Fe.glTypes,"[",Z,".type]:",D,".dtype;",_.normalized,"=!!",Z,".normalized;");function te(le){he(_[le],"=",Z,".",le,"|0;")}return te("size"),te("offset"),te("stride"),te("divisor"),he("}}"),he.exit("if(",_.isStream,"){",g,".destroyStream(",D,");","}"),_}De[Ee]=ti(me,Pe)}),De}function Eo(q,U){var ge=q.static,Me=q.dynamic;if(La in ge){var De=ge[La];return De!==null&&Et.getVAO(De)===null&&(De=Et.createVAO(De)),io(function(me){return me.link(Et.getVAO(De))})}else if(La in Me){var Ee=Me[La];return ti(Ee,function(me,Pe){var Q=me.invoke(Pe,Ee);return Pe.def(me.shared.vao+".getVAO("+Q+")")})}return null}function In(q){var U=q.static,ge=q.dynamic,Me={};return Object.keys(U).forEach(function(De){var Ee=U[De];Me[De]=io(function(me,Pe){return typeof Ee=="number"||typeof Ee=="boolean"?""+Ee:me.link(Ee)})}),Object.keys(ge).forEach(function(De){var Ee=ge[De];Me[De]=ti(Ee,function(me,Pe){return me.invoke(Pe,Ee)})}),Me}function so(q,U,ge,Me,De){var Ee=q.static,me=q.dynamic;V.optional(function(){var te=[ku,af,kn,yo,iu,ha,pa,Lu,Js,La].concat(vt);function le(Re){Object.keys(Re).forEach(function(rt){V.command(te.indexOf(rt)>=0,'unknown parameter "'+rt+'"',De.commandStr)})}le(Ee),le(me)});var Pe=Ar(q,U),Q=qt(q),he=kr(q,Q,De),Z=tn(q,De),je=uo(q,De),Fe=Ur(q,De,Pe);function d(te){var le=he[te];le&&(je[te]=le)}d(oo),d(Dt(Zs));var g=Object.keys(je).length>0,_={framebuffer:Q,draw:Z,shader:Fe,state:je,dirty:g,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(_.profile=Fr(q),_.uniforms=go(ge,De),_.drawVAO=_.scopeVAO=Eo(q),!_.drawVAO&&Fe.program&&!Pe&&se.angle_instanced_arrays){var T=!0,D=Fe.program.attributes.map(function(te){var le=U.static[te];return T=T&&!!le,le});if(T&&D.length>0){var B=Et.getVAO(Et.createVAO(D));_.drawVAO=new pi(null,null,null,function(te,le){return te.link(B)}),_.useVAO=!0}}return Pe?_.useVAO=!0:_.attributes=Yr(U,De),_.context=In(Me),_}function mo(q,U,ge){var Me=q.shared,De=Me.context,Ee=q.scope();Object.keys(ge).forEach(function(me){U.save(De,"."+me);var Pe=ge[me],Q=Pe.append(q,U);Array.isArray(Q)?Ee(De,".",me,"=[",Q.join(),"];"):Ee(De,".",me,"=",Q,";")}),U(Ee)}function Qn(q,U,ge,Me){var De=q.shared,Ee=De.gl,me=De.framebuffer,Pe;Bt&&(Pe=U.def(De.extensions,".webgl_draw_buffers"));var Q=q.constants,he=Q.drawBuffer,Z=Q.backBuffer,je;ge?je=ge.append(q,U):je=U.def(me,".next"),Me||U("if(",je,"!==",me,".cur){"),U("if(",je,"){",Ee,".bindFramebuffer(",oc,",",je,".framebuffer);"),Bt&&U(Pe,".drawBuffersWEBGL(",he,"[",je,".colorAttachments.length]);"),U("}else{",Ee,".bindFramebuffer(",oc,",null);"),Bt&&U(Pe,".drawBuffersWEBGL(",Z,");"),U("}",me,".cur=",je,";"),Me||U("}")}function Yn(q,U,ge){var Me=q.shared,De=Me.gl,Ee=q.current,me=q.next,Pe=Me.current,Q=Me.next,he=q.cond(Pe,".dirty");vt.forEach(function(Z){var je=Dt(Z);if(!(je in ge.state)){var Fe,d;if(je in me){Fe=me[je],d=Ee[je];var g=pn(pt[je].length,function(T){return he.def(Fe,"[",T,"]")});he(q.cond(g.map(function(T,D){return T+"!=="+d+"["+D+"]"}).join("||")).then(De,".",ft[je],"(",g,");",g.map(function(T,D){return d+"["+D+"]="+T}).join(";"),";"))}else{Fe=he.def(Q,".",je);var _=q.cond(Fe,"!==",Pe,".",je);he(_),je in Ct?_(q.cond(Fe).then(De,".enable(",Ct[je],");").else(De,".disable(",Ct[je],");"),Pe,".",je,"=",Fe,";"):_(De,".",ft[je],"(",Fe,");",Pe,".",je,"=",Fe,";")}}}),Object.keys(ge.state).length===0&&he(Pe,".dirty=false;"),U(he)}function No(q,U,ge,Me){var De=q.shared,Ee=q.current,me=De.current,Pe=De.gl;Ba(Object.keys(ge)).forEach(function(Q){var he=ge[Q];if(!(Me&&!Me(he))){var Z=he.append(q,U);if(Ct[Q]){var je=Ct[Q];Sr(he)?Z?U(Pe,".enable(",je,");"):U(Pe,".disable(",je,");"):U(q.cond(Z).then(Pe,".enable(",je,");").else(Pe,".disable(",je,");")),U(me,".",Q,"=",Z,";")}else if(x(Z)){var Fe=Ee[Q];U(Pe,".",ft[Q],"(",Z,");",Z.map(function(d,g){return Fe+"["+g+"]="+d}).join(";"),";")}else U(Pe,".",ft[Q],"(",Z,");",me,".",Q,"=",Z,";")}})}function eo(q,U){St&&(q.instancing=U.def(q.shared.extensions,".angle_instanced_arrays"))}function Ir(q,U,ge,Me,De){var Ee=q.shared,me=q.stats,Pe=Ee.current,Q=Ee.timer,he=ge.profile;function Z(){return typeof performance>"u"?"Date.now()":"performance.now()"}var je,Fe;function d(te){je=U.def(),te(je,"=",Z(),";"),typeof De=="string"?te(me,".count+=",De,";"):te(me,".count++;"),bt&&(Me?(Fe=U.def(),te(Fe,"=",Q,".getNumPendingQueries();")):te(Q,".beginQuery(",me,");"))}function g(te){te(me,".cpuTime+=",Z(),"-",je,";"),bt&&(Me?te(Q,".pushScopeStats(",Fe,",",Q,".getNumPendingQueries(),",me,");"):te(Q,".endQuery();"))}function _(te){var le=U.def(Pe,".profile");U(Pe,".profile=",te,";"),U.exit(Pe,".profile=",le,";")}var T;if(he){if(Sr(he)){he.enable?(d(U),g(U.exit),_("true")):_("false");return}T=he.append(q,U),_(T)}else T=U.def(Pe,".profile");var D=q.block();d(D),U("if(",T,"){",D,"}");var B=q.block();g(B),U.exit("if(",T,"){",B,"}")}function Lo(q,U,ge,Me,De){var Ee=q.shared;function me(Q){switch(Q){case hs:case El:case tc:return 2;case cf:case li:case lf:return 3;case Ti:case ff:case df:return 4;default:return 1}}function Pe(Q,he,Z){var je=Ee.gl,Fe=U.def(Q,".location"),d=U.def(Ee.attributes,"[",Fe,"]"),g=Z.state,_=Z.buffer,T=[Z.x,Z.y,Z.z,Z.w],D=["buffer","normalized","offset","stride"];function B(){U("if(!",d,".buffer){",je,".enableVertexAttribArray(",Fe,");}");var le=Z.type,Re;if(Z.size?Re=U.def(Z.size,"||",he):Re=he,U("if(",d,".type!==",le,"||",d,".size!==",Re,"||",D.map(function(ut){return d+"."+ut+"!=="+Z[ut]}).join("||"),"){",je,".bindBuffer(",Fa,",",_,".buffer);",je,".vertexAttribPointer(",[Fe,Re,le,Z.normalized,Z.stride,Z.offset],");",d,".type=",le,";",d,".size=",Re,";",D.map(function(ut){return d+"."+ut+"="+Z[ut]+";"}).join(""),"}"),St){var rt=Z.divisor;U("if(",d,".divisor!==",rt,"){",q.instancing,".vertexAttribDivisorANGLE(",[Fe,rt],");",d,".divisor=",rt,";}")}}function te(){U("if(",d,".buffer){",je,".disableVertexAttribArray(",Fe,");",d,".buffer=null;","}if(",nu.map(function(le,Re){return d+"."+le+"!=="+T[Re]}).join("||"),"){",je,".vertexAttrib4f(",Fe,",",T,");",nu.map(function(le,Re){return d+"."+le+"="+T[Re]+";"}).join(""),"}")}g===ls?B():g===fl?te():(U("if(",g,"===",ls,"){"),B(),U("}else{"),te(),U("}"))}Me.forEach(function(Q){var he=Q.name,Z=ge.attributes[he],je;if(Z){if(!De(Z))return;je=Z.append(q,U)}else{if(!De(Pi))return;var Fe=q.scopeAttrib(he);V.optional(function(){q.assert(U,Fe+".state","missing attribute "+he)}),je={},Object.keys(new Ie).forEach(function(d){je[d]=U.def(Fe,".",d)})}Pe(q.link(Q),me(Q.info.type),je)})}function ln(q,U,ge,Me,De){for(var Ee=q.shared,me=Ee.gl,Pe,Q=0;Q<Me.length;++Q){var he=Me[Q],Z=he.name,je=he.info.type,Fe=ge.uniforms[Z],d=q.link(he),g=d+".location",_;if(Fe){if(!De(Fe))continue;if(Sr(Fe)){var T=Fe.value;if(V.command(T!==null&&typeof T<"u",'missing uniform "'+Z+'"',q.commandStr),je===au||je===Po){V.command(typeof T=="function"&&(je===au&&(T._reglType==="texture2d"||T._reglType==="framebuffer")||je===Po&&(T._reglType==="textureCube"||T._reglType==="framebufferCube")),"invalid texture for uniform "+Z,q.commandStr);var D=q.link(T._texture||T.color[0]._texture);U(me,".uniform1i(",g,",",D+".bind());"),U.exit(D,".unbind();")}else if(je===rc||je===nc||je===ys){V.optional(function(){V.command(x(T),"invalid matrix for uniform "+Z,q.commandStr),V.command(je===rc&&T.length===4||je===nc&&T.length===9||je===ys&&T.length===16,"invalid length for matrix uniform "+Z,q.commandStr)});var B=q.global.def("new Float32Array(["+Array.prototype.slice.call(T)+"])"),te=2;je===nc?te=3:je===ys&&(te=4),U(me,".uniformMatrix",te,"fv(",g,",false,",B,");")}else{switch(je){case fi:V.commandType(T,"number","uniform "+Z,q.commandStr),Pe="1f";break;case hs:V.command(x(T)&&T.length===2,"uniform "+Z,q.commandStr),Pe="2f";break;case cf:V.command(x(T)&&T.length===3,"uniform "+Z,q.commandStr),Pe="3f";break;case Ti:V.command(x(T)&&T.length===4,"uniform "+Z,q.commandStr),Pe="4f";break;case vs:V.commandType(T,"boolean","uniform "+Z,q.commandStr),Pe="1i";break;case qi:V.commandType(T,"number","uniform "+Z,q.commandStr),Pe="1i";break;case tc:V.command(x(T)&&T.length===2,"uniform "+Z,q.commandStr),Pe="2i";break;case El:V.command(x(T)&&T.length===2,"uniform "+Z,q.commandStr),Pe="2i";break;case lf:V.command(x(T)&&T.length===3,"uniform "+Z,q.commandStr),Pe="3i";break;case li:V.command(x(T)&&T.length===3,"uniform "+Z,q.commandStr),Pe="3i";break;case df:V.command(x(T)&&T.length===4,"uniform "+Z,q.commandStr),Pe="4i";break;case ff:V.command(x(T)&&T.length===4,"uniform "+Z,q.commandStr),Pe="4i";break}U(me,".uniform",Pe,"(",g,",",x(T)?Array.prototype.slice.call(T):T,");")}continue}else _=Fe.append(q,U)}else{if(!De(Pi))continue;_=U.def(Ee.uniforms,"[",Y.id(Z),"]")}je===au?(V(!Array.isArray(_),"must specify a scalar prop for textures"),U("if(",_,"&&",_,'._reglType==="framebuffer"){',_,"=",_,".color[0];","}")):je===Po&&(V(!Array.isArray(_),"must specify a scalar prop for cube maps"),U("if(",_,"&&",_,'._reglType==="framebufferCube"){',_,"=",_,".color[0];","}")),V.optional(function(){function Nt(gt,Ut){q.assert(U,gt,'bad data or missing for uniform "'+Z+'".  '+Ut)}function dr(gt){V(!Array.isArray(_),"must not specify an array type for uniform"),Nt("typeof "+_+'==="'+gt+'"',"invalid type, expected "+gt)}function cr(gt,Ut){Array.isArray(_)?V(_.length===gt,"must have length "+gt):Nt(Ee.isArrayLike+"("+_+")&&"+_+".length==="+gt,"invalid vector, should have length "+gt,q.commandStr)}function Mr(gt){V(!Array.isArray(_),"must not specify a value type"),Nt("typeof "+_+'==="function"&&'+_+'._reglType==="texture'+(gt===_l?"2d":"Cube")+'"',"invalid texture type",q.commandStr)}switch(je){case qi:dr("number");break;case El:cr(2);break;case li:cr(3);break;case ff:cr(4);break;case fi:dr("number");break;case hs:cr(2);break;case cf:cr(3);break;case Ti:cr(4);break;case vs:dr("boolean");break;case tc:cr(2);break;case lf:cr(3);break;case df:cr(4);break;case rc:cr(4);break;case nc:cr(9);break;case ys:cr(16);break;case au:Mr(_l);break;case Po:Mr(dp);break}});var le=1;switch(je){case au:case Po:var Re=U.def(_,"._texture");U(me,".uniform1i(",g,",",Re,".bind());"),U.exit(Re,".unbind();");continue;case qi:case vs:Pe="1i";break;case El:case tc:Pe="2i",le=2;break;case li:case lf:Pe="3i",le=3;break;case ff:case df:Pe="4i",le=4;break;case fi:Pe="1f";break;case hs:Pe="2f",le=2;break;case cf:Pe="3f",le=3;break;case Ti:Pe="4f",le=4;break;case rc:Pe="Matrix2fv";break;case nc:Pe="Matrix3fv";break;case ys:Pe="Matrix4fv";break}if(U(me,".uniform",Pe,"(",g,","),Pe.charAt(0)==="M"){var rt=Math.pow(je-rc+2,2),ut=q.global.def("new Float32Array(",rt,")");Array.isArray(_)?U("false,(",pn(rt,function(Nt){return ut+"["+Nt+"]="+_[Nt]}),",",ut,")"):U("false,(Array.isArray(",_,")||",_," instanceof Float32Array)?",_,":(",pn(rt,function(Nt){return ut+"["+Nt+"]="+_+"["+Nt+"]"}),",",ut,")")}else le>1?U(pn(le,function(Nt){return Array.isArray(_)?_[Nt]:_+"["+Nt+"]"})):(V(!Array.isArray(_),"uniform value must not be an array"),U(_));U(");")}}function mr(q,U,ge,Me){var De=q.shared,Ee=De.gl,me=De.draw,Pe=Me.draw;function Q(){var Re=Pe.elements,rt,ut=U;return Re?((Re.contextDep&&Me.contextDynamic||Re.propDep)&&(ut=ge),rt=Re.append(q,ut)):rt=ut.def(me,".",yo),rt&&ut("if("+rt+")"+Ee+".bindBuffer("+vd+","+rt+".buffer.buffer);"),rt}function he(){var Re=Pe.count,rt,ut=U;return Re?((Re.contextDep&&Me.contextDynamic||Re.propDep)&&(ut=ge),rt=Re.append(q,ut),V.optional(function(){Re.MISSING&&q.assert(U,"false","missing vertex count"),Re.DYNAMIC&&q.assert(ut,rt+">=0","missing vertex count")})):(rt=ut.def(me,".",pa),V.optional(function(){q.assert(ut,rt+">=0","missing vertex count")})),rt}var Z=Q();function je(Re){var rt=Pe[Re];return rt?rt.contextDep&&Me.contextDynamic||rt.propDep?rt.append(q,ge):rt.append(q,U):U.def(me,".",Re)}var Fe=je(iu),d=je(ha),g=he();if(typeof g=="number"){if(g===0)return}else ge("if(",g,"){"),ge.exit("}");var _,T;St&&(_=je(Lu),T=q.instancing);var D=Z+".type",B=Pe.elements&&Sr(Pe.elements);function te(){function Re(){ge(T,".drawElementsInstancedANGLE(",[Fe,g,D,d+"<<(("+D+"-"+Iu+")>>1)",_],");")}function rt(){ge(T,".drawArraysInstancedANGLE(",[Fe,d,g,_],");")}Z?B?Re():(ge("if(",Z,"){"),Re(),ge("}else{"),rt(),ge("}")):rt()}function le(){function Re(){ge(Ee+".drawElements("+[Fe,g,D,d+"<<(("+D+"-"+Iu+")>>1)"]+");")}function rt(){ge(Ee+".drawArrays("+[Fe,d,g]+");")}Z?B?Re():(ge("if(",Z,"){"),Re(),ge("}else{"),rt(),ge("}")):rt()}St&&(typeof _!="number"||_>=0)?typeof _=="string"?(ge("if(",_,">0){"),te(),ge("}else if(",_,"<0){"),le(),ge("}")):te():le()}function Kr(q,U,ge,Me,De){var Ee=br(),me=Ee.proc("body",De);return V.optional(function(){Ee.commandStr=U.commandStr,Ee.command=Ee.link(U.commandStr)}),St&&(Ee.instancing=me.def(Ee.shared.extensions,".angle_instanced_arrays")),q(Ee,me,ge,Me),Ee.compile().body}function Pr(q,U,ge,Me){eo(q,U),ge.useVAO?ge.drawVAO?U(q.shared.vao,".setVAO(",ge.drawVAO.append(q,U),");"):U(q.shared.vao,".setVAO(",q.shared.vao,".targetVAO);"):(U(q.shared.vao,".setVAO(null);"),Lo(q,U,ge,Me.attributes,function(){return!0})),ln(q,U,ge,Me.uniforms,function(){return!0}),mr(q,U,U,ge)}function Gn(q,U){var ge=q.proc("draw",1);eo(q,ge),mo(q,ge,U.context),Qn(q,ge,U.framebuffer),Yn(q,ge,U),No(q,ge,U.state),Ir(q,ge,U,!1,!0);var Me=U.shader.progVar.append(q,ge);if(ge(q.shared.gl,".useProgram(",Me,".program);"),U.shader.program)Pr(q,ge,U,U.shader.program);else{ge(q.shared.vao,".setVAO(null);");var De=q.global.def("{}"),Ee=ge.def(Me,".id"),me=ge.def(De,"[",Ee,"]");ge(q.cond(me).then(me,".call(this,a0);").else(me,"=",De,"[",Ee,"]=",q.link(function(Pe){return Kr(Pr,q,U,Pe,1)}),"(",Me,");",me,".call(this,a0);"))}Object.keys(U.state).length>0&&ge(q.shared.current,".dirty=true;")}function Qi(q,U,ge,Me){q.batchId="a1",eo(q,U);function De(){return!0}Lo(q,U,ge,Me.attributes,De),ln(q,U,ge,Me.uniforms,De),mr(q,U,U,ge)}function cu(q,U,ge,Me){eo(q,U);var De=ge.contextDep,Ee=U.def(),me="a0",Pe="a1",Q=U.def();q.shared.props=Q,q.batchId=Ee;var he=q.scope(),Z=q.scope();U(he.entry,"for(",Ee,"=0;",Ee,"<",Pe,";++",Ee,"){",Q,"=",me,"[",Ee,"];",Z,"}",he.exit);function je(D){return D.contextDep&&De||D.propDep}function Fe(D){return!je(D)}if(ge.needsContext&&mo(q,Z,ge.context),ge.needsFramebuffer&&Qn(q,Z,ge.framebuffer),No(q,Z,ge.state,je),ge.profile&&je(ge.profile)&&Ir(q,Z,ge,!1,!0),Me)ge.useVAO?ge.drawVAO?je(ge.drawVAO)?Z(q.shared.vao,".setVAO(",ge.drawVAO.append(q,Z),");"):he(q.shared.vao,".setVAO(",ge.drawVAO.append(q,he),");"):he(q.shared.vao,".setVAO(",q.shared.vao,".targetVAO);"):(he(q.shared.vao,".setVAO(null);"),Lo(q,he,ge,Me.attributes,Fe),Lo(q,Z,ge,Me.attributes,je)),ln(q,he,ge,Me.uniforms,Fe),ln(q,Z,ge,Me.uniforms,je),mr(q,he,Z,ge);else{var d=q.global.def("{}"),g=ge.shader.progVar.append(q,Z),_=Z.def(g,".id"),T=Z.def(d,"[",_,"]");Z(q.shared.gl,".useProgram(",g,".program);","if(!",T,"){",T,"=",d,"[",_,"]=",q.link(function(D){return Kr(Qi,q,ge,D,2)}),"(",g,");}",T,".call(this,a0[",Ee,"],",Ee,");")}}function oe(q,U){var ge=q.proc("batch",2);q.batchId="0",eo(q,ge);var Me=!1,De=!0;Object.keys(U.context).forEach(function(d){Me=Me||U.context[d].propDep}),Me||(mo(q,ge,U.context),De=!1);var Ee=U.framebuffer,me=!1;Ee?(Ee.propDep?Me=me=!0:Ee.contextDep&&Me&&(me=!0),me||Qn(q,ge,Ee)):Qn(q,ge,null),U.state.viewport&&U.state.viewport.propDep&&(Me=!0);function Pe(d){return d.contextDep&&Me||d.propDep}Yn(q,ge,U),No(q,ge,U.state,function(d){return!Pe(d)}),(!U.profile||!Pe(U.profile))&&Ir(q,ge,U,!1,"a1"),U.contextDep=Me,U.needsContext=De,U.needsFramebuffer=me;var Q=U.shader.progVar;if(Q.contextDep&&Me||Q.propDep)cu(q,ge,U,null);else{var he=Q.append(q,ge);if(ge(q.shared.gl,".useProgram(",he,".program);"),U.shader.program)cu(q,ge,U,U.shader.program);else{ge(q.shared.vao,".setVAO(null);");var Z=q.global.def("{}"),je=ge.def(he,".id"),Fe=ge.def(Z,"[",je,"]");ge(q.cond(Fe).then(Fe,".call(this,a0,a1);").else(Fe,"=",Z,"[",je,"]=",q.link(function(d){return Kr(cu,q,U,d,2)}),"(",he,");",Fe,".call(this,a0,a1);"))}}Object.keys(U.state).length>0&&ge(q.shared.current,".dirty=true;")}function Xe(q,U){var ge=q.proc("scope",3);q.batchId="a2";var Me=q.shared,De=Me.current;mo(q,ge,U.context),U.framebuffer&&U.framebuffer.append(q,ge),Ba(Object.keys(U.state)).forEach(function(me){var Pe=U.state[me],Q=Pe.append(q,ge);x(Q)?Q.forEach(function(he,Z){ge.set(q.next[me],"["+Z+"]",he)}):ge.set(Me.next,"."+me,Q)}),Ir(q,ge,U,!0,!0),[yo,ha,pa,Lu,iu].forEach(function(me){var Pe=U.draw[me];!Pe||ge.set(Me.draw,"."+me,""+Pe.append(q,ge))}),Object.keys(U.uniforms).forEach(function(me){var Pe=U.uniforms[me].append(q,ge);Array.isArray(Pe)&&(Pe="["+Pe.join()+"]"),ge.set(Me.uniforms,"["+Y.id(me)+"]",Pe)}),Object.keys(U.attributes).forEach(function(me){var Pe=U.attributes[me].append(q,ge),Q=q.scopeAttrib(me);Object.keys(new Ie).forEach(function(he){ge.set(Q,"."+he,Pe[he])})}),U.scopeVAO&&ge.set(Me.vao,".targetVAO",U.scopeVAO.append(q,ge));function Ee(me){var Pe=U.shader[me];Pe&&ge.set(Me.shader,"."+me,Pe.append(q,ge))}Ee(af),Ee(kn),Object.keys(U.state).length>0&&(ge(De,".dirty=true;"),ge.exit(De,".dirty=true;")),ge("a1(",q.shared.context,",a0,",q.batchId,");")}function Be(q){if(!(typeof q!="object"||x(q))){for(var U=Object.keys(q),ge=0;ge<U.length;++ge)if(Ft.isDynamic(q[U[ge]]))return!0;return!1}}function $t(q,U,ge){var Me=U.static[ge];if(!Me||!Be(Me))return;var De=q.global,Ee=Object.keys(Me),me=!1,Pe=!1,Q=!1,he=q.global.def("{}");Ee.forEach(function(je){var Fe=Me[je];if(Ft.isDynamic(Fe)){typeof Fe=="function"&&(Fe=Me[je]=Ft.unbox(Fe));var d=ti(Fe,null);me=me||d.thisDep,Q=Q||d.propDep,Pe=Pe||d.contextDep}else{switch(De(he,".",je,"="),typeof Fe){case"number":De(Fe);break;case"string":De('"',Fe,'"');break;case"object":Array.isArray(Fe)&&De("[",Fe.join(),"]");break;default:De(q.link(Fe));break}De(";")}});function Z(je,Fe){Ee.forEach(function(d){var g=Me[d];if(!!Ft.isDynamic(g)){var _=je.invoke(Fe,g);Fe(he,".",d,"=",_,";")}})}U.dynamic[ge]=new Ft.DynamicVariable(Qc,{thisDep:me,contextDep:Pe,propDep:Q,ref:he,append:Z}),delete U.static[ge]}function Jr(q,U,ge,Me,De){var Ee=br();Ee.stats=Ee.link(De),Object.keys(U.static).forEach(function(Pe){$t(Ee,U,Pe)}),hd.forEach(function(Pe){$t(Ee,q,Pe)});var me=so(q,U,ge,Me,Ee);return Gn(Ee,me),Xe(Ee,me),oe(Ee,me),a(Ee.compile(),{destroy:function(){me.shader.program.destroy()}})}return{next:Gt,current:pt,procs:function(){var q=br(),U=q.proc("poll"),ge=q.proc("refresh"),Me=q.block();U(Me),ge(Me);var De=q.shared,Ee=De.gl,me=De.next,Pe=De.current;Me(Pe,".dirty=false;"),Qn(q,U),Qn(q,ge,null,!0);var Q;St&&(Q=q.link(St)),se.oes_vertex_array_object&&ge(q.link(se.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var he=0;he<He.maxAttributes;++he){var Z=ge.def(De.attributes,"[",he,"]"),je=q.cond(Z,".buffer");je.then(Ee,".enableVertexAttribArray(",he,");",Ee,".bindBuffer(",Fa,",",Z,".buffer.buffer);",Ee,".vertexAttribPointer(",he,",",Z,".size,",Z,".type,",Z,".normalized,",Z,".stride,",Z,".offset);").else(Ee,".disableVertexAttribArray(",he,");",Ee,".vertexAttrib4f(",he,",",Z,".x,",Z,".y,",Z,".z,",Z,".w);",Z,".buffer=null;"),ge(je),St&&ge(Q,".vertexAttribDivisorANGLE(",he,",",Z,".divisor);")}return ge(q.shared.vao,".currentVAO=null;",q.shared.vao,".setVAO(",q.shared.vao,".targetVAO);"),Object.keys(Ct).forEach(function(Fe){var d=Ct[Fe],g=Me.def(me,".",Fe),_=q.block();_("if(",g,"){",Ee,".enable(",d,")}else{",Ee,".disable(",d,")}",Pe,".",Fe,"=",g,";"),ge(_),U("if(",g,"!==",Pe,".",Fe,"){",_,"}")}),Object.keys(ft).forEach(function(Fe){var d=ft[Fe],g=pt[Fe],_,T,D=q.block();if(D(Ee,".",d,"("),x(g)){var B=g.length;_=q.global.def(me,".",Fe),T=q.global.def(Pe,".",Fe),D(pn(B,function(te){return _+"["+te+"]"}),");",pn(B,function(te){return T+"["+te+"]="+_+"["+te+"];"}).join("")),U("if(",pn(B,function(te){return _+"["+te+"]!=="+T+"["+te+"]"}).join("||"),"){",D,"}")}else _=Me.def(me,".",Fe),T=Me.def(Pe,".",Fe),D(_,");",Pe,".",Fe,"=",_,";"),U("if(",_,"!==",T,"){",D,"}");ge(D)}),q.compile()}(),compile:Jr}}function Op(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var Uu=34918,en=34919,wp=35007,Ri=function(N,Y){if(!Y.ext_disjoint_timer_query)return null;var se=[];function He(){return se.pop()||Y.ext_disjoint_timer_query.createQueryEXT()}function tt(St){se.push(St)}var Ge=[];function Je(St){var Bt=He();Y.ext_disjoint_timer_query.beginQueryEXT(wp,Bt),Ge.push(Bt),bt(Ge.length-1,Ge.length,St)}function mt(){Y.ext_disjoint_timer_query.endQueryEXT(wp)}function wt(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var Et=[];function Qe(){return Et.pop()||new wt}function Mt(St){Et.push(St)}var jt=[];function bt(St,Bt,pt){var Gt=Qe();Gt.startQueryIndex=St,Gt.endQueryIndex=Bt,Gt.sum=0,Gt.stats=pt,jt.push(Gt)}var ct=[],Ie=[];function qe(){var St,Bt,pt=Ge.length;if(pt!==0){Ie.length=Math.max(Ie.length,pt+1),ct.length=Math.max(ct.length,pt+1),ct[0]=0,Ie[0]=0;var Gt=0;for(St=0,Bt=0;Bt<Ge.length;++Bt){var vt=Ge[Bt];Y.ext_disjoint_timer_query.getQueryObjectEXT(vt,en)?(Gt+=Y.ext_disjoint_timer_query.getQueryObjectEXT(vt,Uu),tt(vt)):Ge[St++]=vt,ct[Bt+1]=Gt,Ie[Bt+1]=St}for(Ge.length=St,St=0,Bt=0;Bt<jt.length;++Bt){var Ct=jt[Bt],ft=Ct.startQueryIndex,Dt=Ct.endQueryIndex;Ct.sum+=ct[Dt]-ct[ft];var pr=Ie[ft],Tr=Ie[Dt];Tr===pr?(Ct.stats.gpuTime+=Ct.sum/1e6,Mt(Ct)):(Ct.startQueryIndex=pr,Ct.endQueryIndex=Tr,jt[St++]=Ct)}jt.length=St}}return{beginQuery:Je,endQuery:mt,pushScopeStats:bt,update:qe,getNumPendingQueries:function(){return Ge.length},clear:function(){se.push.apply(se,Ge);for(var St=0;St<se.length;St++)Y.ext_disjoint_timer_query.deleteQueryEXT(se[St]);Ge.length=0,se.length=0},restore:function(){Ge.length=0,se.length=0}}},jo=16384,Ji=256,Dh=1024,vf=34962,Ga="webglcontextlost",Od="webglcontextrestored",su=1,Cn=2,ao=3;function Wo(N,Y){for(var se=0;se<N.length;++se)if(N[se]===Y)return se;return-1}function yf(N){var Y=$r(N);if(!Y)return null;var se=Y.gl,He=se.getContextAttributes(),tt=se.isContextLost(),Ge=Nn(se,Y);if(!Ge)return null;var Je=Co(),mt=Op(),wt=Ge.extensions,Et=Ri(se,wt),Qe=rn(),Mt=se.drawingBufferWidth,jt=se.drawingBufferHeight,bt={tick:0,time:0,viewportWidth:Mt,viewportHeight:jt,framebufferWidth:Mt,framebufferHeight:jt,drawingBufferWidth:Mt,drawingBufferHeight:jt,pixelRatio:Y.pixelRatio},ct={},Ie={elements:null,primitive:4,count:-1,offset:0,instances:-1},qe=Cc(se,wt),St=Di(se,mt,Y,pt),Bt=sl(se,wt,qe,mt,St);function pt(mr){return Bt.destroyBuffer(mr)}var Gt=Jt(se,wt,St,mt),vt=ud(se,Je,mt,Y),Ct=on(se,wt,qe,function(){pr.procs.poll()},bt,mt,Y),ft=Hs(se,wt,qe,mt,Y),Dt=qc(se,wt,qe,Ct,ft,mt),pr=Ih(se,Je,wt,qe,St,Gt,Ct,Dt,ct,Bt,vt,Ie,bt,Et,Y),Tr=Jn(se,Dt,pr.procs.poll,bt,He,wt,qe),xt=pr.next,yt=se.canvas,dt=[],br=[],Fr=[],qt=[Y.onDestroy],kr=null;function Ar(){if(dt.length===0){Et&&Et.update(),kr=null;return}kr=yr.next(Ar),No();for(var mr=dt.length-1;mr>=0;--mr){var Kr=dt[mr];Kr&&Kr(bt,null,0)}se.flush(),Et&&Et.update()}function Ur(){!kr&&dt.length>0&&(kr=yr.next(Ar))}function tn(){kr&&(yr.cancel(Ar),kr=null)}function uo(mr){mr.preventDefault(),tt=!0,tn(),br.forEach(function(Kr){Kr()})}function go(mr){se.getError(),tt=!1,Ge.restore(),vt.restore(),St.restore(),Ct.restore(),ft.restore(),Dt.restore(),Bt.restore(),Et&&Et.restore(),pr.procs.refresh(),Ur(),Fr.forEach(function(Kr){Kr()})}yt&&(yt.addEventListener(Ga,uo,!1),yt.addEventListener(Od,go,!1));function Yr(){dt.length=0,tn(),yt&&(yt.removeEventListener(Ga,uo),yt.removeEventListener(Od,go)),vt.clear(),Dt.clear(),ft.clear(),Ct.clear(),Gt.clear(),St.clear(),Bt.clear(),Et&&Et.clear(),qt.forEach(function(mr){mr()})}function Eo(mr){V(!!mr,"invalid args to regl({...})"),V.type(mr,"object","invalid args to regl({...})");function Kr(De){var Ee=a({},De);delete Ee.uniforms,delete Ee.attributes,delete Ee.context,delete Ee.vao,"stencil"in Ee&&Ee.stencil.op&&(Ee.stencil.opBack=Ee.stencil.opFront=Ee.stencil.op,delete Ee.stencil.op);function me(Pe){if(Pe in Ee){var Q=Ee[Pe];delete Ee[Pe],Object.keys(Q).forEach(function(he){Ee[Pe+"."+he]=Q[he]})}}return me("blend"),me("depth"),me("cull"),me("stencil"),me("polygonOffset"),me("scissor"),me("sample"),"vao"in De&&(Ee.vao=De.vao),Ee}function Pr(De,Ee){var me={},Pe={};return Object.keys(De).forEach(function(Q){var he=De[Q];if(Ft.isDynamic(he)){Pe[Q]=Ft.unbox(he,Q);return}else if(Ee&&Array.isArray(he)){for(var Z=0;Z<he.length;++Z)if(Ft.isDynamic(he[Z])){Pe[Q]=Ft.unbox(he,Q);return}}me[Q]=he}),{dynamic:Pe,static:me}}var Gn=Pr(mr.context||{},!0),Qi=Pr(mr.uniforms||{},!0),cu=Pr(mr.attributes||{},!1),oe=Pr(Kr(mr),!1),Xe={gpuTime:0,cpuTime:0,count:0},Be=pr.compile(oe,cu,Qi,Gn,Xe),$t=Be.draw,Jr=Be.batch,q=Be.scope,U=[];function ge(De){for(;U.length<De;)U.push(null);return U}function Me(De,Ee){var me;if(tt&&V.raise("context lost"),typeof De=="function")return q.call(this,null,De,0);if(typeof Ee=="function")if(typeof De=="number")for(me=0;me<De;++me)q.call(this,null,Ee,me);else if(Array.isArray(De))for(me=0;me<De.length;++me)q.call(this,De[me],Ee,me);else return q.call(this,De,Ee,0);else if(typeof De=="number"){if(De>0)return Jr.call(this,ge(De|0),De|0)}else if(Array.isArray(De)){if(De.length)return Jr.call(this,De,De.length)}else return $t.call(this,De)}return a(Me,{stats:Xe,destroy:function(){Be.destroy()}})}var In=Dt.setFBO=Eo({framebuffer:Ft.define.call(null,su,"framebuffer")});function so(mr,Kr){var Pr=0;pr.procs.poll();var Gn=Kr.color;Gn&&(se.clearColor(+Gn[0]||0,+Gn[1]||0,+Gn[2]||0,+Gn[3]||0),Pr|=jo),"depth"in Kr&&(se.clearDepth(+Kr.depth),Pr|=Ji),"stencil"in Kr&&(se.clearStencil(Kr.stencil|0),Pr|=Dh),V(!!Pr,"called regl.clear with no buffer specified"),se.clear(Pr)}function mo(mr){if(V(typeof mr=="object"&&mr,"regl.clear() takes an object as input"),"framebuffer"in mr)if(mr.framebuffer&&mr.framebuffer_reglType==="framebufferCube")for(var Kr=0;Kr<6;++Kr)In(a({framebuffer:mr.framebuffer.faces[Kr]},mr),so);else In(mr,so);else so(null,mr)}function Qn(mr){V.type(mr,"function","regl.frame() callback must be a function"),dt.push(mr);function Kr(){var Pr=Wo(dt,mr);V(Pr>=0,"cannot cancel a frame twice");function Gn(){var Qi=Wo(dt,Gn);dt[Qi]=dt[dt.length-1],dt.length-=1,dt.length<=0&&tn()}dt[Pr]=Gn}return Ur(),{cancel:Kr}}function Yn(){var mr=xt.viewport,Kr=xt.scissor_box;mr[0]=mr[1]=Kr[0]=Kr[1]=0,bt.viewportWidth=bt.framebufferWidth=bt.drawingBufferWidth=mr[2]=Kr[2]=se.drawingBufferWidth,bt.viewportHeight=bt.framebufferHeight=bt.drawingBufferHeight=mr[3]=Kr[3]=se.drawingBufferHeight}function No(){bt.tick+=1,bt.time=Ir(),Yn(),pr.procs.poll()}function eo(){Ct.refresh(),Yn(),pr.procs.refresh(),Et&&Et.update()}function Ir(){return(rn()-Qe)/1e3}eo();function Lo(mr,Kr){V.type(Kr,"function","listener callback must be a function");var Pr;switch(mr){case"frame":return Qn(Kr);case"lost":Pr=br;break;case"restore":Pr=Fr;break;case"destroy":Pr=qt;break;default:V.raise("invalid event, must be one of frame,lost,restore,destroy")}return Pr.push(Kr),{cancel:function(){for(var Gn=0;Gn<Pr.length;++Gn)if(Pr[Gn]===Kr){Pr[Gn]=Pr[Pr.length-1],Pr.pop();return}}}}var ln=a(Eo,{clear:mo,prop:Ft.define.bind(null,su),context:Ft.define.bind(null,Cn),this:Ft.define.bind(null,ao),draw:Eo({}),buffer:function(mr){return St.create(mr,vf,!1,!1)},elements:function(mr){return Gt.create(mr,!1)},texture:Ct.create2D,cube:Ct.createCube,renderbuffer:ft.create,framebuffer:Dt.create,framebufferCube:Dt.createCube,vao:Bt.createVAO,attributes:He,frame:Qn,on:Lo,limits:qe,hasExtension:function(mr){return qe.extensions.indexOf(mr.toLowerCase())>=0},read:Tr,destroy:Yr,_gl:se,_refresh:eo,poll:function(){No(),Et&&Et.update()},now:Ir,stats:mt});return Y.onDone(null,ln),ln}return yf})})(fV);var Tf,Qh,Pf,Xu,ev,Ml,tv,Ry,yc,Cd,Ui,gc,mc,jy;Tf={},Vt(Tf,Xt.POINTS,"points"),Vt(Tf,Xt.LINES,"lines"),Vt(Tf,Xt.LINE_LOOP,"line loop"),Vt(Tf,Xt.LINE_STRIP,"line strip"),Vt(Tf,Xt.TRIANGLES,"triangles"),Vt(Tf,Xt.TRIANGLE_FAN,"triangle fan"),Vt(Tf,Xt.TRIANGLE_STRIP,"triangle strip");Qh={},Vt(Qh,Xt.STATIC_DRAW,"static"),Vt(Qh,Xt.DYNAMIC_DRAW,"dynamic"),Vt(Qh,Xt.STREAM_DRAW,"stream");Pf={},Vt(Pf,Xt.BYTE,"int8"),Vt(Pf,Xt.UNSIGNED_INT,"int16"),Vt(Pf,Xt.INT,"int32"),Vt(Pf,Xt.UNSIGNED_BYTE,"uint8"),Vt(Pf,Xt.UNSIGNED_SHORT,"uint16"),Vt(Pf,Xt.UNSIGNED_INT,"uint32"),Vt(Pf,Xt.FLOAT,"float");Xu={},Vt(Xu,Xt.ALPHA,"alpha"),Vt(Xu,Xt.LUMINANCE,"luminance"),Vt(Xu,Xt.LUMINANCE_ALPHA,"luminance alpha"),Vt(Xu,Xt.RGB,"rgb"),Vt(Xu,Xt.RGBA,"rgba"),Vt(Xu,Xt.RGBA4,"rgba4"),Vt(Xu,Xt.RGB5_A1,"rgb5 a1"),Vt(Xu,Xt.RGB565,"rgb565"),Vt(Xu,Xt.DEPTH_COMPONENT,"depth"),Vt(Xu,Xt.DEPTH_STENCIL,"depth stencil");ev={},Vt(ev,Xt.DONT_CARE,"dont care"),Vt(ev,Xt.NICEST,"nice"),Vt(ev,Xt.FASTEST,"fast");Ml={},Vt(Ml,Xt.NEAREST,"nearest"),Vt(Ml,Xt.LINEAR,"linear"),Vt(Ml,Xt.LINEAR_MIPMAP_LINEAR,"mipmap"),Vt(Ml,Xt.NEAREST_MIPMAP_LINEAR,"nearest mipmap linear"),Vt(Ml,Xt.LINEAR_MIPMAP_NEAREST,"linear mipmap nearest"),Vt(Ml,Xt.NEAREST_MIPMAP_NEAREST,"nearest mipmap nearest");tv={},Vt(tv,Xt.REPEAT,"repeat"),Vt(tv,Xt.CLAMP_TO_EDGE,"clamp"),Vt(tv,Xt.MIRRORED_REPEAT,"mirror");Ry={},Vt(Ry,Xt.NONE,"none"),Vt(Ry,Xt.BROWSER_DEFAULT_WEBGL,"browser");yc={},Vt(yc,Xt.NEVER,"never"),Vt(yc,Xt.ALWAYS,"always"),Vt(yc,Xt.LESS,"less"),Vt(yc,Xt.LEQUAL,"lequal"),Vt(yc,Xt.GREATER,"greater"),Vt(yc,Xt.GEQUAL,"gequal"),Vt(yc,Xt.EQUAL,"equal"),Vt(yc,Xt.NOTEQUAL,"notequal");Cd={},Vt(Cd,Xt.FUNC_ADD,"add"),Vt(Cd,Xt.MIN_EXT,"min"),Vt(Cd,Xt.MAX_EXT,"max"),Vt(Cd,Xt.FUNC_SUBTRACT,"subtract"),Vt(Cd,Xt.FUNC_REVERSE_SUBTRACT,"reverse subtract");Ui={},Vt(Ui,Xt.ZERO,"zero"),Vt(Ui,Xt.ONE,"one"),Vt(Ui,Xt.SRC_COLOR,"src color"),Vt(Ui,Xt.ONE_MINUS_SRC_COLOR,"one minus src color"),Vt(Ui,Xt.SRC_ALPHA,"src alpha"),Vt(Ui,Xt.ONE_MINUS_SRC_ALPHA,"one minus src alpha"),Vt(Ui,Xt.DST_COLOR,"dst color"),Vt(Ui,Xt.ONE_MINUS_DST_COLOR,"one minus dst color"),Vt(Ui,Xt.DST_ALPHA,"dst alpha"),Vt(Ui,Xt.ONE_MINUS_DST_ALPHA,"one minus dst alpha"),Vt(Ui,Xt.CONSTANT_COLOR,"constant color"),Vt(Ui,Xt.ONE_MINUS_CONSTANT_COLOR,"one minus constant color"),Vt(Ui,Xt.CONSTANT_ALPHA,"constant alpha"),Vt(Ui,Xt.ONE_MINUS_CONSTANT_ALPHA,"one minus constant alpha"),Vt(Ui,Xt.SRC_ALPHA_SATURATE,"src alpha saturate");gc={},Vt(gc,Xt.NEVER,"never"),Vt(gc,Xt.ALWAYS,"always"),Vt(gc,Xt.LESS,"less"),Vt(gc,Xt.LEQUAL,"lequal"),Vt(gc,Xt.GREATER,"greater"),Vt(gc,Xt.GEQUAL,"gequal"),Vt(gc,Xt.EQUAL,"equal"),Vt(gc,Xt.NOTEQUAL,"notequal");mc={},Vt(mc,Xt.ZERO,"zero"),Vt(mc,Xt.KEEP,"keep"),Vt(mc,Xt.REPLACE,"replace"),Vt(mc,Xt.INVERT,"invert"),Vt(mc,Xt.INCR,"increment"),Vt(mc,Xt.DECR,"decrement"),Vt(mc,Xt.INCR_WRAP,"increment wrap"),Vt(mc,Xt.DECR_WRAP,"decrement wrap");jy={},Vt(jy,Xt.FRONT,"front"),Vt(jy,Xt.BACK,"back");var lV=Function.prototype,dV=lV.toString;dV.call(Object);globalThis&&globalThis.__awaiter;globalThis&&globalThis.__awaiter;class FR{constructor(){this.lf=null,this.option={}}render(t){this.lf=t}layout(t={}){const{nodes:r,edges:a,gridSize:n}=this.lf.graphModel;let c=40,f=40;n>20&&(c=n*2,f=n*2),this.option={type:"dagre",rankdir:"LR",align:"DR",nodesep:c,ranksep:f,begin:[120,120],...t};const v=new x$(this.option).layout({nodes:r.map(b=>({id:b.id,size:{width:b.width,height:b.height},model:b})),edges:a.map(b=>({source:b.sourceNodeId,target:b.targetNodeId,model:b}))});v.nodes&&v.nodes.forEach(b=>{const{model:O}=b;O.set_position({x:b.x,y:b.y})}),this.lf.fitView()}}ow(FR,"pluginName","dagre");function pV(e,t){const r=e.getBoundingClientRect();return t.clientX>=r.left&&t.clientX<=r.right&&t.clientY>=r.top&&t.clientY<=r.bottom}const hV=32,vV=32;class yV extends Yt.exports.BezierEdge{constructor(){super(),this.isMounted=!1,this.customLineApp=null,this.root=null,this.handleMouseUp=t=>{this.props.graphModel.clearSelectElements(),this.props.model.isSelected=!0;const r=t.target.parentNode.parentNode.querySelector(".lf-custom-edge-wrapper");pV(r,t)&&this.props.model.graphModel.deleteEdgeById(this.props.model.id)}}renderVueComponent(t){var r;this.unmountVueComponent(),this.root=t,this.props,t&&(this.customLineApp=sA({render:()=>uA(gI,{model:this.props.model})}),(r=this.customLineApp)==null||r.mount(t))}targetId(){return`${this.props.graphModel.flowId}:${this.props.model.id}`}componentWillUnmount(){super.componentWillUnmount&&super.componentWillUnmount(),this.unmountVueComponent()}unmountVueComponent(){return this.customLineApp&&(this.customLineApp.unmount(),this.customLineApp=null),this.root&&(this.root.innerHTML=""),this.root}getEdge(){const{model:t}=this.props,r=t.id,{customWidth:a=hV,customHeight:n=vV}=t.getProperties(),{startPoint:c,endPoint:f,path:y,isAnimation:v,arrowConfig:b}=t,O=t.getEdgeAnimationStyle(),{strokeDasharray:S,stroke:P,strokeDashoffset:j,animationName:I,animationDuration:C,animationIterationCount:k,animationTimingFunction:G,animationDirection:H}=O,ue={x:(c.x+f.x-a)/2,y:(c.y+f.y-n)/2,width:a,height:n},_e=t.getEdgeStyle(),be={width:a,height:n};return setTimeout(()=>{const ce=document.getElementById(r);ce&&!this.isMounted&&(this.isMounted=!0,this.renderVueComponent(ce))},0),delete _e.stroke,Yt.exports.h("g",{},[Yt.exports.h("style",{type:"text/css"},".lf-edge{stroke:#afafaf}.lf-edge:hover{stroke: #3370FF;}"),Yt.exports.h("path",{d:y,..._e,...b,...v?{strokeDasharray:S,stroke:P,style:{strokeDashoffset:j,animationName:I,animationDuration:C,animationIterationCount:k,animationTimingFunction:G,animationDirection:H}}:{}}),Yt.exports.h("foreignObject",{...ue,y:ue.y+5,x:ue.x+5,style:{}},[Yt.exports.h("div",{id:r,style:{...be},className:"lf-custom-edge-wrapper"})])])}}class gV extends Yt.exports.BezierEdgeModel{getArrowStyle(){const t=super.getArrowStyle();return t.offset=1,t.verticalLength=0,t}getEdgeStyle(){const t=super.getEdgeStyle();return t.strokeWidth=2,t.stroke="#BBBFC4",t.offset=0,t}getData(){const t=super.getData();return t&&(t.sourceAnchorId=this.sourceAnchorId,t.targetAnchorId=this.targetAnchorId),t}updatePathByAnchor(){const r=this.graphModel.getNodeModelById(this.sourceNodeId).getDefaultAnchor().find(c=>c.id===this.sourceAnchorId),n=this.graphModel.getNodeModelById(this.targetNodeId).getDefaultAnchor().find(c=>c.id===this.targetAnchorId);if(r&&n){const c={x:r.x,y:r.y};this.updateStartPoint(c);const f={x:n.x,y:n.y};this.updateEndPoint(f)}this.pointsList=[],this.initPoints()}setAttributes(){super.setAttributes(),this.isHitable=!0,this.zIndex=0}}const mV={type:"app-edge",view:yV,model:gV},bV=e=>{cA.success({message:e,type:"success",showClose:!0,duration:3e3})},BS=e=>{cA.error({message:e,type:"error",showClose:!0,duration:3e3})},_V=(e,t,r={})=>{const a={showCancelButton:!0,confirmButtonText:"\u786E\u8BA4",cancelButtonText:"\u53D6\u6D88",...r};return ZC.confirm(t,e,a)};let bc=null;function GS(e,t){return e.x+=t,e.y+=t,e.text&&(e.text.x+=t,e.text.y+=t),e}function US(e,t){return e.startPoint&&(e.startPoint.x+=t,e.startPoint.y+=t),e.endPoint&&(e.endPoint.x+=t,e.endPoint.y+=t),e.pointsList&&e.pointsList.length>0&&e.pointsList.forEach(r=>{r.x+=t,r.y+=t}),e.text&&(e.text.x+=t,e.text.y+=t),e}const Wp=40;let Ny=40;function EV(e,t){const{keyboard:r}=e,{options:{keyboard:a}}=r,n=()=>{var S,P;if(Ny=Wp,!(a!=null&&a.enabled)||t.textEditElement)return!0;const{guards:y}=e.options,v=t.getSelectElements(!1);if(!(y&&y.beforeClone?y.beforeClone(v):!0)||v.nodes.length===0&&v.edges.length===0)return bc=null,!0;const O=v.nodes.filter(j=>j.type===bn.Start||j.type===bn.Base);if(O.length>0){BS(((P=(S=O[0])==null?void 0:S.properties)==null?void 0:P.stepName)+"\u4E0D\u80FD\u590D\u5236");return}return bc=v,bc.nodes.forEach(j=>GS(j,Wp)),bc.edges.forEach(j=>US(j,Wp)),bV("\u590D\u5236\u6210\u529F"),!1},c=()=>{if(!(a!=null&&a.enabled)||t.textEditElement)return!0;if(bc&&(bc.nodes||bc.edges)){e.clearSelectElements();const y=e.addElements(bc,Ny);if(!y)return!0;y.nodes.forEach(v=>e.selectElementById(v.id,!0)),y.edges.forEach(v=>e.selectElementById(v.id,!0)),bc.nodes.forEach(v=>GS(v,Wp)),bc.edges.forEach(v=>US(v,Wp)),Ny=Ny+Wp}return!1},f=()=>{var b;const y=t.getSelectElements(!0);if(e.clearSelectElements(),y.nodes.length===0&&y.edges.length===0)return;if(y.edges.length>0&&y.nodes.length===0){y.edges.forEach(O=>e.deleteEdge(O.id));return}const v=y.nodes.filter(O=>["start","base"].includes(O.type));if(v.length>0){BS(`${(b=v[0].properties)==null?void 0:b.stepName}\u4E0D\u80FD\u5220\u9664`);return}return _V("\u63D0\u793A","\u786E\u8BA4\u8981\u5220\u9664\u8FD9\u4E9B\u5143\u7D20\u5417\uFF1F",{confirmButtonText:"\u5220\u9664",confirmButtonClass:"danger"}).then(()=>{if(!(a!=null&&a.enabled)||t.textEditElement)return!0;y.edges.forEach(O=>e.deleteEdge(O.id)),y.nodes.forEach(O=>e.deleteNode(O.id))}),!1};t.eventCenter.on("copy_node",n),r.on(["cmd + c","ctrl + c"],n),r.on(["cmd + v","ctrl + v"],c),r.on(["cmd + z","ctrl + z"],()=>{}),r.on(["cmd + y","ctrl + y"],()=>!(a!=null&&a.enabled)||t.textEditElement?!0:(e.redo(),!1)),r.on(["backspace"],f)}const OV=oI("div",{className:"workflow-app",id:"flow-container"},null,-1),$V={__name:"flowPanel",setup(e,{expose:t}){const r=Object.assign({"./nodes/ai-chat-node/index.js":o9,"./nodes/condition-node/index.js":c9,"./nodes/document-extract-node/index.js":d9,"./nodes/function-node/index.js":v9,"./nodes/image-generate-node/index.js":m9,"./nodes/image-understand-node/index.js":E9,"./nodes/knowledge-search-node/index.js":x9,"./nodes/question-node/index.js":T9,"./nodes/reply-node/index.js":j9,"./nodes/reranker-node/index.js":C9,"./nodes/speech-to-text-node/index.js":k9,"./nodes/start-node/index.js":B9,"./nodes/text-to-speech-node/index.js":z9}),a=aw(),n=aw(""),c=y=>{const v=document.querySelector("#flow-container");v&&(console.log("container = "+v),a.value=new AG({plugins:[FR],textEdit:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,background:{backgroundColor:"#f5f6f7"},grid:{size:10,type:"dot",config:{color:"#DEE0E3",thickness:1}},keyboard:{enabled:!0},isSilentMode:!1,container:v}),a.value.setTheme({bezier:{stroke:"#afafaf",strokeWidth:1}}),a.value.on("graph:rendered",()=>{n.value=a.value.graphModel.flowId}),EV(a.value,a.value.graphModel),a.value.batchRegister([...Object.keys(r).map(b=>r[b].default),mV]),a.value.setDefaultEdgeType("app-edge"),y={nodes:[{type:"start",properties:{icon:"fa-solid fa-paper-plane",color:"#2962FF",stepName:"\u5F00\u59CB",showNode:!0,x:140,y:140,height:380,width:280},x:440,y:340}]},console.log("data = "+y),a.value.render(y||{}),a.value.graphModel.eventCenter.on("delete_edge",function(b){b.forEach(function(O){a.value.deleteEdge(O)})}),setTimeout(function(){a.value&&a.value.fitView()},500))},f=y=>{a.value.clearSelectElements();const{virtualRectCenterPositionX:v,virtualRectCenterPositionY:b}=a.value.graphModel.getVirtualRectSize();console.log("virtualRectCenterPositionX = "+v+", virtualRectCenterPositionY = "+b);const O=a.value.graphModel.addNode({type:y.type,properties:y.properties,x:v,y:b-a.value.graphModel.height/2});O.isSelected=!0,O.isHovered=!0,O.helloworld="hello world",a.value.toFront(O.id)};return JC(()=>{QC(()=>{c()})}),t({onmousedown,clickNode:f}),(y,v)=>(uw(),eI(nI,null,[OV,a.value?(uw(),tI(mI,{key:0,class:"workflow-control",lf:a.value},null,8,["lf"])):rI("",!0)],64))}};export{$V as default};
