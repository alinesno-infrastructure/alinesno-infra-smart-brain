import{_ as Me,B as Ge,m as He,r as s,Q as ge,T as Je,R as We,a as p,H as _e,o as d,l as Z,d as l,w as e,e as i,f as a,J as U,I as N,h as he,j as u,U as ve,c,i as g,x,F as Xe,C as Ye,S as Ze,c6 as el,G as ll,z as tl,A as al,n as ol}from"./index.2b31a27b.js";import{d as nl,f as il,r as rl,e as sl,h as dl,i as ul,g as pl,j as cl,k as ml,m as fl}from"./role.f35abc69.js";import gl from"./parseDataset.97938b2b.js";import"./datasetList.e2df5c9c.js";import"./roleKnowledge.bc6cf1cc.js";import"./datasetSearch.d586ac6d.js";const R=P=>(tl("data-v-2ad817a2"),P=P(),al(),P),_l={class:"app-container"},hl={class:"head-container"},vl={class:"head-container"},bl={class:"role-icon"},yl=["src"],kl={style:{"font-size":"15px","font-weight":"500",color:"#3b5998"}},wl={style:{"font-size":"13px",color:"#a5a5a5"}},Vl={style:{display:"-webkit-box","-webkit-box-orient":"vertical",overflow:"hidden","-webkit-line-clamp":"2"}},xl=R(()=>i("i",{class:"fa-solid fa-truck-fast"},null,-1)),Cl=R(()=>i("i",{class:"fa-solid fa-file-word"},null,-1)),Rl=R(()=>i("i",{class:"fa-solid fa-sailboat"},null,-1)),Sl=R(()=>i("i",{class:"fas fa-file-signature"},null,-1)),Nl=R(()=>i("i",{class:"fa-solid fa-code"},null,-1)),Il={class:"dialog-footer"},Tl={class:"role-icon"},Ul=["src"],Dl={style:{float:"left","padding-top":"5px","margin-left":"10px"}},$l={style:{padding:"10px 20px",display:"flex","align-items":"center","margin-bottom":"20px","line-height":"1.1rem",gap:"10px","margin-top":"-20px"}},ql=["src"],Pl={style:{display:"flex","flex-direction":"column",gap:"5px"}},Fl={style:{"font-size":"16px","font-weight":"500"}},Al=R(()=>i("b",null,"\u89D2\u8272",-1)),zl={style:{"font-size":"13px",color:"#a5a5a5"}},Ol={key:0,style:{padding:"10px 20px"}},El=R(()=>i("i",{class:"fa-solid fa-paper-plane"},null,-1)),Kl=R(()=>i("i",{class:"fa-brands fa-slack"},null,-1)),Bl=R(()=>i("i",{class:"fa-solid fa-file-word"},null,-1)),Ll={class:"dialog-footer"},Ql=Ge({name:"Role"}),jl=Object.assign(Ql,{setup(P){const B=He(),{proxy:h}=ol(),ee=s([]),S=s(!1),L=s(!0),F=s(!0),Q=s([]),le=s(!0),te=s(!0),j=s(0),M=s(""),ae=s([]),oe=s([]),ne=s(null),A=s(!1),G=s(""),ie=s(""),D=s(!1),I=s(null),$=s({}),re=s(!1),T=s({doorplateNumber:"",id:"",orgName:"",remark:""}),be=s(!1);s(!1);const H=s(""),J=s(void 0),q=ge({open:!1,title:"",isUploading:!1,updateSupport:0,headers:{Authorization:"Bearer "+Je()},url:"/prod-api/v1/api/infra/base/im/chat/importData",display:"/prod-api/v1/api/infra/base/im/chat/displayImage/"}),k=s([{key:0,label:"\u56FE\u6807",visible:!0},{key:1,label:"\u89D2\u8272\u540D\u79F0",visible:!0},{key:2,label:"\u89D2\u8272\u63CF\u8FF0",visible:!0},{key:3,label:"\u6240\u5C5E\u9886\u57DF",visible:!0},{key:4,label:"\u89D2\u8272\u7EA7\u522B",visible:!0},{key:5,label:"\u5B89\u5168\u5B58\u50A8\u8DEF\u5F84",visible:!0},{key:6,label:"\u5E94\u7528\u76EE\u6807",visible:!0},{key:7,label:"\u521B\u5EFA\u65F6\u95F4",visible:!0},{key:8,label:"\u7F16\u8F91",visible:!0}]),ye=s([{key:"single_role",name:"\u5355\u89D2\u8272",description:"\u81EA\u5DF1\u5355\u72EC\u5B8C\u6210\u4E00\u4E2A\u804A\u5929\uFF0C\u53EF\u6D41\u5F0F\u8F93\u51FA\u6216\u8005\u540C\u6B65\u8F93\u51FA"},{key:"collaborative_role",name:"\u534F\u4F5C\u89D2\u8272",description:"\u4E0E\u5176\u5B83\u89D2\u8272\u534F\u4F5C\u624D\u53EF\u4EE5\u5B8C\u6210\u4E00\u4E2A\u5DE5\u4F5C\uFF0C\u53EF\u6D41\u5F0F\u8F93\u51FA\u6216\u8005\u540C\u6B65\u8F93\u51FA"},{key:"scenario_role",name:"\u573A\u666F\u89D2\u8272",description:"\u4E0E\u5176\u5B83\u89D2\u8272\u534F\u4F5C\u624D\u53EF\u4EE5\u5B8C\u6210\u4E00\u4E2A\u5DE5\u4F5C\uFF0C\u53EA\u80FD\u540C\u6B65\u8F93\u51FA"},{key:"combined_role",name:"\u7EC4\u5408\u89D2\u8272",description:"\u7ED3\u5408\u4E86\u534F\u4F5C\u4E0E\u573A\u666F\u89D2\u8272\u7684\u7279\u70B9\uFF0C\u65E2\u53EF\u4EE5\u5728\u534F\u4F5C\u4E2D\u53D1\u6325\u4F5C\u7528\uFF0C\u4E5F\u53EF\u4EE5\u9002\u5E94\u7279\u5B9A\u573A\u666F\uFF0C\u652F\u6301\u6D41\u5F0F\u8F93\u51FA\u548C\u540C\u6B65\u8F93\u51FA"}]),se=ge({form:{roleAvatar:null,scriptType:"script"},queryParams:{pageNum:1,pageSize:10,roleName:void 0,roleName:void 0,responsibilities:void 0,status:void 0,industryCatalog:void 0},rules:{roleId:[{required:!0,message:"\u5E94\u7528\u7F16\u53F7\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],roleType:[{required:!0,message:"\u5E94\u7528\u7C7B\u578B\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],scriptType:[{required:!0,message:"\u811A\u672C\u7C7B\u578B\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],roleName:[{required:!0,message:"\u89D2\u8272\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"},{min:2,max:20,message:"\u89D2\u8272\u540D\u79F0\u957F\u5EA6\u5FC5\u987B\u4ECB\u4E8E 2 \u548C 20 \u4E4B\u95F4",trigger:"blur"}],responsibilities:[{required:!0,message:"\u89D2\u8272\u63CF\u8FF0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],domain:[{required:!0,message:"\u6240\u5C5E\u9886\u57DF\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],roleLevel:[{required:!0,message:"\u89D2\u8272\u7EA7\u522B\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],storagePath:[{required:!0,message:"\u5B89\u5168\u5B58\u50A8\u8DEF\u5F84\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],industryCatalog:[{required:!0,message:"\u89D2\u8272\u7C7B\u578B\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]},chainForm:{roleId:void 0},chainRules:{chainName:[{required:!0,message:"\u94FE\u8DEF\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],elData:[{required:!0,message:"\u94FE\u8DEF\u6D41\u7A0B\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}}),{queryParams:_,form:r,rules:ke,chainForm:Ml,chainRules:Gl}=We(se);function w(){L.value=!0,nl(h.addDateRange(_.value,ae.value)).then(o=>{L.value=!1,ee.value=o.rows,j.value=o.total})}function we(){if(!I.value){h.$modal.msgError("\u8BF7\u8F93\u5165\u7EC4\u7EC7\u53F7");return}il(I.value).then(o=>{console.log("res = "+o),se?(T.value=o.data,re.value=!0):h.$modal.msgError("\u67E5\u8BE2\u7EC4\u7EC7\u4FE1\u606F\u5931\u8D25\uFF0C\u8BF7\u786E\u8BA4\u7EC4\u7EC7\u53F7\u662F\u5426\u6B63\u786E.")})}const Ve=(o,n)=>{oe.value=o.data?o.data.split(",").map(f=>({url:q.display+f})):[],r.value.roleAvatar=o.data,console.log("form.roleAvatar = "+r.roleAvatar)},xe=o=>o.size/1024/1024>2?(Ze.error("Avatar picture size can not exceed 2MB!"),!1):!0;function Ce(o){rl(o).then(n=>{h.$modal.msgSuccess("\u63A8\u8350\u6210\u529F"),w()})}function Re(o){D.value=!0,$.value=o,T.value={id:null}}function Se(){const o=el.service({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"});let n={roleId:$.value.id,orgId:I.value};sl(n).then(f=>{console.log("res = "+f),o.close(),h.$modal.msgSuccess("\u63A8\u9001\u6210\u529F")}).catch(()=>{o.close()})}const Ne=async(o,n,f)=>{const O=await dl({field:o,value:n?1:0,id:f}).catch(()=>{});O&&O.code==200&&w()};function Ie(o){_.value.industryCatalog=o.id,console.log("data.id = "+o.id),w()}function z(){console.log(_),_.value.pageNum=1,w()}function Te(){ae.value=[],h.resetForm("queryRef"),_.value.roleName=void 0,_.value.responsibilities=void 0,h.$refs.deptTreeRef.setCurrentKey(null),z()}function de(o){const n=o.id||Q.value;h.$modal.confirm('\u662F\u5426\u786E\u8BA4\u5220\u9664\u5E94\u7528\u7F16\u53F7\u4E3A"'+n+'"\u7684\u6570\u636E\u9879\uFF1F').then(function(){return ul(n)}).then(()=>{w(),h.$modal.msgSuccess("\u5220\u9664\u6210\u529F")}).catch(()=>{})}function Ue(o){A.value=!0,G.value="["+o.roleName+"]\u77E5\u8BC6\u5E93\u914D\u7F6E",ie.value=o.roleAvatar,ll(()=>{ne.value.initRoleData(o)})}function W(o){console.log("scriptType = "+o.scriptType),o.scriptType&&o.scriptType=="flow"?B.push({path:"/smart/assistant/role/createDefinition",query:{roleId:o.id}}):o.scriptType&&o.scriptType=="react"?B.push({path:"/expert/smart/assistant/role/react",query:{roleId:o.id}}):B.push({path:"/expert/smart/assistant/role/script",query:{roleId:o.id}})}function De(o){Q.value=o.map(n=>n.id),le.value=o.length!=1,te.value=!o.length}function X(){r.value={roleId:void 0,roleName:void 0,responsibilities:void 0,domain:void 0,roleLevel:void 0,storagePath:void 0,target:void 0},h.resetForm("RoleRef")}function $e(){S.value=!1,be.value=!1,X()}function qe(){X(),S.value=!0,M.value="\u6DFB\u52A0\u5E94\u7528"}function ue(o){X();const n=o.id||Q.value;pl(n).then(f=>{r.value=f.data,r.value.roleId=n,S.value=!0,M.value="\u4FEE\u6539\u5E94\u7528"})}function Pe(){h.$refs.RoleRef.validate(o=>{o&&(r.value.id!=null?cl(r.value).then(n=>{h.$modal.msgSuccess("\u4FEE\u6539\u6210\u529F"),S.value=!1,w()}):ml(r.value).then(n=>{h.$modal.msgSuccess("\u65B0\u589E\u6210\u529F"),S.value=!1,w()}))})}function Fe(){fl().then(o=>{J.value=o.data})}return Fe(),w(),(o,n)=>{const f=p("el-input"),O=p("el-tree"),v=p("el-col"),b=p("el-form-item"),m=p("el-button"),Y=p("el-form"),Ae=p("right-toolbar"),C=p("el-row"),V=p("el-table-column"),pe=p("el-switch"),ce=p("el-tooltip"),ze=p("el-table"),Oe=p("pagination"),Ee=p("Plus"),Ke=p("el-icon"),Be=p("el-upload"),E=p("el-radio"),me=p("el-radio-group"),Le=p("el-tree-select"),fe=p("el-dialog"),Qe=p("el-drawer"),K=_e("hasPermi"),je=_e("loading");return d(),Z("div",_l,[l(C,{gutter:20},{default:e(()=>[l(v,{span:4,xs:24},{default:e(()=>[i("div",hl,[l(f,{modelValue:a(H),"onUpdate:modelValue":n[0]||(n[0]=t=>U(H)?H.value=t:null),placeholder:"\u8BF7\u8F93\u5165\u7C7B\u578B\u540D\u79F0",clearable:"","prefix-icon":"Search",style:{"margin-bottom":"20px"}},null,8,["modelValue"])]),i("div",vl,[l(O,{data:a(J),props:{label:"label",children:"children"},"expand-on-click-node":!1,"filter-node-method":o.filterNode,ref:"deptTreeRef","node-key":"id","default-expand-all":"","highlight-current":"",onNodeClick:Ie},null,8,["data","filter-node-method"])])]),_:1}),l(v,{span:20,xs:20},{default:e(()=>[N(l(Y,{model:a(_),ref:"queryRef",inline:!0,"label-width":"68px"},{default:e(()=>[l(b,{label:"\u89D2\u8272\u540D\u79F0",prop:"roleName"},{default:e(()=>[l(f,{modelValue:a(_)["condition[roleName|like]"],"onUpdate:modelValue":n[1]||(n[1]=t=>a(_)["condition[roleName|like]"]=t),placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0",clearable:"",style:{width:"240px"},onKeyup:he(z,["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),l(b,{label:"\u89D2\u8272\u63CF\u8FF0",prop:"responsibilities","label-width":"100px"},{default:e(()=>[l(f,{modelValue:a(_)["condition[responsibilities|like]"],"onUpdate:modelValue":n[2]||(n[2]=t=>a(_)["condition[responsibilities|like]"]=t),placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u63CF\u8FF0",clearable:"",style:{width:"240px"},onKeyup:he(z,["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),l(b,null,{default:e(()=>[l(m,{type:"primary",icon:"Search",onClick:z},{default:e(()=>[u("\u641C\u7D22")]),_:1}),l(m,{icon:"Refresh",onClick:Te},{default:e(()=>[u("\u91CD\u7F6E")]),_:1})]),_:1})]),_:1},8,["model"]),[[ve,a(F)]]),l(C,{gutter:10,class:"mb8"},{default:e(()=>[l(v,{span:1.5},{default:e(()=>[l(m,{type:"primary",plain:"",icon:"Plus",onClick:qe},{default:e(()=>[u("\u65B0\u589E ")]),_:1})]),_:1},8,["span"]),l(v,{span:1.5},{default:e(()=>[N((d(),c(m,{type:"success",plain:"",icon:"Edit",disabled:a(le),onClick:ue},{default:e(()=>[u("\u4FEE\u6539 ")]),_:1},8,["disabled"])),[[K,["system:Role:edit"]]])]),_:1},8,["span"]),l(v,{span:1.5},{default:e(()=>[N((d(),c(m,{type:"danger",plain:"",icon:"Delete",disabled:a(te),onClick:de},{default:e(()=>[u("\u5220\u9664 ")]),_:1},8,["disabled"])),[[K,["system:Role:remove"]]])]),_:1},8,["span"]),l(Ae,{showSearch:a(F),"onUpdate:showSearch":n[3]||(n[3]=t=>U(F)?F.value=t:null),onQueryTable:w,columns:a(k)},null,8,["showSearch","columns"])]),_:1}),N((d(),c(ze,{data:a(ee),onSelectionChange:De},{default:e(()=>[l(V,{type:"selection",width:"50",align:"center"}),a(k)[0].visible?(d(),c(V,{key:0,label:"\u56FE\u6807",align:"center",width:"60px",prop:"icon"},{default:e(t=>[i("div",bl,[i("img",{src:o.imagePath(t.row.roleAvatar)},null,8,yl)])]),_:1})):g("",!0),a(k)[1].visible?(d(),c(V,{label:"\u89D2\u8272\u540D\u79F0",align:"left",width:"180",key:"roleName",prop:"roleName","show-overflow-tooltip":!0},{default:e(t=>[i("div",kl,x(o.truncateString(t.row.roleName,10)),1),i("div",wl," \u4F1A\u8BDD: "+x(t.row.chatCount),1)]),_:1})):g("",!0),a(k)[2].visible?(d(),c(V,{label:"\u89D2\u8272\u63CF\u8FF0",align:"left",key:"responsibilities",prop:"responsibilities"},{default:e(t=>[i("div",Vl,x(t.row.responsibilities),1)]),_:1})):g("",!0),a(k)[6].visible?(d(),c(V,{label:"\u63A8\u9001",align:"center",width:"120",key:"target",prop:"target","show-overflow-tooltip":!0},{default:e(t=>[l(m,{type:"primary",disabled:t.row.saleFromRoleId,text:"",onClick:y=>Re(t.row)},{default:e(()=>[xl,u(" \u63A8\u9001 ")]),_:2},1032,["disabled","onClick"])]),_:1})):g("",!0),a(k)[6].visible?(d(),c(V,{label:"\u77E5\u8BC6\u5E93",align:"center",width:"120",key:"target",prop:"target","show-overflow-tooltip":!0},{default:e(t=>[l(m,{type:"primary",text:"",onClick:y=>Ue(t.row)},{default:e(()=>[Cl,u("\u77E5\u8BC6\u5E93 ")]),_:2},1032,["onClick"])]),_:1})):g("",!0),a(k)[6].visible?(d(),c(V,{label:"\u811A\u672C",align:"center",width:"110",key:"target",prop:"target","show-overflow-tooltip":!0},{default:e(t=>[t.row.scriptType=="flow"?(d(),c(m,{key:0,type:"success",text:"",bg:"",onClick:y=>W(t.row)},{default:e(()=>[Rl,u("\u6D41\u7A0B ")]),_:2},1032,["onClick"])):g("",!0),t.row.scriptType=="react"?(d(),c(m,{key:1,type:"danger",text:"",bg:"",onClick:y=>W(t.row)},{default:e(()=>[Sl,u("\u63A8\u7406 ")]),_:2},1032,["onClick"])):g("",!0),t.row.scriptType=="script"?(d(),c(m,{key:2,type:"primary",text:"",bg:"",onClick:y=>W(t.row)},{default:e(()=>[Nl,u("\u811A\u672C ")]),_:2},1032,["onClick"])):g("",!0)]),_:1})):g("",!0),a(k)[1].visible?(d(),c(V,{label:"\u63A8\u8350",align:"center",width:"100",key:"hasRecommended",prop:"hasRecommended","show-overflow-tooltip":!0},{default:e(t=>[l(pe,{modelValue:t.row.hasRecommended,"onUpdate:modelValue":y=>t.row.hasRecommended=y,"active-value":!0,"inactive-value":!1,onChange:y=>Ce(t.row.id)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1})):g("",!0),a(k)[1].visible?(d(),c(V,{label:"\u5206\u4EAB",align:"center",width:"100",key:"hasStatus",prop:"hasStatus","show-overflow-tooltip":!0},{default:e(t=>[l(pe,{modelValue:t.row.hasSale,"onUpdate:modelValue":y=>t.row.hasSale=y,"active-value":1,"inactive-value":0,disabled:t.row.saleFromRoleId,onChange:y=>Ne("hasSale",t.row.hasSale,t.row.id)},null,8,["modelValue","onUpdate:modelValue","disabled","onChange"])]),_:1})):g("",!0),a(k)[8].visible?(d(),c(V,{key:8,label:"\u64CD\u4F5C",align:"center",width:"100","class-name":"small-padding fixed-width"},{default:e(t=>[t.row.roleId!==1?(d(),c(ce,{key:0,content:"\u66F4\u65B0",placement:"top"},{default:e(()=>[N(l(m,{link:"",type:"primary",icon:"Edit",onClick:y=>ue(t.row)},null,8,["onClick"]),[[K,["system:Role:edit"]]])]),_:2},1024)):g("",!0),t.row.roleId!==1?(d(),c(ce,{key:1,content:"\u5220\u9664",placement:"top"},{default:e(()=>[N(l(m,{link:"",type:"primary",icon:"Delete",onClick:y=>de(t.row)},null,8,["onClick"]),[[K,["system:Role:remove"]]])]),_:2},1024)):g("",!0)]),_:1})):g("",!0)]),_:1},8,["data"])),[[je,a(L)]]),N(l(Oe,{total:a(j),page:a(_).pageNum,"onUpdate:page":n[4]||(n[4]=t=>a(_).pageNum=t),limit:a(_).pageSize,"onUpdate:limit":n[5]||(n[5]=t=>a(_).pageSize=t),onPagination:w},null,8,["total","page","limit"]),[[ve,a(j)>0]])]),_:1})]),_:1}),l(fe,{title:a(M),modelValue:a(S),"onUpdate:modelValue":n[13]||(n[13]=t=>U(S)?S.value=t:null),width:"800px","append-to-body":""},{footer:e(()=>[i("div",Il,[l(m,{type:"primary",onClick:Pe},{default:e(()=>[u("\u786E \u5B9A")]),_:1}),l(m,{onClick:$e},{default:e(()=>[u("\u53D6 \u6D88")]),_:1})])]),default:e(()=>[l(Y,{model:a(r),rules:a(ke),ref:"RoleRef","label-width":"80px"},{default:e(()=>[l(C,null,{default:e(()=>[l(v,{span:24,class:"editor-after-div"},{default:e(()=>[l(b,{label:"\u5934\u50CF",rules:[{required:!0,message:"\u8BF7\u4E0A\u4F20\u5934\u50CF",trigger:"blur"}]},{default:e(()=>[l(Be,{"file-list":a(oe),action:q.url+"?type=img&updateSupport="+q.updateSupport,"list-type":"picture-card","auto-upload":!0,limit:1,"on-success":Ve,"before-upload":xe,headers:q.headers,disabled:q.isUploading,"on-progress":o.handleFileUploadProgress},{default:e(()=>[l(Ke,{class:"avatar-uploader-icon"},{default:e(()=>[l(Ee)]),_:1})]),_:1},8,["file-list","action","headers","disabled","on-progress"])]),_:1})]),_:1})]),_:1}),l(v,{span:24},{default:e(()=>[l(b,{label:"\u89D2\u8272\u7C7B\u578B",prop:"roleType"},{default:e(()=>[l(me,{modelValue:a(r).roleType,"onUpdate:modelValue":n[6]||(n[6]=t=>a(r).roleType=t)},{default:e(()=>[(d(!0),Z(Xe,null,Ye(a(ye),t=>(d(),c(E,{key:t.key,label:t.key},{default:e(()=>[u(x(t.name),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(C,null,{default:e(()=>[l(v,{span:24},{default:e(()=>[l(b,{style:{width:"100%"},label:"\u4E1A\u52A1\u5206\u7C7B",prop:"industryCatalog"},{default:e(()=>[l(Le,{modelValue:a(r).industryCatalog,"onUpdate:modelValue":n[7]||(n[7]=t=>a(r).industryCatalog=t),data:a(J),props:{value:"id",label:"label",children:"children"},"value-key":"id",placeholder:"\u8BF7\u9009\u62E9\u5F52\u5C5E\u7C7B\u578B","check-strictly":""},null,8,["modelValue","data"])]),_:1})]),_:1})]),_:1}),l(C,null,{default:e(()=>[l(v,{span:24},{default:e(()=>[l(b,{label:"\u540D\u79F0",prop:"roleName"},{default:e(()=>[l(f,{modelValue:a(r).roleName,"onUpdate:modelValue":n[8]||(n[8]=t=>a(r).roleName=t),placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0",maxlength:"50"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(C,null,{default:e(()=>[l(v,{span:24},{default:e(()=>[l(b,{label:"\u63CF\u8FF0",prop:"responsibilities"},{default:e(()=>[l(f,{modelValue:a(r).responsibilities,"onUpdate:modelValue":n[9]||(n[9]=t=>a(r).responsibilities=t),placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u63CF\u8FF0",maxlength:"50"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(C,null,{default:e(()=>[l(v,{span:24},{default:e(()=>[l(b,{label:"\u5F00\u573A\u767D",prop:"greeting"},{default:e(()=>[l(f,{modelValue:a(r).greeting,"onUpdate:modelValue":n[10]||(n[10]=t=>a(r).greeting=t),placeholder:"\u4F60\u597D\uFF0C\u6211\u662F"+a(r).roleName+"\u{1F389} "},null,8,["modelValue","placeholder"])]),_:1})]),_:1})]),_:1}),l(C,null,{default:e(()=>[l(v,{span:24},{default:e(()=>[l(b,{label:"\u6267\u884C\u7C7B\u578B",prop:"scriptType"},{default:e(()=>[l(me,{modelValue:a(r).scriptType,"onUpdate:modelValue":n[11]||(n[11]=t=>a(r).scriptType=t)},{default:e(()=>[l(E,{value:o.script,label:"script"},{default:e(()=>[u("\u811A\u672C")]),_:1},8,["value"]),l(E,{value:o.flow,label:"flow"},{default:e(()=>[u("\u6D41\u7A0B")]),_:1},8,["value"]),l(E,{value:o.react,label:"react"},{default:e(()=>[u("\u63A8\u7406")]),_:1},8,["value"])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),a(r).knowledgeId?(d(),c(C,{key:0},{default:e(()=>[l(v,{span:24},{default:e(()=>[l(b,{label:"\u77E5\u8BC6\u5E93",prop:"knowledgeId"},{default:e(()=>[l(f,{modelValue:a(r).knowledgeId,"onUpdate:modelValue":n[12]||(n[12]=t=>a(r).knowledgeId=t),disabled:"disabled",placeholder:"\u8BF7\u8F93\u5165\u77E5\u8BC6\u5E93ID",maxlength:"512"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})):g("",!0)]),_:1},8,["model","rules"])]),_:1},8,["title","modelValue"]),l(Qe,{modelValue:a(A),"onUpdate:modelValue":n[14]||(n[14]=t=>U(A)?A.value=t:null),size:"50%","with-header":"false",title:a(G),direction:o.right,"before-close":o.handleCloseKnowDrawer},{header:e(()=>[i("div",Tl,[i("img",{src:o.imagePath(a(ie)),style:{float:"left"}},null,8,Ul),i("div",Dl,x(a(G)),1)])]),default:e(()=>[l(a(gl),{ref_key:"knowledgeDatasetRef",ref:ne},null,512)]),_:1},8,["modelValue","title","direction","before-close"]),l(fe,{modelValue:a(D),"onUpdate:modelValue":n[17]||(n[17]=t=>U(D)?D.value=t:null),title:"\u8BF7\u8F93\u5165\u63A8\u9001\u7EC4\u7EC7\u53F7",width:"500"},{footer:e(()=>[i("div",Ll,[l(m,{onClick:n[16]||(n[16]=t=>D.value=!1)},{default:e(()=>[u("\u53D6\u6D88")]),_:1}),l(m,{type:"primary",disabled:a(re)==!1,onClick:Se},{default:e(()=>[u(" \u786E\u8BA4\u63A8\u9001 ")]),_:1},8,["disabled"])])]),default:e(()=>[i("div",$l,[i("div",null,[i("img",{src:o.imagePath(a($).roleAvatar),style:{width:"70px",height:"70px","border-radius":"50%"}},null,8,ql)]),i("div",Pl,[i("span",Fl,[Al,u(":"+x(a($).roleName),1)]),i("span",zl,x(a($).responsibilities),1)])]),l(Y,{model:a(r)},{default:e(()=>[l(b,{label:"\u7EC4\u7EC7ID","label-width":"70px"},{default:e(()=>[l(f,{modelValue:a(I),"onUpdate:modelValue":n[15]||(n[15]=t=>U(I)?I.value=t:null),autocomplete:"off",placeholder:"\u8BF7\u8F93\u5165\u63A8\u9001\u7EC4\u7EC7\u53F7"},{append:e(()=>[l(m,{onClick:we,icon:"Search"})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"]),a(T).id?(d(),Z("div",Ol,[i("div",null,[i("p",null,[El,u(" \u7EC4\u7EC7ID: "+x(a(T).id),1)]),i("p",null,[Kl,u(" \u7EC4\u7EC7\u540D\u79F0: "+x(a(T).orgName),1)]),i("p",null,[Bl,u(" \u5907\u6CE8: "+x(a(T).remark),1)])])])):g("",!0)]),_:1},8,["modelValue"])])}}}),et=Me(jl,[["__scopeId","data-v-2ad817a2"]]);export{et as default};
