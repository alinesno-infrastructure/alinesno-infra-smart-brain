import{_ as W,c5 as X,m as Y,r as n,Q as Z,R as ee,a as s,H as te,o as b,l as ae,d as e,w as t,I as y,f as i,h as le,j as u,U as R,c as z,e as d,x as h,i as oe,z as se,A as ne,n as re}from"./index.2b31a27b.js";import{b as ie}from"./vectorDataset.02b10d35.js";const g=p=>(se("data-v-8755d923"),p=p(),ne(),p),de={class:"app-container"},ue=g(()=>d("span",{class:"text-large font-600 mr-3",style:{"font-size":"16px"}}," \u914D\u7F6E\u6570\u636E\u96C6\u6570\u636E\u96C6",-1)),ce={style:{background:"rgb(250, 250, 250)","border-radius":"5px",padding:"10px",display:"flex","flex-direction":"column",gap:"5px"}},pe={class:"role-icon",style:{"font-size":"14px"}},_e=g(()=>d("i",{class:"fa-solid fa-file-pdf"},null,-1)),me={style:{padding:"5px"}},ge={class:"role-icon",style:{"font-size":"14px"}},fe=g(()=>d("i",{class:"fa-solid fa-file-pdf"},null,-1)),ve=g(()=>d("div",{style:{"font-size":"14px",margin:"10px","font-weight":"bold"}}," \u5143\u6570\u636E ",-1)),be={__name:"knowledgeDetail",setup(p){const C=X(),N=Y(),{proxy:_}=re(),x=n([]),c=n(!1),B=n(!0),T=n([]),V=n(!0),K=n(!0),f=n(0),I=n([]),P=n([{metaDataItem:"\u96C6\u5408 ID",detail:"67b1618119984de00881fb9d"},{metaDataItem:"\u6570\u636E\u6765\u6E90",detail:"\u6587\u4EF6"},{metaDataItem:"\u6765\u6E90\u540D",detail:"01_\u6211\u5BF9\u667A\u80FD\u4F53\u57FA\u7840\u5E73\u53F0\u7684\u4EA7\u54C1\u8BBE\u8BA1.md"},{metaDataItem:"\u6765\u6E90\u5927\u5C0F",detail:"1.85 KB"},{metaDataItem:"\u521B\u5EFA\u65F6\u95F4",detail:"2025 - 02 - 16 11:54"},{metaDataItem:"\u66F4\u65B0\u65F6\u95F4",detail:"2025 - 02 - 16 11:54"},{metaDataItem:"\u539F\u6587\u957F\u5EA6",detail:"694"},{metaDataItem:"\u8BAD\u7EC3\u6A21\u5F0F",detail:"\u76F4\u63A5\u5206\u6BB5"},{metaDataItem:"\u5206\u5272\u5927\u5C0F",detail:"512"}]),U=n([{key:0,label:"\u56FE\u6807",visible:!0},{key:1,label:"\u6570\u636E\u96C6\u540D\u79F0",visible:!0},{key:2,label:"\u6240\u6709\u8005",visible:!0},{key:3,label:"\u63CF\u8FF0\u4FE1\u606F",visible:!0},{key:4,label:"\u72B6\u6001",visible:!0},{key:5,label:"\u8BBF\u95EE\u6743\u9650",visible:!0},{key:6,label:"\u6570\u636E\u603B\u91CF",visible:!0},{key:7,label:"\u521B\u5EFA\u65F6\u95F4",visible:!0},{key:8,label:"\u7F16\u8F91",visible:!0}]),L=()=>{N.back()},Q=Z({form:{},queryParams:{pageNum:1,pageSize:10,DatasetName:void 0,searchText:void 0,topK:10,status:void 0,deptId:void 0},rules:{applicationId:[{required:!0,message:"\u5E94\u7528\u7F16\u53F7\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],name:[{required:!0,message:"\u5E94\u7528\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"},{min:2,max:20,message:"\u5E94\u7528\u540D\u79F0\u957F\u5EA6\u5FC5\u987B\u4ECB\u4E8E 2 \u548C 20 \u4E4B\u95F4",trigger:"blur"}],searchText:[{required:!0,message:"\u663E\u793A\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],description:[{required:!0,message:"\u63CF\u8FF0\u4FE1\u606F\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],datasetStatus:[{required:!0,message:"\u57DF\u540D\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],accessPermission:[{required:!0,message:"\u5B89\u5168\u5B58\u50A8\u8DEF\u5F84\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],datasetSize:[{required:!0,message:"\u5E94\u7528\u76EE\u6807\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}}),{queryParams:a,form:ye,rules:$}=ee(Q);function k(){c.value=!0;let l=C.query.datasetId;console.log("datasetId = "+l),a.value.datesetId=l,ie(_.addDateRange(a.value,I.value)).then(o=>{c.value=!1,x.value=o.data,f.value=o.total}).catch(()=>{c.value=!1})}function v(){_.$refs.queryRef.validate(l=>{console.log("---> "+l),l&&k()})}function j(){I.value=[],_.resetForm("queryRef"),c.value=!1,a.value.name=void 0,a.value.ownerId=void 0,_.$refs.deptTreeRef.setCurrentKey(null),v()}function A(l){T.value=l.map(o=>o.id),V.value=l.length!=1,K.value=!l.length}return(l,o)=>{const E=s("el-page-header"),F=s("el-input"),w=s("el-form-item"),D=s("el-button"),H=s("el-form"),m=s("el-table-column"),S=s("el-table"),G=s("pagination"),J=s("el-scrollbar"),q=s("el-col"),M=s("el-row"),O=te("loading");return b(),ae("div",de,[e(E,{onBack:L},{content:t(()=>[ue]),_:1}),e(M,{gutter:20,style:{"margin-top":"20px"}},{default:t(()=>[e(q,{span:19},{default:t(()=>[y(e(H,{model:i(a),ref:"queryRef",rule:i($),inline:!0,"label-width":"100px"},{default:t(()=>[e(w,{label:"\u641C\u7D22\u6761\u4EF6",prop:"searchText"},{default:t(()=>[e(F,{modelValue:i(a).searchText,"onUpdate:modelValue":o[0]||(o[0]=r=>i(a).searchText=r),placeholder:"\u8BF7\u8F93\u5165\u641C\u7D22\u6761\u4EF6",clearable:"",style:{width:"540px"},onKeyup:le(v,["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),e(w,null,{default:t(()=>[e(D,{type:"primary",icon:"Search",onClick:v},{default:t(()=>[u("\u641C\u7D22")]),_:1}),e(D,{icon:"Refresh",onClick:j},{default:t(()=>[u("\u91CD\u7F6E")]),_:1})]),_:1})]),_:1},8,["model","rule"]),[[R,B.value]]),e(J,{style:{height:"calc(100vh - 180px)"}},{default:t(()=>[y((b(),z(S,{data:x.value,onSelectionChange:A},{default:t(()=>[e(m,{type:"index",width:"50",label:"\u5E8F\u53F7",align:"center"}),U.value[1].visible?(b(),z(m,{label:"\u67E5\u8BE2\u7ED3\u679C",align:"left",key:"name",prop:"name"},{default:t(r=>[d("div",ce,[d("div",pe,[u(" \u8BC4\u5206:"),_e,u(" "+h(r.row.score),1)]),d("div",me,h(l.truncateString(r.row.document_content,300)),1),d("div",ge,[u(" \u5F15\u7528: "),fe,u(" "+h(r.row.document_title),1)])])]),_:1})):oe("",!0)]),_:1},8,["data"])),[[O,c.value]]),y(e(G,{total:f.value,page:i(a).pageNum,"onUpdate:page":o[1]||(o[1]=r=>i(a).pageNum=r),limit:i(a).pageSize,"onUpdate:limit":o[2]||(o[2]=r=>i(a).pageSize=r),onPagination:k},null,8,["total","page","limit"]),[[R,f.value>0]])]),_:1})]),_:1}),e(q,{span:5},{default:t(()=>[ve,e(S,{data:P.value,stripe:""},{default:t(()=>[e(m,{prop:"metaDataItem",width:"100",label:"\u6570\u636E\u9879"}),e(m,{prop:"detail",label:"\u8BE6\u60C5"})]),_:1},8,["data"])]),_:1})]),_:1})])}}},Ie=W(be,[["__scopeId","data-v-8755d923"]]);export{Ie as default};
