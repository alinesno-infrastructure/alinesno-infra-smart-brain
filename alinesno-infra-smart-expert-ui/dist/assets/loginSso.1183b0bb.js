import{r as g,p as c,q as l,u as s,s as u,t as k,o as d,l as h}from"./index.2b31a27b.js";const b={__name:"loginSso",setup(f){const a=g(!1);debugger;const n=c("back")||l.currentRoute.value.query.back,t=c("ticket")||l.currentRoute.value.query.ticket;console.log("back = "+n+" , ticket = "+t),console.log("\u83B7\u53D6 back \u53C2\u6570\uFF1A",n),console.log("\u83B7\u53D6 ticket \u53C2\u6570\uFF1A",t),s().isSsoLogin().then(o=>{console.log("/isLogin \u8FD4\u56DE\u6570\u636E\uFF1A",o);debugger;a.value=o.data}),u(()=>{t?r(t):i()});function i(){var o=location.origin+"/sso/login?back="+encodeURIComponent(location.href);console.log("clientLoginUrl = "+o),s().goSsoAuthUrl(o).then(e=>{console.log("/sso/getSsoAuthUrl \u8FD4\u56DE\u6570\u636E",e);debugger;location.href=e.data})}function r(o){s().doLoginByTicket(o).then(e=>{console.log("/sso/getSsoAuthUrl \u8FD4\u56DE\u6570\u636E",e),k(e.AdminToken),location.href=decodeURIComponent(n)})}return(o,e)=>(d(),h("div",null," this is a sso login page!! "))}};export{b as default};
