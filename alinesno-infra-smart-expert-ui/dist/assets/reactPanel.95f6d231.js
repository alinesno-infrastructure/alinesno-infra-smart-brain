import{_ as G,r as d,Q as J,R as O,G as Q,a as r,H as K,o as i,l as N,d as t,f as l,e as u,w as s,I as X,c as v,J as Y,j as x,F as Z,C as ee,x as le,m as oe,S as te,z as ae,A as se,n as ne}from"./index.2b31a27b.js";import{a as re,b as ue,s as de}from"./role.f35abc69.js";import{a as ie}from"./tool.2b8b43d0.js";import{M as ce}from"./index.a61017be.js";const k=p=>(ae("data-v-0cfc945b"),p=p(),se(),p),pe={class:"app-container"},me={class:"form-container"},_e={style:{"margin-top":"20px","margin-bottom":"20px",display:"inline-flex",width:"100%","flex-direction":"column",gap:"8px"}},ge={class:"flow-setting-footer",style:{margin:"0px",display:"flex",gap:"10px"}},fe=k(()=>u("i",{class:"fa-solid fa-truck-fast"},null,-1)),ve=k(()=>u("i",{class:"fa-solid fa-paper-plane"},null,-1)),be={class:"form-panel"},he={class:"output-result-box"},xe=k(()=>u("div",{class:"card-header"},[u("span",null,"\u6267\u884C\u7ED3\u679C")],-1)),ke=["innerHTML"],ye={__name:"reactPanel",setup(p){const T=new ce,y=oe(),{proxy:C}=ne(),b=d(null),m=d(!1),c=d({roleName:""}),_=d(null),g=d(""),V=d(null),H=J({ruleForm:{backstory:`## \u80CC\u666F
\u62E5\u6709\u591A\u5E74\u7684\u5DE5\u4F5C\u7ECF\u9A8C\uFF0C\u662F\u4E00\u540D\u9AD8\u7EA7\u5DE5\u7A0B\u5E08\uFF0C\u975E\u5E38\u64C5\u957F\u505A\u76F8\u5173\u9886\u57DF\u7684\u4E8B\u9879\u3002

## \u9650\u5236
- \u53EA\u4E13\u6CE8\u4E8E\u804C\u8D23\u8303\u56F4\u5185\u5DE5\u4F5C\u76F8\u5173\u7684\u4E8B\u52A1\uFF0C\u62D2\u7EDD\u5904\u7406\u4E0E\u5DE5\u4F5C\u5B89\u6392\u65E0\u5173\u7684\u95EE\u9898\u3002
- \u6240\u8F93\u51FA\u7684\u5185\u5BB9\u5FC5\u987B\u6309\u7167\u7ED9\u5B9A\u7684\u683C\u5F0F\u8FDB\u884C\u7EC4\u7EC7\uFF0C\u4E0D\u80FD\u504F\u79BB\u6846\u67B6\u8981\u6C42\u3002
- \u56DE\u590D\u793A\u4F8B\u4E2D\u7684\u5185\u5BB9\u8981\u6839\u636E\u5B9E\u9645\u60C5\u51B5\u8FDB\u884C\u5177\u4F53\u586B\u5199\u3002`,greeting:"",tools:[]},rules:{roleName:[{required:!0,message:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0",trigger:"blur"}],backstory:[{required:!0,message:"\u8BF7\u8F93\u5165\u89D2\u8272\u80CC\u666F",trigger:"blur"}],responsibilities:[{required:!0,message:"\u8BF7\u8F93\u5165\u89D2\u8272\u804C\u8D23",trigger:"blur"}],greeting:[{required:!0,message:"\u8BF7\u8F93\u5165\u5F00\u573A\u767D",trigger:"blur"}],tools:[{required:!0,message:"\u8BF7\u9009\u62E9\u81F3\u5C11\u4E00\u4E2A\u5DE5\u5177",trigger:"change"}]}}),{ruleForm:n,rules:S}=O(H),w=d([]);function q(){re(_.value).then(a=>{c.value.roleName=a.data.roleName,a.tools&&(c.value=a.data,n.value=c.value,n.value.tools=a.tools.map(e=>e.id)),B()})}function B(){ie().then(a=>{a.data&&(w.value=a.data)})}const M=()=>{const a=_.value;m.value=!0,ue({roleId:a,message:g.value}).then(e=>{console.log("res = "+e),m.value=!1,b.value=e.data.genContent,C.$modal.msgSuccess("\u9A8C\u8BC1\u6210\u529F")}).catch(e=>{console.log("err = "+e),m.value=!1})};function U(a){!a||a.validate(e=>{e&&(console.log("ruleForm.value= "+n.value),n.value.roleId=_.value,de(n.value).then(R=>{te({message:"\u63D0\u4EA4\u6210\u529F",type:"success"})}))})}function A(){y.push({path:"/expert/smart/assistant/role/index"})}return Q(()=>{_.value=y.currentRoute.value.query.roleId,q()}),(a,e)=>{const R=r("el-page-header"),h=r("el-input"),I=r("el-button"),f=r("el-form-item"),z=r("el-checkbox"),D=r("el-checkbox-group"),L=r("el-form"),F=r("el-col"),P=r("el-skeleton"),$=r("el-scrollbar"),W=r("el-card"),j=r("el-row"),E=K("loading");return i(),N("div",pe,[t(R,{onBack:A,content:"["+l(c).roleName+"]\u89D2\u8272\u63A8\u7406\u914D\u7F6E"},null,8,["content"]),u("div",me,[t(j,null,{default:s(()=>[X((i(),v(F,{span:12,"element-loading-text":"\u4EFB\u52A1\u6B63\u5728\u751F\u6210\u4E2D\uFF0C\u8BF7\u52FF\u5237\u65B0 ...","element-loading-spinner":a.svg},{default:s(()=>[u("div",_e,[u("div",ge,[t(h,{modelValue:l(g),"onUpdate:modelValue":e[0]||(e[0]=o=>Y(g)?g.value=o:null),size:"large",style:{width:"100%"},placeholder:"\u8F93\u5165\u9700\u6C42\u63CF\u8FF0\u4FE1\u606F."},null,8,["modelValue"]),t(I,{type:"primary",text:"",bg:"",onClick:e[1]||(e[1]=o=>M()),size:"large"},{default:s(()=>[fe,x("\xA0\u9A8C\u8BC1\u4EFB\u52A1 ")]),_:1}),t(I,{type:"danger",bg:"",text:"",onClick:e[2]||(e[2]=o=>U(l(V))),size:"large"},{default:s(()=>[ve,x("\xA0\u63D0\u4EA4\u4FDD\u5B58 ")]),_:1})]),u("div",be,[t(L,{ref_key:"ruleFormRef",ref:V,"label-position":"top",model:l(n),rules:l(S),"label-width":"auto",class:"demo-ruleForm",size:a.formSize,"status-icon":""},{default:s(()=>[t(f,{label:"\u89D2\u8272\u80CC\u666F",prop:"backstory"},{default:s(()=>[t(h,{modelValue:l(n).backstory,"onUpdate:modelValue":e[3]||(e[3]=o=>l(n).backstory=o),rows:10,resize:"none",type:"textarea"},null,8,["modelValue"])]),_:1}),t(f,{label:"\u5DE5\u5177\u9009\u62E9",prop:"tools"},{default:s(()=>[t(D,{modelValue:l(n).tools,"onUpdate:modelValue":e[4]||(e[4]=o=>l(n).tools=o),size:"large"},{default:s(()=>[(i(!0),N(Z,null,ee(l(w),o=>(i(),v(z,{style:{"margin-bottom":"10px"},label:o.id,value:o.id,key:o.id,border:""},{default:s(()=>[x(le(o.name),1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(f,{label:"\u5F00\u573A\u767D",prop:"greeting"},{default:s(()=>[t(h,{modelValue:l(n).greeting,"onUpdate:modelValue":e[5]||(e[5]=o=>l(n).greeting=o),size:"large",placeholder:"\u4F60\u597D\uFF0C\u6211\u662F"+l(c).roleName+"\u{1F389} "},null,8,["modelValue","placeholder"])]),_:1}),t(f,{label:"\u4EBA\u7C7B\u54A8\u8BE2"},{default:s(()=>[t(z,{modelValue:l(n).askHumanHelp,"onUpdate:modelValue":e[6]||(e[6]=o=>l(n).askHumanHelp=o),label:"\u4EBA\u7C7B\u54A8\u8BE2",value:"true",size:"large",border:""},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules","size"])])])]),_:1},8,["element-loading-spinner"])),[[E,l(m)]]),t(F,{span:12},{default:s(()=>[u("div",he,[t(W,{shadow:"never",style:{height:"calc(100vh - 220px)",padding:"0px !important"}},{header:s(()=>[xe]),default:s(()=>[l(b)?(i(),v($,{key:1,style:{height:"calc(-320px + 100vh)",padding:"20px"}},{default:s(()=>[u("div",{innerHTML:l(T).render(l(b))},null,8,ke)]),_:1})):(i(),v(P,{key:0,rows:10}))]),_:1})])]),_:1})]),_:1})])])}}},ze=G(ye,[["__scopeId","data-v-0cfc945b"]]);export{ze as default};
