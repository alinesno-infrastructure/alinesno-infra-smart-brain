import{x as B,_ as I,r as l,h as V,j,a as d,C as G,b as s,c as o,D as R,u as c,y as z,w as h,F as A,f as E,S as m,d as t,e as _,G as i,t as k,l as F,ag as q,ah as K,K as L,ai as O}from"./index.d9d30be3.js";import H from"./channelGroupDiscover.8b6fb390.js";const J={class:"chatChannel-session-list-box"},Q=["onMouseover","onMouseleave"],U={class:"chatChannel-icon"},W=["src"],X={key:1,src:"http://data.linesno.com/icons/sepcialist/dataset_56.png",style:{width:"40px",height:"40px","border-radius":"5px"}},Y=["onClick"],Z={class:"chatChannel-desc"},ee={class:"channel-type"},ne={key:0,class:"fa-solid fa-users-gear"},ae={key:1,class:"fa-solid fa-user-ninja"},se={key:2,class:"fa-solid fa-user-shield"},oe=B({name:"Role"}),te=Object.assign(oe,{emits:["onSendParams"],setup(le,{emit:ce}){const C=l(!1),f=V(),x=l(null),w=l(null),u=l([{id:"1",channelName:"\u516C\u5171\u9891\u9053",channelDesc:"\u8FD9\u662F\u516C\u5171\u8BA8\u8BBA\u670D\u52A1\u9891\u9053",icon:""}]),v=l("0");function y(n){const a=n.id;f.push({path:"/channelChat",query:{channel:a}})}function T(n){K(n.id).then(a=>{p()})}function p(){const n=L("channel");v.value=n,O().then(a=>{u.value=a.data,C.value=!1})}function b(n){u.value.forEach(a=>{a.showTools=a===n})}function D(n){let a="1746435800232665090";return n.icon&&(a=n.icon),"/prod-api/v1/api/infra/base/im/chat/displayImage/"+a}function S(n){n.showTools=!1}return p(),j(()=>f.currentRoute.value.path,n=>{p()},{immediate:!0,deep:!0}),(n,a)=>{const g=d("el-col"),M=d("el-button"),N=d("el-row"),P=d("el-scrollbar"),$=G("loading");return s(),o("div",J,[R((s(),z(P,{style:{float:"left",height:"calc(100vh - 200px)"}},{default:h(()=>[(s(!0),o(A,null,E(c(u),e=>(s(),o("div",{class:m(["chatChannel-session",e.id==c(v)?"select-chatChannel":""]),onMouseover:r=>b(e),onMouseleave:r=>S(e),key:e},[t(N,null,{default:h(()=>[t(g,{span:5,onClick:r=>y(e)},{default:h(()=>[_("div",U,[e.channelType!=="1"?(s(),o("img",{key:0,src:D(e),style:{width:"40px",height:"40px","border-radius":"5px"}},null,8,W)):i("",!0),e.channelType==="1"?(s(),o("img",X)):i("",!0)])]),_:2},1032,["onClick"]),t(g,{span:19},{default:h(()=>[_("div",{class:"chatChannel-title",onClick:r=>y(e)}," #"+k(e.channelName),9,Y),_("div",Z,k(n.truncateString(e.channelDesc,12)),1),t(M,{type:"danger",class:m(e.showTools&&e.channelType!=="1"?"show-tools":"hide-tools"),link:"",style:{position:"absolute",top:"5px",right:"10px"},icon:"Close",size:"small",onClick:r=>T(e)},{default:h(()=>[F("\u5220\u9664")]),_:2},1032,["class","onClick"])]),_:2},1024),_("span",ee,[e.channelType==="9"?(s(),o("i",ne)):i("",!0),e.channelType==="2"?(s(),o("i",ae)):i("",!0),e.channelType==="1"?(s(),o("i",se)):i("",!0)])]),_:2},1024)],42,Q))),128))]),_:1})),[[$,c(C)]]),t(c(q),{ref_key:"createChildComp",ref:x},null,512),t(c(H),{ref_key:"addChildComp",ref:w},null,512)])}}}),re=I(te,[["__scopeId","data-v-4364a6e8"]]);export{re as default};
