import{_ as V,x as j,r as c,h as G,j as O,a as u,C as z,b as s,c as t,e as h,d as o,w as l,l as f,D as A,u as i,y as E,F,f as L,S as w,G as r,t as T,ag as q,ah as K,K as H,ai as J}from"./index.d9d30be3.js";import Q from"./channelGroupDiscover.8b6fb390.js";const U={class:"chatChannel-session-list-box"},W={class:"chatChannel-builder"},X=["onMouseover","onMouseleave"],Y={class:"chatChannel-icon"},Z=["src"],ee={key:1,src:"http://data.linesno.com/icons/sepcialist/dataset_56.png",style:{width:"40px",height:"40px","border-radius":"5px"}},ne=["onClick"],ae={class:"chatChannel-desc"},se={class:"channel-type"},te={key:0,class:"fa-solid fa-users-gear"},oe={key:1,class:"fa-solid fa-user-ninja"},le={key:2,class:"fa-solid fa-user-shield"},ce=j({name:"Role"}),he=Object.assign(ce,{emits:["onSendParams"],setup(ie,{emit:re}){const v=c(!1),y=G(),g=c(null),m=c(null),_=c([{id:"1",channelName:"\u516C\u5171\u9891\u9053",channelDesc:"\u8FD9\u662F\u516C\u5171\u8BA8\u8BBA\u670D\u52A1\u9891\u9053",icon:""}]),k=c("0");function x(n){const a=n.id;y.push({path:"/chat",query:{channel:a}})}function D(){g.value.handleOpenChannel(!0)}function S(){m.value.handleOpenChannel(!0)}function M(n){K(n.id).then(a=>{p()})}function p(){const n=H("channel");k.value=n,J().then(a=>{_.value=a.data,v.value=!1})}function N(n){_.value.forEach(a=>{a.showTools=a===n})}function P(n){let a="1746435800232665090";return n.icon&&(a=n.icon),"/prod-api/v1/api/infra/base/im/chat/displayImage/"+a}function $(n){n.showTools=!1}return p(),O(()=>y.currentRoute.value.path,n=>{p()},{immediate:!0,deep:!0}),(n,a)=>{const C=u("el-button"),b=u("el-col"),B=u("el-row"),I=u("el-scrollbar"),R=z("loading");return s(),t("div",U,[h("div",W,[o(C,{type:"primary",text:"",bg:"",icon:"Link",onClick:S},{default:l(()=>[f("\u52A0\u5165\u9891\u9053")]),_:1}),o(C,{type:"danger",text:"",bg:"",icon:"ChatRound",onClick:D},{default:l(()=>[f("\u521B\u5EFA\u9891\u9053")]),_:1})]),A((s(),E(I,{style:{float:"left",height:"calc(100vh - 200px)"}},{default:l(()=>[(s(!0),t(F,null,L(i(_),e=>(s(),t("div",{class:w(["chatChannel-session",e.id==i(k)?"select-chatChannel":""]),onMouseover:d=>N(e),onMouseleave:d=>$(e),key:e},[o(B,null,{default:l(()=>[o(b,{span:5,onClick:d=>x(e)},{default:l(()=>[h("div",Y,[e.channelType!=="1"?(s(),t("img",{key:0,src:P(e),style:{width:"40px",height:"40px","border-radius":"5px"}},null,8,Z)):r("",!0),e.channelType==="1"?(s(),t("img",ee)):r("",!0)])]),_:2},1032,["onClick"]),o(b,{span:19},{default:l(()=>[h("div",{class:"chatChannel-title",onClick:d=>x(e)}," #"+T(e.channelName),9,ne),h("div",ae,T(n.truncateString(e.channelDesc,12)),1),o(C,{type:"danger",class:w(e.showTools&&e.channelType!=="1"?"show-tools":"hide-tools"),link:"",style:{position:"absolute",top:"5px",right:"10px"},icon:"Close",size:"small",onClick:d=>M(e)},{default:l(()=>[f("\u5220\u9664")]),_:2},1032,["class","onClick"])]),_:2},1024),h("span",se,[e.channelType==="9"?(s(),t("i",te)):r("",!0),e.channelType==="2"?(s(),t("i",oe)):r("",!0),e.channelType==="1"?(s(),t("i",le)):r("",!0)])]),_:2},1024)],42,X))),128))]),_:1})),[[R,i(v)]]),o(i(q),{ref_key:"createChildComp",ref:g},null,512),o(i(Q),{ref_key:"addChildComp",ref:m},null,512)])}}}),_e=V(he,[["__scopeId","data-v-2ed251f1"]]);export{_e as default};
