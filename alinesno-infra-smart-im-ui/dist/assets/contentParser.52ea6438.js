import{_ as q,r as l,o as z,a as s,C as A,b as f,c as x,d as t,w as a,e as i,t as j,u as n,D as M,y as S,G as k,H as O,h as U,g as F,n as b,p as J,i as K}from"./index.d9d30be3.js";import Q from"./chatPanel.7a6ad93a.js";import{a as W}from"./contentFormatter.0bc48627.js";import X from"./chapterEditor.9f30a867.js";import Y from"./overview.1f7247b2.js";import Z from"./reviewResult.4dcb0674.js";import"./index.23422e4c.js";import"./speaking.fcefe2d3.js";import"./userQuestionSuggestionsPanel.cb0efdab.js";import"./roleChat.91ed275b.js";import"./chatsse.0657b2ca.js";import"./index.79cc8ea8.js";import"./longText.4d182a25.js";import"./docx-preview.7258dbdc.js";const ee=_=>(J("data-v-b58e172c"),_=_(),K(),_),te={class:"content-parser-container"},oe={style:{"font-size":"16px","font-weight":"bold",display:"flex","align-items":"center",gap:"5px","justify-content":"flex-start"}},ne=ee(()=>i("i",{class:"fa-solid fa-arrow-left"},null,-1)),le={class:"document-wrapper"},se={style:{padding:"20px","padding-top":"0px"}},ae={class:"aip-flow-drawer"},re={style:{"margin-top":"0px"}},ce={__name:"contentParser",setup(_){const D=U(),g=F(),p=l(1),u=l(null),v=l(null),r=l(!1),C=l(null),P=l(g.query.sceneId);l(g.query.channelStreamId);const d=l({sceneName:"\u653F\u52A1\u516C\u6587\u5185\u5BB9\u6392\u7248 \u4E1A\u52A1\u5F00\u53D1\u5E73\u53F0"}),m=e=>{console.log("index = "+e),p.value=e,r.value=!1},I=e=>{p.value=2,r.value=!1,b(()=>{console.log("reviewList = "+e),console.log("resultResultRef = "+v.value),v.value.setRuleContent(e)})},E=()=>{W(P.value).then(e=>{d.value=e.data,u.value.setData(d.value.contentPromptContent)})},h=e=>{console.log("--->> editorRoleId = "+e),r.value=!0,b(()=>{C.value.openChatBox(e)})},y=e=>{const o=u.value.getData();e(o)},G=e=>{console.log("originalContent = "+e.originalContent),u.value.locateAfterText(e.originalContent)},V=()=>{D.back()};return z(()=>{console.log("chapterEditorRef = ",u.value),E()}),(e,o)=>{const B=s("el-button"),N=s("el-scrollbar"),R=s("el-col"),w=s("el-step"),H=s("el-steps"),T=s("el-row"),L=s("el-drawer"),$=A("loading");return f(),x("div",te,[t(T,null,{default:a(()=>[t(R,{span:10},{default:a(()=>{var c;return[i("div",oe,[t(B,{type:"primary",text:"",bg:"",onClick:o[0]||(o[0]=ie=>V())},{default:a(()=>[ne]),_:1}),i("span",null,j((c=n(d))==null?void 0:c.sceneName),1)]),M((f(),x("div",le,[t(N,{class:"scrollable-area",style:{height:"calc(100vh - 120px)","margin-top":"10px","padding-right":"0px"}},{default:a(()=>[t(n(X),{ref_key:"chapterEditorRef",ref:u},null,512)]),_:1})])),[[$,e.loadingDocument]])]}),_:1}),t(R,{span:14},{default:a(()=>[i("div",se,[t(H,{class:"mb-4",style:{width:"100%",cursor:"pointer"},space:200,active:n(p),simple:""},{default:a(()=>[t(w,{onClick:o[1]||(o[1]=c=>m(1)),title:"\u6587\u672C\u6982\u89C8",icon:e.Edit},null,8,["icon"]),t(w,{onClick:o[2]||(o[2]=c=>m(2)),title:"\u5185\u5BB9\u68C0\u67E5",icon:e.Edit},null,8,["icon"])]),_:1},8,["active"]),n(p)==1?(f(),S(Y,{key:0,currentSceneInfo:n(d),onGetContentPromptContent:y,onHandleStepClick:m,onDisplayDocumentReviewList:I,onGenSingleChapterContent:h},null,8,["currentSceneInfo"])):k("",!0),n(p)==2?(f(),S(Z,{key:1,ref_key:"resultResultRef",ref:v,currentSceneInfo:n(d),onGetContentPromptContent:y,onHandlePointTo:G,onHandleStepClick:m,onGenSingleChapterContent:h},null,8,["currentSceneInfo"])):k("",!0)])]),_:1})]),_:1}),i("div",ae,[t(L,{modelValue:n(r),"onUpdate:modelValue":o[3]||(o[3]=c=>O(r)?r.value=c:null),modal:!1,size:"40%",style:{"max-width":"700px"},title:"\u9884\u89C8\u4E0E\u8C03\u8BD5","with-header":!0},{default:a(()=>[i("div",re,[t(n(Q),{ref_key:"roleChatPanelRef",ref:C},null,512)])]),_:1},8,["modelValue"])])])}}},Se=q(ce,[["__scopeId","data-v-b58e172c"]]);export{Se as default};
