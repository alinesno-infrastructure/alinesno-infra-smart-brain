import{_ as z,g as D,r as d,B,o as G,a as c,b as u,c as b,e as n,d as l,w as t,F as q,f as A,y as g,l as v,G as E,t as K,I as M,p as j,i as H}from"./index.d9d30be3.js";import{g as J}from"./documentReview.9b9cb1b2.js";import{g as Q,a as W,b as X}from"./documentReviewSceneInfo.cbf698f4.js";const p=f=>(j("data-v-2a92f64f"),f=f(),H(),f),Y={class:"contract-review-container"},Z={class:"review-methods-container"},$=p(()=>n("div",{class:"review-methods-title"},"\u5BA1\u67E5\u65B9\u5F0F",-1)),ee={class:"form-container"},te=p(()=>n("i",{class:"fa-solid fa-rocket"},null,-1)),ae=p(()=>n("i",{class:"fa-solid fa-train-subway"},null,-1)),oe={class:"gen-overview-container",style:{"margin-top":"10px"}},ie=p(()=>n("i",{class:"fa-solid fa-paper-plane"},null,-1)),le=p(()=>n("i",{class:"fa-solid fa-paper-plane"},null,-1)),ne={class:"contract-overview-container"},se=p(()=>n("div",{class:"contract-overview-title"},"\u5408\u540C\u6982\u89C8",-1)),re={class:"contract-info-container"},de={class:"contract-info-item"},ce=p(()=>n("div",{class:"contract-info-label"},"\u5185\u5BB9\u6982\u89C8",-1)),ue={class:"contract-info-value"},ve={__name:"documentOverview",emits:["handleStepClick","genSingleChapterContent"],setup(f,{emit:w}){const y=D(),L=d(y.query.channelStreamId),o=d({}),I=d(),O=d(y.query.sceneId),h=d(null),e=B({contractType:"73",reviewPosition:"1",reviewListOption:"aigen",reviewListKnowledgeBase:""}),S=d([]),V=d([]),F=B({contractType:[{required:!0,message:"\u8BF7\u8F93\u5165\u5408\u540C\u7C7B\u578B",trigger:"blur"}],reviewPosition:[{required:!0,message:"\u8BF7\u9009\u62E9\u5BA1\u67E5\u7ACB\u573A",trigger:"change"}],reviewListOption:[{required:!0,message:"\u8BF7\u9009\u62E9\u5BA1\u67E5\u6E05\u5355\u9009\u9879",trigger:"change"},{validator:(r,i,s)=>{i==="\u4ECE\u77E5\u8BC6\u5E93\u9009\u62E9"&&!e.selectedScenario?s(new Error("\u4ECE\u77E5\u8BC6\u5E93\u9009\u62E9\u65F6\uFF0C\u8BF7\u9009\u62E9\u5177\u4F53\u7684\u5217\u8868\u9879")):s()},trigger:"change"}],selectedScenario:[{validator:(r,i,s)=>{e.reviewListOption==="\u4ECE\u77E5\u8BC6\u5E93\u9009\u62E9"&&!i?s(new Error("\u8BF7\u9009\u62E9\u5177\u4F53\u7684\u573A\u666F")):s()},trigger:"change"}],auditId:[{required:!0,message:"\u8BF7\u9009\u62E9\u77E5\u8BC6\u5E93",trigger:"change"}]}),C=async()=>{const r=I.value;!r||await r.validate(i=>{if(i){if(console.log("submit!",e),e.reviewListOption=="dataset")e.sceneId=o.value.id,e.channelStreamId=L.value,Q(e).then(s=>{w("handleStepClick",2)});else if(e.reviewListOption=="aigen"){if(e.sceneId=o.value.id,e.channelStreamId=L.value,h.value=M.service({lock:!0,background:"rgba(255, 255, 255, 0.4)",customClass:"custom-loading"}),e.reviewListOption=="aigen"){let s="\u6B63\u5728\u4F7F\u7528AI\u751F\u6210\u6821\u9A8C\u89C4\u5219\u5185\u5BB9\uFF0C\u8BF7\u7A0D\u7B49.";h.value.setText(s),w("genSingleChapterContent",o.value.analysisAgentEngineer)}W(e).then(s=>{console.log("res = "+s),w("handleStepClick",2),h.value.close()})}}else console.log("error submit!")})},R=()=>{J(O.value).then(r=>{o.value=r.data,S.value=r.data.contractTypes,o.value&&(o.value.contractType&&(e.contractType=o.value.contractType),o.value.reviewPosition&&(e.reviewPosition=o.value.reviewPosition),o.value.reviewListOption&&(e.reviewListOption=o.value.reviewListOption),o.value.auditId&&(e.auditId=o.value.auditId),k())})},N=()=>{X(O.value).then(r=>{console.log("res = "+r),V.value=r.data})},k=()=>{e.reviewListOption==="dataset"&&N()};return G(()=>{R()}),(r,i)=>{const s=c("el-option"),T=c("el-select"),m=c("el-form-item"),_=c("el-radio"),x=c("el-radio-group"),U=c("el-form"),P=c("el-button");return u(),b("div",Y,[n("div",Z,[$,n("div",ee,[l(U,{ref_key:"ruleFormRef",ref:I,model:e,rules:F,"label-width":"120px","label-position":"top",size:"large"},{default:t(()=>[l(m,{label:"\u5408\u540C\u7C7B\u578B",prop:"contractType"},{default:t(()=>[l(T,{modelValue:e.contractType,"onUpdate:modelValue":i[0]||(i[0]=a=>e.contractType=a)},{default:t(()=>[(u(!0),b(q,null,A(S.value,a=>(u(),g(s,{key:a.scenarioId,label:a.title,value:a.scenarioId},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(m,{label:"\u9009\u62E9\u5BA1\u67E5\u7ACB\u573A",prop:"reviewPosition"},{default:t(()=>[l(x,{modelValue:e.reviewPosition,"onUpdate:modelValue":i[1]||(i[1]=a=>e.reviewPosition=a)},{default:t(()=>[l(_,{border:"",value:"1",label:"\u7532\u65B9\u7ACB\u573A"},{default:t(()=>[v("\u7532\u65B9\u7ACB\u573A")]),_:1}),l(_,{border:"",value:"2",label:"\u4E59\u65B9\u7ACB\u573A"},{default:t(()=>[v("\u4E59\u65B9\u7ACB\u573A")]),_:1}),l(_,{border:"",value:"9",label:"\u4E2D\u7ACB\u7ACB\u573A"},{default:t(()=>[v("\u4E2D\u7ACB\u7ACB\u573A")]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(m,{label:"\u9009\u62E9\u5BA1\u67E5\u6E05\u5355"},{default:t(()=>[l(x,{modelValue:e.reviewListOption,"onUpdate:modelValue":i[2]||(i[2]=a=>e.reviewListOption=a),onChange:k},{default:t(()=>[l(_,{value:"aigen",label:"AI\u667A\u80FD\u751F\u6210",border:""},{default:t(()=>[te,v(" \xA0 AI\u667A\u80FD\u751F\u6210 ")]),_:1}),l(_,{value:"dataset",label:"\u4ECE\u77E5\u8BC6\u5E93\u9009\u62E9",border:""},{default:t(()=>[ae,v(" \xA0 \u4ECE\u77E5\u8BC6\u5E93\u9009\u62E9 ")]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(m,{label:"\u9009\u62E9\u5BA1\u67E5\u6E05\u5355",prop:"reviewListOption"},{default:t(()=>[l(T,{placeholder:"\u9009\u62E9\u5BA1\u67E5\u6E05\u5355",modelValue:e.auditId,"onUpdate:modelValue":i[3]||(i[3]=a=>e.auditId=a),disabled:e.reviewListOption!=="dataset"},{default:t(()=>[(u(!0),b(q,null,A(V.value,a=>(u(),g(s,{key:a.id,label:a.auditName,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"])]),_:1})]),_:1},8,["model","rules"])])]),n("div",oe,[e.reviewListOption=="aigen"?(u(),g(P,{key:0,style:{width:"100%"},type:"primary",size:"large",onClick:C},{default:t(()=>[ie,v(" \xA0 \u751F\u6210\u5BA1\u67E5\u6E05\u5355 ")]),_:1})):E("",!0),e.reviewListOption=="dataset"?(u(),g(P,{key:1,style:{width:"100%"},type:"primary",size:"large",onClick:C},{default:t(()=>[le,v(" \xA0 \u67E5\u770B\u5BA1\u67E5\u6E05\u5355 ")]),_:1})):E("",!0)]),n("div",ne,[se,n("div",re,[n("div",de,[ce,n("div",ue,K(o.value.contractOverview),1)])])])])}}},me=z(ve,[["__scopeId","data-v-2a92f64f"]]);export{me as default};
