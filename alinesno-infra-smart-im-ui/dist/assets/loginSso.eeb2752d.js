import{r as g,K as s,al as l,a8 as c,o as u,am as k,b as d,c as h}from"./index.d9d30be3.js";const m={__name:"loginSso",setup(f){const a=g(!1);debugger;const n=s("back")||l.currentRoute.value.query.back,t=s("ticket")||l.currentRoute.value.query.ticket;console.log("back = "+n+" , ticket = "+t),console.log("\u83B7\u53D6 back \u53C2\u6570\uFF1A",n),console.log("\u83B7\u53D6 ticket \u53C2\u6570\uFF1A",t),c().isSsoLogin().then(o=>{console.log("/isLogin \u8FD4\u56DE\u6570\u636E\uFF1A",o);debugger;a.value=o.data}),u(()=>{t?r(t):i()});function i(){var o=location.origin+"/sso/login?back="+encodeURIComponent(location.href);console.log("clientLoginUrl = "+o),c().goSsoAuthUrl(o).then(e=>{console.log("/sso/getSsoAuthUrl \u8FD4\u56DE\u6570\u636E",e);debugger;location.href=e.data})}function r(o){c().doLoginByTicket(o).then(e=>{console.log("/sso/getSsoAuthUrl \u8FD4\u56DE\u6570\u636E",e),k(e.AdminToken),location.href=decodeURIComponent(n)})}return(o,e)=>(d(),h("div",null," this is a sso login page!! "))}};export{m as default};
