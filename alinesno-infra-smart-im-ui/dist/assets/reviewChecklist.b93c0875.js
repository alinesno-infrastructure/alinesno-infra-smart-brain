import{g as F,b as $}from"./documentReview.9b9cb1b2.js";import{_ as q,r as a,g as z,o as A,a as v,b as f,c as w,e as n,t as k,d as b,w as p,F as D,f as O,y as T,l as S,I as G,p as M,i as U}from"./index.d9d30be3.js";const y=i=>(M("data-v-a700368c"),i=i(),U(),i),j={class:"review-checklist-container"},H=y(()=>n("div",{class:"header"}," \u5BA1\u67E5\u6E05\u5355\uFF1A\u667A\u80FD\u751F\u6210 ",-1)),J={class:"rule-section"},K={class:"rule-title"},P={class:"checkbox-group-container"},Q={class:"button-section"},W=y(()=>n("i",{class:"fa-solid fa-rocket"},null,-1)),X={__name:"reviewChecklist",emits:["handleStepClick","genSingleChapterContent"],setup(i,{emit:I}){const h=a(null),x=z(),o=a(null),C=a(x.query.sceneId),L=a(x.query.channelStreamId),g=a(null),c=a([]),r=a([]),N=()=>{F(C.value).then(e=>{o.value=e.data,c.value=e.data.reviewListDtos,o.value.reviewListOption==="aigen"?g.value=0:o.value.reviewListOption==="dataset"&&(g.value=o.value.auditId),r.value=c.value.map(s=>s.id)})},R=async()=>{const e=r.value,s=e.length;h.value=G.service({lock:!0,background:"rgba(255, 255, 255, 0.4)",customClass:"custom-loading"}),I("genSingleChapterContent",o.value.logicReviewerEngineer);for(let l=0;l<e.length;l++){const u=e[l],d=c.value.find(E=>E.id===u).ruleName;console.log("ruleName = "+d);const _=l+1,t=s-_,m=`\u6B63\u5728\u8FDB\u884C[${d}]\u68C0\u67E5\uFF0C\u5F53\u524D\u662F\u7B2C${_}\u6761\uFF0C\u8FD8\u5269${t}\u6761`;h.value.setText(m);const V={sceneId:C.value,channelStreamId:L.value,ruleId:u,auditId:g.value,roleId:o.value.logicReviewerEngineer},B=await $(V);console.log("res = "+B)}h.value.close(),I("handleStepClick",3)};return A(()=>{N()}),(e,s)=>{const l=v("el-checkbox"),u=v("el-checkbox-group"),d=v("el-scrollbar"),_=v("el-button");return f(),w("div",j,[H,n("div",J,[n("div",K," \u5168\u90E8\u89C4\u5219("+k(c.value.length)+") ",1),b(d,{class:"scrollable-area"},{default:p(()=>[n("div",P,[b(u,{modelValue:r.value,"onUpdate:modelValue":s[0]||(s[0]=t=>r.value=t),style:{display:"flex","flex-direction":"column"}},{default:p(()=>[(f(!0),w(D,null,O(c.value,(t,m)=>(f(),T(l,{key:t.id,label:t.id,size:"large"},{default:p(()=>[S(k(m+1)+"."+k(t.ruleName),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])])]),_:1}),n("div",Q,[b(_,{type:"primary",style:{width:"100%"},size:"large",onClick:R},{default:p(()=>[W,S(" \u53D1\u8D77\u6587\u6863\u5BA1\u6838 ")]),_:1})])])])}}},ee=q(X,[["__scopeId","data-v-a700368c"]]);export{ee as default};
