import{_ as J,g as U,r as s,U as j,o as q,a as r,b as a,c,e,d as o,w as u,l as h,F as y,f as x,u as k,H as G,S as H,G as v,t as f,I as M,p as A,i as K}from"./index.d9d30be3.js";import{f as Q}from"./contentFormatter.0bc48627.js";const g=p=>(A("data-v-26897c96"),p=p(),K(),p),W={class:"review-result-container"},X={style:{display:"flex","flex-direction":"row","justify-content":"space-between"}},Y=g(()=>e("i",{class:"fa-solid fa-download"},null,-1)),Z={style:{"margin-top":"20px"}},ee=["onClick"],te={class:"check-result-box",style:{display:"flex",gap:"5px","align-items":"center"}},le={key:0,class:"fa-solid fa-chevron-down"},ne={key:1,class:"fa-solid fa-chevron-right"},oe={key:0,class:"check-result-item-content"},se={class:"content-panel"},ae=g(()=>e("b",null,"\u539F\u6587\u5185\u5BB9:",-1)),ce=g(()=>e("b",null,"\u5EFA\u8BAE\u5185\u5BB9:",-1)),ue=g(()=>e("i",{class:"fa-solid fa-hand-pointer"},null,-1)),ie={key:0},re={__name:"reviewResult",emits:["handlePointTo","handleStepClick"],setup(p,{expose:w,emit:m}){const b=U();s(null),s(b.query.sceneId),s("1"),s(""),s([]);const R=s(null),I=[{label:"\u9AD8\u98CE\u9669",value:"high"},{label:"\u4E2D\u98CE\u9669",value:"medium"},{label:"\u4F4E\u98CE\u9669",value:"low"}],_=s([]),C=j(()=>_.value.length===0?d.value:d.value.filter(l=>_.value.includes(l.riskLevel))),d=s([]),S=l=>{switch(l.riskLevel){case"low":return"info";case"medium":return"warning";case"high":return"danger";default:return"success"}},L=l=>{let n=l.showItemContent;if(l.showItemContent)n=!n;else{l.showItemContent=!0;return}l.showItemContent=n},P=l=>{m("handlePointTo",l)},T=()=>{m("handleStepClick",1)};q(()=>{d.value.length==0&&localStorage.getItem("ruleContent")&&(d.value=JSON.parse(localStorage.getItem("ruleContent")))});const V=()=>{const l=M.service({lock:!0,background:"rgba(255, 255, 255, 0.4)",customClass:"custom-loading"});let n="\u6B63\u5728\u751F\u6210\u5BFC\u51FA\u5185\u5BB9.";l.setText(n),Q(d.value).then(i=>{l.close(),i.code===200&&window.open(i.data)})};return w({setRuleContent:l=>{console.log("ruleContent = "+l),d.value=l,localStorage.setItem("ruleContent",JSON.stringify(l))}}),(l,n)=>{const i=r("el-button"),N=r("el-checkbox"),B=r("el-checkbox-group"),z=r("el-tag"),E=r("el-empty"),O=r("el-scrollbar"),$=r("RuleCheckResultPanel");return a(),c("div",W,[e("div",X,[e("div",null,[o(i,{type:"primary",text:"",bg:"",onClick:n[0]||(n[0]=t=>V())},{default:u(()=>[Y,h(" \xA0 \u5BFC\u51FA\u5BA1\u6838\u62A5\u544A ")]),_:1})]),e("div",null,[o(B,{modelValue:k(_),"onUpdate:modelValue":n[1]||(n[1]=t=>G(_)?_.value=t:null)},{default:u(()=>[(a(),c(y,null,x(I,t=>o(N,{type:"danger",key:t.value,label:t.label,value:t.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])])]),e("div",null,[e("div",Z,[e("div",null,[o(O,{class:"scrollable-area",style:{height:"calc(100vh - 210px)","padding-right":"10px"}},{default:u(()=>[(a(!0),c(y,null,x(k(C),(t,D)=>(a(),c("div",{key:D},[e("div",{class:H(["check-result-item","item-alert-"+t.riskLevel]),onClick:F=>L(t)},[e("div",te,[e("span",null,[o(i,{type:"text",size:"small",style:{width:"35px"}},{default:u(()=>[t.showItemContent?(a(),c("i",le)):v("",!0),t.showItemContent?v("",!0):(a(),c("i",ne))]),_:2},1024)]),e("span",null,[e("strong",null,f(t.modificationReason),1)]),o(z,{type:S(t),effect:"dark"},{default:u(()=>[h(f(t.riskLevel==="high"?"\u9AD8\u5371":t.riskLevel==="medium"?"\u4E2D\u5371":"\u4F4E\u5371"),1)]),_:2},1032,["type"])])],10,ee),t.showItemContent?(a(),c("div",oe,[e("div",se,[e("div",null,[ae,e("p",null,f(t.originalContent),1)]),e("div",null,[ce,e("p",null,f(t.suggestedContent),1)])]),e("div",null,[o(i,{type:"primary",text:"",bg:"",size:"default",onClick:F=>P(t)},{default:u(()=>[ue,h("\xA0\u5B9A\u4F4D ")]),_:2},1032,["onClick"])])])):v("",!0)]))),128)),k(C).length==0?(a(),c("div",ie,[o(E,{description:"\u8FD8\u6CA1\u6709\u6821\u9A8C\u7ED3\u679C"},{default:u(()=>[o(i,{type:"primary",text:"",bg:"",size:"large",icon:"Back",onClick:T},{default:u(()=>[h(" \u8FD4\u56DE\u6982\u89C8")]),_:1})]),_:1})])):v("",!0)]),_:1})])])]),o($,{ref_key:"ruleCheckResultPanelRef",ref:R},null,512)])}}},he=J(re,[["__scopeId","data-v-26897c96"]]);export{he as default};
