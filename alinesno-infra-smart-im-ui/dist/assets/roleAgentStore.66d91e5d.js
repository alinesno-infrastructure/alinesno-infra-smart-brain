import{h as U,r as a,B as F,a0 as E,a as i,C as G,b as u,c as J,d as r,w as l,D as v,u as e,N as T,l as p,a1 as N,y as g,e as c,t as y,G as b,J as $}from"./index.d9d30be3.js";import{s as j}from"./store.b23b57b8.js";const H={style:{"font-size":"14px","font-weight":"500",display:"flex",gap:"10px","align-items":"center"}},M=["src"],re={__name:"roleAgentStore",emits:["handleChainAgent"],setup(O,{emit:C}){U();const{proxy:q}=$(),x=a([]),w=a([]),P=a(!0),f=a(!0);a([]),a(!0),a(!0);const _=a(0),R=a(!1),m=a([{key:0,label:"\u56FE\u6807",visible:!0},{key:1,label:"\u89D2\u8272\u540D\u79F0",visible:!0},{key:2,label:"\u89D2\u8272\u63CF\u8FF0",visible:!0},{key:3,label:"\u6240\u5C5E\u9886\u57DF",visible:!0},{key:4,label:"\u89D2\u8272\u7EA7\u522B",visible:!0},{key:5,label:"\u5B89\u5168\u5B58\u50A8\u8DEF\u5F84",visible:!0},{key:6,label:"\u5E94\u7528\u76EE\u6807",visible:!0},{key:7,label:"\u521B\u5EFA\u65F6\u95F4",visible:!0},{key:8,label:"\u7F16\u8F91",visible:!0}]),S=F({form:{},queryParams:{pageNum:1,pageSize:10,roleName:void 0,roleName:void 0,responsibilities:void 0,status:void 0,deptId:void 0},rules:{roleId:[{required:!0,message:"\u5E94\u7528\u7F16\u53F7\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],roleName:[{required:!0,message:"\u89D2\u8272\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"},{min:2,max:20,message:"\u89D2\u8272\u540D\u79F0\u957F\u5EA6\u5FC5\u987B\u4ECB\u4E8E 2 \u548C 20 \u4E4B\u95F4",trigger:"blur"}],responsibilities:[{required:!0,message:"\u89D2\u8272\u63CF\u8FF0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],domain:[{required:!0,message:"\u6240\u5C5E\u9886\u57DF\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],roleLevel:[{required:!0,message:"\u89D2\u8272\u7EA7\u522B\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],storagePath:[{required:!0,message:"\u5B89\u5168\u5B58\u50A8\u8DEF\u5F84\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],target:[{required:!0,message:"\u5E94\u7528\u76EE\u6807\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]},chainForm:{roleId:void 0},chainRules:{chainName:[{required:!0,message:"\u94FE\u8DEF\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],elData:[{required:!0,message:"\u94FE\u8DEF\u6D41\u7A0B\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}}),{queryParams:n,form:W,rules:X,chainForm:Y,chainRules:Z}=E(S),A=()=>{f.value=!0,j(q.addDateRange(n.value,x.value)).then(o=>{f.value=!1,w.value=o.rows,_.value=o.total})},V=o=>{C("handleChainAgent",o)};return A(),(o,s)=>{const B=i("el-input"),k=i("el-form-item"),h=i("el-button"),D=i("el-form"),d=i("el-table-column"),L=i("el-table"),I=i("pagination"),z=i("el-col"),K=i("el-row"),Q=G("loading");return u(),J("div",null,[r(K,{gutter:20,style:{"padding-bottom":"30px"}},{default:l(()=>[r(z,{span:24,xs:24},{default:l(()=>[v(r(D,{model:e(n),ref:"queryRef",inline:!0,"label-width":"68px"},{default:l(()=>[r(k,{label:"\u89D2\u8272\u540D\u79F0",prop:"roleName"},{default:l(()=>[r(B,{modelValue:e(n)["condition[roleName|like]"],"onUpdate:modelValue":s[0]||(s[0]=t=>e(n)["condition[roleName|like]"]=t),placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0",clearable:"",style:{width:"240px"},onKeyup:T(o.handleQuery,["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),r(k,null,{default:l(()=>[r(h,{type:"primary",icon:"Search",onClick:o.handleQuery},{default:l(()=>[p("\u641C\u7D22")]),_:1},8,["onClick"]),r(h,{icon:"Refresh",onClick:o.resetQuery},{default:l(()=>[p("\u91CD\u7F6E")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"]),[[N,e(P)]]),v((u(),g(L,{data:e(w)},{default:l(()=>[r(d,{type:"index",width:"40",align:"center"}),e(m)[1].visible?(u(),g(d,{label:"\u89D2\u8272\u540D\u79F0",align:"left",key:"roleName",prop:"roleName","show-overflow-tooltip":!0},{default:l(t=>[c("div",H,[c("img",{src:o.imagePathByPath(t.row.roleAvatar),style:{width:"40px",height:"40px","border-radius":"50%"}},null,8,M),p(" "+y(t.row.roleName),1)])]),_:1})):b("",!0),e(m)[2].visible?(u(),g(d,{label:"\u89D2\u8272\u63CF\u8FF0",align:"left",key:"responsibilities",prop:"responsibilities","show-overflow-tooltip":!0},{default:l(t=>[c("div",null,y(t.row.responsibilities),1)]),_:1})):b("",!0),e(m)[2].visible?(u(),g(d,{label:"\u6240\u5C5E\u56E2\u961F",align:"center",width:"200",key:"responsibilities",prop:"responsibilities","show-overflow-tooltip":!0},{default:l(t=>[c("div",null," AIP\u7814\u53D1\u56E2\u961F("+y(t.row.industryCatalog)+") ",1)]),_:1})):b("",!0),e(m)[5].visible?(u(),g(d,{label:"\u6DFB\u52A0\u9891\u9053",align:"center",width:"120",key:"storagePath",prop:"storagePath","show-overflow-tooltip":!0},{default:l(t=>[r(h,{type:"primary",text:"",bg:"",icon:"Position",loading:e(R),onClick:ee=>V(t.row)},{default:l(()=>[p("\u9009\u62E9")]),_:2},1032,["loading","onClick"])]),_:1})):b("",!0)]),_:1},8,["data"])),[[Q,e(f)]]),v(r(I,{total:e(_),page:e(n).pageNum,"onUpdate:page":s[1]||(s[1]=t=>e(n).pageNum=t),limit:e(n).pageSize,"onUpdate:limit":s[2]||(s[2]=t=>e(n).pageSize=t),onPagination:o.getList},null,8,["total","page","limit","onPagination"]),[[N,e(_)>0]])]),_:1})]),_:1})])}}};export{re as default};
