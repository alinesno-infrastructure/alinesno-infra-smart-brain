import{_ as M,r as c,g as O,h as A,o as G,a as r,b as i,c as f,d as s,u as J,e as t,w as a,F as C,f as D,t as K,y as W,l as V,E as v,p as X,i as Y}from"./index.d9d30be3.js";import Z from"./roleSelectPanel.b7972537.js";import{c as ee,g as ne,u as te}from"./deepSearch.3031be78.js";import{S as se}from"./snowflake-id.35ef5390.js";import"./configSceneAgent.f1635811.js";const p=d=>(X("data-v-40e7144e"),d=d(),Y(),d),le={class:"deepsearch-text-container"},ae={class:"main-content"},oe=p(()=>t("div",{class:"title-section"},[t("span",{class:"title"},[t("i",{class:"fa-solid fa-poo-storm"}),V(" \u6DF1\u5EA6DeepResearch\u670D\u52A1 ")]),t("span",{class:"description"},"\u4F9D\u6258\u5F3A\u5927\u7684\u901A\u7528\u667A\u80FD\u4F53\uFF0C\u8F7B\u677E\u5E94\u5BF9\u5404\u7C7B\u4EFB\u52A1\u3002\u8F93\u5165\u9700\u6C42\uFF0C\u5FEB\u901F\u83B7\u5F97\u7CBE\u51C6\u3001\u4E13\u4E1A\u7684\u89E3\u51B3\u65B9\u6848")],-1)),ce={class:"input-button-section"},re=p(()=>t("i",{class:"fa-solid fa-paper-plane",style:{"font-size":"22px"}},null,-1)),ue={class:"example-section"},ie=p(()=>t("div",{class:"example-title"},"\u4F60\u53EF\u4EE5\u8FD9\u6837\u63D0\u95EE",-1)),pe={class:"example-list"},de=["onClick"],ge={class:"example-text"},me=p(()=>t("i",{class:"fa-solid fa-paper-plane example-icon"},null,-1)),_e=p(()=>t("div",{class:"review-footer-message"},[t("div",{class:"footer-message"},"\u670D\u52A1\u751F\u6210\u7684\u6240\u6709\u5185\u5BB9\u5747\u7531\u4EBA\u5DE5\u667A\u80FD\u6A21\u578B\u751F\u6210\uFF0C\u5176\u751F\u6210\u5185\u5BB9\u7684\u51C6\u786E\u6027\u548C\u5B8C\u6574\u6027\u65E0\u6CD5\u4FDD\u8BC1\uFF0C\u4E0D\u80FD\u4EE3\u8868\u6211\u4EEC\u7684\u6001\u5EA6\u548C\u89C2\u70B9\u3002")],-1)),fe={class:"save-scene-dialog-content"},ve=["src"],be={style:{"text-align":"right",width:"100%","margin-top":"20px","margin-bottom":"0px"}},he={__name:"searchPanel",setup(d){const k=c(null),E=new se,w=O(),N=A(),g=c(w.query.sceneId),P=c(w.query.back||!1),u=c(""),m=c(!1),o=c({sceneName:"",sceneDesc:""}),I=c(null),j=c({sceneName:[{required:!0,message:"\u8BF7\u8F93\u5165\u573A\u666F\u540D\u79F0",trigger:"blur"},{min:2,max:20,message:"\u573A\u666F\u540D\u79F0\u957F\u5EA6\u5728 2 \u5230 20 \u4E2A\u5B57\u7B26\u4E4B\u95F4",trigger:"blur"}],sceneDesc:[{required:!0,message:"\u8BF7\u8F93\u5165\u573A\u666F\u63CF\u8FF0",trigger:"blur"},{min:5,max:200,message:"\u573A\u666F\u63CF\u8FF0\u957F\u5EA6\u5728 5 \u5230 200 \u4E2A\u5B57\u7B26\u4E4B\u95F4",trigger:"blur"}]}),B=c(["scene-bg/10.jpg","scene-bg/11.png","scene-bg/12.png","scene-bg/13.png","scene-bg/14.png","scene-bg/15.png","scene-bg/16.png","scene-bg/17.jpg","scene-bg/18.png","scene-bg/1.jpg","scene-bg/19.png","scene-bg/2.png","scene-bg/20.png","scene-bg/21.jpg","scene-bg/22.png","scene-bg/23.png","scene-bg/24.png","scene-bg/3.png","scene-bg/4.jpg","scene-bg/5.jpg","scene-bg/6.png","scene-bg/7.png","scene-bg/8.jpg","scene-bg/9.jpg"]),b=c([{text:"\u5236\u5B9A\u4E00\u4EFD\u5E02\u573A\u8425\u9500\u7B56\u5212\u65B9\u6848"},{text:"\u5206\u6790\u5F53\u524D\u70ED\u95E8\u77ED\u89C6\u9891\u8FD0\u8425\u7B56\u7565"},{text:"\u89C4\u5212\u4E00\u573A\u7EBF\u4E0A\u4EA7\u54C1\u53D1\u5E03\u4F1A\u6D41\u7A0B"},{text:"\u8BBE\u8BA1\u4E00\u5957\u5458\u5DE5\u57F9\u8BAD\u8BFE\u7A0B\u4F53\u7CFB"}]),h=c({sceneName:"\u901A\u7528\u667A\u80FD\u4F53\u670D\u52A1"}),R=()=>{if(!g.value)return v.error("\u8BF7\u5148\u4FDD\u5B58\u573A\u666F\u4FE1\u606F"),!1},F=()=>{I.value.validate(l=>{if(l)o.value.sceneScope="org",o.value.sceneType="deepSearch",console.log("\u8868\u5355\u6570\u636E\uFF1A",o.value),ee(o.value).then(e=>{v.success("\u4FDD\u5B58\u6210\u529F"),m.value=!1});else return!1})},q=()=>{ne(g.value).then(l=>{if(h.value=l.data,l.data.greetingQuestion&&l.data.greetingQuestion.length>0&&(b.value=[],l.data.greetingQuestion.forEach(e=>{b.value.push({text:e})})),!h.value.searchPlannerEngineer){k.value.configAgent();return}l.data.genStatus==1&&!P.value&&N.push({path:"/scene/deepsearch/index",query:{sceneId:g.value,genStatus:!0,channelStreamId:E.generate()}})})},U=()=>{if(!u.value){v.error("\u8BF7\u8F93\u5165\u5185\u5BB9");return}v.success("\u5904\u7406\u5B8C\u6210"),te({sceneId:g.value,promptContent:u.value}).then(l=>{})},z=l=>{u.value=l.text};return G(()=>{q()}),(l,e)=>{const x=r("el-input"),S=r("el-button"),Q=r("el-radio"),T=r("el-radio-group"),H=r("el-scrollbar"),_=r("el-form-item"),$=r("el-form"),L=r("el-dialog");return i(),f("div",le,[s(J(Z),{currentSeneInfo:h.value,onOpenExecuteHandle:l.openExecuteHandle,ref_key:"roleSelectPanelRef",ref:k},null,8,["currentSeneInfo","onOpenExecuteHandle"]),t("div",ae,[oe,t("div",ce,[s(x,{modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=n=>u.value=n),class:"input-box",size:"large",placeholder:"\u8BF7\u8F93\u5165\u60A8\u7684\u9700\u6C42\uFF0C\u83B7\u53D6\u667A\u80FD\u4F53\u670D\u52A1","prefix-icon":l.Search},null,8,["modelValue","prefix-icon"]),s(S,{type:"primary",size:"large",onClick:e[1]||(e[1]=n=>U()),class:"send-button"},{default:a(()=>[re]),_:1})]),t("div",ue,[ie,t("div",pe,[(i(!0),f(C,null,D(b.value,(n,y)=>(i(),f("div",{key:y,class:"example-item",onClick:xe=>z(n)},[t("span",ge,K(n.text),1),me],8,de))),128))])])]),_e,s(L,{modelValue:m.value,"onUpdate:modelValue":e[6]||(e[6]=n=>m.value=n),title:"\u4FDD\u5B58\u573A\u666F",width:"600px","before-close":R},{default:a(()=>[t("div",fe,[s($,{ref_key:"saveSceneFormRef",ref:I,"label-position":"top",model:o.value,"label-width":"80px",size:"large",rules:j.value},{default:a(()=>[s(_,{label:"\u573A\u666F\u6A2A\u5E45",prop:"sceneBanner"},{default:a(()=>[s(H,{height:"140px"},{default:a(()=>[s(T,{style:{width:"100%"},modelValue:o.value.sceneBanner,"onUpdate:modelValue":e[2]||(e[2]=n=>o.value.sceneBanner=n)},{default:a(()=>[(i(!0),f(C,null,D(B.value,(n,y)=>(i(),W(Q,{style:{height:"70px"},key:y,label:n},{default:a(()=>[t("img",{src:"http://data.linesno.com/"+n,alt:"banner",width:"100",style:{"border-radius":"3px"}},null,8,ve)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),s(_,{label:"\u573A\u666F\u540D\u79F0",prop:"sceneName"},{default:a(()=>[s(x,{modelValue:o.value.sceneName,"onUpdate:modelValue":e[3]||(e[3]=n=>o.value.sceneName=n),placeholder:"\u6BD4\u5982\u6CD5\u5F8B\u77E5\u8BC6\u5E93\u6DF1\u5EA6\u641C\u7D22"},null,8,["modelValue"])]),_:1}),s(_,{label:"\u573A\u666F\u63CF\u8FF0",prop:"sceneDesc"},{default:a(()=>[s(x,{modelValue:o.value.sceneDesc,"onUpdate:modelValue":e[4]||(e[4]=n=>o.value.sceneDesc=n),placeholder:"\u6BD4\u5982\u57FA\u4E8E\u6CD5\u5F8B\u77E5\u8BC6\u5E93\u6DF1\u5EA6\u641C\u7D22\uFF0C\u91CD\u70B9\u5728\u4E8E\u6848\u4F8B\u548C\u54A8\u8BE2"},null,8,["modelValue"])]),_:1}),s(_,{style:{"text-align":"right"}},{default:a(()=>[t("div",be,[s(S,{onClick:e[5]||(e[5]=n=>m.value=!1)},{default:a(()=>[V("\u53D6\u6D88")]),_:1}),s(S,{type:"primary",onClick:F},{default:a(()=>[V("\u4FDD\u5B58")]),_:1})])]),_:1})]),_:1},8,["model","rules"])])]),_:1},8,["modelValue"])])}}},Ie=M(he,[["__scopeId","data-v-40e7144e"]]);export{Ie as default};
