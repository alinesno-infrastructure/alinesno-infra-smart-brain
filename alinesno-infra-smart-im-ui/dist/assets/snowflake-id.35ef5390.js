function h(t,e,s){for(var i=[],r=Math.max(t.length,e.length),a=0,n=0;n<r||a;){var l=n<t.length?t[n]:0,o=n<e.length?e[n]:0,f=a+l+o;i.push(f%s),a=Math.floor(f/s),n++}return i}function u(t,e,s){if(t<0)return null;if(t==0)return[];for(var i=[],r=e;t&1&&(i=h(i,r,s)),t=t>>1,t!==0;)r=h(r,r,s);return i}function g(t,e){for(var s=t.split(""),i=[],r=s.length-1;r>=0;r--){var a=parseInt(s[r],e);if(isNaN(a))return null;i.push(a)}return i}function v(t,e,s){var i=g(t,e);if(i===null)return null;for(var r=[],a=[1],n=0;n<i.length;n++)i[n]&&(r=h(r,u(i[n],a,s),s)),a=u(e,a,s);for(var l="",n=r.length-1;n>=0;n--)l+=r[n].toString(s);return l}function c(t){return t.substring(0,2)==="0x"&&(t=t.substring(2)),t=t.toLowerCase(),v(t,16,10)}class d{constructor(e){e=e||{},this.seq=0,this.mid=(e.mid||1)%1023,this.offset=e.offset||0,this.lastTime=0}generate(){const e=Date.now(),s=(e-this.offset).toString(2);this.lastTime==e?(this.seq++,this.seq>4095&&(this.seq=0)):this.seq=0,this.lastTime=e;let i=this.seq.toString(2),r=this.mid.toString(2);for(;i.length<12;)i="0"+i;for(;r.length<10;)r="0"+r;const a=s+r+i;let n="";for(let l=a.length;l>0;l-=4)n=parseInt(a.substring(l-4,l),2).toString(16)+n;return c(n)}}export{d as S};
