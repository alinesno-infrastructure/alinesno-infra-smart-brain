import{_ as S,g as y,r as _,o as C,a as b,b as o,c as l,e as s,d as T,w as x,l as p,F as I,f as N,S as w,G as r,t as u,p as L,i as E}from"./index.d9d30be3.js";import{l as V}from"./deepSearch.3031be78.js";const d=c=>(L("data-v-6d6249bc"),c=c(),E(),c),B={class:"deepsearch-task-panel"},z=d(()=>s("div",{class:"title"},[s("i",{class:"fa-solid fa-poo-storm"}),p(" \u6DF1\u5EA6\u641C\u7D22 ")],-1)),D={class:"add-task"},F=d(()=>s("i",{class:"fa-solid fa-plus"},null,-1)),P={class:"task-list"},q=["onClick"],A={class:"item-status"},G={key:0},M=d(()=>s("i",{class:"fa-solid fa-spinner"},null,-1)),R=[M],$={key:1},j=d(()=>s("i",{class:"fa-solid fa-check-double"},null,-1)),H=[j],J={class:"item-name"},K={class:"item-label"},O={class:"item-log"},Q={__name:"taskList",emits:["handleTaskClick","handleNewTask"],setup(c,{emit:i}){const h=y(),k=_(h.query.sceneId),n=_([]),f=e=>{n.value.forEach(t=>t.isSelected=!1),e.isSelected=!0,i("handleTaskClick",e)},v=()=>{i("handleNewTask"),n.value.forEach(e=>e.isSelected=!1)};return C(()=>{V(k.value).then(e=>{console.log(e),n.value=e.data.map(t=>({id:t.id,name:t.taskName,roleId:t.searchPlannerEngineer,status:"done",log:"\u5DF2\u6267\u884C\u5B8C\u6210\uFF0C\u53EF\u7EE7\u7EED\u5BF9\u8BDD",isSelected:!1}))})}),(e,t)=>{const m=b("el-button");return o(),l("div",B,[z,s("div",D,[T(m,{type:"primary",text:"",bg:"",size:"large",style:{width:"100%"},onClick:v},{default:x(()=>[F,p(" \u6DFB\u52A0\u4EFB\u52A1 ")]),_:1})]),s("div",P,[(o(!0),l(I,null,N(n.value,(a,g)=>(o(),l("div",{key:g,class:w(["task-item",{active:a.isSelected}]),onClick:U=>f(a)},[s("div",A,[a.status=="loading"?(o(),l("span",G,R)):r("",!0),a.status=="done"?(o(),l("span",$,H)):r("",!0)]),s("div",J,[s("span",K,u(a.name),1),s("span",O,u(a.log),1)])],10,q))),128))])])}}},Y=S(Q,[["__scopeId","data-v-6d6249bc"]]);export{Y as default};
